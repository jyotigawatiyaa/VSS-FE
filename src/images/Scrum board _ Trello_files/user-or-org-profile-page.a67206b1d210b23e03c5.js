(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{"./app/scripts/controller/userOrOrgProfilePage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"userOrOrgPage",(function(){return d})),r.d(t,"userOrOrgProfilePage",(function(){return h}));var i=r("./app/scripts/lib/util/url/isMeAlias.ts"),s=r("./app/scripts/lib/assert/index.js"),o=r.n(s),a=r("./app/scripts/network/api-error.js"),n=r("./packages/storage/index.ts"),l=r("./node_modules/bluebird/js/browser/bluebird.js"),c=r.n(l),p=r("./node_modules/effing/lib/index.js"),u=r.n(p),m=r("./packages/use-lazy-component/index.ts");const d=function(e,t,i,s){return null==s&&(s={}),(e=>{let t;const{ApiPromise:i}=r("./app/scripts/network/api-promise.js"),s="typeof_".concat(e);return null!=(t=n.TrelloSessionStorage.get(s))?c.a.resolve(t):i({url:"/1/types/".concat(e)}).tap(u()(n.TrelloSessionStorage,"set",s))})(e).then((r=>{const a=(()=>{switch(r.type){case"member":return t;case"organization":return i}})();return o()(null!=a,"/1/types/".concat(e," resolved to ").concat(r.type)),a.call(this,e,s)})).catch(a.ApiError.NotFound,(()=>this.displayErrorPage())).done()},b=function(e="me"){return Object(m.importWithRetry)((()=>r.e(148).then(r.t.bind(null,"./app/scripts/controller/memberPage.js",7)))).then((({memberPage:t})=>t.call(this,{username:e,loadFn:"loadMemberProfileData",preloadFn:"loadMemberProfileMinimal",viewClassName:"MemberActivityView",getLocation:this.getMemberActivityUrl,titleKey:"activity"})))},g=function(e="me"){return Object(m.importWithRetry)((()=>r.e(148).then(r.t.bind(null,"./app/scripts/controller/memberPage.js",7)))).then((({memberPage:t})=>t.call(this,{username:e,loadFn:"loadMemberProfileData",preloadFn:"loadMemberProfileMinimal",viewClassName:"MemberHomeProfileTab",getLocation:this.getMemberProfileUrl,titleKey:"profile"})))},h=function(e){null==e&&(e="me");const{ModelCache:t}=r("./app/scripts/db/model-cache.js"),{Auth:s}=r("./app/scripts/db/auth.js");s.isLoggedIn()?t.waitFor("Member",s.myId(),((t,r)=>{r.get("username")===e||Object(i.isMeAlias)(e)?d.call(this,e,g,this.organizationBoardsView):d.call(this,e,b,this.organizationBoardsView)})):d.call(this,e,b,this.organizationBoardsView)}}}]);
//# sourceMappingURL=user-or-org-profile-page.a67206b1d210b23e03c5.js.map