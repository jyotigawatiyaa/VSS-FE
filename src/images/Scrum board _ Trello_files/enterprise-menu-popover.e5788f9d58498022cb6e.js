(window.webpackJsonp=window.webpackJsonp||[]).push([[73,24],{"./app/gamma/src/components/popovers/enterprise-menu/index.tsx":function(e,n,t){"use strict";t.r(n);var a=t("./packages/i18n/index.ts"),o=t("./packages/session-cookie/index.ts"),s=t("./node_modules/react/index.js"),i=t.n(s),r=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=t.n(r),c=t("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/gamma/src/components/popovers/enterprise-menu/enterprise-menu.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{}),p=t("./app/src/components/PopoverMenu/index.ts"),m=t("./node_modules/@apollo/client/react/hooks/useQuery.js");t("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){v(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const y={context:{operationName:"EnterpriseAdminIds"}},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EnterpriseAdminIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idEnterprisesAdmin"}}]}}]}}]};function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){x(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const h={context:{operationName:"Enterprises"}},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Enterprises"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enterpriseIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"enterpriseIds"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"displayName"}}]}}]}}]};const _=Object(a.forTemplate)("header_enterprise_admin_dashboard_menu");var O=({onEnterpriseSelected:e})=>{var n,t,a;const{data:s,loading:r}=function(e){const n=f(f({},y),e);return m.a(g,n)}({variables:{memberId:o.memberId||""}}),l=null!==(n=null==s||null===(t=s.member)||void 0===t?void 0:t.idEnterprisesAdmin)&&void 0!==n?n:[],{data:c,loading:d}=function(e){const n=j(j({},h),e);return m.a(E,n)}({variables:{enterpriseIds:l},skip:!l.length});if(r||d)return i.a.createElement("div",null,_("loading"));const b=(null!==(a=null==c?void 0:c.enterprises)&&void 0!==a?a:[]).filter((({id:e})=>l.includes(e)));return 0===b.length?i.a.createElement("div",null,_("no-enterprises")):i.a.createElement(p.a,{className:u.popoverMenu},b.map((n=>i.a.createElement(p.c,{key:"enterprise-".concat(n.id),href:"/e/".concat(n.name,"/admin"),onClick:()=>e()},n.displayName))))};n.default=O},"./app/src/components/PopoverMenu/index.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return E})),t.d(n,"b",(function(){return h})),t.d(n,"c",(function(){return x}));var a=t("./node_modules/classnames/index.js"),o=t.n(a),s=t("./app/src/forwardRefComponent.ts"),i=t("./app/src/components/RouterLink/RouterLink.tsx"),r=t("./node_modules/react/index.js"),l=t.n(r),c=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=t.n(c),u=t("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less"),p={insert:"head",singleton:!1},m=(d()(u.a,p),u.a.locals||{}),b=t("./packages/a11y/index.ts");const f=["appendSeparator","testId","href","target","className","onClick"],v=["appendSeparator","onClick","className","disabled","testId"];function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function g(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const k=({children:e,description:n,rawDescription:t,title:a,icon:s})=>l.a.createElement(l.a.Fragment,null,s&&l.a.cloneElement(s,{size:"small"}),l.a.createElement("span",{className:o()(m.title,n&&m.withoutMargins)},a||e),(n||t)&&l.a.createElement("p",{className:m.description},n||t)),j=({appendSeparator:e,children:n})=>l.a.createElement("li",{className:o()(m.item,e&&m.withSeparator)},n),x=e=>{let{appendSeparator:n,testId:t,href:a,target:s,className:r,onClick:c}=e,d=g(e,f);const[u,p]=Object(b.useFocusRing)();return l.a.createElement(j,{appendSeparator:n},l.a.createElement(i.b,y({className:o()(m.link,r,u&&m.linkFocusRing),href:a,testId:t,onClick:c,target:s},p),l.a.createElement(k,d)))},h=Object(s.a)("PopoverMenuButton",((e,n)=>{let{appendSeparator:t,onClick:a,className:s,disabled:i,testId:r}=e,c=g(e,v);const[d,u]=Object(b.useFocusRing)();return l.a.createElement(j,{appendSeparator:t},l.a.createElement("button",y({className:o()(m.link,d&&m.linkFocusRing,s),disabled:i,onClick:a,"data-test-id":r,ref:n},u),l.a.createElement(k,c)))})),E=({className:e,children:n,testId:t})=>l.a.createElement("nav",{className:e},l.a.createElement("ul",{"data-test-id":t},n))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/gamma/src/components/popovers/enterprise-menu/enterprise-menu.less":function(e,n,t){"use strict";var a=t("./node_modules/css-loader/dist/runtime/api.js"),o=t.n(a)()(!1);o.push([e.i,".J7YU9dLJ9YsHhx {\n  margin: 0 -12px;\n}\n",""]),o.locals={popoverMenu:"J7YU9dLJ9YsHhx"},n.a=o},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less":function(e,n,t){"use strict";var a=t("./node_modules/css-loader/dist/runtime/api.js"),o=t.n(a)()(!1);o.push([e.i,'._3Qtx4lodxp9J0E {\n  background-color: transparent;\n  border: none;\n  background: #FFFFFF;\n  border-radius: 0;\n  box-shadow: none;\n  color: #172B4D;\n  display: block;\n  height: 100%;\n  padding: 6px 12px;\n  text-align: left;\n  text-decoration: none;\n  width: 100%;\n  transition: none;\n  margin: 0;\n  outline: 0;\n}\n._3Qtx4lodxp9J0E:hover {\n  background-color: transparent;\n  border: none;\n  box-shadow: none;\n  background: rgba(9, 30, 66, 0.04);\n}\n._3Qtx4lodxp9J0E:active {\n  background-color: transparent;\n  border: none;\n  box-shadow: none;\n  background: #E4F0F6;\n}\n._3Qtx4lodxp9J0E._31k3XfnerJgTZ8:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._3Qtx4lodxp9J0E._31k3XfnerJgTZ8:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._3Qtx4lodxp9J0E[disabled]:active,\n._3Qtx4lodxp9J0E[disabled]:focus,\n._3Qtx4lodxp9J0E[disabled]:hover {\n  background: transparent;\n  color: #A5ADBA !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active ._3Gw3Oa5-RMe50s svg,\n._3Qtx4lodxp9J0E[disabled]:focus ._3Gw3Oa5-RMe50s svg,\n._3Qtx4lodxp9J0E[disabled]:hover ._3Gw3Oa5-RMe50s svg {\n  color: #A5ADBA !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active span[name="check"],\n._3Qtx4lodxp9J0E[disabled]:focus span[name="check"],\n._3Qtx4lodxp9J0E[disabled]:hover span[name="check"] {\n  color: #6B778C !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active .M91aWYFMf7mrFf,\n._3Qtx4lodxp9J0E[disabled]:focus .M91aWYFMf7mrFf,\n._3Qtx4lodxp9J0E[disabled]:hover .M91aWYFMf7mrFf {\n  color: #A5ADBA !important;\n}\n._3jTRr1WChvvqHf {\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n}\n._3jTRr1WChvvqHf._2VCqfvi0epFnIK {\n  margin: 0;\n}\n.M91aWYFMf7mrFf {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n  margin: 4px 0 0 0;\n  padding: 0;\n}\n.DIhgdvAd-R4ToE::after {\n  background-color: rgba(9, 30, 66, 0.13);\n  content: " ";\n  display: block;\n  height: 1px;\n  margin: 8px auto;\n  width: calc(100% - 20px);\n}\n',""]),o.locals={link:"_3Qtx4lodxp9J0E",linkFocusRing:"_31k3XfnerJgTZ8",icon:"_3Gw3Oa5-RMe50s",description:"M91aWYFMf7mrFf",title:"_3jTRr1WChvvqHf",withoutMargins:"_2VCqfvi0epFnIK",withSeparator:"DIhgdvAd-R4ToE"},n.a=o},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less":function(e,n,t){"use strict";var a=t("./node_modules/css-loader/dist/runtime/api.js"),o=t.n(a)()(!1);o.push([e.i,"._3YGsFyACTefHYF {\n  margin: 0;\n}\n._3jRzoY8BUC9T9r {\n  display: flex;\n}\n._3jRzoY8BUC9T9r .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._3jRzoY8BUC9T9r ._1iZ4r0EebD-_AO {\n  flex: 1;\n}\n._24YY3ffS5pAZxi {\n  align-items: center;\n  color: #091E42;\n  display: flex;\n  font-size: 14px;\n  font-weight: normal;\n}\n._24YY3ffS5pAZxi .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._24YY3ffS5pAZxi ._1ragvyIlBWNN0g {\n  flex: 1;\n}\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1- {\n  display: block;\n  padding: 8px;\n  margin-top: 4px;\n}\n.Yv_Jd5QjuO4P7w label {\n  cursor: pointer;\n}\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:hover,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:hover,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:hover,\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:focus-visible,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:focus-visible,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:focus-visible {\n  background: rgba(9, 30, 66, 0.04);\n}\n",""]),o.locals={colorVisionLabel:"_3YGsFyACTefHYF",colorVisionOptions:"_3jRzoY8BUC9T9r",checkbox:"VZsWvb5qVISKPp",select:"_1iZ4r0EebD-_AO",tota11yOptions:"_24YY3ffS5pAZxi",label:"_1ragvyIlBWNN0g",accessibilityMenuWrapper:"Yv_Jd5QjuO4P7w",link:"_1O4iygPyhEyA1-",checkboxLabel:"_2BpqOEsSdnZi8i"},n.a=o},"./packages/a11y/index.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"AccessibilityMenu",(function(){return h})),t.d(n,"AccessibilityMenuOptions",(function(){return E})),t.d(n,"a11yMenuState",(function(){return d})),t.d(n,"useFocusRing",(function(){return _}));var a=t("./node_modules/react/index.js"),o=t.n(a),s=t("./packages/nachos/icons/external-link.tsx"),i=t("./packages/nachos/checkbox.ts"),r=t("./packages/shared-state/index.ts"),l=t("./node_modules/uuid/v4.js"),c=t.n(l);const d=new r.b({colorVisionMode:"",isColorVisionEnabled:!1,isTota11yInstalled:!1,isTota11yEnabled:!1});var u,p=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),m=t.n(p),b=t("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less"),f={insert:"head",singleton:!1},v=(m()(b.a,f),b.a.locals||{});!function(e){e.Achromatopsia="Achromatopsia",e.BlurredVision="Blurred Vision",e.Deuteranopia="Deuteranopia",e.Protanopia="Protanopia",e.Tritanopia="Tritanopia"}(u||(u={}));const y=new Map([[u.Achromatopsia,'<feColorMatrix values="\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[u.BlurredVision,'<feGaussianBlur stdDeviation="2" />'],[u.Deuteranopia,'<feColorMatrix values="\n        0.367  0.861 -0.228  0.000  0.000\n        0.280  0.673  0.047  0.000  0.000\n        -0.012  0.043  0.969  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[u.Protanopia,'<feColorMatrix values="\n        0.152  1.053 -0.205  0.000  0.000\n        0.115  0.786  0.099  0.000  0.000\n        -0.004 -0.048  1.052  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[u.Tritanopia,'<feColorMatrix values="\n        1.256 -0.077 -0.179  0.000  0.000\n        -0.078  0.931  0.148  0.000  0.000\n        0.005  0.691  0.304  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />']]),g=()=>{const[{colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:t,isTota11yEnabled:s},l]=Object(r.c)(d),u=Object(a.useCallback)((()=>{l({colorVisionMode:e,isColorVisionEnabled:!n,isTota11yInstalled:t,isTota11yEnabled:s})}),[l,e,n,t,s]),p=Object(a.useCallback)((({target:{value:e}})=>l({colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:t,isTota11yEnabled:s})),[l,n,t,s]),m=c()();return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:m,className:v.colorVisionLabel},"Color vision emulation"),o.a.createElement("div",{className:v.colorVisionOptions},o.a.createElement(i.a,{className:v.checkbox,isChecked:n,onChange:u,id:m}),o.a.createElement("select",{disabled:!n,className:v.select,"aria-label":"Color vision emulation options",onChange:p,defaultValue:e},o.a.createElement("option",{disabled:!0,value:""},"Select an emulation"),[...y.keys()].map((e=>o.a.createElement("option",{key:e,value:e},e))))))},k=()=>{var e;const[{colorVisionMode:n,isColorVisionEnabled:t}]=Object(r.c)(d),a=null===(e=y.get(n))||void 0===e?void 0:e.replace(/(\n|^\s|\s$)/g,""),s=c()();return t&&a?o.a.createElement("style",null,'#trello-root {\n      filter: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="'.concat(s,'">').concat(a,"</filter></svg>#").concat(s,"');\n    }")):null},j=()=>{const[{isTota11yEnabled:e,colorVisionMode:n,isColorVisionEnabled:s},l]=Object(r.c)(d),u=Object(a.useCallback)((async()=>{e||(await t.e(209).then(t.t.bind(null,"./node_modules/@khanacademy/tota11y/dist/tota11y.js",7)),setTimeout((()=>{var e;null===(e=document.querySelector(".tota11y-toolbar"))||void 0===e||e.classList.add("tota11y-expanded")}),300)),l({colorVisionMode:n,isColorVisionEnabled:s,isTota11yInstalled:!0,isTota11yEnabled:!e})}),[l,n,s,e]),p=c()();return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:p,className:v.tota11yOptions},o.a.createElement(i.a,{id:p,onChange:u,isChecked:e,className:v.checkbox}),o.a.createElement("span",{className:v.label},"Enable Tota11y sidebar")))},x=()=>{const[{isTota11yInstalled:e,isTota11yEnabled:n}]=Object(r.c)(d);return e&&!n?o.a.createElement("style",null,".tota11y { display: none !important }"):null},h=()=>o.a.createElement("div",{className:v.accessibilityMenuWrapper},o.a.createElement(j,null),o.a.createElement(g,null),o.a.createElement("a",{className:v.link,href:"https://hello.atlassian.net/wiki/spaces/TRELLOFE/pages/941672748/20.+Accessibility",target:"_blank"},"Web accessibility guide ",o.a.createElement(s.a,null))),E=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(x,null),o.a.createElement(k,null)),_=(e={})=>{const[n,t]=Object(a.useState)(!1),[o,s]=Object(a.useState)(!1),[i,r]=Object(a.useState)(!1),l=()=>{o&&i||t(!0)};return[n,{onMouseEnter:n=>{s(!0),t(!1),e.onMouseEnter&&e.onMouseEnter(n)},onMouseLeave:n=>{s(!1),t(!1),e.onMouseLeave&&e.onMouseLeave(n)},onMouseDown:n=>{r(!0),t(!1),e.onMouseDown&&e.onMouseDown(n)},onKeyDown:n=>{r(!1),l(),e.onKeyDown&&e.onKeyDown(n)},onKeyUp:n=>{l(),e.onKeyUp&&e.onKeyUp(n)},onBlur:n=>{t(!1),e.onBlur&&e.onBlur(n)}}]}}}]);
//# sourceMappingURL=enterprise-menu-popover.e5788f9d58498022cb6e.js.map