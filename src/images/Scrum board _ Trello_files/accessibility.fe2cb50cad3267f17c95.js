(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less":function(e,n,a){"use strict";var o=a("./node_modules/css-loader/dist/runtime/api.js"),s=a.n(o)()(!1);s.push([e.i,"._3YGsFyACTefHYF {\n  margin: 0;\n}\n._3jRzoY8BUC9T9r {\n  display: flex;\n}\n._3jRzoY8BUC9T9r .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._3jRzoY8BUC9T9r ._1iZ4r0EebD-_AO {\n  flex: 1;\n}\n._24YY3ffS5pAZxi {\n  align-items: center;\n  color: #091E42;\n  display: flex;\n  font-size: 14px;\n  font-weight: normal;\n}\n._24YY3ffS5pAZxi .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._24YY3ffS5pAZxi ._1ragvyIlBWNN0g {\n  flex: 1;\n}\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1- {\n  display: block;\n  padding: 8px;\n  margin-top: 4px;\n}\n.Yv_Jd5QjuO4P7w label {\n  cursor: pointer;\n}\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:hover,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:hover,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:hover,\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:focus-visible,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:focus-visible,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:focus-visible {\n  background: rgba(9, 30, 66, 0.04);\n}\n",""]),s.locals={colorVisionLabel:"_3YGsFyACTefHYF",colorVisionOptions:"_3jRzoY8BUC9T9r",checkbox:"VZsWvb5qVISKPp",select:"_1iZ4r0EebD-_AO",tota11yOptions:"_24YY3ffS5pAZxi",label:"_1ragvyIlBWNN0g",accessibilityMenuWrapper:"Yv_Jd5QjuO4P7w",link:"_1O4iygPyhEyA1-",checkboxLabel:"_2BpqOEsSdnZi8i"},n.a=s},"./packages/a11y/index.ts":function(e,n,a){"use strict";a.r(n),a.d(n,"AccessibilityMenu",(function(){return h})),a.d(n,"AccessibilityMenuOptions",(function(){return x})),a.d(n,"a11yMenuState",(function(){return d})),a.d(n,"useFocusRing",(function(){return O}));var o=a("./node_modules/react/index.js"),s=a.n(o),t=a("./packages/nachos/icons/external-link.tsx"),l=a("./packages/nachos/checkbox.ts"),i=a("./packages/shared-state/index.ts"),r=a("./node_modules/uuid/v4.js"),c=a.n(r);const d=new i.b({colorVisionMode:"",isColorVisionEnabled:!1,isTota11yInstalled:!1,isTota11yEnabled:!1});var u,p=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),b=a.n(p),y=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less"),m={insert:"head",singleton:!1},E=(b()(y.a,m),y.a.locals||{});!function(e){e.Achromatopsia="Achromatopsia",e.BlurredVision="Blurred Vision",e.Deuteranopia="Deuteranopia",e.Protanopia="Protanopia",e.Tritanopia="Tritanopia"}(u||(u={}));const v=new Map([[u.Achromatopsia,'<feColorMatrix values="\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[u.BlurredVision,'<feGaussianBlur stdDeviation="2" />'],[u.Deuteranopia,'<feColorMatrix values="\n        0.367  0.861 -0.228  0.000  0.000\n        0.280  0.673  0.047  0.000  0.000\n        -0.012  0.043  0.969  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[u.Protanopia,'<feColorMatrix values="\n        0.152  1.053 -0.205  0.000  0.000\n        0.115  0.786  0.099  0.000  0.000\n        -0.004 -0.048  1.052  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[u.Tritanopia,'<feColorMatrix values="\n        1.256 -0.077 -0.179  0.000  0.000\n        -0.078  0.931  0.148  0.000  0.000\n        0.005  0.691  0.304  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />']]),g=()=>{const[{colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:a,isTota11yEnabled:t},r]=Object(i.c)(d),u=Object(o.useCallback)((()=>{r({colorVisionMode:e,isColorVisionEnabled:!n,isTota11yInstalled:a,isTota11yEnabled:t})}),[r,e,n,a,t]),p=Object(o.useCallback)((({target:{value:e}})=>r({colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:a,isTota11yEnabled:t})),[r,n,a,t]),b=c()();return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:b,className:E.colorVisionLabel},"Color vision emulation"),s.a.createElement("div",{className:E.colorVisionOptions},s.a.createElement(l.a,{className:E.checkbox,isChecked:n,onChange:u,id:b}),s.a.createElement("select",{disabled:!n,className:E.select,"aria-label":"Color vision emulation options",onChange:p,defaultValue:e},s.a.createElement("option",{disabled:!0,value:""},"Select an emulation"),[...v.keys()].map((e=>s.a.createElement("option",{key:e,value:e},e))))))},_=()=>{var e;const[{colorVisionMode:n,isColorVisionEnabled:a}]=Object(i.c)(d),o=null===(e=v.get(n))||void 0===e?void 0:e.replace(/(\n|^\s|\s$)/g,""),t=c()();return a&&o?s.a.createElement("style",null,'#trello-root {\n      filter: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="'.concat(t,'">').concat(o,"</filter></svg>#").concat(t,"');\n    }")):null},f=()=>{const[{isTota11yEnabled:e,colorVisionMode:n,isColorVisionEnabled:t},r]=Object(i.c)(d),u=Object(o.useCallback)((async()=>{e||(await a.e(209).then(a.t.bind(null,"./node_modules/@khanacademy/tota11y/dist/tota11y.js",7)),setTimeout((()=>{var e;null===(e=document.querySelector(".tota11y-toolbar"))||void 0===e||e.classList.add("tota11y-expanded")}),300)),r({colorVisionMode:n,isColorVisionEnabled:t,isTota11yInstalled:!0,isTota11yEnabled:!e})}),[r,n,t,e]),p=c()();return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:p,className:E.tota11yOptions},s.a.createElement(l.a,{id:p,onChange:u,isChecked:e,className:E.checkbox}),s.a.createElement("span",{className:E.label},"Enable Tota11y sidebar")))},j=()=>{const[{isTota11yInstalled:e,isTota11yEnabled:n}]=Object(i.c)(d);return e&&!n?s.a.createElement("style",null,".tota11y { display: none !important }"):null},h=()=>s.a.createElement("div",{className:E.accessibilityMenuWrapper},s.a.createElement(f,null),s.a.createElement(g,null),s.a.createElement("a",{className:E.link,href:"https://hello.atlassian.net/wiki/spaces/TRELLOFE/pages/941672748/20.+Accessibility",target:"_blank"},"Web accessibility guide ",s.a.createElement(t.a,null))),x=()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(j,null),s.a.createElement(_,null)),O=(e={})=>{const[n,a]=Object(o.useState)(!1),[s,t]=Object(o.useState)(!1),[l,i]=Object(o.useState)(!1),r=()=>{s&&l||a(!0)};return[n,{onMouseEnter:n=>{t(!0),a(!1),e.onMouseEnter&&e.onMouseEnter(n)},onMouseLeave:n=>{t(!1),a(!1),e.onMouseLeave&&e.onMouseLeave(n)},onMouseDown:n=>{i(!0),a(!1),e.onMouseDown&&e.onMouseDown(n)},onKeyDown:n=>{i(!1),r(),e.onKeyDown&&e.onKeyDown(n)},onKeyUp:n=>{r(),e.onKeyUp&&e.onKeyUp(n)},onBlur:n=>{a(!1),e.onBlur&&e.onBlur(n)}}]}}}]);
//# sourceMappingURL=accessibility.fe2cb50cad3267f17c95.js.map