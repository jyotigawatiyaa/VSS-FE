/*! For license information please see board-view.9bacb4d7776d3beb3197.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"./app/common/lib/util/last-organization.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n("./packages/storage/index.ts");function a(e=i.TrelloStorage){const t="idLastOrganization",n="none";return{NO_ORGANIZATION:n,LAST_ORGANIZATION:t,set(i){e.set(t,i||n)},get(){const n=e.get(t);return"string"==typeof n?n:null}}}},"./app/common/lib/util/non-public-fields-filter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"useNonPublicIfAvailable",(function(){return i}));const i=(e,t)=>e.nonPublic&&e.nonPublic[t]?e.nonPublic[t]:e[t]},"./app/gamma/src/components/canonical-components/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return H}));var i=n("./packages/browser/index.ts"),a=n("./packages/trello-canonical-components/index.ts"),r=n("./packages/i18n/index.ts"),s=n("./app/common/lib/util/preview.ts"),o=n("./node_modules/react/index.js"),l=n.n(o),c=n("./packages/dates/index.ts"),d=n("./app/gamma/src/util/dates.ts"),u=n("./app/gamma/src/util/sort.ts"),p=(n("./app/src/components/RouterLink/LinkWrapper.tsx"),n("./packages/trello-canonical-components/src/card-front/Badges.tsx")),m=n("./packages/colors/index.ts"),h=n("./packages/feature-flag-client/index.ts"),g=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),b=n("./app/src/components/CardFronts/LinkCard.tsx"),v=n("./app/src/noop.ts");const f=["className","style"];function _(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const{ArchivedBadge:k,AttachmentsBadge:y,Card:E,CardBadges:w,CardCover:C,CardDetails:T,CardLabels:O,CardLink:j,CardMembers:A,CardStickers:x,CardTitle:N,ChecklistBadge:S,CommentsBadge:I,DescriptionBadge:D,DueDateBadge:B,NotificationBadge:P,Sticker:F,SubscribedBadge:L,TrelloAttachmentsBadge:M,VotesBadge:R}=a.CanonicalCard,V=Object(r.forTemplate)("canonical_card"),U={red:m.Red400,blue:m.TrelloBlue300,green:m.Green400,orange:m.Orange400,purple:m.Purple400,yellow:m.Yellow400,pink:m.Pink400,sky:m.Sky400,lime:m.Lime400,black:m.N800},z={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"},H=({name:e,team:t,members:n=[],labels:r=[],colorBlind:o,cover:m,coverHeight:f,archived:_,badges:E,isTemplate:j,stickers:H=[],expandLabels:W,numNotifications:Y,replacements:K={},cardRole:G})=>{const $=E&&E.attachmentsByType?E.attachmentsByType.trello.board+E.attachmentsByType.trello.card:0,q=E?E.attachments-$:0,X=((e,{hasStickers:t,heightOverride:n,colorBlind:a}={})=>{const r={height:0,img:"",bgColor:"",bgSize:"cover",sharedSourceUrl:"",pattern:null};if(!e)return r;const o=e?Object(s.smallestPreviewBiggerThan)(e.previews,Object(i.isHighDPI)()?600:300)||Object(s.biggestPreview)(e.previews):null;if(o){r.img=o.url?o.url:e.url,r.sharedSourceUrl=e.sharedSourceUrl,r.bgColor=e.edgeColor;const t=Math.min(o.height,260),n=245*o.height/o.width;n<=t?(r.height=n,r.bgSize="cover"):(r.height=t,r.bgSize="contain")}return e.color&&(r.bgColor=U[e.color],r.height=t?64:32,a&&(r.bgSize=void 0,r.pattern=z[e.color])),r.height=n||r.height,r})(m,{hasStickers:H.length>0,heightOverride:f,colorBlind:o}),Q=new Set(t&&t.memberships?t.memberships.filter((e=>e.deactivated)).map((e=>e.idMember)):[]),J=Object(h.seesVersionedVariation)("ecosystem.timeline-version","stable");return h.featureFlagClient.get("wildcard.link-cards",!1)&&"link"===G&&e?l.a.createElement(T,null,l.a.createElement(b.LinkCard,{url:e,isEditable:!1,openEditor:v.a,hideCover:!0,hideActions:!0})):l.a.createElement(l.a.Fragment,null,m&&"full"!==m.size&&l.a.createElement(C,X),H.length>0&&l.a.createElement(x,{height:X.height?X.height:64},H.map((e=>l.a.createElement(F,{key:e.id,left:e.left,top:e.top,alt:e.image,img:Object(i.isHighDPI)()&&e.imageUrl2x?e.imageUrl2x:e.imageUrl,rotate:e.rotate,zIndex:e.zIndex})))),l.a.createElement(T,null,r&&r.length>0&&l.a.createElement(O,null,r.filter((e=>!!e.color)).sort(u.b).map((e=>l.a.createElement(g.CardLabel,{key:e.id,color:e.color,pattern:o?g.labelColorToColorBlindPattern[e.color]:null},W?e.name||" ":null)))),K.CardTitle?K.CardTitle:l.a.createElement(N,null,e),l.a.createElement(w,null,j&&l.a.createElement(p.c,null,V("card template badge label")),!!Y&&l.a.createElement(P,{numUnread:Y}),E&&E.subscribed&&l.a.createElement(L,null),E&&E.votes>0&&!j&&l.a.createElement(R,{numVotes:E.votes,voted:E.viewingMemberVoted}),E&&(E.start||E.due)&&!j&&l.a.createElement(B,{dueDate:E.due,isComplete:E.dueComplete},J&&Object(d.getStringForCombinedDateBadge)(E.start,E.due),!J&&E.due&&Object(c.b)(E.due)),E&&E.description&&l.a.createElement(D,null),E&&E.comments>0&&l.a.createElement(I,{numComments:E.comments}),q>0&&l.a.createElement(y,{numAttachments:q}),$>0&&l.a.createElement(M,{numAttachments:$}),E&&E.checklistItems>0&&l.a.createElement(S,{numItems:E.checklistItems,numComplete:E.checklistItemsChecked,checkItemsEarliestDue:E.checkItemsEarliestDue}),_&&!j&&l.a.createElement(k,null,V("archived card badge label"))),n&&n.length>0&&l.a.createElement(A,null,n.sort(Object(u.a)("name")).reduceRight(((e,t)=>(e.push(l.a.createElement(a.CanonicalAvatar,{key:t.id,avatarSource:t.avatarSource,deactivated:Q.has(t.id)||t.activityBlocked,img:t.avatars&&t.avatars[30],initials:t.initials,lightBackground:!0})),e)),[]))))},W=e=>{var t;let{className:n,style:i}=e,a=_(e,f);return l.a.createElement(E,{className:n,style:i,cover:a.cover,colorBlind:a.colorBlind,coverHeight:a.coverHeight,truncateNameForFullCover:a.truncateNameForFullCover,hasStickers:!(null===(t=a.stickers)||void 0===t||!t.length)},l.a.createElement(H,a))}},"./app/gamma/src/util/sort.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("./app/gamma/src/types/models.ts");const a=e=>(t,n)=>{if(!t[e]||!n[e])return 0;const i=t[e].toLocaleLowerCase(),a=n[e].toLocaleLowerCase();return i<a?-1:i>a?1:0},r=new Map([[i.d.Green,0],[i.d.Yellow,1],[i.d.Orange,2],[i.d.Red,3],[i.d.Purple,4],[i.d.Blue,5],[i.d.Sky,6],[i.d.Lime,7],[i.d.Pink,8],[i.d.Black,9],[null,999]]),s=({color:e},{color:t})=>{const n=r.get(e)-r.get(t),i=(e||"").toLowerCase().localeCompare(t||"");return r.has(e)&&r.has(t)?n:i}},"./app/scripts/data/dashcards-id.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DASHCARDS_POWER_UP_ID",(function(){return i}));const i="6048e897c73d032a983e2a7c"},"./app/scripts/data/directory.js":function(e,t){e.exports.categories=["analytics-reporting","automation","board-utilities","communication-collaboration","developer-tools","file-management","hr-operations","it-project-management","marketing-social-media","product-design","sales-support"],e.exports.atlassianPowerUps=["588a331cc86ffbe08f5d2c67"]},"./app/scripts/data/dropbox.js":function(e,t){e.exports.DropboxPluginId="55a5d915446f517774210002",e.exports.DropboxClaimedHosts=["dropbox.com","www.dropbox.com","paper.dropbox.com"]},"./app/scripts/data/inspiring-boards-workspace-ids.js":function(e,t){e.exports.InspiringBoardsWorkspaceIds=["54b58957112602c9a0be7aa3","54f4ca2e40406f2c50b072a0"]},"./app/scripts/data/stickers.js":function(e,t,n){e.exports.Stickers={standard:{premium:!1,stickers:[{image:"check",url:n("./resources/images/stickers/check.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/check.png")},{width:200,height:200,url:n("./resources/images/stickers/check@2x.png")}]},{image:"heart",url:n("./resources/images/stickers/heart.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/heart.png")},{width:200,height:200,url:n("./resources/images/stickers/heart@2x.png")}]},{image:"warning",url:n("./resources/images/stickers/warning.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/warning.png")},{width:200,height:200,url:n("./resources/images/stickers/warning@2x.png")}]},{image:"clock",url:n("./resources/images/stickers/clock.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/clock.png")},{width:200,height:200,url:n("./resources/images/stickers/clock@2x.png")}]},{image:"smile",url:n("./resources/images/stickers/smile.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/smile.png")},{width:200,height:200,url:n("./resources/images/stickers/smile@2x.png")}]},{image:"laugh",url:n("./resources/images/stickers/laugh.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/laugh.png")},{width:200,height:200,url:n("./resources/images/stickers/laugh@2x.png")}]},{image:"huh",url:n("./resources/images/stickers/huh.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/huh.png")},{width:200,height:200,url:n("./resources/images/stickers/huh@2x.png")}]},{image:"frown",url:n("./resources/images/stickers/frown.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/frown.png")},{width:200,height:200,url:n("./resources/images/stickers/frown@2x.png")}]},{image:"thumbsup",url:n("./resources/images/stickers/thumbsup.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/thumbsup.png")},{width:200,height:200,url:n("./resources/images/stickers/thumbsup@2x.png")}]},{image:"thumbsdown",url:n("./resources/images/stickers/thumbsdown.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/thumbsdown.png")},{width:200,height:200,url:n("./resources/images/stickers/thumbsdown@2x.png")}]},{image:"star",url:n("./resources/images/stickers/star.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/star.png")},{width:200,height:200,url:n("./resources/images/stickers/star@2x.png")}]},{image:"rocketship",url:n("./resources/images/stickers/rocketship.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/rocketship.png")},{width:200,height:200,url:n("./resources/images/stickers/rocketship@2x.png")}]}]},taco:{premium:!0,stickers:[{image:"taco-love",url:n("./resources/images/stickers/taco-love.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-love.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-love@2x.png")}]},{image:"taco-confused",url:n("./resources/images/stickers/taco-confused.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-confused.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-confused@2x.png")}]},{image:"taco-cool",url:n("./resources/images/stickers/taco-cool.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-cool.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-cool@2x.png")}]},{image:"taco-angry",url:n("./resources/images/stickers/taco-angry.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-angry.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-angry@2x.png")}]},{image:"taco-celebrate",url:n("./resources/images/stickers/taco-celebrate.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-celebrate.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-celebrate@2x.png")}]},{image:"taco-robot",url:n("./resources/images/stickers/taco-robot.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-robot.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-robot@2x.png")}]},{image:"taco-alert",url:n("./resources/images/stickers/taco-alert.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-alert.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-alert@2x.png")}]},{image:"taco-active",url:n("./resources/images/stickers/taco-active.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-active.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-active@2x.png")}]},{image:"taco-money",url:n("./resources/images/stickers/taco-money.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-money.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-money@2x.png")}]},{image:"taco-reading",url:n("./resources/images/stickers/taco-reading.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-reading.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-reading@2x.png")}]},{image:"taco-trophy",url:n("./resources/images/stickers/taco-trophy.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-trophy.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-trophy@2x.png")}]},{image:"taco-sleeping",url:n("./resources/images/stickers/taco-sleeping.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-sleeping.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-sleeping@2x.png")}]},{image:"taco-pixel",url:n("./resources/images/stickers/taco-pixel.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-pixel.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-pixel@2x.png")}]},{image:"taco-proto",url:n("./resources/images/stickers/taco-proto.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-proto.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-proto@2x.png")}]},{image:"taco-embarrassed",url:n("./resources/images/stickers/taco-embarrassed.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-embarrassed.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-embarrassed@2x.png")}]},{image:"taco-clean",url:n("./resources/images/stickers/taco-clean.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-clean.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-clean@2x.png")}]}]},pete:{premium:!0,stickers:[{image:"pete-happy",url:n("./resources/images/stickers/pete-happy.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-happy.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-happy@2x.png")}]},{image:"pete-love",url:n("./resources/images/stickers/pete-love.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-love.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-love@2x.png")}]},{image:"pete-broken",url:n("./resources/images/stickers/pete-broken.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-broken.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-broken@2x.png")}]},{image:"pete-alert",url:n("./resources/images/stickers/pete-alert.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-alert.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-alert@2x.png")}]},{image:"pete-talk",url:n("./resources/images/stickers/pete-talk.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-talk.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-talk@2x.png")}]},{image:"pete-vacation",url:n("./resources/images/stickers/pete-vacation.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-vacation.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-vacation@2x.png")}]},{image:"pete-confused",url:n("./resources/images/stickers/pete-confused.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-confused.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-confused@2x.png")}]},{image:"pete-shipped",url:n("./resources/images/stickers/pete-shipped.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-shipped.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-shipped@2x.png")}]},{image:"pete-busy",url:n("./resources/images/stickers/pete-busy.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-busy.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-busy@2x.png")}]},{image:"pete-completed",url:n("./resources/images/stickers/pete-completed.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-completed.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-completed@2x.png")}]},{image:"pete-space",url:n("./resources/images/stickers/pete-space.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-space.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-space@2x.png")}]},{image:"pete-sketch",url:n("./resources/images/stickers/pete-sketch.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-sketch.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-sketch@2x.png")}]},{image:"pete-ghost",url:n("./resources/images/stickers/pete-ghost.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-ghost.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-ghost@2x.png")}]},{image:"pete-award",url:n("./resources/images/stickers/pete-award.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-award.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-award@2x.png")}]},{image:"pete-music",url:n("./resources/images/stickers/pete-music.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-music.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-music@2x.png")}]}]}}},"./app/scripts/init/useSocketSubscription.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n("./app/scripts/init/subscriber.js"),r=n("./packages/error-reporting/index.ts");const s=(e,t,n)=>{Object(i.useEffect)((()=>{if(!n){if(t&&((i=t)&&/^[0-9a-fA-F]{24}$/.test(i))){return Object(a.addSubscription)(((e,t)=>{switch(e){case"Member":return{idModel:t,modelType:e,tags:["messages","updates"]};case"Board":return{idModel:t,modelType:e,tags:["clientActions","updates"]};case"Organization":return{idModel:t,modelType:e,tags:["allActions","updates"]};default:throw new Error("Invalid modelType")}})(e,t))}Object(r.sendErrorEvent)(new Error("Cannot setup subscription to model '".concat(e,"' using an empty or invalid id: ").concat(t,".")))}var i;return()=>{}}),[e,t,n])}},"./app/scripts/lib/last-action/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"undoAction",(function(){return A})),n.d(t,"redoAction",(function(){return x})),n.d(t,"repeatAction",(function(){return N}));var i=n("./packages/action-history/index.ts"),a=n("./packages/atlassian-analytics/index.ts"),r=n("./packages/error-reporting/index.ts"),s=n("./app/scripts/db/model-cache.js"),o=n("./app/scripts/debug/constants.ts"),l=n("./app/scripts/views/lib/alerts.js"),c=n.n(l),d=n("./packages/dates/index.ts"),u=n("./packages/i18n/index.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=Object(u.forNamespace)("notificationsGrouped",{shouldEscapeStrings:!1});function b({card:e,traceId:t,taskName:n,source:i,field:r}){return Object(a.tracingCallback)({taskName:n,traceId:t,source:i},(()=>{a.Analytics.sendUpdatedCardFieldEvent({field:r,source:i,containers:{card:{id:e.id},board:{id:e.get("idBoard")},list:{id:e.get("idList")}},attributes:{taskId:t}})}))}class v extends Error{constructor(){super("noop"),this.name="NoopError"}}const f=(e,t)=>{const n=s.ModelCache.get(e,t);if(!n)throw new v;return n},_={join:(e,t,n)=>{if(e.hasMember(t.idMember))throw new v;const{traceId:i}=n;return e.addMemberWithTracing(t.idMember,i,b(m({card:e},n))),g("notification_joined_card")},leave:(e,t,n)=>{if(!e.hasMember(t.idMember))throw new v;const{traceId:i}=n;return e.removeMemberWithTracing(t.idMember,i,b(m({card:e},n))),g("notification_left_card")},"add-member":(e,t,n)=>{if(e.hasMember(t.idMember))throw new v;const{traceId:i}=n;e.addMemberWithTracing(t.idMember,i,b(m({card:e},n)));const a=f("Member",t.idMember);return g("notification_added_member_to_card",{member:a.get("fullName")})},"remove-member":(e,t,n)=>{if(!e.hasMember(t.idMember))throw new v;const{traceId:i}=n;e.removeMemberWithTracing(t.idMember,i,b(m({card:e},n)));const a=f("Member",t.idMember);return g("notification_removed_member_from_card",{member:a.get("fullName")})},move:(e,t)=>{const n=e.get("idBoard"),i=e.get("idList"),a=f("List",t.idList);let r;var s;return r="top"===t.position?0:"bottom"===t.position?a.openCards().length:t.position+1,e.moveToList(a,r),n!==t.idBoard?g("notification_moved_card_to_board",{list:a.get("name"),board:null===(s=f("Board",t.idBoard))||void 0===s?void 0:s.get("name")}):i===t.idList?g("notification_moved_card_within_list",{list:a.get("name")}):g("notification_moved_card",{list:a.get("name")})},"add-label":(e,t)=>{const n=f("Label",t.idLabel);if(e.hasLabel(n))throw new v;return e.toggleLabel(n,!0),g("notification_added_label_to_card",{label:n.get("name")})},"remove-label":(e,t)=>{const n=f("Label",t.idLabel);if(!e.hasLabel(n))throw new v;return e.toggleLabel(n,!1),g("notification_removed_label_from_card",{label:n.get("name")})},archive:(e,t,n)=>{if(e.get("closed"))throw new v;const{traceId:i}=n;return e.close(i,b(m({card:e},n))),g("notification_archived_card")},unarchive:(e,t,n)=>{if(!e.get("closed"))throw new v;const{traceId:i}=n;return e.reopen(i,b(m({card:e},n))),g("notification_unarchived_card")},"set-due-date":(e,{dueDate:t},n)=>{var i;const a=(null===(i=e.getDueDate())||void 0===i?void 0:i.getTime())||null,r=e.get("dueReminder")||-1;if(a===t.due&&r===t.dueReminder)throw new v;const{traceId:s}=n;if(e.setDueDate(m(m({},t),{},{traceId:s}),b(m({card:e},n))),!t.due)return g("notification_removed_due_date");const o=Object(d.b)(new Date(t.due));return a?t.due===a?g("notification_changed_due_date_reminder"):g("notification_changed_due_date",{date:o}):g("notification_added_a_due_date",{date:o})},rename:(e,t,n)=>{e.recordAction(m(m({},t),{},{previousName:e.get("name")}));const{traceId:i}=n;return e.update({name:t.name,traceId:i},b(m({card:e},n))),g("notification_renamed_card")},"update-description":(e,t,n)=>{e.recordAction(m(m({},t),{},{previousDescription:e.get("desc")}));const{traceId:i}=n;return e.update({desc:t.description,traceId:i},b(m({card:e},n))),g("notification_updated_description_of_card")}},k={join:_.leave,leave:_.join,"add-member":_["remove-member"],"remove-member":_["add-member"],move:(e,t,n,i)=>{const a=f("List",i.idList);return e.moveToList(a,t.fromPosition),t.idBoard!==i.idBoard?g("notification_moved_card_to_board",{list:a.get("name"),board:f("Board",i.idBoard).get("name")}):t.idList===i.idList?g("notification_moved_card_within_list",{list:a.get("name")}):g("notification_moved_card",{list:a.get("name")})},"add-label":_["remove-label"],"remove-label":_["add-label"],archive:_.unarchive,unarchive:_.archive,"set-due-date":(e,t,n,i)=>{var a;const r=m(m({},t),{},{dueDate:t.previousDueDate,previousDueDate:t.dueDate});return null===(a=_["set-due-date"])||void 0===a?void 0:a.call(_,e,r,n,i)},rename:(e,t,n,i)=>{var a;const r=m(m({},t),{},{name:t.previousName,previousName:t.name});return null===(a=_.rename)||void 0===a?void 0:a.call(_,e,r,n,i)},"update-description":(e,t,n,i)=>{var a;const r=m(m({},t),{},{description:t.previousDescription,previousDescription:t.description});return null===(a=_["update-description"])||void 0===a?void 0:a.call(_,e,r,n,i)}},y={join:"joinCardAction",leave:"leaveCardAction","add-member":"addMemberToCardAction","remove-member":"removeMemberFromCardAction",move:"moveCardAction","add-label":"addLabelToCardAction","remove-label":"removeLabelFromCardAction",archive:"archiveCardAction",unarchive:"unarchiveCardAction","set-due-date":"setCardDueDateAction",rename:"renameCardAction","update-description":"updateCardDescriptionAction"};const E=({idBoard:e},{action:t,context:n})=>!e||e===n.idBoard||(e=>"move"===e.type)(t)&&t.idBoard===e,w=({idCard:e},{context:t})=>!e||e===t.idCard,C=["join","leave","add-member","remove-member","move","add-label","remove-label","archive","unarchive","set-due-date","rename"],T=({source:e},{action:t})=>"cardDetailScreen"===e||C.includes(t.type),O={"add-checklist":{taskName:"create-checklist",field:"checklist"},"add-label":{taskName:"edit-card/idLabels",field:"idLabels"},"add-member":{taskName:"edit-card/idMembers",field:"idMembers"},archive:{taskName:"edit-card/closed",field:"closed"},delete:{taskName:"delete-card",field:"id"},join:{taskName:"edit-card/idMembers",field:"idMembers"},leave:{taskName:"edit-card/idMembers",field:"idMembers"},move:{taskName:"edit-card/pos",field:"position"},"remove-label":{taskName:"edit-card/idLabels",field:"idLabels"},"remove-member":{taskName:"edit-card/idMembers",field:"idMembers"},rename:{taskName:"edit-card/name",field:"name"},"set-due-date":{taskName:"edit-card/due",field:"due"},"update-description":{taskName:"edit-card/desc",field:"description"},unarchive:{taskName:"edit-card/closed",field:"closed"}};function j({analyticsAction:e,entry:{action:t,context:n},userContext:i,map:l,callback:d}){const u=l[t.type];if(!u)return;let p,m;const h=O[t.type],{taskName:g,field:b}=h,f={traceId:"move"!==t.type?a.Analytics.startTask({taskName:g,source:i.source}):"",taskName:g,field:b,source:i.source};try{if(p=s.ModelCache.get("Card","repeated"===e?i.idCard:n.idCard),!p)return;m=u(p,t,f,n),null==d||d()}catch(s){var _,k;if(s instanceof v){const{traceId:e,taskName:t,source:n}=f;return void(e&&a.Analytics.taskAborted({traceId:e,taskName:t,source:n}))}Object(r.sendErrorEvent)(s,{tags:{ownershipArea:"trello-workflowers",feature:o.Feature.UndoAction},extraData:{analyticsAction:e,actionType:t.type,idCard:n.idCard,idBoard:n.idBoard,source:i.source,viewingCard:null!==(_=i.idCard)&&void 0!==_?_:"",viewingBoard:null!==(k=i.idBoard)&&void 0!==k?k:""}});const{traceId:l,taskName:c,source:d}=f;return void(l&&a.Analytics.taskFailed({traceId:l,taskName:c,source:d,error:s}))}m&&c.a.showLiteralText(m,"subtle","lastAction",2e3),function({analyticsAction:e,actionType:t,card:n,source:i}){a.Analytics.sendTrackEvent({action:e,actionSubject:"action",actionSubjectId:y[t],source:i,containers:{board:{id:n.get("idBoard")},card:{id:n.id}}})}({analyticsAction:e,actionType:t.type,card:p,source:i.source})}function A(e){const[t]=i.ActionHistory.get();t&&!Object.prototype.hasOwnProperty.call(t,"count")&&E(e,t)&&w(e,t)&&T(e,t)&&j({analyticsAction:"undone",entry:t,userContext:e,map:k,callback:()=>i.ActionHistory.undo()})}function x(e){const[t]=i.ActionHistory.getUndoStack();t&&E(e,t)&&w(e,t)&&T(e,t)&&j({analyticsAction:"redone",entry:t,userContext:e,map:_,callback:()=>i.ActionHistory.redo()})}function N(e){const[t]=i.ActionHistory.get();t&&!Object.prototype.hasOwnProperty.call(t,"count")&&E(e,t)&&!w(e,t)&&T(e,t)&&j({analyticsAction:"repeated",entry:t,userContext:e,map:_})}},"./app/scripts/lib/limits.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js");e.exports.filterByKeys=function(e,t){return null==e?[]:t.map((function(t){const[n,a]=Array.from(t.split(".")),r=null!=e[n]?e[n][a]:void 0;if(null!=(null!=r?r.status:void 0))return i.extend({key:t},i.pick(r,"status","count"))})).filter((e=>null!=e))};const a={maxExceeded:0,disabled:1,warn:2,ok:3};e.exports.sort=e=>i.sortBy(e,(e=>a[e.status]))},"./app/scripts/lib/localize-count.js":function(e,t,n){const i=n("./app/scripts/lib/try-babble.js"),a=n("./node_modules/underscore/underscore.js"),{counting:r}=n("locale");e.exports=function(e,t,n,s){null==n&&(n={}),null==s&&(s={});const o=a.extend({count:String(t)},n);return i(["counts",e,r(t)],o,s)}},"./app/scripts/lib/plugins/plugin-cover-with-defaults.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/plugins/plugin-validators.js");e.exports=function(e){const t={edgeColor:"transparent",height:e.height,size:"contain",padding:"0",position:"center",stickerHeight:e.height,url:e.url};return a.isValidHexColor(e.edgeColor)&&(t.edgeColor=e.edgeColor),"cover"===e.position?t.size="cover":i.isObject(e.position)&&(!0===e.position.padding&&(t.padding="8px",t.stickerHeight+=16),i.contains(["center","left","right"],e.position.align)&&(t.position=e.position.align)),t}},"./app/scripts/lib/recents.js":function(e,t,n){const{TrelloStorage:i}=n("./packages/storage/index.ts"),a=n("./node_modules/underscore/underscore.js");e.exports.Recents=new class{_getKey(e){return"recent_".concat(e)}add(e,t){const n=this.get(e),r=a.chain([t,...Array.from(n)]).uniq().first(10).value();return i.set(this._getKey(e),r)}get(e,t){let n;return null==t&&(t=10),a.chain(null!=(n=i.get(this._getKey(e)))?n:[]).compact().first(t).value()}}},"./app/scripts/lib/util/array/count-while.js":function(e,t){e.exports.countWhile=function(...e){const t=Math.max(e.length,1),n=e.slice(0,t-1),i=e[t-1],[a,...r]=Array.from(n);if(null==a)return 0;if(r.length>0)for(let e=0;e<a.length;e++){const t=a[e];for(const n of Array.from(r))if(n.length<=e||!i(t,n[e]))return e}return a.length}},"./app/scripts/lib/util/decaying-interval.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),a={resetAfterMouseMove:!0,intervals:[{iterations:6,timeout:i.getMs({seconds:10})},{iterations:10,timeout:i.getMs({minutes:1})}]};e.exports.startDecayingInterval=function(e,t){null==t&&(t=a);let n=null,i=null,r=!1;const s=function(){clearTimeout(i),r&&(document.removeEventListener("mousemove",c),r=!1)},o=function(){t.resetAfterMouseMove&&!r&&(document.addEventListener("mousemove",c),r=!0)},l=function(){if(n.length){const a=n.shift();i=setTimeout((function(){return e(),requestAnimationFrame(l)}),a),a>t.intervals[0].timeout&&o()}else o()},c=function(){s(),n=[];for(const{iterations:e,timeout:i}of Array.from(t.intervals))for(let t=0,a=e,r=0<=a;r?t<a:t>a;r?t++:t--)n.push(i);l()};return c(),s}},"./app/scripts/lib/util/event/custom-event.js":function(e,t){e.exports.CustomEvent=(()=>{try{return new window.CustomEvent("testEvent"),window.CustomEvent}catch(e){const t=function(e,t){null==t&&(t={bubbles:!1,cancelable:!1,detail:void 0});const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};return t.prototype=window.Event.prototype,t}})()},"./app/scripts/lib/util/event/trigger-list.js":function(e,t,n){const{CustomEvent:i}=n("./app/scripts/lib/util/event/custom-event.js");e.exports.triggerList=function(e,t,n){const a=new i(t,{bubbles:!1,cancelable:!1,detail:null!=n.detail?n.detail:void 0});let r=!1;a.stopPropagation=function(){return r=!0,i.prototype.stopPropagation.apply(this,arguments)};for(const t of Array.from(e))r||t.dispatchEvent(a)}},"./app/scripts/lib/util/event/trigger.js":function(e,t,n){const{CustomEvent:i}=n("./app/scripts/lib/util/event/custom-event.js");e.exports.trigger=function(e,t,n){null==n&&(n={});const a=new i(t,{bubbles:null==n.bubbles||n.bubbles,cancelable:null!=n.cancelable&&n.cancelable,detail:null!=n.detail?n.detail:void 0});return e.dispatchEvent(a)}},"./app/scripts/lib/util/naive-should-component-update.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{isPlainObject:a}=n("./app/scripts/lib/util/is-plain-object.js"),r=n("./node_modules/react/index.js");e.exports.naiveShouldComponentUpdate=function(e,t){return!(s(e,this.props)&&s(t,this.state))};const s=function(e,t){if(a(e)&&a(t)){if(i.keys(e).length!==i.keys(t).length)return!1;for(const n in e)if(!s(e[n],t[n]))return!1}else if(r.isValidElement(e)&&r.isValidElement(t)){if(!s([e.props,e.state],[t.props,t.state]))return!1}else if(i.isArray(e)&&i.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!s(e[n],t[n]))return!1}else{if(i.isFunction(e)&&i.isFunction(t))return!0;if(e!==t)return!1}return!0}},"./app/scripts/lib/util/removeAllRanges.js":function(e,t){e.exports.removeAllRanges=function(){if(window.getSelection){if(window.getSelection().empty)return window.getSelection().empty();if(window.getSelection().removeAllRanges)return window.getSelection().removeAllRanges()}else if(document.selection)return document.selection.empty()}},"./app/scripts/lib/util/selection/has-selection.js":function(e,t){e.exports.hasSelection=()=>{return e="function"==typeof window.getSelection?window.getSelection():void 0,t=e=>e.toString(),(null!=e?t(e):void 0)||(null!=document.selection?document.selection.createRange().text:void 0);var e,t}},"./app/scripts/lib/util/text/html-encode.js":function(e,t){e.exports.htmlEncode=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")},"./app/scripts/lib/util/text/links-from-markdown.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js");e.exports.linksFromMarkdown=function(e,t){let n=[];for(const i of Array.from(t.blockLex(e,{})))null!=i.children&&(n=[...Array.from(n),...Array.from(t.inlineLex(i.children.text))]);return i.chain(n).filter((e=>"link"===e.type)).map((function(n){return null!=(e=null!=n.children?n.children.text:void 0)?{url:n.url,text:t.textInline(null!=n.children?n.children.text:void 0)}:{url:n.url}})).value()}},"./app/scripts/lib/util/text/search-filter.js":function(e,t){e.exports.searchFilter=e=>{const t=e.toLowerCase().split(/[\s,]+/),n=t.map(((e,n)=>0===e.length?e=>!0:n===t.length-1?t=>0===t.toLowerCase().indexOf(e):t=>t.toLowerCase()===e));return e=>{Array.isArray(e)&&(e=e.join(" "));const t=e.toLowerCase().split(/\s+/);return n.every((e=>t.some((t=>e(t)))))}}},"./app/scripts/lib/util/url/contains-valid-url.js":function(e,t){e.exports.containsValidUrl=e=>new RegExp("(https?|ftp):\\/\\/(([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+(:([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+)?@)?((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*[a-z][a-z0-9-]*[a-z0-9]|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5]))(:\\d+)?)(((\\/+([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)*(\\?([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?)?)?(\\#([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?").test(null!=e?e.toLowerCase():void 0)},"./app/scripts/views/action/action-list-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ActionView:a}=n("./app/scripts/views/action/action-view.js"),r=n("./app/scripts/views/action/comment-action-view.js"),{Dates:s}=n("./app/scripts/lib/dates.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./node_modules/underscore/underscore.js"),d=n("./node_modules/moment/moment.js"),{featureFlagClient:u}=n("./packages/feature-flag-client/index.ts");e.exports=class extends l{initialize({renderOpts:e,highlight:t}){return this.renderOpts=e,this.highlight=t,this.makeDebouncedMethods("render"),this.listenTo(this.collection,"add reset",this.renderDebounced),this.listenTo(this.collection,"remove",(()=>(this.removeActionViews(),this.renderDebounced()))),this.actionViews=[],this.showDetails=!0}render(){return this.collection._getRelatedBoards().then((()=>{const e=""===this.$el.html()||this.showDetails!==this._lastShowDetails||this.missingViews();this._lastShowDetails=this.showDetails,this.rerender(e,!0)})).then((()=>{this.trigger("render")})).done()}missingViews(){return c.any(this.actionViews,(e=>!i.contains(this.el,e.el)))}sortActions(e){return c.sortBy(e,(e=>s.parse(e.get("date")))).reverse()}rerender(e,t){const[n,i]=Array.from(this.saveEdits());let a=this.collection.models;u.get("nusku.filter-deleted-actions",!1)&&(a=a.filter((e=>void 0!==e.attributes&&(!e.id||void 0!==this.modelCache.get("Action",e.id))))),a=this.sortActions(a),this.showDetails||(a=c.filter(a,(e=>e.isCommentLike())));const r=k(a).slice(0,this.renderOpts.limit);e&&t&&this.removeActionViews(),this.$(".js-board-member-profile-no-activity").toggleClass("hide",r.length>0);for(let t=0;t<r.length;t++){const a=r[t];if(e||this.actionNeedsRerender(a,t)){const s=this.rerenderAction(a,t,r,{rerenderAll:e});this.restoreEdits(n,i,s)}}}setShowDetails(e){return this.showDetails=e}saveEdits(){const e=[];let t=0;return this.$(".editing textarea").each((function(){const n=i(this);e.push(n.val()),n.is(":focus")&&(n.parents(".editing").addClass("focused"),t=o.getCaretPosition(n))})),null!=e&&e.reverse(),[e,t]}restoreEdits(e,t,n){if(n.$el.hasClass("editing")){n.$("textarea").val(e.pop());const i=o.getElem(n.$("textarea"));return n.$el.hasClass("focused")&&o.setCaretPosition(i,t),n.openEditView()}}_viewForAction(e){return/^comment/.test(e.get("type"))?this.subview(r,e,this.renderOpts):this.subview(a,e,this.renderOpts)}rerenderAction(e,t,n,i){const a=this._viewForAction(e),r=this.highlight&&this.highlight===e.id;return a.setHighlighted(r),i.rerenderAll?(this.appendSubview(a),this.actionViews.push(a)):(this.insertActionView(a,t),1===this.actionViews.length&&1===n.length?(this.actionViews[t].remove(),this.actionViews.splice(t,1,a)):null==this.actionViews[t+1]?this.actionViews.splice(t,1,a):n.length<=this.actionViews.length?this.actionViews[t+1].model.id===y(c.first(n[t+1]),(e=>e.id))?(this.actionViews[t].remove(),this.actionViews.splice(t,1,a)):(this.actionViews.splice(t,0,a),y(this.actionViews[this.actionViews.length-1],(e=>e.remove())),this.actionViews=this.actionViews.splice(0,this.actionViews.length-1)):this.actionViews.splice(t,0,a)),a}actionNeedsRerender(e,t){const n=null!=e.id?"id":"cid";y(y(this.actionViews[t+1],(e=>e.model)),(e=>e[n]))===e[n]&&(this.actionViews[t].remove(),this.actionViews.splice(t,1));const i=this.actionViews[t];return!i||e[n]!==i.model[n]}insertActionView(e,t){return this.actionViews[t]?(e.delegateEvents(),e.render().$el.insertBefore(this.actionViews[t].el)):this.appendSubview(e)}removeActionViews(){this.removeSubviews(),this.actionViews=[]}delegateEvents(){super.delegateEvents(...arguments);for(const e of Array.from(this.actionViews))e.delegateEvents()}undelegateEvents(){super.undelegateEvents(...arguments);for(const e of Array.from(this.actionViews))e.undelegateEvents()}remove(){return this.removeActionViews(),super.remove(...arguments)}setHighlight(e){let t,n,i;e!==this.highlight&&(this.highlight&&null!=(n=this.collection.get(this.highlight))&&(i=this._viewForAction(n),i.setHighlighted(!1)),this.highlight=e,this.highlight&&(t=this.collection.get(this.highlight))&&(i=this._viewForAction(t),i.setHighlighted(!0)))}};const p=e=>t=>function(n,i){return e in n&&e in i&&n[e].id===i[e].id?t(n,i):[!1,!1]},m=p("card"),h=p("board"),g=e=>[e,e],b=function(e,t){if(null==t)return!1;if(0===e.length)return!0;const[n,...i]=Array.from(e);return b(i,t[n])},v=(e,...t)=>c.all(t,(t=>b(e,t))),f=[{a:"removeMemberFromCard",b:"addMemberToCard",cancel:m(((e,t)=>g(e.idMember===t.idMember)))},{a:"deleteAttachmentFromCard",b:"addAttachmentToCard",cancel:m(((e,t)=>g(e.attachment.id===t.attachment.id)))},{a:"updateCheckItemStateOnCard",b:"updateCheckItemStateOnCard",cancel:m(((e,t)=>g(e.checkItem.id===t.checkItem.id)))},{a:"updateCard",b:"updateCard",cancel:m(((e,t)=>g("listAfter"in e&&"listBefore"in t&&e.listAfter.id===t.listBefore.id)))},{a:"addChecklistToCard",b:"removeChecklistFromCard",cancel:m(((e,t)=>g(e.checklist.id===t.checklist.id)))},{a:"updateBoard",b:"updateBoard",cancel:h(((e,t)=>[v(["board","prefs","background"],e,t),!1]))}],_=(e,t)=>f.reduce((function(n,i){return e.type!==i.a||t.type!==i.b?n:function(...e){const[t,n]=Array.from(e[0]),[i,a]=Array.from(e[1]);return[t||i,n||a]}(n,i.cancel(e,t))}),[!1,!1]),k=function(e){if(1===e.length)return e;const t={},n=e.slice(0,-1);for(let i=0;i<n.length;i++){const a=n[i].toJSON(),r=e[i+1].toJSON();if(c.extend(a,a.data),c.extend(r,r.data),a.idMemberCreator===r.idMemberCreator&&d(a.date).diff(r.date,"minutes")<5&&!t[a.id]&&!t[r.id]){const[e,n]=Array.from(_(a,r));e&&(t[a.id]=!0),n&&(t[r.id]=!0)}}return c.reject(e,(e=>t[e.id]))};function y(e,t){return null!=e?t(e):void 0}},"./app/scripts/views/action/action-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./packages/jquery/index.js"),o=n("./app/scripts/views/member-menu-profile/activity-member-menu-view.js"),{siteDomain:l}=n("./packages/config/index.ts"),c=n("./app/scripts/views/attachment/helpers.js"),d=n("./app/scripts/views/internal/attachment-viewer.js"),{Auth:u}=n("./app/scripts/db/auth.js"),p=n("./app/scripts/views/internal/board-display-helpers.js"),m=n("./packages/browser/index.ts"),{Controller:h}=n("./app/scripts/controller/index.js"),{Dates:g}=n("./app/scripts/lib/dates.js"),{EntityDisplay:b}=n("./app/scripts/lib/entity-display.js"),{hasSelection:v}=n("./app/scripts/lib/util/selection/has-selection.js"),{KnownServices:f}=n("./app/scripts/db/known-services.js"),{ModelCache:_}=n("./app/scripts/db/model-cache.js"),k=n("./app/scripts/views/lib/pop-over.js"),y=n("./node_modules/react/index.js"),E=n("./packages/react-dom-wrapper/index.ts"),w=n("./app/scripts/views/reactions/reaction-piles.js"),C=n("./app/scripts/lib/markdown/tfm.js"),T=n("./app/scripts/lib/util/index.js"),O=n("./app/scripts/views/internal/view.js"),j=n("./node_modules/underscore/underscore.js"),A=n("./app/scripts/views/internal/friendly-links.js"),x=n("./node_modules/moment/moment.js"),N=n("./app/scripts/views/internal/templates.js"),{Analytics:S}=n("./packages/atlassian-analytics/index.ts"),{track:I,trackUe:D}=n("./packages/analytics/index.ts"),{l:B}=n("./app/scripts/lib/localize.js"),P=n("./app/scripts/views/templates/action.js"),F=n("./node_modules/bluebird/js/browser/bluebird.js"),L=n("./app/scripts/views/internal/plugins/plugin-runner.js"),M=n("./app/scripts/views/templates/comment-unfurl-preview.js"),R=n("./app/scripts/lib/plugins/plugin-validators.js"),{featureFlagClient:V}=n("./packages/feature-flag-client/index.ts"),{navigate:U}=n("./app/scripts/controller/navigate.js"),{isLoomIntegrationEnabled:z}=n("./app/src/components/VideoRecordButton/index.ts"),H=n("./node_modules/url-parse/index.js"),W={"click .js-show-mem-menu":"viewMemberActionMenu","click .js-open-attachment-viewer":"openAttachmentViewer","click .js-open-card":"openCard","click .js-reply-to-action":"reply","click .js-reply-to-all-action":"replyAll","click .js-expand-comment":"expandComment","click .js-app-creator-link":"onAppCreatorLinkClicked","click a":"checkAttachment"};class Y extends O{static initClass(){this.prototype.className="phenom",this.prototype.events=W}initialize({context:e,highlighted:t,source:n}){let i;this.context=e,this.highlighted=t,this.source=n,this.listenTo(this.model,"takingTooLong change",this.render);const a=this.model.get("data");if(null!=(null!=a.card?a.card.id:void 0)&&a.board){let e;this.listenTo(this.modelCache,"remove:Action:".concat(this.model.get("id")),(()=>this.remove())),null!=(e=this.model.getCard())&&e.id!==this.context.id&&this.listenTo(e,"change:name",this.render)}null!=(i=this.model.getChecklist())&&this.listenTo(i,"change:name",this.render),this.listenTo(this.model.reactionList,"add remove reset",this.renderReactions),this.linkCardFlagEnabled=V.get("wildcard.link-cards",!1)}getData(){const e=new b("action").getEntities(this.model.getDisplay(),this.context.id);return{saved:null!=this.model.id,entities:j.map(e,this._withEntityInfo.bind(this)),date:this.model.get("date"),dateLastEdited:this.model.get("data").dateLastEdited,textData:this.model.get("data").textData,url:null!=this.model.getCard()?h.getActionUrl(this.model):null,appCreator:this.model.getAppCreator()}}getTrackingContext(){const{card:e,list:t,board:n}=this.model.get("data"),i="Card"===this.context.typeName?"card detail":"board sidebar";return j.extend({},{actionId:this.model.id,cardId:null!=e?e.id:void 0,listId:null!=t?t.id:void 0,boardId:null!=n?n.id:void 0},{category:i})}trackWithData(e,t,n,i,a){const{category:r}=this.getTrackingContext(),s=JSON.stringify(j.omit(this.getTrackingContext(),"category"));return D(r,e,t,n,i,a,s)}getContext(){var e;const t={},n=u.me(),i=this.modelCache.get("Board",K(K(this.model.get("data"),(e=>e.board)),(e=>e.id)));if(this.options.showBoard&&null!=i&&(t.board=i.toJSON({prefs:!0,url:!0}),t.boardPLevelIconClass=p.getPermLevelIconClassForBoard(i),t.boardPLevelAltText=p.getPermLevelAltTextForBoard(i)),this.options.showOrganization){const e=this.modelCache.get("Organization",K(K(this.model.get("data"),(e=>e.organization)),(e=>e.id)));null!=e&&(t.organization=e.toJSON({prefs:!0,url:!0}),t.orgPLevelIconClass=e.getPermLevel(),t.orgPLevelAltText=B(["org perms",e.getPermLevel(),"text"]))}const a=this.modelCache.get("Member",this.model.get("idMemberCreator"));return t.canReply=(null!=i?i.canComment(n):void 0)&&(this.model.isAddAttachment()||this.model.isCommentLike()&&null!=a&&!u.isMe(a)),t.canReplyAll=t.canReply&&new RegExp(/@([a-z0-9_]+)/).test(this.model.get("data").text),t.canDelete=this.model.deletable(),t.canEdit=this.model.editable(),t.member=null!=a?a.toJSON():void 0,null!=t.member&&(t.member.url=h.getMemberProfileUrl(t.member.id)),null!=t.member&&(t.member.isDeactivated=null!=i?i.isDeactivated(t.member):void 0),t.showReactions="Card"===this.context.typeName&&"commentCard"===this.model.get("type"),t.canReact=this.model.canReact(),t.showInlineReactionButton=t.showReactions&&!this.model.reactionList.length,t.canLinkAppCreator="memberActivityScreen"!==this.source,t.canRecordVideo=z(null===(e=this.model.getBoard())||void 0===e?void 0:e.get("idEnterprise")),t.canViewVideo=V.get("teamplates.web.loom-integration",!1),t}getOptions(){let e;return{showCompactAttachmentPreview:this.options.compact,truncateComment:null!=(e="function"==typeof this.options.truncateComments?this.options.truncateComments(this.model):void 0)&&e,showOptions:!this.model.isPlaceholder()&&!this.options.compact&&!this.options.readOnly,useEmbedly:!this.options.compact&&this.model.isCommentLike(),usePreviews:!this.options.compact&&this.model.isAddAttachment(),useCommentUnfurl:null!=this.options.compact&&!this.options.compact&&this.model.isCommentLike(),extremeTruncation:this.options.extremeTruncation}}render(){var e,t,i,r,o,l,c,d,u,p;let m,h;const b=this.getData(),v=this.getOptions(),_=this.getContext(),k=this.source,y=this.model.isCommentLike();this.$el.addClass(y?"mod-comment-type":"mod-attachment-type"),this.$el.html(P(b,_,v));const E=a(a({},null!==(e=null===(t=this.model)||void 0===t||null===(i=t.getCard)||void 0===i||null===(r=i.call(t))||void 0===r||null===(o=r.getAnalyticsContainers)||void 0===o?void 0:o.call(r))&&void 0!==e?e:{}),null!==(l=null===(c=this.model)||void 0===c||null===(d=c.getBoard)||void 0===d||null===(u=d.call(c))||void 0===u||null===(p=u.getAnalyticsContainers)||void 0===p?void 0:p.call(u))&&void 0!==l?l:{});if(null!=(m=this.model.getBoard())){this.$(".js-friendly-links").each((function(){return A(this,m,{analyticsContext:{source:k,containers:E,attributes:{fromSection:y?"comment":"attachment"}}})})),this.linkCardFlagEnabled&&this.$(".js-friendly-links-for-link-card").each((function(){return A(this,m,{analyticsContext:{source:k,containers:E,attributes:{fromSection:y?"comment":"attachment"}}})}));V.get("ecosystem.comment-link-unfurl-preview",!1)&&v.useCommentUnfurl&&this.$(".js-friendly-links").each((()=>this.renderCommentPreviews(this,m)))}if(v.useEmbedly){const e=this.$(".js-embedly");for(const t of Array.from(b.entities))if("comment"===t.type&&null!=t.embedly)try{const i=JSON.parse(t.embedly);for(h in i){const t=i[h];/wistia/i.test(h)||(t["type_".concat(t.type)]=!0,t.requireHttps=!0,e.show().append(N.fill(n("./app/scripts/views/templates/embedly.js"),t)))}}catch(e){}}if(v.usePreviews){const e=j.filter(b.entities,(e=>"attachment"===e.type));if(!j.isEmpty(e)){const t=this.$(".js-previews");f.previewHtml(e[0].url,(function(e,n){if(t.empty(),null!=e){if(null!=e.login)return s("<div>").addClass("attachment-extra-info-login").html(e.login).appendTo(t),t.removeClass("hide")}else if(null!=n)return s("<div>").addClass("attachment-extra-info").html(n).appendTo(t),t.removeClass("hide")}))}}return g.update(this.el),this.$el.toggleClass("unsent",!!this.model.isTakingTooLong),this.renderHighlighted(),this.renderReactions(),this}renderHighlighted(){return this.$el.toggleClass("mod-highlighted",!!this.highlighted),this}renderReactions(){const e=this.getContext();if(this.reactRoot=this.$(".js-reaction-piles")[0])return E.render(y.createElement(w,{actionId:this.model.id,reactionList:this.model.reactionList,canReact:e.canReact,trackingContext:this.getTrackingContext()}),this.reactRoot)}renderCommentPreviews(e,t){const n=j.flatten(this.$(".js-friendly-links").toArray().map((function(e){return null!=e.tagName==="A"?[e]:j.toArray(e.querySelectorAll("a"))}))).map((e=>e.href)).filter((e=>null!=e));return F.map(n,(e=>F.try((()=>L.one({command:"format-url",board:t,options:{url:e}}))).then((function(t){return null!=t?j.extend(t,{url:e}):null})).catch(L.Error.NotHandled,(()=>null)))).then((e=>{if(null!=e&&e.length>0){const t=e.filter(R.isValidUrlUnfurl).map((e=>(K(null!=e?e.actions:void 0,(e=>e.length))>2&&(e.actions=e.actions.slice(0,2)),this.subview(M,this.model,{commentUnfurl:e},e.url)))),n=this.$(".comment-preview");return this.ensureSubviews(t,n),n.show()}}))}remove(){return this.reactRoot&&E.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}_tfmFormatOpts(){return this.model.get("data").card,this.model.get("data").board,{textData:this.model.get("data").textData}}_withEntityInfo(e){let t,n;const i=j.clone(e);if("attachment"===i.type&&(i.url=this.model.get("data").attachment.url,!i.url&&i.isFriendly&&(i.url=i.text)),"attachmentPreview"===i.type){let e,n,a;i.previewUrlForRes=null!=(t=_.get("Card",K(this.model.get("data").card,(e=>e.id))))&&(e=t.attachmentList.get(K(this.model.get("data").attachment,(e=>e.id))))?m.isHighDPI()?K(null!=(n=e.smallestPreviewBiggerThan(1e3))?n:e.biggestPreview(),(e=>e.url)):K(null!=(a=e.smallestPreviewBiggerThan(500))?a:e.biggestPreview(),(e=>e.url)):void 0,null==i.previewUrlForRes&&(i.previewUrlForRes=m.isHighDPI()&&null!=i.previewUrl2x?i.previewUrl2x:i.previewUrl)}return"comment"===i.type&&(i.textHtml=C.comments.format(i.text,this._tfmFormatOpts()).output),"checkItem"===i.type&&(i.nameHtml=C.checkItems.format(i.text,this._tfmFormatOpts()).output),"date"===i.type&&(i.text=x(i.date).calendar()),"card"===i.type&&null!=(t=_.get("Card",i.id))&&("link"===t.get("cardRole")&&this.linkCardFlagEnabled?i.nameHtml=C.name.format(t.get("name"),this._tfmFormatOpts()).output:i.text=t.get("name")),"checklist"===i.type&&null!=(n=_.get("Checklist",i.id))&&(i.text=n.get("name")),i}viewMemberActionMenu(e){let t;T.stop(e);const n=this.modelCache.get("Member",null!=(t=s(e.target).closest("[idmember]").attr("idmember"))?t:this.model.get("idMemberCreator"));k.toggle({elem:this.$(e.target).closest(".js-show-mem-menu"),view:o,options:{model:n,modelCache:this.modelCache,board:this.modelCache.get("Board",K(K(this.model.get("data"),(e=>e.board)),(e=>e.id)))}})}expandComment(e){return T.stop(e),this.$(".js-comment").removeClass("is-truncated")}openCard(e){let t;"Card"===this.context.typeName||s(e.target).is("a,textarea")||v()||(T.stop(e),null!=(t=h.getActionUrl(this.model))&&U(t,{trigger:!0}))}openAttachmentViewer(e){if(e.metaKey||e.ctrlKey)return;const t=s(e.target);if(t.closest(".window-main-col").length>0&&(T.stop(e),!d.isActive())){const e=t.closest(".js-open-attachment-viewer").attr("data-idattachment");d.show({model:this.model.getCard(),idAttachment:e})}}reply(e){return T.stop(e),this.$el.trigger("replyToAction",this.model),I("Card","Reply to Comment")}replyAll(e){return T.stop(e),this.$el.trigger("replyToAllAction",this.model),I("Card","Reply to all Comment")}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.renderHighlighted())}checkAttachment(e){var t;if(e.metaKey||e.ctrlKey)return;const n=this.model.getCard(),{href:i}=e.currentTarget,a=H(i).pathname,r=null==n||null===(t=n.attachmentList)||void 0===t?void 0:t.find((e=>H(e.get("url")).pathname===a));return r&&c.isViewerable(r.get("url"))?(e.preventDefault(),d.show({model:n,idAttachment:r.id})):void 0}onAppCreatorLinkClicked(e){T.stop(e);const t=this.model.getBoard();if(!t)return;const n=this.model.getAppCreator();if(S.sendClickedLinkEvent({linkName:"appCreatorLink",source:this.source,attributes:{appCreatorId:null==n?void 0:n.id,appCreatorIdPlugin:null==n?void 0:n.idPlugin,actionType:this.model.get("type")},containers:{card:{id:this.model.id},board:{id:t.id}}}),null!=n&&n.idPlugin){const i=u.myId();(t.get("memberships")||[]).some((({idMember:e})=>e===i))?L.one({plugin:n.idPlugin,command:"show-settings",board:t,el:e.currentTarget}):window.open("/power-ups/"+n.idPlugin)}}}function K(e,t){return null!=e?t(e):void 0}Y.initClass(),e.exports.events=W,e.exports.ActionView=Y},"./app/scripts/views/action/comment-action-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),l=n("./packages/jquery/index.js"),{ActionView:c,events:d}=n("./app/scripts/views/action/action-view.js"),{Analytics:u,tracingCallback:p}=n("./packages/atlassian-analytics/index.ts"),m=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),h=n("./app/scripts/views/card/attach-links-view.js"),g=n("./app/scripts/views/internal/autocomplete/completer-util.js"),b=n("./app/scripts/views/lib/confirm.js"),{getKey:v,isForceSubmitEvent:f,Key:_}=n("./packages/keybindings/index.ts"),k=n("./app/scripts/views/lib/layout.js"),y=n("./app/scripts/views/lib/pop-over.js"),E=n("./app/scripts/views/internal/attachment-viewer.js"),{TrelloStorage:w}=n("./packages/storage/index.ts"),C=n("./app/scripts/lib/markdown/tfm.js"),T=n("./app/scripts/lib/util/index.js"),O=n("./node_modules/underscore/underscore.js"),j=n("./node_modules/effing/lib/index.js"),{linksFromMarkdown:A}=n("./app/scripts/lib/util/text/links-from-markdown.js"),{track:x}=n("./packages/analytics/index.ts"),N=n("./app/scripts/views/internal/disable-submit-if-length-too-long.js"),{applyMarkdownShortcuts:S}=n("./app/scripts/views/lib/markdown-transform.ts"),{renderComponent:I}=n("./app/src/components/ComponentWrapper/index.ts"),{LazyVideoRecordButton:D}=n("./app/src/components/VideoRecordButton/index.ts");class B extends c{static initClass(){this.prototype.events=a(a({},d),{},{"click .js-confirm-delete-action":"confirmDeleteAction","click .js-edit-action":"editAction","click .js-discard-comment-edits":"cancelEdit","click .js-save-edit":"saveEdit","keyup .js-text":"keyAutoMention","keydown .js-text":"keydownJsText","input .js-text":"checkLength","mutated .js-text":"mutatedEvent","click .js-comment-add-attachment":"commentAddAttachment","click .js-comment-mention-member":"commentMentionMember","click .js-comment-add-emoji":"commentAddEmoji","click .js-comment-add-card":"commentAddCard","click .js-attach-link":"attachLink"})}constructor(e){super(e),this.insertRecording=this.insertRecording.bind(this)}initialize(){super.initialize(...arguments);const e=this.getContext();return this.canRecordVideo=e.canRecordVideo,l(window).on("beforeunload.CommentActionView-".concat(this.model.cid),j(this,"saveDraft"))}remove(){this.saveDraft(),this.canRecordVideo&&this.removeCardRecordButton(),l(window).off(".CommentActionView-".concat(this.model.cid)),super.remove(...arguments)}mutatedEvent(e){this.checkLength(e),this.getTextInput().trigger("autosize.resize")}potentialAttachments(){const e=this.model.getCard();return O.filter(A(this.model.get("data").text,C.comments),(function({url:t}){return!e.attachmentUrlRestricted(t)&&!e.attachmentList.any((e=>e.get("url")===t))}))}getContext(){const e=super.getContext(...arguments),t=this.model.getCard();return e.canAttachLink=null!=t&&t.editable()&&this.potentialAttachments().length>0,e}confirmDeleteAction(e){T.stop(e),b.toggle("delete comment",{elem:l(e.target).closest(".js-confirm-delete-action")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>{const e=u.startTask({taskName:"delete-comment",source:"cardDetailScreen"});return x("Card","Delete Comment"),this.model.destroyWithTracing({traceId:e},p({taskName:"delete-comment",traceId:e,source:"cardDetailScreen"},(t=>{t||u.sendTrackEvent({action:"deleted",actionSubject:"comment",source:"cardDetailScreen",attributes:{taskId:e}})})))}})}getTextInput(){return this.$(".js-text")}getMentionTarget(){return this.$(".js-comment-mention-member:visible")[0]}getEmojiTarget(){return this.$(".js-comment-add-emoji:visible")[0]}editAction(e){if(T.stop(e),!this.$el.hasClass("is-editing"))return this.$el.addClass("is-editing"),this.$("textarea").focus().select(),this.openEditView()}openEditView(){this.$(".js-text").attr("placeholder","").autosize({append:!1})}keydownJsText(e){return S(e),f(e)?this.saveEdit(e):v(e)===_.Escape?(T.stop(e),E.isActive()?void E.clear():this.cancelEdit()):this.checkInsert(e)}saveEdit(e){if("keypress"===e.type&&!f(e)&&(v(e)!==_.Enter||l(e.target).is("textarea")&&!l(e.currentTarget).hasClass("single-line")))return;const t=u.startTask({taskName:"edit-comment",source:"cardDetailScreen"});T.stop(e);const n=this.$(".js-text").val();this.$(".js-spinner").show(),this.$(".js-hide-on-sending").hide(),this.$(".current-comment").text(n),k.cancelEdit(this.$el),this.discardDraft(),this.model.get("display").entities.comment.text=n;const i={text:n,traceId:t};this.model.update(i,p({taskName:"edit-comment",source:"cardDetailScreen",traceId:t},((e,n)=>{var i,a,r,s,o,l;!e&&n&&u.sendTrackEvent({action:"updated",actionSubject:"comment",source:"cardDetailScreen",containers:{card:{id:null===(i=n.data)||void 0===i||null===(a=i.card)||void 0===a?void 0:a.id},board:{id:null===(r=n.data)||void 0===r||null===(s=r.board)||void 0===s?void 0:s.id},list:{id:null===(o=n.data)||void 0===o||null===(l=o.list)||void 0===l?void 0:l.id}},attributes:{taskId:t}})}))),this.$(".js-text").trigger("autosize.destroy"),y.hide(),x("Card","Edit Comment")}showError(e){}cancelEdit(){const e=this.model.get("data").text;this.$(".js-text").val(e),k.cancelEdit(this.$el),this.discardDraft(),this.$(".js-text").trigger("autosize.destroy")}getCard(){return this.model.getCard()}attachLink(e){T.stop(e),x("Card","Open Attach Links View");const t=this.potentialAttachments();return y.toggle({elem:l(e.currentTarget),view:new h({model:this.getCard(),modelCache:this.modelCache,links:t})})}render(){return super.render(...arguments),this.recallDraft(),this.canRecordVideo&&this.renderCardRecordButton(),this}_draftKey(){return"draft_".concat(this.model.id,"_edit")}recallDraft(){const e=w.get(this._draftKey());if(e)return this.getTextInput().val(e),this.$el.find(".edits-warning").show()}saveDraft(){if(this.$el.hasClass("is-editing")){const e=this.getTextInput().val();e&&e!==this.model.get("data").text?(w.set(this._draftKey(),e),this.$el.find(".edits-warning").show()):this.discardDraft()}}discardDraft(){return w.unset(this._draftKey()),this.$el.find(".edits-warning").hide()}renderCardRecordButton(){var e,t,n,i,a;null!=this.model.id&&this.$(".js-comment-record-button").length&&I(s.createElement(D,{id:"card-comment-record-".concat(this.model.id),insert:this.insertRecording,className:"comment-box-record-button",analyticsSource:"cardDetailScreen",analyticsContainers:{card:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.get("idEnterprise")},organization:{id:null===(n=this.model)||void 0===n||null===(i=n.getBoard())||void 0===i||null===(a=i.getOrganization())||void 0===a?void 0:a.id}}}),this.$(".js-comment-record-button")[0]);return this}removeCardRecordButton(){if(this.$(".js-comment-record-button").length)return o.unmountComponentAtNode(this.$(".js-comment-record-button")[0])}}B.initClass(),O.extend(B.prototype,m,g,N),e.exports=B},"./app/scripts/views/board-create/photo-attribution-component.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.js")(),{unsplashClient:r}=n("./packages/unsplash/index.ts");class s extends i.Component{static initClass(){this.prototype.displayName="PhotoAttributionComponent",this.prototype.render=a.renderable((function(){const{user:e,size:t}=this.props,n=e.name,i=[".photo-attribution-component"];return null!=t&&i.push(".".concat(t)),a.div(i.join(""),(()=>a.a({class:"photo-attribution-component-attribution-link",href:r.appendAttribution(e.links.html),target:"_blank",title:n,onClick:e=>e.stopPropagation()},(()=>a.text(n)))))}))}}s.initClass(),e.exports=s},"./app/scripts/views/board-menu/board-add-to-organization-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/board-menu/board-select-organization-view.js");e.exports=(i=class extends a{static initClass(){this.prototype.viewTitleKey="add to a team"}getTemplateData(){const e=super.getTemplateData();return e.addToTeam=!0,e}},i.initClass(),i=i)},"./app/scripts/views/board-menu/board-add-to-team-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{Auth:a}=n("./app/scripts/db/auth.js"),{Controller:r}=n("./app/scripts/controller/index.js"),s=n("./app/scripts/lib/localize-count.js"),{logoDomain:o}=n("./packages/config/index.ts"),{ModelLoader:l}=n("./app/scripts/db/model-loader.js"),c=n("./node_modules/bluebird/js/browser/bluebird.js"),d=n("./app/scripts/lib/util/index.js"),u=n("./app/scripts/views/internal/view.js"),{l:p}=n("./app/scripts/lib/localize.js"),m=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_power_ups"),{track:h}=n("./packages/analytics/index.ts"),{navigate:g}=n("./app/scripts/controller/navigate.js");e.exports=class extends u{initialize(){const e=a.me();return this.menuType=this.options.menuType,this.listenTo(e.organizationList,"add remove reset change",this.frameDebounce(this.render)),this.createNewTeam=0===e.organizationList.length}events(){return{"click .js-team":"clickTeam","click .js-create-team":"clickCreateTeam","click .js-create":"clickCreateNewTeam","click .js-cancel":"clickCancelNewTeam"}}render(){return this.$el.html(m.render((()=>{if(this.createNewTeam){const e=this.model.memberList.length;return m.div(".create-team",(function(){return m.p((()=>m.format("first-create-your-business-class-team"))),m.p((function(){if(m.label((function(){m.format("team-name");const t=1===e?{value:m.l("names-projects",{name:a.me().get("fullName")},{raw:!0})}:2===e?{placeholder:m.l("eg-names-projects",{name:a.me().get("fullName")},{raw:!0})}:{};return t.maxLength=100,m.input(".full.js-autofocus.js-name",t)})),e>1)return m.div(".check-div",(function(){return m.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),m.label({for:"addMembers",class:"create-team-add-members"},(()=>m.format("add-the-members-of-this-board-to-the-team")))}))})),m.div((function(){return m.button(".nch-button.nch-button--primary.js-create",(()=>m.format("create"))),m.a(".create-team-cancel.quiet-button.js-cancel",(()=>m.format("cancel")))})),m.hr()})),i.defer((()=>this.$(".js-name").select().focus()))}{const e=a.me().organizationList.sortBy((e=>e.get("displayName").toLowerCase()));return m.div(".assign-to-team",(()=>m.p((function(){return m.format("this-board-is-not-in-a-team-yet"),m.text(" "),m.format("please-select-a-team-or-create-a-new-team-to-upgrade")})))),e.length>0&&m.ul(".assign-to-team-list",(()=>(()=>{const t=[];for(const n of Array.from(e)){const e=n.canAddBoard(this.model)?n.isAtOrOverFreeBoardLimit()?{class:"disabled",title:p(["out of free team boards","this team has reached the maximum number of open boards"])}:{class:"js-team","data-idOrganization":n.id}:{class:"disabled",title:m.l("team-restrictions-prevent-you-from-adding-this-board-to-this-team")};t.push(m.li(".assign-to-team-list-item.js-assign-team-list-item",e,(function(){return m.div(".assign-to-team-list-item-logo.js-team-logo",(function(){const e=n.get("logoHash");return e?m.img({src:"".concat(o,"/").concat(e,"/30.png")}):m.span(".icon.icon-lg.icon-organization")})),m.div(".assign-to-team-list-item-details",(function(){return m.div(".assign-to-team-list-item-name",(function(){if(m.text(n.get("displayName")),n.isFeatureEnabled("plugins"))return m.text(" "),m.icon("business-class",{class:"icon-business-class-color"})})),m.div(".assign-to-team-list-item-member-count",(function(){let e;if(null!=(e=n.get("memberships")))return m.text(s("members",e.length))}))}))})))}return t})())),m.div(".assign-to-team-create.js-create-team",(()=>m.div(".assign-to-team-create-content",(()=>m.format("create-a-new-team")))))}}))),this}clickTeam(e){this.$(".js-team").addClass("disabled");const t=this.$(e.currentTarget).attr("data-idOrganization");return this.$(e.currentTarget).find(".js-team-logo").html(m.render((()=>m.span(".spinner")))),this.model.trigger("added-to-team"),h("".concat(this.options.menuType," Menu"),"Upsell Flow","Add To Existing Team"),c.fromNode((e=>this.model.update("idOrganization",t,{waitForServer:!0},e))).then((()=>{this.$(".js-team").removeClass("disabled");const e=this.model.getOrganization();return"Collections"===this.options.menuType&&null!=e&&e.isFeatureEnabled("tags")?l.loadOrganizationMinimal(t).then((()=>this.model.trigger("team-has-bc"))):g(r.getBoardPowerUpsUpgradeUrl(this.model),{trigger:!0})})).done()}clickCreateTeam(e){return this.createNewTeam=!0,this.render()}clickCancelNewTeam(e){return d.stop(e),this.model.trigger("cancel-add-to-team")}clickCreateNewTeam(e){const t=this.$(".js-name").val();if(!/\S/.test(t))return;const n={displayName:t};return this.$(".js-create,.js-cancel").prop("disabled",!0).addClass("disabled"),a.me().organizationList.create(n,{modelCache:this.modelCache,silent:!0,success:e=>{const t=e.id;return this.model.trigger("added-to-team"),this.model.update("idOrganization",t,{waitForServer:!0}),l.loadOrganizationMembersMinimal(t).then((()=>{if(this.$(".js-add-members").prop("checked")){const t=this.model.getOrganization();return h("New Org","Create","".concat(this.menuType," Sidebar (with members)"),e.id),c.map(this.model.memberList.models,(e=>{if(!t.isMember(e))return t.changeMemberRole(e,{type:"normal"})}),{concurrency:3})}return h("New Org","Create","".concat(this.menuType," Sidebar (without members)"),e.id)})).then((()=>g(r.getBoardPowerUpsUpgradeUrl(this.model),{trigger:!0}))).done()}})}}},"./app/scripts/views/board-menu/board-ent-select-perm-level-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Auth:a}=n("./app/scripts/db/auth.js"),{Controller:r}=n("./app/scripts/controller/index.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/views/internal/templates.js"),d=n("./app/scripts/views/templates/board_menu_vis.js"),{Analytics:u,tracingCallback:p}=n("./packages/atlassian-analytics/index.ts");class m extends l{static initClass(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}render(){const e=this.options.enterprise;if(e.canSetTeamlessBoardVisibility("private")||e.canSetTeamlessBoardVisibility("public")){const t=this.model.getPref("permissionLevel");this.$el.html(d({current:t,canChange:!0,mustChange:!e.canSetTeamlessBoardVisibility(t),hasOrg:!1,hasSuperAdmins:!1,privateRestricted:!e.canSetTeamlessBoardVisibility("private"),orgRestricted:!0,enterpriseRestricted:!0,publicRestricted:!e.canSetTeamlessBoardVisibility("public"),hasEnterprise:!0,enterpriseName:e.get("displayName"),isTemplate:this.model.isTemplate(),isOrgPremium:!1,isTeamlessOwnedBoard:!0}))}else{const t={isEntAdmin:e.isAdmin(a.me()),entSettingsUrl:r.getEnterpriseAdminDashboardUrl(e,"settings"),enterprise:e.toJSON()};this.$el.html(c.fill(n("./app/scripts/views/templates/cant_add_board_to_ent.js"),t))}return this}selectVis(e){o.stop(e);const t=i(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const n=u.startTask({taskName:"edit-board/idOrganization",source:"boardEntSelectPermLevelInlineDialog"}),a=t.attr("name");var r,l;return this.options.idOrganizationSource&&(r=this.modelCache.get("Organization",this.options.idOrganizationSource),l=e=>e.boardList.remove(this.model),null!=r&&l(r)),this.model.update({traceId:n,idOrganization:null,"prefs/permissionLevel":a},p({taskName:"edit-board/idOrganization",source:"boardEntSelectPermLevelInlineDialog",traceId:n})),s.hide()}}m.initClass(),e.exports=m},"./app/scripts/views/board-menu/board-member-add-multiple-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),{ApiPromise:a}=n("./app/scripts/network/api-promise.js"),{ApiError:r}=n("./app/scripts/network/api-error.js"),s=n("./app/scripts/views/board-menu/board-observer-option-component.js"),o=n("./app/scripts/views/member/member-multi-select-autocomplete-component.js"),l=n("./app/scripts/views/board-menu/board-menu-invite-team-component.js"),c=n("./app/scripts/lib/localize-server-error.js"),{Member:d}=n("./app/scripts/models/member.js"),{maybeDisplayMemberLimitsError:u}=n("./app/scripts/views/board-menu/member-limits-error.js"),{ModelLoader:p}=n("./app/scripts/db/model-loader.js"),m=n("./app/scripts/views/internal/view.js"),h=n("./node_modules/react/index.js"),g=n("./packages/react-dom-wrapper/index.ts"),b=n("./app/scripts/views/invitation-link/display-invitation-link-view.js"),v=n("./app/scripts/views/lib/pop-over.js"),f=n("./node_modules/bluebird/js/browser/bluebird.js"),_=n("./app/scripts/views/internal/recup-with-helpers.js")("board_member_add_multiple"),k=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_member_add_multiple"),y=n("./app/scripts/lib/util/index.js"),E=n("./packages/jquery/index.js"),w=n("./node_modules/underscore/underscore.js"),{featureFlagClient:C}=n("./packages/feature-flag-client/index.ts"),{Analytics:T}=n("./packages/atlassian-analytics/index.ts"),O=/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i;class j extends m{static initClass(){this.prototype.displayType="board-member-add-multiple",this.prototype.initialInviteMessage=_.l("im-working-on-this-project-in-trello-and-wanted-to-share-it-with-you"),this.prototype.events={"click .js-show-invitation-link":"showInvitationLink","click .js-invitation-link":"clickInvitationLink","click .js-deactivate-link":"deactivateInvitationLink","click .js-copy-invitation-link":"copyInvitationLink"}}viewTitleKey(){return this.model.isTemplate()?"invite to template":"invite to board"}initialize(){this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.onAutocompleteSearch=this.onAutocompleteSearch.bind(this),this.onObserverChange=this.onObserverChange.bind(this),this.onInviteTeamClick=this.onInviteTeamClick.bind(this),this.onInvitationMessageChange=this.onInvitationMessageChange.bind(this),this.selectInvitationMessage=this.selectInvitationMessage.bind(this),null==this.invitationMessageValue&&(this.invitationMessageValue=this.initialInviteMessage),this.observerValue="normal",this.selectedMemberOptions=[],this.onSelectMemberOption=this.onSelectMemberOption.bind(this),this.onRemoveMemberOption=this.onRemoveMemberOption.bind(this);const e=this.model.getOrganization();if(this.loadingOrg=null!=e,null!=e&&this.listenTo(e.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),null!=e)return this.listenTo(e,"change:prefs",this.frameDebounce(this.render))}remove(){return g.unmountComponentAtNode(this.$(".js-autocomplete-root")[0]),super.remove(...arguments)}loadOrgData(){const e=this.model.getOrganization();if(null!=e&&this.model.editable()){let t;t=e.paysWithPurchaseOrder()&&(e.isBusinessClass()||e.isStandard())?p.loadOrganizationMembersMinimalWithAvailableLicenseCount(e.id):p.loadOrganizationMembersMinimal(e.id),t.then((()=>{this.loadingOrg=!1,this.renderAutocomplete()})).done()}else this.loadingOrg=!1}render(){var e,t;return this.$el.html(k.renderable((()=>k.div(".invite-board-member-autocomplete.js-autocomplete-root")))),this.renderAutocomplete(),T.sendScreenEvent({name:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.id}}}),this}addMembers(e,t){const n=e.map((({member:e},n)=>()=>{const i=t[n].value,a=t[n].traceId;if(null!=e){let t;if(t=this.model.id,!Array.from(e.get("idBoards")).includes(t))return this.addMember(e,a);T.taskAborted({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:a,error:new Error("invalid board")})}else{if(O.test(i))return this.sendEmailInvite(i,a);T.taskAborted({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:a,error:new Error("invalid email")})}return Promise.resolve()})),i=n.slice(0,n.length-1),a=n[n.length-1];return f.map(i,(e=>e())).then(a)}onAutocompleteSubmit(e){const t=[];let n=0,i=0;return w.forEach(this.selectedMemberOptions,(e=>{const a=e.id?this.modelCache.get("Member",e.id):void 0;if(a){const t=T.startTask({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog"});return this.addMember(a,t),e.wouldBecomeBillableGuest?i++:n++}{const n=e.email?e.email:e.username,i=e.email?"email":"username",a=T.startTask({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog"});return t.push({value:n,type:i,traceId:a})}})),f.map(t,(e=>this.getMemberFromUser(e).catch((e=>({hasError:!0}))))).then((n=>{const a=w.some(n,(({hasError:e})=>e));i=w.filter(n,(({wouldBecomeBillableGuest:e})=>e)).length;return!e&&i>0||a?w.each(n,(({wouldBecomeBillableGuest:e,hasError:n},i)=>(this.selectedMemberOptions[i].blockInvite=e,T.taskAborted({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t[i].traceId}),this.selectedMemberOptions[i].hasError=n))):this.addMembers(n,t).then((()=>{var e,t;if(v.hide(),n.length>0)return T.sendTrackEvent({action:"sent",actionSubject:"boardInvitation",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.id}},attributes:{numInvitesSent:n.length,changedMessage:this.invitationMessageValue!==this.initialInviteMessage}})}))}))}getMemberFromUser({value:e,type:t,traceId:n}){const i=this.model.getOrganization(),s=a({method:"get",url:"/1/members/".concat(e),data:{fields:["idOrganizations","idBoards"]},traceId:n}).then((n=>{const i=new d(n,{modelCache:this.modelCache});return"email"===t&&i.set("email",e),i})).catch(r.NotFound,(e=>null)),o=!(i&&!i.isFeatureEnabled("multiBoardGuests")&&i.getAvailableLicenseCount()>0)&&a({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=i?i.id:void 0,query:e},dataType:"json",traceId:n}).then((e=>1===e.length&&e[0].wouldBecomeBillableGuest));return f.all([s,o]).then(((...e)=>{const[t,n]=Array.from(e[0]);return{member:t,wouldBecomeBillableGuest:n}}))}addMember(e,t){return u(this.$el,this.model,e)?(T.taskAborted({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t}),Promise.resolve()):this.model.addMember(e,t,this.observerValue,this.invitationMessageValue,(function(e,n){if(e){T.taskFailed({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t,error:e});const n=/organization restricts invites/.test(e.message)?_.l("team-restricts-invites"):c(e.message);return i.showLiteralText(n,"error","addMemberError",5e3)}T.taskSucceeded({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t})}))}sendEmailInvite(e,t){const n={email:e,type:this.observerValue,invitationMessage:this.invitationMessageValue};return u(this.$el,this.model)?(T.taskAborted({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t}),Promise.resolve()):a({url:"/1/board/".concat(this.model.id,"/members"),type:"put",dataType:"json",data:n,traceId:t}).then((e=>{var n,i,a,r;const s=new d(e,{modelCache:this.modelCache}),o=this.observerValue?this.observerValue:"normal";return T.sendTrackEvent({action:"sent",actionSubject:"emailBoardInvitation",actionSubjectId:s.id,source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(n=this.model)||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}},attributes:{memberType:o,taskId:t}}),T.sendTrackEvent({action:"added",actionSubject:"member",actionSubjectId:s.id,source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(a=this.model)||void 0===a||null===(r=a.getOrganization())||void 0===r?void 0:r.id}},attributes:{addedTo:"board",confirmed:!!s.get("confirmed"),memberType:o,taskId:t}}),T.taskSucceeded({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t})})).catch((e=>{throw T.taskFailed({taskName:"edit-board/members/add",source:"boardMemberBulkAddInlineDialog",traceId:t,error:e})}))}onAutocompleteSearch(e){e=e.toLowerCase().trim();const t=this.model.getOrganization();let n=[];const i=e=>w.extend(e.toJSON(),{active:!0,similarity:0,joined:null!=this.model.getMembershipFor(e),idOrganizations:[t.id]});return null!=t&&(n=e.length>0?t.memberList.chain().filter((t=>w.any(y.getMemNameArray(t),(t=>0===t.indexOf(e))))).map(i).value():t.memberList.map(i)),e.length>2?a({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=t?t.id:void 0,query:e},dataType:"json"}).then((e=>w.uniq(w.union(e,n),!1,(e=>e.username?e.username:e.email)))):null!=t?n:[]}onInviteTeamClick(e){T.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"inviteTeamToBoardDropdownItem",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}});const t=this.model.orgMembersAvailable().map((e=>w.extend(e.toJSON(),{active:!0,similarity:0,joined:this.model.hasActiveMembership(e),idOrganizations:[this.model.getOrganization().id]})));return this.selectedMemberOptions=w.uniq(w.union(this.selectedMemberOptions,t),!1,(e=>e.username?e.username:e.email)),this.renderAutocomplete()}onObserverChange(e){return this.observerValue=e,this.renderAutocomplete()}onInvitationMessageChange(e){return this.invitationMessageValue=e.target.value,this.renderAutocomplete()}selectInvitationMessage(){if(this.invitationMessageValue===this.initialInviteMessage)return E(".js-invitation-message").select()}onSelectMemberOption(e){return this.selectedMemberOptions=w.uniq(w.union(this.selectedMemberOptions,w.flatten([e])),!1,(e=>e.username?e.username:e.email)),this.renderAutocomplete()}onRemoveMemberOption(e){return this.selectedMemberOptions=this.selectedMemberOptions.filter(((t,n)=>n!==e)),this.renderAutocomplete()}renderAutocomplete(){var e,t,n,i;const a=this.$(".js-autocomplete-root")[0];if(null==a)return;const r=this.model.getOrganization(),c={onAutocompleteSearch:this.onAutocompleteSearch,displayDetails:!0,displayUsername:!1,shouldFocusOnSelectMemberOption:!0,onSubmit:this.onAutocompleteSubmit,submitText:_.l("send-invitation"),emptySearchText:_.l("looks-like-that-person-isnt-a-trello-member-yet"),placeholder:_.l("email-address-or-name"),onSelectMemberOption:this.onSelectMemberOption,onRemoveMemberOption:this.onRemoveMemberOption,selectedOptions:this.selectedMemberOptions,loadingOrg:this.loadingOrg,showMultiboardGuestWarning:null!=r?r.isFeatureEnabled("multiBoardGuests"):void 0,isTemplate:this.model.isTemplate()};if(r){let e=this.model.orgMembersAvailable();e=w.filter(e,(e=>{let t;return t=e.get("username"),!Array.from(w.pluck(this.selectedMemberOptions,"username")).includes(t)})),e.length>1&&(c.extraSearchOption=h.createElement(l,{onClick:this.onInviteTeamClick,availableToInvite:e})),c.displayOrg=r}const d=[];return null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t||!t.isPremium()||null!==(n=this.model)&&void 0!==n&&null!==(i=n.getOrganization())&&void 0!==i&&i.isStandard()||d.push(h.createElement(s,{onChange:this.onObserverChange,value:this.observerValue,key:"observerOption"})),C.get("enable-invite-email-message",!1)&&d.push(h.createElement("textarea",{onChange:this.onInvitationMessageChange,onClick:this.selectInvitationMessage,className:"invitation-message-input js-invitation-message",value:this.invitationMessageValue,key:"invitationMessage",placeholder:_.l("sharing-is-caring-let-your-collaborators-know-what-youre-working-on"),maxLength:500})),g.render(h.createElement(o,c,d),a)}}j.initClass(),w.extend(j.prototype,b),e.exports=j},"./app/scripts/views/board-menu/board-menu-invite-team-component.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.js")("board_menu_invite_team");class r extends i.Component{static initClass(){this.prototype.render=a.renderable((function(){const{onClick:e,availableToInvite:t}=this.props;return a.div(".invite-team",{onMouseDown:e},(function(){return a.span(".icon-lg.icon-organization"),a.div(".invite-team-text",(()=>a.format("add-all-x-team-members",{memberCount:t.length})))}))}))}}r.initClass(),e.exports=r},"./app/scripts/views/board-menu/board-observer-option-component.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.js")("board_member_add_multiple"),r={normal:{label:a.l("add-as-members"),description:a.l("board-members-can-edit-comment-and-invite-people-to-this-board")},observer:{label:a.l("add-as-observers"),description:a.l("observers-can-view-and-comment-on-this-board")}};class s extends i.Component{static initClass(){this.prototype.render=a.renderable((function(){const{onChange:e,value:t}=this.props,{isOpen:n}=this.state,i=r[t];return a.div(".board-observer-dropdown",{onBlur:()=>this.setState({isOpen:!1}),tabIndex:0},(()=>{if(a.div(".board-observer-selected",{onClick:()=>this.setState({isOpen:!n})},(()=>(a.p((()=>a.text(i.label))),a.icon("down")))),n)return a.div(".board-observer-options",(()=>Object.keys(r).map((n=>a.div(".board-observer-option",{onClick:t=>(e(n),this.setState({isOpen:!1}))},(()=>(a.div(".board-observer-option-title",(()=>{if(a.text(r[n].label),n===t)return a.icon("check")})),a.div(".board-observer-option-description",(()=>a.text(r[n].description))))))))))}))}))}constructor(e){super(e),this.state={isOpen:!1}}}s.initClass(),e.exports=s},"./app/scripts/views/board-menu/board-org-select-perm-level-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Controller:a}=n("./app/scripts/controller/index.js"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/internal/templates.js"),c=n("./app/scripts/views/templates/board_menu_vis.js"),{Analytics:d,tracingCallback:u}=n("./packages/atlassian-analytics/index.ts");class p extends o{static initClass(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}render(){const e=this.options.organization;if(e.canSetVisibility("private")||e.canSetVisibility("org")||e.canSetVisibility("enterprise")||e.canSetVisibility("public")){const t=this.model.getPref("permissionLevel"),n=null!=e?e.getEnterprise():void 0;this.$el.html(c({current:t,canChange:!0,mustChange:!e.canSetVisibility(t),hasSuperAdmins:e.hasPremiumFeature("superAdmins"),hasOrg:!0,orgName:e.get("displayName"),privateRestricted:!e.canSetVisibility("private"),orgRestricted:!e.canSetVisibility("org"),enterpriseRestricted:!e.canSetVisibility("enterprise"),publicRestricted:!e.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=n?n.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0}))}else{const t={isOrgAdmin:e.owned(),orgSettingsUrl:a.getOrganizationAccountUrl(e),organization:e.toJSON()};this.$el.html(l.fill(n("./app/scripts/views/templates/cant_add_board_to_org.js"),t))}return this}selectVis(e){s.stop(e);const t=i(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const n=d.startTask({taskName:"edit-board/idOrganization",source:"boardOrgSelectPermLevelInlineDialog"}),a=t.attr("name");var o,l;return this.options.idOrganizationSource&&(o=this.modelCache.get("Organization",this.options.idOrganizationSource),l=e=>e.boardList.remove(this.model),null!=o&&l(o)),this.model.update({traceId:n,idOrganization:this.options.organization.id,"prefs/permissionLevel":a},u({taskName:"edit-board/idOrganization",source:"boardOrgSelectPermLevelInlineDialog",traceId:n})),this.options.organization.boardList.add(this.model),r.hide()}}p.initClass(),e.exports=p},"./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js":function(e,t,n){const i=n("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),a=n("./app/scripts/views/board-menu/board-select-organization-view.js"),r=n("./app/scripts/views/lib/pop-over.js");e.exports=class extends a{initialize(e){return this.disableNone=null!=e?e.disableNone:void 0,super.initialize(...arguments)}render(){return super.render(...arguments),this.disableNone&&this.$(".js-submit").addClass("disabled").attr("disabled","disabled"),this}showOrgBoardVisPerms(e,t){return r.pushView({view:new i({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}submit(e){return super.submit(...arguments)}canAddToOrg(e){return!e.isFeatureEnabled("restrictVis")||e.canSetVisibility("org")}changeOrg(e,t,n={}){return n["prefs/permissionLevel"]="org",super.changeOrg(e,t,n)}orgSelected(){if(super.orgSelected(...arguments),this.disableNone)return""===this.$(".js-org").val()?this.$(".js-submit").addClass("disabled").attr("disabled","disabled"):this.$(".js-submit").removeClass("disabled").removeAttr("disabled")}}},"./app/scripts/views/board-menu/board-select-organization-view.js":function(e,t,n){const{ApiPromise:i}=n("./app/scripts/network/api-promise.js"),{Auth:a}=n("./app/scripts/db/auth.js"),{BillableGuestsAlert:r}=n("./app/src/components/BillableGuestsAlert/index.ts"),s=n("./app/scripts/views/board/billable-guest-list-popover-view.js"),o=n("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),l=n("./app/scripts/views/board-menu/board-ent-select-perm-level-view.js"),c=n("./app/scripts/views/templates/popover_change_board_org.js"),d=n("./app/scripts/views/lib/confirm.js"),u=n("./app/scripts/views/organization/create-org-view.js"),{BoardInviteRestrictValues:p}=n("./app/scripts/views/organization/constants.js"),{ModelLoader:m}=n("./app/scripts/db/model-loader.js"),h=n("./packages/product-features/index.ts").ProductFeatures,g=n("./app/scripts/views/lib/pop-over.js"),b=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./packages/react-dom-wrapper/index.ts"),f=n("./node_modules/react/index.js"),{ApiError:_}=n("./app/scripts/network/api-error.js"),{Controller:k}=n("./app/scripts/controller/index.js"),{Analytics:y,tracingCallback:E}=n("./packages/atlassian-analytics/index.ts"),w=n("./app/scripts/lib/util/index.js"),C=n("./app/scripts/views/internal/view.js"),{featureFlagClient:T}=n("./packages/feature-flag-client/index.ts"),O=n("./node_modules/underscore/underscore.js"),j=n("./packages/browser/index.ts").isDesktop();class A extends C{static initClass(){this.prototype.viewTitleKey="change organization",this.prototype.events={"click .js-submit":"submit","change .js-org":"orgSelected","click .js-new-org":"newOrg"}}initialize(){this.makeDebouncedMethods("render"),this.haveAvailableLicenses=!0,this.listenTo(this.model,"change:memberships",this.updateOrgOptions),this.blockTeamlessBoardsEnabled=T.get("btg.block-teamless-boards",!1)}getTemplateData(){let e;const t=this.model.toJSON({org:!0});let n=this.model.owned()?a.me().organizationList.models:[];t.isMemberOfBoardOrg=n.find((e=>e.id===t.idOrganization)),this.model.hasEnterprise()&&(t.hasEnterprise=!0,t.enterpriseName=x(this.model.getEnterprise(),(e=>e.get("displayName"))),n=O.filter(n,(function(e){const n=e.get("idEnterprise");return null!=t.idEnterprise&&n===t.idEnterprise||!(!t.org||n!==t.org.idEnterprise)})),t.showPrivateBoardsOptionForEntBoards=null!=this.model.get("idEnterprise")),t.orgs=(()=>{const t=[];for(e of Array.from(n))t.push(e.toJSON());return t})(),t.hasOrgs=0!==t.orgs.length,t.isDesktop=j;const i=this.selectedOrganization||t.idOrganization;if(i)for(e of Array.from(t.orgs))e.id===i&&(e.select=!0);return t.isPrivate=this.model.isPrivate(),t.isTemplate=this.model.isTemplate(),t.allowsSelfJoin=this.model.allowsSelfJoin(),t.addToTeam=!1,t}render(){const e=this.getTemplateData();return y.sendScreenEvent({name:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),e.blockTeamlessBoardsEnabled=this.blockTeamlessBoardsEnabled,this.$el.html(c(e)),this.updateOrgOptions(),this}remove(){return this.reactRoot&&v.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}showOrgBoardVisPerms(e,t){return g.pushView({view:new o({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}showEntBoardVisPerms(e,t){return g.pushView({view:new l({model:this.model,enterprise:e,idOrganizationSource:t,modelCache:this.modelCache})})}changeOrg(e,t,n={}){const i=y.startTask({taskName:"edit-board/idOrganization",source:"changeBoardOrganizationInlineDialog"});let a;const r=e!==t;return r&&t&&x(this.modelCache.get("Organization",t),(e=>e.boardList.remove(this.model))),n.idOrganization=e,e&&(this.$(".js-make-org-visible").is(":checked")&&(n["prefs/permissionLevel"]="org"),this.$(".js-make-org-joinable").is(":checked")&&(n["prefs/selfJoin"]=!0)),r&&e&&(a=this.modelCache.get("Organization",e),n.keepBillableGuests=(null!=a?a.owned():void 0)&&this.haveAvailableLicenses&&!j),this.model.isTemplate()&&r&&!this.model.isPublic()&&!(null!=a?a.isPremium():void 0)&&(n["prefs/isTemplate"]=!1),n.traceId=i,this.model.update(n,E({taskName:"edit-board/idOrganization",source:"changeBoardOrganizationInlineDialog",traceId:i},(e=>{e instanceof _.Unauthorized&&k.displayErrorPage({errorType:"notPermissionsToSeeBoard"})}))),null!=a&&a.boardList.add(this.model),g.hide()}newOrg(e){let t;if(y.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),w.stop(e),a.me().isPaidManagedEntMember())t={boardToAddToOrg:this.model,isEnterprise:!0};else{const e=this.model.isTemplate()&&!this.model.isPublic();t={boardToAddToOrg:this.model,isPrivateTemplate:e}}return g.pushView({view:new u({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in board change team menu"}})})}canAddToOrg(e){return e.canAddBoard(this.model)}submit(e){if(this.$(".js-submit").hasClass("disabled"))return void w.stop(e);this.$(".js-submit").prop("disabled",!0).toggleClass("disabled",!0),w.stop(e);const t=this.$(".js-org").val(),n=this.model.get("idOrganization"),i=this.modelCache.get("Organization",t);return y.sendUpdatedBoardFieldEvent({field:"organization",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:t}},attributes:{previous:n,change:t!==n}}),b.try((()=>{if(!(i&&i.boardMembershipRestricted()))return;const n=i.getPref("boardInviteRestrict");return m.loadOrganizationMembersData(t).then((()=>{const t=this.model.memberList.chain().filter((e=>function(e){switch(n){case p.ORG:return!i.isMember(e);case p.MANAGED:return!e.isManagedEntMemberOf(i.get("idEnterprise"));case p.ORG_OR_MANAGED:return!i.isMember(e)&&!e.isManagedEntMemberOf(i.get("idEnterprise"))}}(e))).map((e=>e.get("fullName"))).value(),a=t.length;if(0===a)return;const r=(()=>{switch(n){case p.ORG:return 1===a?"external member not allowed":"external members not allowed";case p.MANAGED:return 1===a?"non managed member not allowed":"non managed members not allowed";case p.ORG_OR_MANAGED:return 1===a?"external and non managed member not allowed":"external and non managed members not allowed"}})();return b.fromNode((n=>d.toggle(r,{elem:e.currentTarget,model:this.model,confirmBtnClass:"nch-button nch-button--danger",templateData:{count:String(a),members:t.length>20?O.first(t,20).join(", ")+"…":t.join(", "),team:i.get("displayName")},fxConfirm:()=>n(),fxCancel:()=>n(new Error("cancelled"))})))}))})).then((()=>{if(i&&(i.isFeatureEnabled("restrictVis")||"enterprise"===this.model.getPref("permissionLevel")))return m.loadOrganizationMembersData(t).then((()=>{this.canAddToOrg(i)?this.changeOrg(t,n):this.showOrgBoardVisPerms(i,n)})).done();if(!this.model.get("idEnterprise"))return this.changeOrg(t,n);{const e=this.model.getEnterprise();if(!e||e.canAddTeamlessBoard(this.model))return this.changeOrg(t,n);this.showEntBoardVisPerms(e,n)}})).error((function(){})).done()}showTemplateAlert(){return this.$(".js-template-alert").addClass("show-template-alert")}hideTemplateAlert(){return this.$(".js-template-alert").removeClass("show-template-alert")}allowBoardCreate(){return this.$(".js-submit").removeClass("disabled"),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.$(".js-permissions").removeClass("hide")}updateOrgOptions(){this.$(".js-submit").addClass("disabled"),this.$(".js-billable-guests-warning").addClass("hide"),this.selectedOrganization=this.$(".js-org").val();const e=""!==this.selectedOrganization;if(this.$(".js-make-org-visible,.js-make-org-joinable").closest(".js-check-div").toggleClass("hide",!e),this.model.isTemplate()&&!this.model.isPublic()&&this.model.get("idOrganization")!==this.selectedOrganization){const t=this.modelCache.get("Organization",this.selectedOrganization);e&&(null!=t?t.isPremium():void 0)?this.hideTemplateAlert():this.showTemplateAlert()}else this.hideTemplateAlert();return e?(this.showSpinner(),this.model.get("idOrganization")===this.selectedOrganization?(this.hideSpinner(),void this.allowBoardCreate()):b.all([i({type:"GET",url:"/1/organizations/".concat(this.selectedOrganization,"/newBillableGuests/").concat(this.model.id)}),m.loadOrganizationMembersMinimalWithAvailableLicenseCount(this.selectedOrganization)]).spread(((e,t)=>(null!=t?t.isAtOrOverFreeBoardLimit():void 0)?(this.$(".js-board-limits-upgrade-ad").removeClass("hide"),this.$(".js-permissions").addClass("hide"),this.$(".js-target-team").text(t.get("displayName")),this.$(".js-upgrade-link").attr("href",t.getBillingUrl()),this.hideSpinner()):e.length>0?(this.renderBillableGuestAlert({org:t,newBillableGuests:e}),this.haveAvailableLicenses=e.length<=t.getAvailableLicenseCount()):this.allowBoardCreate())).finally((()=>this.hideSpinner()))):(this.hideSpinner(),void this.allowBoardCreate())}renderBillableGuestAlert({org:e,newBillableGuests:t}){const n=e.getProduct(),i={adminNames:e.adminList.map((e=>e.get("fullName")||e.get("username"))),newBillableGuestsCount:t.length,availableLicenseCount:e.getAvailableLicenseCount(),orgName:e.get("displayName")||e.get("name"),pricePerGuest:h.getPrice(n),isMonthly:h.isMonthly(n),isOrgAdmin:e.owned(),orgUrl:e.url,isReopen:!1,isDesktop:j,onCountClick:()=>g.pushView({view:new s({newBillableGuests:t})})},a=f.createElement(r,i);return this.reactRoot=this.$(".js-billable-guests-warning")[0],v.render(a,this.reactRoot),this.$(".js-billable-guests-warning").removeClass("hide"),this.allowBoardCreate()}orgSelected(e){return this.updateOrgOptions()}showSpinner(){return this.$(".js-loading").toggleClass("hide",!1),this.$(".js-loaded").toggleClass("hide",!0)}hideSpinner(){return this.$(".js-loading").toggleClass("hide",!0),this.$(".js-loaded").toggleClass("hide",!1)}}function x(e,t){return null!=e?t(e):void 0}A.initClass(),e.exports=A},"./app/scripts/views/board-menu/card-filter-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{getKey:a,Key:r}=n("./packages/keybindings/index.ts"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/internal/templates.js"),{l:u}=n("./app/scripts/lib/localize.js"),{navigate:p}=n("./app/scripts/controller/navigate.js"),{Controller:m}=n("./app/scripts/controller/index.js"),{featureFlagClient:h}=n("./packages/feature-flag-client/index.ts"),g=h.getTrackedVariation("board-header-filtering-experiment",!1),b=h.get("ecosystem.views-filtering",!1);class v extends l{static initClass(){this.prototype.viewTitleKey=g?"filter cards":"search cards",this.prototype.viewIcon="search cards",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-toggle-label-filter":"toggleLabelFilter","click .js-select-member":"toggleMemberFilter","click .js-show-all-labels":"showAllLabels","click .js-show-all-members":"showAllMembers","click .js-clear-all":"clearFilter","click .js-due-filter":"toggleDateFilter","click .js-mode-filter":"toggleModeFilter","mouseenter .js-filter-search-results li":"hoverSelect","mouseenter .js-clear-all":"clearAllSelected","mouseenter .js-show-all-members":"clearAllSelected","keydown .js-input":"keyDownEvent","keyup .js-input":"keyUpEvent"}}initialize(){return this.listenTo(this.model.board,"change:labelNames change:memberships",this.renderFilterOptions),this.listenTo(this.model,"change",this.renderFilterOptions)}render(){var e,t;g&&s.sendScreenEvent({name:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(e=this.model.board.getOrganization())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.board.getEnterprise())||void 0===t?void 0:t.id}}});this.isFiltering=!1;const i=this.model.toJSON();return this.$el.html(d.fill(n("./app/scripts/views/templates/filter_cards.js"),i)),this.renderFilterOptions(),this}renderFilterOptions(){const e=this.model.toJSON({board:!0,expanded:!0}),t=!c.isEmpty(e.labels),a=!c.isEmpty(e.members),r=this.model.get("title")&&(t||a),s=this.model.getBoard();if(r)e.limitMembers=!1,e.limitLabels=!1;else{let t,n;const i=6;(null==(t=this.model.get("limitMembers"))||t)&&(e.members.length===i+1?e.limitMembers=!1:(e.remainingMembers=Math.max(0,e.members.length-i),e.members=c.first(e.members,i).map((function(e){return e.isDeactivated=s.isDeactivated(e),e})),e.limitMembers=e.remainingMembers>0)),(null==(n=this.model.get("limitLabels"))||n)&&(e.labels.length===i+1?e.limitLabels=!1:(e.remainingLabels=Math.max(0,e.labels.length-i),e.labels=c.first(e.labels,i),e.limitLabels=e.remainingLabels>0))}return c.extend(e,{filtering:r,showHelper:!r,showLabels:!r||t,showMembers:!r||a,showDueTimes:!r,showMatchMode:!r,isFiltering:this.model.isFiltering(),labels:e.labels.map((function(e){const t=e.color?u(["labels",e.color]):"";return c.extend({defaultColorName:t},e)}))}),this.$(".js-filter-search-results").html(d.fill(n("./app/scripts/views/templates/filter_cards_search_results.js"),e,{},{member:d.member,select_member:d.select_member})),null===this.model.get("title")&&this.$(".js-input").val(""),g&&(e.isFiltering?i(".board-header-filter-clear-btn").removeClass("hide"):i(".board-header-filter-clear-btn").addClass("hide")),this}keyDownEvent(e){const t=a(e);if(![r.Enter,r.ArrowUp,r.ArrowDown].includes(t))return;o.stop(e);const n=".item, .label-list-item",i=this.$(n),s=i.filter(".selected").first();t===r.Enter?s.find("a").click():[r.ArrowUp,r.ArrowDown].includes(t)&&(0===s.length?i.first().addClass("selected"):o.navMenuList(this.$el,n,t))}keyUpEvent(e){const t=a(e);if(![r.Escape,r.Enter,r.ArrowUp,r.ArrowDown].includes(t))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0,limitLabels:!0})}showAllMembers(e){o.stop(e),this.model.save("limitMembers",!1)}showAllLabels(e){o.stop(e),this.model.save("limitLabels",!1)}_clearAndFocusInput(){return this.model.save({title:""}),this.$(".js-input").val("").focus()}toggleLabelFilter(e){o.stop(e);const t=i(e.target).closest("a").attr("data-idlabel");var n,a,r,l;g?s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(n=this.model.board.getOrganization())||void 0===n?void 0:n.id},enterprise:{id:null===(a=this.model.board.getEnterprise())||void 0===a?void 0:a.id}},attributes:{type:"label",id:t}}):s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(l=this.model.board.getEnterprise())||void 0===l?void 0:l.id}},attributes:{type:"label",id:t}});const d=this.model.toJSON({expanded:!0});return c.isEmpty(d.labels)||this._clearAndFocusInput(),this.navigateToBoard(),this.model.toggleIdLabel(t)}toggleMemberFilter(e){o.stop(e);const t=i(e.target).closest("a").attr("idMember");var n,a,r,l;g?s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(n=this.model.board.getOrganization())||void 0===n?void 0:n.id},enterprise:{id:null===(a=this.model.board.getEnterprise())||void 0===a?void 0:a.id}},attributes:{type:"member",id:t}}):s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(l=this.model.board.getEnterprise())||void 0===l?void 0:l.id}},attributes:{type:"member",id:t}});const d=this.model.toJSON({expanded:!0});return c.isEmpty(d.members)||this._clearAndFocusInput(),o.stop(e),this.navigateToBoard(),this.model.toggleMember(t)}toggleDateFilter(e){var t,n,a,r;(o.stop(e),g)?s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.board.getEnterprise())||void 0===n?void 0:n.id}},attributes:{type:"date"}}):s.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(a=this.model.board.getOrganization())||void 0===a?void 0:a.id},enterprise:{id:null===(r=this.model.board.getEnterprise())||void 0===r?void 0:r.id}},attributes:{type:"date"}});const l=i(e.target).closest("a").attr("time");return this.navigateToBoard(),this.model.get("due")===l?this.model.save("due",null):this.model.save("due",l)}toggleModeFilter(e){o.stop(e);const t=i(e.target).closest("a").attr("mode");if(this.model.get("mode")!==t)return this.navigateToBoard(),this.model.save("mode",t)}clearFilter(e){var t,n,i,a;g?s.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.board.getEnterprise())||void 0===n?void 0:n.id}}}):s.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(i=this.model.board.getOrganization())||void 0===i?void 0:i.id},enterprise:{id:null===(a=this.model.board.getEnterprise())||void 0===a?void 0:a.id}}});return this.model.clear()}clearAllSelected(){return this.$("li").removeClass("selected")}hoverSelect(e,t){return this.clearAllSelected(),o.selectMenuItem(i(e.currentTarget).closest("ul"),"li",i(e.currentTarget))}navigateToBoard(){if(m.showingDashboard()||!b&&m.showingBoardView()){const e=m.getBoardUrl(this.model.board.id);p(e,{trigger:!0})}}}v.initClass(),e.exports=v},"./app/scripts/views/board-menu/change-board-visibility-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js"),s=n("./app/scripts/views/board/confirmation-public-boards-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/views/templates/board_menu_vis.js");class u extends c{static initClass(){this.prototype.tagName="ul",this.prototype.className="pop-over-list",this.prototype.maxWidth=370,this.prototype.events={"click .js-select":"selectVis"}}viewTitleKey(){return this.model.owned()?"change visibility":"visibility"}initialize(){this.listenTo(this.model,"change",this.render)}render(){const e=this.model.getOrganization(),t=null!=e?e.getEnterprise():void 0;return this.$el.html(d({canChange:this.model.owned(),current:this.model.getPref("permissionLevel"),hasSuperAdmins:(null==e?void 0:e.hasPremiumFeature("superAdmins"))||!1,hasOrg:null!=e,orgName:null!=e?e.get("displayName"):void 0,privateRestricted:!this.model.canSetVisibility("private"),orgRestricted:null!=e&&!(null!=e?e.canSetVisibility("org"):void 0),enterpriseRestricted:null!=e&&!(null!=e?e.canSetVisibility("enterprise"):void 0),publicRestricted:!this.model.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=t?t.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0})),this}selectVis(e){l.stop(e);const t=i(e.target).closest(".js-select");if(t.hasClass("disabled")||t.closest(".js-disabled").length)return;const n=t.attr("name");if("public"===n)return void o.pushView({elem:e.target,view:new s({model:this.model,modelCache:this.modelCache}),maxWidth:370});if("org"===n&&!this.model.getOrganization())return void o.pushView({view:r,options:{model:this.model,modelCache:this.modelCache,disableNone:!0}});const c=a.startTask({taskName:"edit-board/prefs/permissionLevel",source:"changeBoardVisibilityInlineDialog"}),d=this.model.getPref("permissionLevel");this.model.setPrefWithTracing("permissionLevel",n,{taskName:"edit-board/prefs/permissionLevel",source:"changeBoardVisibilityInlineDialog",traceId:c,next:(e,t)=>{var i;t&&a.sendUpdatedBoardFieldEvent({field:"visibility",value:n,source:"changeBoardVisibilityInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model.getOrganization())||void 0===i?void 0:i.id}},attributes:{change:d!==n,previous:d,taskId:c}})}}),this.model.save(),o.popView()}}u.initClass(),e.exports=u},"./app/scripts/views/board-menu/edit-email-settings-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/lib/alerts.js"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),{Auth:o}=n("./app/scripts/db/auth.js"),l=n("./app/scripts/views/lib/confirm.js"),{featureFlagClient:c}=n("./packages/feature-flag-client/index.ts"),{ModelLoader:d}=n("./app/scripts/db/model-loader.js"),u=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./app/scripts/views/templates/board_menu_email.js"),{l:h}=n("./app/scripts/lib/localize.js");class g extends p{static initClass(){this.prototype.viewTitleKey="add cards via email",this.prototype.events={"change .js-select-position":"updatePosition","change .js-select-list":"updateList","click .js-generate-address":"generateAddress","click .js-send-address":"sendAddressEmail","click .js-autofocus":"focusInput"}}initialize(...e){const[{fromPowerUpDirectory:t}]=e;if(super.initialize(e),this.listenTo(this.modelCache,"add:List remove:List change:List:closed reset:List",this.frameDebounce(this.render)),this.listenTo(this.model,"change:myPrefs",this.frameDebounce(this.render)),this.allowEmail=!0,null==this.model.getPref("emailKey"))return this.model.generateEmailKey();this.fromPowerUpDirectory=null!=t&&t}render(){let e;if(this.model.canComment(o.me())){let t;const n=this.model.getPref("idEmailList"),i=this.model.listList.models.map((e=>({id:e.id,name:e.get("name")}))),r=(()=>{if(null!=(e=a.findWhere(i,{id:n})))return e.name;if(null!=(e=this.modelCache.get("List",n))&&e.get("closed")){const t=h("archived list",{listName:e.get("name")});return i.unshift({id:e.id,name:t}),t}return null!=n&&d.loadArchivedListsAndCards(this.model.id).then((()=>{if(null!=this.modelCache.get("List",n))return this.render()})),h("unknown list placeholder")})();null==n&&i.unshift({name:h("unknown list placeholder"),selected:!0}),this.$el.html(m({commentsEnabled:!0,email:null!=(t=this.model.getPref("fullEmail"))?t:"",lists:i.map((e=>({id:e.id,name:e.name,selected:e.id===n}))),listName:r,positionName:h(["email position",this.model.getPref("emailPosition")]),position:this.model.getPref("emailPosition")})),this.$el.find("#boardEmail").on("copy",(()=>{s.sendTrackEvent({action:"copied",actionSubject:"email",source:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}})}))}else this.$el.html(m({commentsEnabled:!1}));return c.get("dataeng.gasv3-event-tracking",!1)&&s.sendScreenEvent({name:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}}),this}focusInput(e){i(e.target).focus().select()}updateValue(e,t){const n=this.$el.find(e).val();if(null!=n&&n!==this.model.getPref(t))return this.model.setPref(t,n)}updatePosition(){return this.updateValue(".js-select-position","emailPosition")}updateList(){return this.updateValue(".js-select-list","idEmailList"),this.allowEmail=!0}generateAddress(e){u.stop(e),l.pushView("regenerate email address",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",popOnClick:!0,fxConfirm:e=>(this.model.set({"myPrefs/emailKey":null}),this.allowEmail=!0,s.sendClickedButtonEvent({buttonName:"regenerateE2BAddressButton",source:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}}),this.model.generateEmailKey())})}sendAddressEmail(e){u.stop(e),this.allowEmail&&(s.sendClickedButtonEvent({buttonName:"sendE2BAddressButton",source:"emailToBoardSettingsInlineDialog",attributes:{fromPowerUpDirectory:this.fromPowerUpDirectory},containers:{board:{id:this.model.id}}}),this.allowEmail=!1,this.model.api({method:"emailKey/message",type:"post"},(e=>e?r.show("could not send email","error","email",5e3):r.flash("email sent","confirm","email"))))}}g.initClass(),e.exports=g},"./app/scripts/views/board-menu/member-limits-error.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayMemberLimitsError:function(e,t,n){const s=(null!=t?t.isOverLimit("boards","totalMembersPerBoard"):void 0)?{message:"members exceeds total per board limit",params:{boardName:t.get("name"),boardId:t.get("id")}}:(null!=n?n.isOverLimit("boards","totalPerMember"):void 0)?a.isMe(n)?{message:"your boards exceed total per member limit"}:{message:"boards exceeds total per member limit",params:{memberName:n.get("name")}}:void 0;return null!=s&&(r(i.extend({trackingArea:"boardMemberLimit",elem:e},s)),!0)}}},"./app/scripts/views/board/add-list-popover-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/views/templates/popover_add_list.js"),{track:d}=n("./packages/analytics/index.ts"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=n("./packages/feature-flag-client/index.ts");class m extends o{static initClass(){this.prototype.viewTitleKey="add list",this.prototype.events={"change .js-select-list-pos":"renderValue","click .js-add-list":"addList","submit form":"addList"}}initialize({didAddList:e}){return this.didAddList=e,super.initialize(...arguments)}getLists(){return this.lists=this.model.listList,this.listsLength=this.lists.length+1}render(){return this.$el.html(c({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard")})),this.setTimeout((()=>(this.getClosestListPos(),this.getLists(),this.updateListList())),10),this}getClosestListPos(){const e=i(".js-list"),t=[];this.closestListIdx=0,e.each((n=>{const a=parseInt(Math.abs(i(e[n]).offset().left+i(e[n]).width()/2-this.$el.offset().left),10);return t.push(a)})),this.closestListIdx=l.indexOf(t,l.min(t));const n=i(e[this.closestListIdx]);if(n.length>0&&this.$el.offset().left>n.offset().left+n.width()/2&&this.closestListIdx<e.length)return this.closestListIdx+=1}updateListList(){const e=i(this.el).find(".js-select-list-pos");for(let t=0,n=this.listsLength,a=0<=n;a?t<n:t>n;a?t++:t--)i("<option>").val(t).text(t+1).appendTo(e);let t=e.find("option:last");return t=e.find("option:eq(".concat(this.closestListIdx,")")),t.attr("selected","selected"),this.renderValue()}renderValue(){const e=parseInt(this.$(".js-select-list-pos").val(),10)+1;i(".js-pos-value").text(e.toString())}addList(e){let t,n;s.stop(e);const i=this.$(".js-list-name").val().trim();if(""===i)return void this.$(".js-list-name").focus().select();const o=this.$(".js-select-list-pos"),l=parseInt(o.find("option:selected").val(),10);n=l!==this.listsLength-1,t="List"!==i,r.hide(),this.createList({name:i,pos:this.model.calcPos(l),closed:!1},t,n).catch((()=>a.flash("could not connect","error","addListAlert")))}createList(e,t,n){return new Promise(((i,a)=>{const r=this.model.listList.create(e,{success:e=>(d("Board","Add List",t&&n?"Successfully Add List - Changed Name, Changed Position":t?"Successfully Add List - Changed Name, Default Position":n?"Successfully Add List - Default Name, Changed Position":"Successfully Add List - Default Name, Default Position"),p.get("dataeng.gasv3-core-event-tracking",!1)&&u.sendTrackEvent({action:"created",actionSubject:"list",source:"addListInlineDialog",containers:{board:{id:this.model.id},list:{id:e.id}},attributes:{changedPosition:n}}),this.didAddList(e)),error:()=>(this.model.listList.remove(r),a())})}))}}m.initClass(),e.exports=m},"./app/scripts/views/board/billable-guest-list-popover-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")(),a=n("./app/scripts/views/internal/templates.js"),r=n("./app/scripts/views/internal/view.js"),s=i.renderable((function({newBillableGuests:e}){return this.newBillableGuests=e,i.ul(".pop-over-member-list.js-billable-guest-list")}));class o extends r{static initClass(){this.prototype.viewTitleKey="billable guest list"}initialize({newBillableGuests:e}){this.newBillableGuests=e}render(){this.$el.html(s({newBillableGuests:this.newBillableGuests}));const e=this.$(".js-billable-guest-list").first().empty();for(const t of Array.from(this.newBillableGuests)){const i=Object.assign(t,{url:"/".concat(t.username),unconfirmed:!t.confirmed});e.append(a.fill(n("./app/scripts/views/templates/select_member.js"),i,{},{member:a.member}))}return this}}o.initClass(),e.exports=o},"./app/scripts/views/board/board-clean-up-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/confirm.js"),{Dates:a}=n("./app/scripts/lib/dates.js"),r=n("./node_modules/bluebird/js/browser/bluebird.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_clean_up"),{track:o}=n("./packages/analytics/index.ts"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./node_modules/underscore/underscore.js"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),p=s.renderable((function({ageCategories:e,lists:t}){const n=!d.isEmpty(t),i=!d.isEmpty(e),r=function(e,t){return t&&s.div(".board-clean-up-cards-options",(function(){return s.span(".board-clean-up-cards-option.js-select-all",(()=>s.format("select-all"))),s.span(".board-clean-up-cards-option.js-select-none",(()=>s.format("select-none")))})),s.div(".board-clean-up-cards",(()=>Array.from(e).map((e=>s.div(".board-clean-up-card",(function(){return t&&s.div((()=>s.span(".board-clean-up-checkbox.js-toggle-checkbox",{"data-checked":"checked","data-card":e.id},(()=>s.icon("check",{class:"board-clean-up-checkbox-check"}))))),s.a(".list-card",{href:e.get("url")},(()=>s.span(".board-clean-up-card-name",(()=>s.text(e.get("name"))))))}))))))};return s.div(".window-header.u-clearfix",(function(){return s.span(".window-header-icon.icon-lg.icon-board"),s.div(".window-title",(()=>s.h2(".window-title-text",(()=>s.format("board-clean-up")))))})),s.div(".window-main-col.window-main-col-full",(function(){if(n&&(s.p(".board-clean-up-explanation",(()=>s.format("it-looks-like-you-have-some-lists-that-havent-been-updated-recently"))),s.table(".board-clean-up-table",(()=>s.tbody((function(){return s.tr((function(){return s.th((()=>s.format("list"))),s.th((()=>s.format("cards"))),s.th((()=>s.format("last-updated"))),s.th((function(){}))})),(()=>{const e=[];for(const{id:n,listName:i,cards:o,cardCount:l,lastModified:c}of Array.from(t))s.tr(".board-clean-up-top",(function(){return s.td((()=>s.text(i))),s.td((()=>s.text(l))),s.td((()=>s.text(a.toDateString(c)))),s.td(".board-clean-up-button-cell",(()=>s.button(".board-clean-up-button.js-archive-list",{"data-list":n},(()=>s.format("archive-list")))))})),e.push(s.tr(".board-clean-up-bottom",(()=>s.td({colspan:4},(()=>r(o,!1))))));return e})()}))))),n&&i&&s.hr(),i&&(s.p(".board-clean-up-explanation",(function(){return n?s.format("you-can-also-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while"):s.format("you-can-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while")})),s.table(".board-clean-up-table",(()=>s.tbody((function(){return s.tr((function(){return s.th((()=>s.format("cards-updated"))),s.th((()=>s.format("cards"))),s.th((function(){}))})),(()=>{const t=[];for(const n in e){const i=e[n];s.tr(".board-clean-up-top.js-category-heading",{"data-category":n},(function(){return s.td((()=>s.format(["more-than",n]))),s.td(".js-card-count",(()=>s.text(i.length))),s.td(".board-clean-up-button-cell",(()=>s.button(".board-clean-up-button.js-archive-category",{"data-category":n},(()=>s.format("archive-selected-cards")))))})),t.push(s.tr(".board-clean-up-bottom.js-category-cards",{"data-category":n},(()=>s.td({colspan:3},(()=>r(i,!0))))))}return t})()}))))),!n&&!i)return s.p(".board-clean-up-explanation",(()=>s.format("it-doesnt-look-like-there-are-any-old-cards-to-clean-up")))}))})),m=s.renderable((function({count:e,total:t}){return s.div(".window-header.u-clearfix",(function(){return s.span(".window-header-icon.icon-lg.icon-board"),s.div(".window-title",(()=>s.h2(".window-title-text",(()=>s.format("board-clean-up")))))})),s.div(".window-main-col.window-main-col-full",(()=>s.div(".board-clean-up-progress",(()=>s.format("archiving",{count:e,total:t})))))})),h={threeMonths:{age:l.getMs({days:90})},month:{age:l.getMs({days:30})},week:{age:l.getMs({days:7})}},g=(e,t)=>(n,i)=>i.getAttribute(e)===t;class b extends c{static initClass(){this.prototype.events={"click .js-archive-category":"archiveCategory","click .js-archive-list":"archiveList","click .js-toggle-checkbox"(e){const t=this.$(e.currentTarget);return t.is("[data-checked]")?t.removeAttr("data-checked"):t.attr("data-checked","checked"),this._updateCategory(t.closest(".js-category-cards").attr("data-category"))},"click .js-select-all"(e){const t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").attr("data-checked","checked"),this._updateCategory(t.attr("data-category"))},"click .js-select-none"(e){const t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").removeAttr("data-checked"),this._updateCategory(t.attr("data-category"))}}}initialize(){this.progress=null,this.aborted=!1,this.makeDebouncedMethods("render"),this.listenTo(this.model.listList,"add remove reset change:closed change:idBoard",this.renderDebounced),this.listenForCards()}_updateCategory(e){const t=g("data-category",e),n=this.$(".js-category-heading").filter(t),i=this.$(".js-category-cards").filter(t),a=i.find(".js-toggle-checkbox:not([data-checked])"),r=i.find(".js-toggle-checkbox[data-checked]");return i.find(".js-select-all").toggleClass("hide",!a.length),i.find(".js-select-none").toggleClass("hide",!r.length),n.find(".js-card-count").text(r.length),n.find(".js-archive-category").toggleClass("hide",!r.length)}listenForCards(){return this.listenTo(this.modelCache,"add:Card remove:Card change:Card:closed change:Card:idList",this.renderDebounced)}stopListeningForCards(){return this.stopListening(this.modelCache)}_ageCategories(){const e=this.modelCache.find("Card",(e=>e.get("idBoard")===this.model.id&&e.isVisible()));return d.chain(h).pairs().map((function(...t){const[n,{age:i}]=Array.from(t[0]);return[n,e.filter((e=>Date.now()-a.parse(e.get("dateLastActivity"))>i))]})).filter((function(...e){const[,t]=Array.from(e[0]);return t.length>0})).object().value()}render(){var e,t;if(u.sendScreenEvent({name:"boardCleanUpModal",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model.getOrganization())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.getEnterprise())||void 0===t?void 0:t.id}}}),null!=this.progress)return this.$el.html(m(this.progress)),this;const n=this.model.listList.chain().filter((e=>e.isOpen())).map((function(e){const t=e.openCards().models,n=d.chain(t).sortBy((e=>e.get("dateLastActivity"))).reverse().first().value();return{id:e.id,listName:e.get("name"),cardCount:t.length,cards:t,lastModified:null!=n?n.get("dateLastActivity"):void 0}})).filter((e=>null!=e.lastModified&&a.parse(e.lastModified)<Date.now()-l.getMs({days:30}))).sortBy((e=>-e.cardCount)).first(5).value();return this.$el.html(p({ageCategories:this._ageCategories(),lists:n})),d.keys(h).forEach((e=>this._updateCategory(e))),this}archiveCategory(e){l.stop(e);const t=this.$(e.currentTarget).attr("data-category"),n={};this.$(".js-category-cards").filter(g("data-category",t)).find(".js-toggle-checkbox").each(((e,t)=>{const i=this.$(t),a=i.attr("data-card");n[a]=i.is("[data-checked]")}));const a=this._ageCategories()[t].filter((e=>n[e.id]));if(null!=a)return i.toggle("archive cards",{elem:e.target,model:this.model,fxConfirm:e=>(o("Board Clean-Up","Archive By Age",t,a.length),this.stopListeningForCards(),this.progress={count:0,total:a.length},this.render(),this.aborted=!1,r.map(a,(e=>{if(this.aborted)return;const t=Date.now();return r.fromNode((t=>e.close(t))).then((function(){const e=1e3-(Date.now()-t);if(e>0)return r.delay(e)})).then((()=>(this.progress.count++,this.render())))}),{concurrency:5}).catch((()=>{})).then((()=>(this.progress=null,this.listenForCards(),this.render()))).done())})}archiveList(e){l.stop(e);const t=this.$(e.currentTarget).attr("data-list"),n=this.model.listList.get(t);return o("Board Clean-Up","Archive List",void 0,n.openCards().models.length),n.close()}abort(){if(this.aborted=!0,this.progress)return o("Board Clean-Up","Abort Archive By Age",void 0,this.progress.total-this.progress.count)}}b.initClass(),e.exports=b},"./app/scripts/views/board/board-header-all-members-view.js":function(e,t,n){const{Analytics:i}=n("./packages/atlassian-analytics/index.ts"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/lib/drag-sort.js"),s=n("./app/scripts/views/member-menu-profile/member-on-board-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/lib/util/index.js"),{searchFilter:c}=n("./app/scripts/lib/util/text/search-filter.js"),d=n("./app/scripts/views/internal/view.js"),u=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/templates/popover_board_header_all_members.js"),m=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js");class h extends d{static initClass(){this.prototype.viewTitleKey="board members",this.prototype.events={"input .js-search-board-member":"onSearchEvent","click .js-invite-to-board-link":"renderInvitationLink"}}renderMembers(e){let t;null==e&&(e=this.model.orderedVisibleMembers());const n=u.pluck(this.options.newInvitees,"id"),i=null!=this.model.get("idOrganization"),o=this.model.getOrganization(),l=a.me(),c=this.model.isMember(l)||this.model.isObserver(l)||(null!=o?o.isMember(l):void 0)?u.groupBy(e,(e=>{const t=this.model.getMembershipFor(e);return Array.from(n).includes(e.id)?"recentlyJoined":this.model.isVirtual(e)?"invited":null==t?"other":t.deactivated?"deactivated":"observer"===t.memberType?"observer":null!=t.orgMemberType||null!=(null!=o?o.getMembershipFor(e):void 0)?"team":i?"other":"member"})):{member:u.filter(e,(e=>{const t=this.model.getMembershipFor(e);return!t.deactivated&&"observer"!==t.memberType}))},d=[{selector:".js-list-members",list:c.member},{selector:".js-list-team-members",list:c.team},{selector:".js-list-recently-joined-members",list:c.recentlyJoined},{selector:".js-list-invited-members",list:c.invited},{selector:".js-list-guests",list:c.other},{selector:".js-list-observers",list:c.observer},{selector:".js-deactivated-members",list:c.deactivated}],p=1===u.keys(c).length&&(null!=c.member||null!=c.team);for(const{selector:e,list:n=[]}of Array.from(d)){const i=this.$(e),a=i.find(".js-list"),r=i.find(".js-heading");i.toggleClass("is-hidden",0===n.length),r.toggleClass("is-hidden",p),i.toggleClass("is-partial-row",n.length<8);const o=(()=>{const e=[];for(t of Array.from(n))e.push(this.subview(s,t,{board:this.model,pushView:!0}));return e})();a.length&&this.ensureSubviews(o,a)}return this.defer((()=>r.refreshDraggableSidebarMembers()))}filterMembersResult(e){const t=c(e);return u.filter(this.model.orderedVisibleMembers(),(e=>t(l.getMemNameArray(e))))}onSearchEvent(e){this.memberSearch=this.$(".js-search-board-member").val().trim();const t=this.memberSearch?this.filterMembersResult(this.memberSearch):this.model.orderedVisibleMembers();return this.$(".js-invite-no-results").toggleClass("hide",0!==t.length),this.renderMembers(t)}renderInvitationLink(e){l.stop(e),i.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:g(this.model.getOrganization(),(e=>e.id))}}});const t=new m({model:this.model,modelCache:this.modelCache});t.loadOrgData(),o.toggle({elem:$(".js-open-manage-board-members"),view:t})}render(){const e={canAssign:this.model.editable(),showInviteLink:this.model.canInviteMembers()};return this.$el.html(p(e)),this.renderMembers(),i.sendScreenEvent({name:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:g(this.model.getOrganization(),(e=>e.id))}},attributes:{numMembers:this.model.orderedVisibleMembers().length}}),this}}function g(e,t){return null!=e?t(e):void 0}h.initClass(),e.exports=h},"./app/scripts/views/board/board-header-org-menu-view.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),a=n("./app/scripts/views/board-menu/board-select-organization-view.js"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/templates/popover_board_header_org_menu.js"),{dontUpsell:c}=n("./packages/browser/index.ts"),{featureFlagClient:d}=n("./packages/feature-flag-client/index.ts"),{Analytics:u,tracingCallback:p}=n("./packages/atlassian-analytics/index.ts"),m=n("./node_modules/react/index.js"),{renderComponent:h}=n("./app/src/components/ComponentWrapper/index.ts"),{BoardHeaderOrgMenuPopoverButton:g}=n("./app/src/components/UpgradePathAudit/index.ts");class b extends o{static initClass(){this.prototype.events={"click .js-change-org":"openChangeOrg","click .js-view-org":"viewOrg","click .js-upgrade-to-bc":"trackBcUpgrade"}}initialize(){super.initialize(...arguments),this.makeDebouncedMethods("render");const e=this.model.getOrganization();e&&this.listenTo(e,{"change:products":this.renderDebounced})}getViewTitle(){return this.model.getOrganization().get("displayName")}render(){const e=this.model.getOrganization(),t=e.toJSON(),n=d.get("btg.upgrade-prompt-audit",!1),a=d.get("btg.block-teamless-boards",!1);return a?t.canChangeOrg=this.model.owned():(t.canChangeOrg=(null!=e?e.owned():void 0)||this.model.owned(),t.setOrgNull=(null!=e?e.owned():void 0)&&!this.model.owned()),t.isOrgMember=e.isMember(i.me()),t.upgradePathAuditEnabled=n,t.blockTeamlessBoardsEnabled=a,t.upsellEnabled=!c(),this.$el.html(l(t)),u.sendScreenEvent({name:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:v(this.model.getOrganization(),(e=>e.id))}}}),n&&this.renderUpsellComponent(null==e?void 0:e.get("id")),this}renderUpsellComponent(e){const t=this.$("#upgrade-path-react-component")[0];e&&t&&h(m.createElement(g,{orgId:e}),t)}openChangeOrg(e){if(s.stop(e),this.model.owned())r.pushView({view:a,options:{model:this.model,modelCache:this.modelCache}}),u.sendClickedLinkEvent({linkName:"changeBoardOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:v(this.model.getOrganization(),(e=>e.id))}}});else{const e=u.startTask({taskName:"edit-board/idOrganization",source:"boardOrganizationInlineDialog"}),t=this.model.get("idOrganization");v(this.modelCache.get("Organization",t),(e=>e.boardList.remove(this.model)));const n={idOrganization:"",traceId:e};this.model.update(n,p({taskName:"edit-board/idOrganization",source:"boardOrganizationInlineDialog",traceId:e},(n=>{n||u.sendUpdatedBoardFieldEvent({field:"organization",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:v(this.model.getOrganization(),(e=>e.id))}},attributes:{previous:t,taskId:e}})}))),r.hide()}}viewOrg(){return u.sendClickedLinkEvent({linkName:"viewOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:v(this.model.getOrganization(),(e=>e.id))}}})}trackBcUpgrade(){return u.sendClickedLinkEvent({linkName:"upgradeToBCLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:v(this.model.getOrganization(),(e=>e.id))}}})}}function v(e,t){return null!=e?t(e):void 0}b.initClass(),e.exports=b},"./app/scripts/views/board/board-view-background.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{UnsplashTracker:a}=n("./packages/unsplash/index.ts"),{FavIcon:r}=n("./app/scripts/lib/favicon.js"),{Backgrounds:s}=n("./app/scripts/data/backgrounds.js"),o=n("./app/scripts/lib/util/index.js");function l(e,t){return null!=e?t(e):void 0}e.exports.getAllBackgroundClasses=()=>["body-custom-board-background","body-custom-board-background-tiled","body-light-board-background","body-dark-board-background","body-ambiguous-board-background","body-default-header"].join(" "),e.exports.defaultBoardBackground=function(){this.clearBoardBackground(),i("#trello-root").addClass("body-default-header")},e.exports.clearBoardBackground=function(){const e=this.getAllBackgroundClasses();i("#trello-root").removeClass(e).css({"background-image":"","background-color":""})},e.exports.renderBoardBackground=function(e){null==e&&(e=!1),this.clearBoardBackground();const t=this.model.get("prefs"),n=i("#trello-root");if(t.background.startsWith("gradient-")){const e=t.backgroundImage;return(()=>(n.addClass("body-gradient-board-background"),n.css({"background-color":t.backgroundColor,"background-image":'url("'.concat(e,'")')}),r.setBackground({url:e,tiled:t.backgroundTile})))()}if(null!=t.backgroundColor){const e=this.model.getClientBackgroundColor(t.background);return n.css({"background-color":e}),r.setBackground({color:e})}{let i,c;if(s.hasOwnProperty(t.background)){let e;c=null!=(e=l(o.smallestPreviewBiggerThan(t.backgroundImageScaled,640,480),(e=>e.url)))?e:t.backgroundImage}else{let e;c=null!=(e=l(o.biggestPreview(t.backgroundImageScaled,t.backgroundImage),(e=>e.url)))?e:t.backgroundImage}if(t.backgroundTile)i=c;else{let e;i=null!=(e=l(o.smallestPreviewBiggerThan(t.backgroundImageScaled,64,64),(e=>e.url)))?e:t.backgroundImage}const d=()=>{n.addClass("body-custom-board-background"),t.backgroundTile&&n.addClass("body-custom-board-background-tiled");const e=t.backgroundBrightness;if(t.backgroundTopColor){e!==o.calculateBrightness(t.backgroundTopColor)&&n.addClass("body-ambiguous-board-background")}switch(e){case"light":n.addClass("body-light-board-background");break;case"dark":n.addClass("body-dark-board-background")}return n.css({"background-image":'url("'.concat(c,'")')}),a.trackOncePerInterval(c),r.setBackground({url:i,tiled:t.backgroundTile})};return e?o.waitForImageLoad(c).then(d):d()}},e.exports.renderBoardHeaderSubscribed=function(){const e=this.model.get("subscribed");return this.$(".js-board-header-subscribed").toggleClass("hide",!e),this}},"./app/scripts/views/board/board-view-card.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),{idCache:r}=n("./packages/shortlinks/index.ts"),{Card:s}=n("./app/scripts/models/card.js"),o=n("./app/scripts/network/payloads.ts").default,l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/lib/pop-over.js"),d=n("./app/scripts/views/board/add-list-popover-view.js"),{canAddCard:u}=n("./app/scripts/views/card/card-limits-error.js");e.exports.openCardComposerInFirstList=function(){const e=this.model.listList.first();this.model.composer.save({list:e,index:e.openCards().length,vis:!0}),a.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"firstList"}})},e.exports.scrollToCard=function(e){const t=e.getList();return this.scrollToList(t),this.viewForList(t).scrollToCard(e)},e.exports.preventScrollSelection=function(){if(this.ignoreMouseCardSelects)return;this.ignoreMouseCardSelects=!0;const e=()=>i(document).one("mousemove",(t=>{!function(e){const{movementX:t,movementY:n}=e.originalEvent;return 0!==t||0!==n}(t)?e():this.ignoreMouseCardSelects=!1}));e()},e.exports.moveCard=function(e){let t,n;this.preventScrollSelection();const i=this.model.viewState.getCard();if(null==i){const e=this.model.listList.find((e=>!e.openCards().isEmpty()));return void(null!=e&&e.selectFirstCardInList())}const a=i.getList(),r=a.openCards(),s=r.indexOf(i),o=(e,t,n,i)=>{let a=e+t;if(this.model.filter.isFiltering)for(;0<=a&&a<n&&!i(a);)a+=t;return a};if(["up","down"].includes(e)){if(n=o(s,"up"===e?-1:1,r.length,(e=>this.model.filter.satisfiesFilter(r.at(e)))),0<=n&&n<r.length)return t=r.at(n),this.scrollToCard(t),this.model.viewState.selectCard(t)}else if(["left","right"].includes(e)){const i=this.model.listList,r=i.indexOf(a),l=o(r,"left"===e?-1:1,i.length,(e=>i.at(e).openCards().any((e=>this.model.filter.satisfiesFilter(e)))));if(0<=l&&l<i.length){const e=i.at(l).openCards(),a=Math.min(s,e.length-1);return(()=>{const i=[];for(const r of[1,-1]){if(n=o(a-r,r,e.length,(t=>this.model.filter.satisfiesFilter(e.at(t)))),0<=n&&n<e.length){t=e.at(n),this.model.viewState.selectCard(t),this.scrollToCard(t);break}i.push(void 0)}return i})()}}},e.exports.dblClickAddListMenu=function(e){if(l.stop(e),!(i(e.target).closest(".js-card-templates-button").length>0)&&this.model.editable()){let t;if(0===i(e.target).closest(".js-list-content").length)this.model.viewState.get("listComposerOpen")||(a.sendScreenEvent({name:"addListInlineDialog",attributes:{method:"doubleClick"}}),c.show({clientx:e.clientX,clienty:e.clientY,view:new d({model:this.model,modelCache:this.modelCache,didAddList:e=>this.scrollToList(e)})}));else if(null!=(t=this.model.viewState.getList())){if(0===this.$(document.elementFromPoint(e.clientX,e.clientY)).closest(".list-header-name,.card-composer,.list-card").length){const n=this.$(document.elementFromPoint(e.clientX,e.clientY-16)).closest(".list-card");a.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"doubleClick"}}),this.model.composer.save({list:t,index:n.length?Math.max(n.closest(".js-list-cards").find(">.list-card").index(n),0)+1:0,vis:!0})}}}},e.exports._insertCardPosition=function(e){const t=this.model.viewState.getCard();return null!=t?{idList:t.get("idList"),index:t.getIndexInList()}:{idList:e,index:this.model.listList.get(e).cardList.length}},e.exports.moveCardRequested=function(e,{shortLink:t,idList:n}){let i,a;({idList:n,index:i}=this._insertCardPosition(n));const l=null!=(a=r.getId("Card",t))?a:t;return s.load(l,o.cardMinimal,this.modelCache).then((e=>{const t=this.model.listList.get(n);if(e.get("idList")===n||u({destinationList:t}))return e.moveToList(t,i)})).done()},e.exports.copyCardRequested=function(e,{shortLink:t,idList:n,traceId:i}){let a,l;({idList:n,index:a}=this._insertCardPosition(n));const c=null!=(l=r.getId("Card",t))?l:t;return s.load(c,o.cardMinimal,this.modelCache).then((e=>{const t=this.model.listList.get(n),r={hasChecklists:e.checklistList.length>0,hasAttachments:e.attachmentList.length>0,destinationBoard:this.model,destinationList:t};if(u(r))return e.copyTo({idList:n,pos:this.model.listList.get(n).calcPos(a,e),traceId:i})})).done()}},"./app/scripts/views/board/board-view-collaboration.js":function(e,t,n){const{Controller:i}=n("./app/scripts/controller/index.js"),a=n("./node_modules/react/index.js"),r=n("./packages/react-dom-wrapper/index.ts"),{Feature:s}=n("./app/scripts/debug/constants.ts"),{sendErrorEvent:o}=n("./packages/error-reporting/index.ts"),{WorkspacesPreambleBoardHeaderButton:l,WorkspacesPreambleBoardInviteButton:c}=n("./app/src/components/WorkspacesPreamble/index.ts"),{WorkspacesAutoNameAlert:d}=n("./app/src/components/WorkspacesAutoNameAlert/index.ts"),{renderComponent:u}=n("./app/src/components/ComponentWrapper/index.ts");e.exports.unmountWorkspacesAutoNameAlert=function(){this.workspacesAutoNameAlertTarget&&(r.unmountComponentAtNode(this.workspacesAutoNameAlertTarget),this.workspacesAutoNameAlertTarget=null)},e.exports.renderWorkspacesAutoNameAlert=function(){if(!this.workspacesAutoNameAlertTarget&&(this.workspacesAutoNameAlertTarget=this.$("#workspaces-auto-name-alert")[0],this.workspacesAutoNameAlertTarget))try{u(a.createElement(d,{boardId:this.model.id,orgId:this.model.get("idOrganization")}),this.workspacesAutoNameAlertTarget)}catch(e){o(e,{tags:{ownershipArea:"trello-bizteam",feature:s.WorkspacesAutoNameAlert},extraData:{component:"board-view-collaboration"}})}},e.exports.unmountWorkspacesPreambleBoardHeaderButton=function(){this.workspacesPreambleBoardHeaderButtonTarget&&(r.unmountComponentAtNode(this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreambleBoardHeaderButtonTarget=null)},e.exports.onWorkspacesPreambleCreateTeamSuccess=function(e){if(e)return i.organizationBoardsView(e,{shouldShowTeamfulCollaborationPrompt:!0}).then((()=>this.unmountWorkspacesPreambleBoardHeaderButton()))},e.exports.renderWorkspacesPreambleBoardHeaderButton=function(){this.unmountWorkspacesPreambleBoardHeaderButton(),this.workspacesPreambleBoardHeaderButtonTarget=this.$("#workspaces-preamble-board-header-button")[0],this.workspacesPreambleBoardHeaderButtonTarget&&(u(a.createElement(l,{boardId:this.model.id,canAutoShow:!this.workspacesPreamblePromptHasBeenSeen,onCreateTeamSuccess:e=>this.onWorkspacesPreambleCreateTeamSuccess(e),onSelectTeamSuccess:e=>this.model.set("idOrganization",e)}),this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreamblePromptHasBeenSeen=!0)},e.exports.unmountWorkspacesPreambleInviteButton=function(){if(this.workspacesPreambleInviteButtonTarget)return r.unmountComponentAtNode(this.workspacesPreambleInviteButtonTarget)},e.exports.renderWorkspacesPreambleInviteButton=function(){this.unmountWorkspacesPreambleInviteButton(),this.workspacesPreambleInviteButtonTarget=this.$("#workspaces-preamble-invite-button")[0],this.workspacesPreambleInviteButtonTarget&&(u(a.createElement(c,{boardId:this.model.id,onSuccess:e=>{e&&this.model.set("idOrganization",e),this.hasAddedBoardToTeamViaInviteButton=!0}}),this.workspacesPreambleInviteButtonTarget),this.hasAddedBoardToTeamViaInviteButton&&(this.hasAddedBoardToTeamViaInviteButton=!1,this.openAddMembers()))}},"./app/scripts/views/board/board-view-copy.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/views/board/copy-board-view.js");e.exports.copyBoard=function(e){return i.stop(e),a.toggle({elem:this.$(e.target).closest(".js-copy-board"),view:new r({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-getting-started-tip.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"unmountGettingStartedTip",(function(){return d})),n.d(t,"renderGettingStartedTip",(function(){return u}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/react-dom-wrapper/index.ts"),s=n("./app/src/components/ComponentWrapper/index.ts"),o=n("./packages/use-lazy-component/index.ts");const l=e=>{const t=Object(o.useLazyComponent)((()=>n.e(79).then(n.bind(null,"./app/src/components/FreeTeamOnboardingPupPopover/FreeTeamOnboardingPupPopover.tsx"))),{namedImport:"FreeTeamOnboardingPupPopover"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))},c=e=>{const t=Object(o.useLazyComponent)((()=>n.e(43).then(n.bind(null,"./app/src/components/FreeTeamOnboardingButlerPopover/ButlerPopover.tsx"))),{namedImport:"ButlerPopover"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))};function d(){const e=document.querySelector("#getting-started-tip-target");if(null!==e)return r.default.unmountComponentAtNode(e)}function u(e){let t=document.querySelector("#getting-started-tip-target");if(!t){var n;const e=document.createElement("div"),i="getting-started-tip-target";e.id=i,null===(n=document.querySelector(".board-main-content"))||void 0===n||n.append(e),t=document.querySelector("#getting-started-tip-target")}const i=this.model.get("id"),r=this.model.getOrganization();if(!r)return;const o=r.get("id"),d=r.get("name");"butler"===e?Object(s.renderComponent)(a.a.createElement(c,{boardId:i}),t):"pups"===e&&Object(s.renderComponent)(a.a.createElement(l,{orgId:o,boardId:i,teamName:d}),t)}},"./app/scripts/views/board/board-view-header.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./node_modules/underscore/underscore.js"),{Analytics:o}=n("./packages/atlassian-analytics/index.ts"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/board/board-clean-up-view.js"),{Auth:d}=n("./app/scripts/db/auth.js"),{l:u}=n("./app/scripts/lib/localize.js"),p=n("./app/scripts/views/templates/board_header.js"),{InspiringBoardsWorkspaceIds:m}=n("./app/scripts/data/inspiring-boards-workspace-ids.js"),{featureFlagClient:h,seesVersionedVariation:g}=n("./packages/feature-flag-client/index.ts"),{logoDomain:b}=n("./packages/config/index.ts"),v=n("./packages/browser/index.ts").isDesktop(),f=n("./app/scripts/views/lib/dialog.js"),_=n("./node_modules/react/index.js"),k=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:y}=n("./app/src/components/ComponentWrapper/index.ts"),{BoardViewsButton:E}=n("./app/src/components/BoardViewsButton/index.ts"),{ErrorBoundary:w}=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),{Feature:C}=n("./app/scripts/debug/constants.ts"),{TimelineViewWrapper:T}=n("./app/src/components/TimelineViewWrapper/index.ts"),{SingleBoardCalendarView:O}=n("./app/src/components/BoardCalendarView/index.ts"),{Controller:j}=n("./app/scripts/controller/index.js"),{AutomaticReports:A}=n("./app/src/components/Butler/index.ts"),{LegacyPowerUps:x}=n("./app/scripts/data/legacy-power-ups.js"),{navigate:N}=n("./app/scripts/controller/navigate.js"),{sendPluginTrackEvent:S}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),I=n("./app/scripts/lib/window-size.js"),{ButlerBoardButtons:D}=n("./app/src/components/Butler/Buttons/ButlerBoardButtons.tsx"),{PremiumFeature:B}=n("./packages/product-features/index.ts"),{BoardHeaderTestIds:P}=n("./packages/test-ids/index.ts"),{canViewTeamTablePage:F}=n("./app/src/components/ViewsGenerics/index.ts"),L=n("./app/scripts/views/internal/plugins/plugin-runner.js"),{CalendarIcon:M}=n("./packages/nachos/icons/calendar.tsx"),{TimelineIcon:R}=n("./packages/nachos/icons/timeline.tsx"),{LocationIcon:V}=n("./packages/nachos/icons/location.tsx"),{ListIcon:U}=n("./packages/nachos/icons/list.tsx"),{DashboardIcon:z}=n("./packages/nachos/icons/dashboard.tsx"),{sendErrorEvent:H}=n("./packages/error-reporting/index.ts"),{Null:W}=n("./app/src/components/Null/index.ts"),Y=n("./packages/config/index.ts").mapPowerUpId,{BoardHeaderFilterButton:K}=n("./app/src/components/BoardHeaderFilter/index.ts"),G=x.calendar;function $(e){const t=j.getBoardUrl(e||this.model.id);N(t,{trigger:!0})}e.exports.renderBoardHeader=function(){var e;const t=this.model.isPremOrgAdmin(d.me()),n={name:this.model.get("name"),canRename:t||this.model.owned(),isLoggedIn:d.isLoggedIn(),isAdmin:this.model.ownedByMember(d.me()),isMember:this.model.isMember(d.me()),isPrivateTeam:this.model.hasOrganization()&&!this.model.getOrganization(),isPrivateTeamForEnterpriseVisibleBoard:this.model.hasOrganization()&&"enterprise"===this.model.getPref("permissionLevel"),isUntitled:this.model.get("name")===u(["untitled board"]),canJoin:this.model.canJoin(),canInviteMembers:this.model.canInviteMembers(),selfJoin:this.model.allowsSelfJoin(),canAssign:this.model.editable(),boardCardCount:null===(e=this.model.openCards())||void 0===e?void 0:e.filter((e=>this.model.filter.satisfiesFilter(e))).length,isTemplate:this.model.isTemplate()};this.calendarView?n.currentBoardView="calendar":this.mapView?n.currentBoardView="map":n.currentBoardView="list",n.starTooltipKey=this.model.isTemplate()?"click-to-star-or-unstar-this-template-starred-templates-show-up-at-the-top-of-your-boards-list":"click-to-star-or-unstar-this-board-starred-boards-show-up-at-the-top-of-your-boards-list";const i=this.model.getOrganization();if(i){var a;n.orgDisplayName=i.get("displayName"),n.orgName=i.get("name"),n.showCopyButton=s.contains(m,i.id);const e=i.get("logoHash"),t=null===(a=i.getEnterprise())||void 0===a?void 0:a.get("logoHash");t?(n.orgLogoUrl="".concat(b,"/").concat(t,"/30.png"),n.orgLogoUrl2x="".concat(b,"/").concat(t,"/170.png")):e&&(n.orgLogoUrl="".concat(b,"/").concat(e,"/30.png"),n.orgLogoUrl2x="".concat(b,"/").concat(e,"/170.png")),n.isStandard=i.isStandard(),n.hasBusinessClass=i.isPremium(),n.isBusinessClass=i.isBusinessClass(),n.isEnterprise=i.get("idEnterprise")}const r=this.el.querySelector(".js-board-header-filter-btn-container");this.$(".js-board-header").html(p(n));const o=this.el.querySelector(".js-board-header-filter-btn-container");r&&o.parentNode.replaceChild(r,o);return h.get("ecosystem.board-header-filter",!1)&&this.renderBoardHeaderFilterButton(n.boardCardCount),this.renderWorkspacesPreambleInviteButton(),i?this.unmountWorkspacesPreambleBoardHeaderButton():this.renderWorkspacesPreambleBoardHeaderButton(),this.renderPermissionLevel(),this.renderBoardHeaderCalendar(),this.renderBoardHeaderSubscribed(),this.renderBoardHeaderMap(),this.renderFilteringStatus(),this.renderBoardHeaderStarred(),this.renderPluginButtons(),this.renderButlerBoardButtons(),this.renderBoardHeaderFacepile(),this.renderBoardTemplateBadge(),this.renderWorkspacesAutoNameAlert(),this.renderBoardViewsButton(),this.loadPowerUpViewsButtonOptions(),h.on("workflowers.new-butler-board-button",!1,(()=>{this.renderButlerBoardButtons(),this.renderPluginButtons()})),this},e.exports.renderBoardHeaderStarred=function(){return this.$(".js-star-board").toggleClass("board-header-btn-enabled",this.model.isStarred()),this},e.exports.toggleStarred=function(){const{boardStarList:e}=d.me(),t=e.getBoardStar(this.model.id);return t?e.unstarBoard(this.model.id):e.starBoard(this.model.id),o.sendUpdatedBoardFieldEvent({field:"star",value:!!t,source:"boardScreen",containers:{board:{id:this.model.id}}}),this},e.exports.openFilter=function(e){var t,n;l.stop(e),o.sendClickedButtonEvent({buttonName:"boardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}}),this.sidebarView.pushView("filter")},e.exports.clearFilters=function(e){var t,n;l.stop(e),o.sendClickedButtonEvent({buttonName:"clearBoardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}}),this.model.filter.clear()},e.exports.showCleanUp=function(e){l.stop(e);const t=new c({model:this.model,modelCache:this.modelCache});f.show({view:t,maxWidth:800,hide:()=>t.abort()})},e.exports.renderBoardHeaderFilterButton=function(e){var t,n;const i=this.el.querySelector(".js-board-header-filter-btn-container");i&&y(_.createElement(K,{idBoard:this.model.id,idOrganization:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id,idEnterprise:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id,clearFilters:()=>{var e,t;o.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model.getOrganization())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.getEnterprise())||void 0===t?void 0:t.id}}}),this.model.filter.clear()},isFiltering:()=>this.model.filter.isFiltering(),backgroundBrightness:this.model.getPref("backgroundBrightness"),cardCount:e}),i)},e.exports.renderBoardViewsButton=function(){const e=this.el.querySelector(".js-board-views-btn-container");if(!e)return;const t=async()=>{const t=d.me();let n,i=void 0,a=void 0,r=!1,s=void 0,o=!1,l=!1,c=void 0,u=void 0;if(this.model.hasOrganization()){a=this.model.get("idOrganization");const e=this.model.getOrganization(),d=!this.model.isEnterpriseBoard()&&!this.model.isBcBoard();c=this.model.isGuest(t),u=c&&d,e?(i=e.get("name"),o=Boolean(e.isMember(t)),l=e.isFeatureEnabled(B.Views),r=F(l,e.isBusinessClass()||e.isEnterprise()),n=e.getPaidStatus()):s=!0}y(_.createElement(w,{tags:{ownershipArea:"trello-remarkable",feature:C.BoardViewsButton},errorHandlerComponent:W},_.createElement(E,{isTeamMember:o,orgName:i,idOrg:a,isOrgPrivate:s,paidStatus:n,isStandardOrFreeTeamBoardGuest:u,hasViewsFeature:l,shouldShowTeamTableLink:r,idBoard:this.model.id,oneTimeMessagesDismissed:t.attributes.oneTimeMessagesDismissed,shortLink:this.model.get("shortLink"),preloadPlugins:()=>this.model.getAvailablePlugins(),viewOptions:this.getBoardViewsButtonOptions(),clearFilters:()=>this.model.filter.clear(),backgroundBrightness:this.model.getPref("backgroundBrightness"),isLoadingPowerUpViews:this.isLoadingPowerUpViews,powerUpViewOptions:this.getPowerUpViewOptions(),setIframePopoverOverlayVisibility:e=>{this.$(".js-plugin-iframe-container").toggleClass("plugin-iframe-container-pop-over-shown",e)}})),e)};this.boardViewsButtonPreviouslyRender?t():s.defer((()=>(t(),this.boardViewsButtonPreviouslyRender=!0)))},e.exports.getBoardViewsButtonOptions=function(){const e=this.model.getEnterprise(),t=d.me(),n="none"!==this.model.getViewPermState(t),i=!this.model.canEnableAdditionalPowerUps(),r=this.model.editable(),s=this.model.hasOrganization()&&!this.model.getOrganization(),l=this.model.hasOrganization()&&this.model.getOrganization()&&!this.model.getOrganization().isMember(t),c=s||l,u=this.model.isFeatureEnabled(B.Views),p=({isPowerUpEnabled:e,isPowerUpAllowed:t})=>{if(!e){if(!t)return!1;if(i&&r)return!c&&!v;if(n)return r}return r||n},m=(t,n)=>{const i={pluginName:n,pluginId:t,pluginTags:this.model.get("tags")},r=o.startTask({taskName:"enable-plugin",source:"boardViewsInlineDialog",attributes:i}),s=j.getBoardUrl(this.model.id,n);if(this.model.isPluginEnabled(t))o.taskAborted({taskName:"enable-plugin",source:"boardViewsInlineDialog",traceId:r,error:new Error("plugin already enabled"),attributes:a({},i)}),N(s,{trigger:!0});else if(this.model.editable()){if(!(!e||e.isPluginAllowed(t)))return void o.taskAborted({taskName:"enable-plugin",source:"boardViewsInlineDialog",traceId:r,error:new Error("plugin not allowed"),attributes:a({},i)});this.model.enablePluginWithTracing(t,{traceId:r,attributes:i,taskName:"enable-plugin",source:"boardViewsInlineDialog",next:e=>{e||(S({idPlugin:t,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",source:"boardViewsInlineDialog",attributes:{tags:this.model.get("tags"),taskId:r}}}),N(s,{trigger:!0}))}})}},b=e=>{var t,n;o.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:e,source:"boardViewsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}})},f=h.get("ecosystem.views-filtering",!1),_={name:"board",descriptionString:"board-view-description",icon:U,navigateTo:()=>{const e=j.getBoardUrl(this.model.id);if(N(e,{trigger:!0}),f){const t=this.model.filter.toQueryString();if(t)return history.replaceState(null,null,e+t)}},track:()=>b("boardViewDropdownItem"),isVisible:!0,isGA:!0,testId:P.BoardViewOption},k=g("ecosystem.calendar-view","stable")&&u,y=h.get("ecosystem.pups-views-transition",!1),E=!y,w={name:"calendar",descriptionString:"calendar-view-description",icon:M,showUpsell:!this.model.canEnableAdditionalPowerUps()&&!this.model.isPluginEnabled(G)&&!v,navigateTo:()=>m(G,"calendar"),track:()=>b("calendarViewDropdownItem"),isVisible:E&&!k&&p({isPowerUpEnabled:this.model.isPluginEnabled(G),isPowerUpAllowed:!e||e.isPluginAllowed(G)}),isGA:!0},C=!y||u,T={name:"map",descriptionString:"map-view-description",icon:V,showUpsell:!this.model.canEnableAdditionalPowerUps()&&!this.model.isPluginEnabled(Y)&&!v,navigateTo:()=>m(Y,"map"),track:()=>b("mapViewDropdownItem"),isVisible:C&&p({isPowerUpEnabled:this.model.isPluginEnabled(Y),isPowerUpAllowed:!e||e.isPluginAllowed(Y)}),isGA:!0,testId:P.MapViewOption},O=h.get("ecosystem.views-beta-phase-transition",!1),A=h.get("ecosystem.timeline-version","none");return[_,w,T,{name:"timeline",descriptionString:"timeline-view-description",icon:R,navigateTo:()=>{const e=j.getBoardUrl(this.model.id,"timeline");N(e,{trigger:!0})},track:()=>b("timelineViewDropdownItem"),isVisible:"none"!==A&&u,isBeta:!O,testId:P.TimelineViewOption},{name:"calendar-view",descriptionString:"calendar-view-description",icon:M,navigateTo:()=>{const e=j.getBoardUrl(this.model.id,"calendar-view");N(e,{trigger:!0})},track:()=>b("advancedCalendarViewDropdownItem"),isVisible:k,isBeta:!O,testId:P.CalendarViewOption},{name:"dashboard",descriptionString:"dashboard-view-description",icon:z,navigateTo:()=>{const e=j.getBoardUrl(this.model.id,"dashboard");N(e,{trigger:!0})},track:()=>b("dashboardViewDropdownItem"),isBeta:!O,isVisible:g("wildcard.board-dashboard-view","stable")&&u,testId:P.DashboardViewOption}]},e.exports.removeBoardViewsButton=function(){if(this.$(".js-board-views-btn-container").length)return k.unmountComponentAtNode(this.$(".js-board-views-btn-container")[0])},e.exports.loadPowerUpViewsButtonOptions=async function(){if(h.get("ecosystem.power-up-views",!1)){try{this.isLoadingPowerUpViews=!0;const e=await L.all({timeout:5e3,command:"board-views",board:this.model});this.powerUpViews=e}catch(e){console.warn("Failed to request Power-Up views.")}this.isLoadingPowerUpViews=!1,this.renderBoardViewsButton()}},e.exports.getPowerUpViewOptions=function(){return this.powerUpViews&&0!==this.powerUpViews.length?this.powerUpViews.map((e=>a(a({},e),{},{navigateTo:()=>{const t=j.getBoardUrl(this.model.id,"power-up",[e.idPlugin,"view",e.key]);N(t,{trigger:!0})}}))):[]},e.exports.showTimeline=function(){const e=h.get("ecosystem.timeline-version","none"),t=h.get("ecosystem.views-filtering",!1),n=this.model.isFeatureEnabled(B.Views);if("none"!==e&&n){this.$("#board").addClass("hide");const e=this.$(".js-board-view-container")[0];y(_.createElement(T,{idBoard:this.model.id,navigateToCard:(e,t)=>{j.showCardDetail(this.modelCache.get("Card",e),t)},closeView:()=>{const e=j.getBoardUrl(this.model.id);if(N(e,{trigger:!0}),t){const t=this.model.filter.toQueryString();if(t)return history.replaceState(null,null,e+t)}}}),e)}else{const e=j.getBoardUrl(this.model.id);N(e,{trigger:!0})}},e.exports.showCalendarView=function(){const e=g("ecosystem.calendar-view","stable"),t=h.get("ecosystem.views-filtering",!1),n=this.model.isFeatureEnabled(B.Views);if(e&&n){this.$("#board").addClass("hide");const e=this.$(".js-board-view-container")[0];y(_.createElement(O,{idBoard:this.model.id,navigateToCard:e=>{j.showCardDetail(this.modelCache.get("Card",e))},closeView:()=>{const e=j.getBoardUrl(this.model.id);if(N(e,{trigger:!0,shouldTrack:!1}),t){const t=this.model.filter.toQueryString();if(t)return history.replaceState(null,null,e+t)}}}),e)}else{const e=j.getBoardUrl(this.model.id);N(e,{trigger:!0,shouldTrack:!1})}},e.exports.closeSingleBoardView=function(){const e=this.$(".js-board-view-container")[0];k.unmountComponentAtNode(e),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced()},e.exports.renderButlerBoardButtons=function(){h.ready().then((()=>{const e=h.get("workflowers.new-butler-board-button",!1),t=this.$(".js-butler-header-btns")[0];this.model.editable()&&e?t&&y(_.createElement(D,{idBoard:this.model.id}),t):null!=t&&t.hasChildNodes()&&k.unmountComponentAtNode(t)})).catch((e=>{H(e,{tags:{ownershipArea:"trello-workflowers",feature:C.ButlerOnBoards}})}))},e.exports.navigateToAutomaticReports=function(e){const t=j.getBoardUrl(this.model.id,"butler/reports/".concat(e));N(t,{trigger:!0}),I.fExtraLarge||this.sidebarView.hideSidebar()},e.exports.showAutomaticReports=function(e){const t=this.model.id,n=this.$(".js-board-view-container")[0];this.$("#board").addClass("hide"),y(_.createElement(A,{reportType:e,idBoard:t,idOrganization:this.model.get("idOrganization"),boardName:this.model.get("name"),closeView:()=>$(t)}),n)},e.exports.closeAutomaticReports=$},"./app/scripts/views/board/board-view-invitation.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/react/index.js"),r=n("./packages/react-dom-wrapper/index.ts"),s=n("./node_modules/moment/moment.js"),o=n("./app/scripts/views/board/invite-acceptance-notification.js"),{Auth:l}=n("./app/scripts/db/auth.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./node_modules/underscore/underscore.js"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts");e.exports.closeInviteAcceptanceNotification=function(){return this.unmountInviteAcceptanceNotification()},e.exports.buildInviteAcceptanceNotification=function(e){return a.createElement(o,{members:e,onClose:()=>this.closeInviteAcceptanceNotification()})},e.exports.getNewlySignedUpInvitees=function(){const e=l.me().id,t=s(this.model.get("previousDateLastView")),n={};return this.model.memberList.models.forEach((e=>n[e.get("id")]=e)),this.model.get("memberships").reduce(((i,a)=>{const r=n[a.idMember];return r&&s(c.idToDate(r.id)).isAfter(t)&&r.get("idMemberReferrer")===e&&"normal"===r.get("memberType")?i.concat(r):i}),[])},e.exports.renderPopovers=function(){const e=this.model.orderedVisibleMembers(),t=this.getNewlySignedUpInvitees();!l.me().isDismissed("notify-invite-acceptance")&&0!==t.length&&!this.hasSeenInviteAcceptanceNotification?(this.renderInviteAcceptanceNotification(t,d.map(e,(e=>e.id))),t.forEach((function(e){return u.sendOperationalEvent({action:"rendered",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))):t.forEach((function(e){return u.sendOperationalEvent({action:"skipped",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))},e.exports.renderInviteAcceptanceNotification=function(e,t){let n="#member-count-notifications";if(1===e.length&&Array.from(t).includes(e[0].id)){const t="#".concat(e[0].id,"-avatar");n=null!=i(t).offset()?t:"#member-count"}this.unmountInviteAcceptanceNotification(),this.hasSeenInviteAcceptanceNotification=!0,this.inviteAcceptanceNotificationDiv=document.createElement("div"),this.$("#board-header-notification").append(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationComponent=r.render(this.buildInviteAcceptanceNotification(e),this.inviteAcceptanceNotificationDiv);const a=i(n);return i(".invite-acceptance-notification").css("left",a.offset().left-16),this},e.exports.unmountInviteAcceptanceNotification=function(){null!=this.inviteAcceptanceNotificationDiv&&(r.unmountComponentAtNode(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null)}},"./app/scripts/views/board/board-view-limit.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{TrelloStorage:a}=n("./packages/storage/index.ts"),r=n("./app/scripts/views/templates/board_header_warnings.js"),{filterByKeys:s,sort:o}=n("./app/scripts/lib/limits.js"),l=n("./app/scripts/lib/util/index.js");e.exports.renderBoardWarnings=function(){const e=this.$(".js-board-warnings"),t=o(s(this.model.get("limits"),["cards.openPerBoard","cards.totalPerBoard","checklists.perBoard","labels.perBoard","lists.openPerBoard","lists.totalPerBoard","attachments.perBoard"]).filter((e=>"ok"!==e.status))),n={"cards.openPerBoard":"open-cards-per-board-limit","cards.totalPerBoard":"total-cards-per-board-limit","checklists.perBoard":"checklists-per-board-limit","labels.perBoard":"labels-per-board-limit","lists.openPerBoard":"open-lists-per-board-limit","lists.totalPerBoard":"total-lists-per-board-limit","attachments.perBoard":"attachments-per-board-limit"},c=this.model.editable(),d=l.dateBefore({months:6}),u=t.map((function(e){const t=e.key,i="warn"===e.status?"warn":"disabled";return[t,{key:"".concat(n[e.key],"-").concat(i),test:()=>c,minDismiss:d}]})),p=e=>"BoardWarning-".concat(e,"-").concat(this.model.id),m=i.chain(u).filter((function(...e){const[t,{test:n,minDismiss:i}]=Array.from(e[0]);if(n()){const e=a.get(p(t));return!e||e<i}})).map((function(...e){const[t,{key:n}]=Array.from(e[0]);return{name:t,key:n,dismiss:p(t)}})).first().value();return i.chain(u).filter((function(...e){const[t,{test:n}]=Array.from(e[0]);return!n()&&null!=a.get(p(t))})).each((function(...e){const[t]=Array.from(e[0]);return a.unset(p(t))})).value(),m?e.removeClass("hide").html(r({canDismiss:a.isEnabled(),warning:m})):e.addClass("hide"),this}},"./app/scripts/views/board/board-view-list.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/views/lib/drag-sort.js");e.exports.openListComposer=function(){return this.model.viewState.openListComposer()},e.exports.scrollToList=function(e){i.scrollElementIntoView(this.$("#board")[0],this.viewForList(e).el,{horizontal:!0,animated:!0})},e.exports.viewForList=function(e){return this.listListView.viewForModel(e)},e.exports.postListListRender=function(){return this.renderFilteringStatus(),a.refreshListCardSortable()},e.exports.renderLists=function(){return this.listListView.$el.toggleClass("js-list-sortable",this.model.editable()),this.$(".board-canvas").append(this.listListView.el),this.listListView.render(),this.listListView.delegateEvents(),this},e.exports.sortCommit=(e,t)=>t.item.trigger("movelist",t)},"./app/scripts/views/board/board-view-member.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a,tracingCallback:r}=n("./packages/atlassian-analytics/index.ts"),{Auth:s}=n("./app/scripts/db/auth.js"),o=n("./app/scripts/views/member/member-board-profile-view.js"),l=n("./app/scripts/views/lib/dialog.js"),{Controller:c}=n("./app/scripts/controller/index.js"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/member-menu-profile/member-on-board-view.js");let p=n("./app/scripts/views/lib/drag-sort.js");const m=n("./app/scripts/lib/util/index.js");p=n("./app/scripts/views/lib/drag-sort.js");const h=n("./app/scripts/views/board/board-header-all-members-view.js"),{maybeDisplayMemberLimitsError:g}=n("./app/scripts/views/board-menu/member-limits-error.js"),b=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js");e.exports.onMemberAdd=function(){return this.renderBoardHeaderFacepileDebounced()},e.exports.renderBoardHeaderFacepile=function(){const e=this.$(".js-fill-facepile");let t=this.model.orderedVisibleMembers();const n=t.length;t=t.slice(0,5);const i=n-5;i>0?this.$(".js-fill-board-member-count").text("+".concat(i)):this.$(".js-fill-board-member-count").text("");let a=t.length;const r=Array.from(t).map((e=>this.subview(u,e,{board:this.model,zIndex:a--})));return e.length>0&&this.ensureSubviews(r,e),this.defer((()=>(this.model.isTemplate()||p.refreshDraggableSidebarMembers(),this.renderPopovers()))),this},e.exports.openAllMembers=function(e){m.stop(e),a.sendClickedButtonEvent({buttonName:"allBoardMembersButton",source:"boardScreen"});const t=this.getNewlySignedUpInvitees();return d.toggle({elem:this.$(".js-open-show-all-board-members"),view:h,options:{model:this.model,modelCache:this.modelCache,newInvitees:t}})},e.exports.openAddMembers=function(e){e&&m.stop(e);const t=this.$(".js-open-manage-board-members");if(g(t,this.model))return;a.sendClickedButtonEvent({buttonName:"inviteToBoardButton",source:"boardScreen"});const n=new b({model:this.model,modelCache:this.modelCache});n.loadOrgData(),d.toggle({elem:t,view:n})},e.exports.joinBoard=function(e){if(m.stop(e),a.sendClickedButtonEvent({buttonName:"joinBoardButton",source:"boardScreen"}),g(i(e.target),this.model,s.me()))return;const t=a.startTask({taskName:"edit-board/members/join",source:"boardScreen"});this.$(".js-join-board").remove(),this.model.joinBoard(t,r({taskName:"edit-board/members/join",source:"boardScreen",traceId:t},((e,n)=>{var i;n&&a.sendTrackEvent({action:"joined",actionSubject:"board",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model.getOrganization())||void 0===i?void 0:i.id}},attributes:{taskId:t}})})))},e.exports.showMemberProfile=function(e){c.saveMemberBoardProfileLocation(e,this.model.id),l.show({view:new o({model:e,board:this.model,modelCache:this.modelCache}),maxWidth:500,hide:()=>c.setBoardLocation(this.model.id)})}},"./app/scripts/views/board/board-view-name.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{Analytics:a,tracingCallback:r}=n("./packages/atlassian-analytics/index.ts"),{getKey:s,Key:o}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/lib/util/index.js"),{Controller:c}=n("./app/scripts/controller/index.js"),{removeAllRanges:d}=n("./app/scripts/lib/util/removeAllRanges.js");e.exports.saveBoardName=function(e){const t=this.$(".js-board-name-input"),n=t&&t.val().trim();if(""===n)return void t.focus().select();const i=a.startTask({taskName:"edit-board/name",source:"boardScreen"});this.model.update({traceId:i,name:n},r({taskName:"edit-board/name",traceId:i,source:"boardScreen"},((e,t)=>{t&&a.sendUpdatedBoardFieldEvent({field:"name",source:"boardScreen",containers:{board:{id:this.model.id}},attributes:{taskId:i}})})))},e.exports.keyDownEvent=function(e){if(s(e)===o.Enter)return l.stop(e),void this.stopRenaming();s(e)!==o.Escape||this.stopRenaming()},e.exports.onInputChanged=function(e){const t=this.$el.find(".js-board-name-input")[0];t.style.width="0";let n=t.offsetWidth;t.scrollLeft=1e10,n+=t.scrollLeft;const i=this.$el.find(".js-board-header")[0].offsetWidth-24,a=n<i?n:i;t.style.width=a+"px"},e.exports.startRenaming=function(e){if(l.stop(e),this.isEditingName)return;const t=this.$el.find(".js-rename-board")[0];if(!t)return;const n=t.offsetWidth;i.defer((()=>(this.$(".js-rename-board").addClass("is-editing"),this.$(".js-board-name-input").val(this.model.get("name")).css("width",n).focus().select()))),this.isEditingName=!0,a.sendUIEvent({action:"clicked",actionSubject:"input",actionSubjectId:"boardNameInput",source:"boardScreen",containers:{board:{id:this.model.id}}})},e.exports.stopRenaming=function(e){if(!this.isEditingName)return;const t=this.$(".js-rename-board").removeClass("is-editing");t.is(":focus")&&t.blur(),d(),this.isEditingName=!1,this.saveBoardName()},e.exports.updateControllerTitle=function(){return c.title(this.model.get("name"))}},"./app/scripts/views/board/board-view-notifications.js":function(e,t){function n(e,t){return null!=e?t(e):void 0}e.exports.markRelatedNotificationsRead=function(){const e=e=>e.get("unread")&&null==n(e.get("data"),(e=>e.card))&&n(e.get("data").board,(e=>e.id))===this.model.get("id");for(const t of Array.from(this.modelCache.all("Notification")))e(t)&&t.markRead()}},"./app/scripts/views/board/board-view-onboarding.js":function(e,t,n){const i=n("./app/scripts/views/board/invitee-orientation-view.js");e.exports.renderInviteeOrientation=function(){this.$(".board-canvas").append('<div class="invitee-orientation-mount-point"></div>');const e=this.subview(i,this.model,{modelCache:this.modelCache});return this.ensureSubview(e,this.$(".invitee-orientation-mount-point"))}},"./app/scripts/views/board/board-view-open-close-delete.js":function(e,t,n){const i=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/views/board/reopen-board-popover-view.js"),s=n("./app/scripts/views/lib/confirm.js"),{Analytics:o,tracingCallback:l}=n("./packages/atlassian-analytics/index.ts");e.exports.reopen=function(e){i.stop(e);const t=this.model.getOrganization();return this.model.getNewBillableGuests().then((({newBillableGuests:e,availableLicenseCount:n})=>{if(e.length>0)return a.show({elem:this.$(".js-reopen"),view:new r({board:this.model,org:t,newBillableGuests:e,availableLicenseCount:n})});{const e=o.startTask({taskName:"edit-board/closed",source:"closedBoardScreen"});return this.model.reopen({traceId:e},l({taskName:"edit-board/closed",source:"closedBoardScreen",traceId:e},(t=>{var n;t||o.sendTrackEvent({action:"reopened",actionSubject:"board",source:"closedBoardScreen",containers:{board:{id:this.model.id},organization:{id:null===(n=this.model.getOrganization())||void 0===n?void 0:n.id}},attributes:{taskId:e}})})))}}))},e.exports._delete=function(e){return i.stop(e),s.toggle("delete board",{elem:e.target,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{const t=o.startTask({taskName:"delete-board",source:"closedBoardScreen"});return this.model.startDelete(t,l({taskName:"delete-board",source:"closedBoardScreen",traceId:t},(e=>{var n;e||o.sendTrackEvent({action:"deleted",actionSubject:"board",source:"closeBoardScreen",containers:{board:{id:this.model.id},organization:{id:null===(n=this.model.getOrganization())||void 0===n?void 0:n.id}},attributes:{taskId:t}})})))}})}},"./app/scripts/views/board/board-view-organization.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/board/board-header-org-menu-view.js"),o=n("./app/scripts/lib/util/index.js");e.exports.renderOrgChanges=function(){return this.model.get("closed")?this.renderClosed():this.renderBoardHeader()},e.exports.refreshOrganization=function(){const e=this.modelCache.get("Organization",this.model.previous("idOrganization")),t=this.model.getOrganization();if(null!=e&&this.stopListening(e),null!=t)for(const e of["name","logoHash","displayName","limits","products"])this.listenTo(t,"change:".concat(e),this.frameDebounce(this.renderOrgChanges));return this.renderOrgChanges()},e.exports.openOrgMenu=function(e){o.stop(e),a.sendClickedButtonEvent({buttonName:"boardOrganizationButton",source:"boardScreen"}),r.toggle({elem:i(e.target).closest("a"),view:new s({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-permission.js":function(e,t,n){const{Controller:i}=n("./app/scripts/controller/index.js"),a=n("./app/scripts/views/internal/board-display-helpers.js"),r=n("./app/scripts/views/templates/board_header_permissions.js"),{l:s}=n("./app/scripts/lib/localize.js"),{Auth:o}=n("./app/scripts/db/auth.js"),l=n("./app/scripts/lib/util/index.js"),{Analytics:c}=n("./packages/atlassian-analytics/index.ts"),d=n("./app/scripts/views/board-menu/change-board-visibility-view.js"),u=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/views/board-menu/board-add-to-organization-view.js");e.exports.permChange=function(e){"none"===e?i.memberHomePage():(this.render(),this.model.editable()||this.model.composer.save("vis",!1))},e.exports.renderPermissionLevel=function(){const e=this.$("#permission-level"),t={permIconClass:a.getPermLevelIconClassForBoard(this.model),permText:s(["board perms",this.model.getPermLevel(),"name"])};e.html(r(t)),this.model.isTemplate()?e.attr("title",a.getPermLevelAltTextForTemplate(this.model)):e.attr("title",a.getPermLevelAltTextForBoard(this.model));const n=this.model.canInvite(o.me());return this.$(".js-manage-board-members").toggle(n),this},e.exports.changeVis=function(e){l.stop(e),c.sendClickedButtonEvent({buttonName:"changeBoardVisibilityButton",source:"boardScreen"}),u.toggle({elem:this.$(".js-change-vis"),view:d,options:{model:this.model,modelCache:this.modelCache}})},e.exports.addBoardToTeam=function(e){return l.stop(e),c.sendClickedButtonEvent({buttonName:"changeBoardOrganizationButton",source:"boardScreen"}),u.toggle({elem:this.$(".js-add-board-to-team"),view:p,options:{model:this.model,modelCache:this.modelCache}})}},"./app/scripts/views/board/board-view-sidebar.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./packages/browser/index.ts"),r=n("./app/scripts/views/lib/drag-sort.js"),{Controller:s}=n("./app/scripts/controller/index.js"),{Auth:o}=n("./app/scripts/db/auth.js"),l=n("./app/scripts/views/internal/templates.js"),c=n("./app/scripts/lib/util/index.js");e.exports._applySettings=function(){if(null==this.options.settings)return;const{menu:e,filter:t}=this.options.settings;switch(e){case"closed":this.model.viewState.setShowSidebar(!1);break;case"filter":case"activity":this.sidebarViewPromise.then((()=>(this.setSidebarShow(),this.sidebarView.pushView(e))))}return t?this.model.filter.fromQueryString(t):void 0},e.exports.renderOpen=function(){this.showSidebarOnOpen();const e={};e.url=s.getBoardUrl(this.model);for(const t of Array.from(this.model.prefNames.concat(this.model.myPrefNames)))e["".concat(t,"_").concat(this.model.getPref(t))]=!0;e.canJoin=this.model.canJoin(),e.canInviteMembers=this.model.canInviteMembers(),e.confirmed=o.me().get("confirmed"),this.listListView.$el.detach(),this.$el.html(l.fillFromModel(n("./app/scripts/views/templates/board.js"),this.model,{isCollapsedWorkspaceNav:this.workspaceNavState.enabled&&!this.workspaceNavState.expanded})),this.renderBoardHeader(),this.renderBoardWarnings(),this.renderBoardBackground(),this.model.viewState.get("showSidebar")&&this.$el.addClass("is-show-menu"),this.sidebarViewPromise.then((()=>(this.appendSubview(this.sidebarView,this.$(".js-fill-board-menu")),this.renderSidebarState()))),this.renderLists(),this.renderInviteeOrientation(),s.setLocation({title:e.name}),this.defer((()=>(this.$("#board").unbind("mousedown.dragscrollable").dragscrollable({fxIgnore(e){const t=i(e.target).closest("#board"),n=e.offsetY>t.height()-11,a=i(e.target).closest(".js-list-content").length>0,r=i(e.target).closest(".js-add-list").length>0;return n||a||r}}),r.refreshListSortable())))},e.exports._shouldCloseBoardMenu=function(){const e=new Date-c.idToDate(this.model.id)<18e4;return this.shouldCloseBoardMenu||!o.me().isDismissed("close-menu-of-first-board")||e&&this.model.isFirstOwnedBoard()},e.exports._isFirstBoardEverLoaded=function(){return!o.me().isDismissed("close-menu-of-first-board")&&!this.model.isWelcomeBoard()},e.exports._isGhostUsingInviteLink=function(){return c.hasValidInviteTokenFor(this.model)},e.exports.removeSidebarDisplayTypes=function(){this.$el.removeClass("sidebar-display-wide")},e.exports.renderSidebarDisplayType=function(){const e=this.model.viewState.getSidebarDisplayType();this.$el.addClass(e)},e.exports.showSidebarOnOpen=function(){const e=this.model.viewState.getShowSidebarFromPref()||o.me().get("notLoggedIn"),t=!!this.model.get("desc"),n=this.model.isMember(o.me());return this.model.isPublic()&&!n&&t&&e&&!a.isTouch()?this.model.viewState.set("showSidebar",!0):this._shouldCloseBoardMenu()||a.isTouch()?(this.model.viewState.set("showSidebar",!1),this._isFirstBoardEverLoaded()&&!this._isGhostUsingInviteLink()&&(this.shouldCloseBoardMenu=!0,o.isLoggedIn())?o.me().dismiss("close-menu-of-first-board"):void 0):this.model.viewState.setShowSidebarFromPref()},e.exports.renderSidebarState=function(){this.renderSidebarDisplayType(),this.model.viewState.get("showSidebar")?this.showSidebar():this.hideSidebar()},e.exports.toggleSidebar=function(){return this.model.viewState.setShowSidebar(!this.model.viewState.get("showSidebar"))},e.exports.setSidebarShow=function(){this.model.viewState.setShowSidebar(!0),this.shouldCloseboardMenu=!1},e.exports.showSidebar=function(){this.renderSidebarDisplayType(),this.unmountTeamOnboardingPupTooltip(),clearTimeout(this._sidebarHideTimeout),this.$(".js-fill-board-menu").removeClass("hide"),this.defer((()=>this.$el.addClass("is-show-menu"))),this.sidebarViewPromise.then((()=>this.sidebarView.sendDrawerScreenEvent(this.sidebarView.topSidebarViewName(),"showSidebar")))},e.exports.hideSidebar=function(){this.$el.removeClass("is-show-menu"),clearTimeout(this._sidebarHideTimeout),this._sidebarHideTimeout=this.setTimeout((()=>{this.$(".js-fill-board-menu").addClass("hide")}),250)}},"./app/scripts/views/board/board-view-team-onboarding-pups.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:r}=n("./app/src/components/ComponentWrapper/index.ts"),{sendErrorEvent:s}=n("./packages/error-reporting/index.ts"),{Feature:o}=n("./app/scripts/debug/constants.ts"),{LazyTeamOnboardingPupPopover:l,LazyTeamOnboardingPupTooltip:c}=n("./app/src/components/BusinessClassTeamOnboardingPupPopover/index.ts");e.exports.unmountTeamOnboardingPupPopover=function(){if(null!=this.teamOnboardingPupPopoverDiv)return a.unmountComponentAtNode(this.teamOnboardingPupPopoverDiv)},e.exports.unmountTeamOnboardingPupTooltip=function(){if(null!=this.teamOnboardingPupTooltipDiv)return a.unmountComponentAtNode(this.teamOnboardingPupTooltipDiv)},e.exports.renderTeamOnboardingPupTooltip=function(){if(!this.model.viewState.get("showSidebar"))return setTimeout((()=>{const e=i.createElement(c,{onDismiss:()=>this.unmountTeamOnboardingPupTooltip()});return this.teamOnboardingPupTooltipDiv=document.createElement("div"),$(this.teamOnboardingPupTooltipDiv).insertAfter(".js-show-sidebar"),a.render(e,this.teamOnboardingPupTooltipDiv)}),1e3)},e.exports.renderTeamOnboardingPupPopover=function(){try{const e=this.model.getOrganization();if(null==e)return;if(null==this.teamOnboardingPupPopoverDiv){const e=this.$("#team-onboarding-pup-popover-target")[0];null!=e?this.teamOnboardingPupPopoverDiv=e:(this.$(".board-main-content").append("<div id='team-onboarding-pup-popover-target'></div>"),this.teamOnboardingPupPopoverDiv=this.$("#team-onboarding-pup-popover-target")[0])}const t=this.model.get("id");return r(i.createElement(l,{orgId:e.id,boardId:t,onShowPowerUps:()=>this.toggleDirectory(),onDismissed:()=>this.renderTeamOnboardingPupTooltip()}),this.teamOnboardingPupPopoverDiv)}catch(e){s(e,{tags:{ownershipArea:"trello-bizteam",feature:o.TeamOnboarding},extraData:{component:"board-view-team-onboarding-pups"}})}}},"./app/scripts/views/board/board-view-template.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/react/index.js"),s=n("./packages/react-dom-wrapper/index.ts"),{BoardTemplateBadge:o}=n("./app/src/components/BoardTemplateBadge/index.ts");e.exports.isTemplate=function(){return this.templateFlagEnabled&&this.model.isTemplate()},e.exports.renderBoardTemplateReactSection=function(){return i(".js-board-template-badge").append(this.boardTemplateBadgeDiv),s.render(this.boardTemplateBadgeComponent,this.boardTemplateBadgeDiv)},e.exports.renderBoardTemplateBadge=function(){if(!this.model.isTemplate())return void(this.boardTemplateBadgeDiv&&(s.unmountComponentAtNode(this.boardTemplateBadgeDiv),this.boardTemplateBadgeDiv=null,this.boardTemplateBadgeComponent=null));return null!=this.boardTemplateBadgeDiv&&null!=this.boardTemplateBadgeComponent?this.renderBoardTemplateReactSection():a.defer((()=>(this.boardTemplateBadgeComponent=r.createElement(o,null),this.boardTemplateBadgeDiv=document.createElement("div"),this.renderBoardTemplateReactSection())))}},"./app/scripts/views/board/board-view-unsubscribe.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/lib/confirm.js");e.exports.openUnsubscribe=function(e){r.stop(e),s.toggle("unwatch",{elem:i(e.target).closest(".js-board-header-subscribed")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{if(!1===this.model.get("subscribed"))return;const t=a.startTask({taskName:"edit-board/subscribed",source:"boardScreen"});return this.model.subscribeWithTracing(!1,{taskName:"edit-board/subscribed",source:"boardScreen",traceId:t,next:e=>{e||a.sendTrackEvent({action:"unsubscribed",actionSubject:"board",source:"boardScreen",containers:{board:{id:this.model.id}},attributes:{taskId:t}})}})}})}},"./app/scripts/views/board/board-view.js":function(e,t,n){const{importWithRetry:i}=n("./packages/use-lazy-component/index.ts"),a=n("./packages/jquery/index.js"),r=n("./node_modules/react/index.js"),{renderComponent:s}=n("./app/src/components/ComponentWrapper/index.ts"),{sendChunkLoadErrorEvent:o}=n("./packages/error-reporting/index.ts"),{Analytics:l}=n("./packages/atlassian-analytics/index.ts"),{Auth:c}=n("./app/scripts/db/auth.js"),{Controller:d}=n("./app/scripts/controller/index.js"),u=n("./app/scripts/views/lib/dialog.js"),p=n("./app/scripts/views/lib/drag-sort.js"),{getKey:m,Key:h,registerShortcutHandler:g,Scope:b,unregisterShortcutHandler:v}=n("./packages/keybindings/index.ts"),{LabelState:f}=n("./app/scripts/view-models/label-state.js"),_=n("./app/scripts/views/lib/layout.js"),k=n("./app/scripts/views/list/list-list-view.js"),y=n("./app/scripts/views/lib/pop-over.js"),{TrelloStorage:E}=n("./packages/storage/index.ts"),w=n("./app/scripts/lib/util/index.js"),C=n("./app/scripts/views/internal/view.js"),{BoardClosed:T}=n("./app/scripts/views/templates/BoardClosed.js"),O=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),{featureFlagClient:j}=n("./packages/feature-flag-client/index.ts"),{workspaceNavigationState:A,workspaceNavigationHiddenState:x}=n("./app/src/components/WorkspaceNavigation/index.ts"),{BoardSidebarLoadingError:N}=n("./app/src/components/BoardSidebarLoadingError/index.ts"),S=n("./packages/browser/index.ts").isDesktop(),{undoAction:I,redoAction:D}=n("./app/scripts/lib/last-action/index.ts"),{renderTeamOnboardingPupPopover:B,renderTeamOnboardingPupTooltip:P,unmountTeamOnboardingPupPopover:F,unmountTeamOnboardingPupTooltip:L}=n("./app/scripts/views/board/board-view-team-onboarding-pups.js"),{renderGettingStartedTip:M,unmountGettingStartedTip:R}=n("./app/scripts/views/board/board-view-getting-started-tip.tsx"),{onMemberAdd:V,renderBoardHeaderFacepile:U,openAllMembers:z,openAddMembers:H,joinBoard:W,showMemberProfile:Y}=n("./app/scripts/views/board/board-view-member.js"),{getAllBackgroundClasses:K,defaultBoardBackground:G,clearBoardBackground:$,renderBoardBackground:q,renderBoardHeaderSubscribed:X}=n("./app/scripts/views/board/board-view-background.js"),{isTemplate:Q,renderBoardTemplateReactSection:J,renderBoardTemplateBadge:Z}=n("./app/scripts/views/board/board-view-template.js"),{_applySettings:ee,renderOpen:te,_shouldCloseBoardMenu:ne,_isFirstBoardEverLoaded:ie,_isGhostUsingInviteLink:ae,removeSidebarDisplayTypes:re,renderSidebarDisplayType:se,showSidebarOnOpen:oe,renderSidebarState:le,toggleSidebar:ce,setSidebarShow:de,showSidebar:ue,hideSidebar:pe}=n("./app/scripts/views/board/board-view-sidebar.js"),{permChange:me,renderPermissionLevel:he,changeVis:ge,addBoardToTeam:be}=n("./app/scripts/views/board/board-view-permission.js"),{openListComposer:ve,scrollToList:fe,viewForList:_e,postListListRender:ke,renderLists:ye,sortCommit:Ee}=n("./app/scripts/views/board/board-view-list.js"),{openCardComposerInFirstList:we,scrollToCard:Ce,preventScrollSelection:Te,moveCard:Oe,dblClickAddListMenu:je,_insertCardPosition:Ae,moveCardRequested:xe,copyCardRequested:Ne}=n("./app/scripts/views/board/board-view-card.js"),{markRelatedNotificationsRead:Se}=n("./app/scripts/views/board/board-view-notifications.js"),{renderInviteeOrientation:Ie}=n("./app/scripts/views/board/board-view-onboarding.js"),{renderOrgChanges:De,refreshOrganization:Be,openOrgMenu:Pe}=n("./app/scripts/views/board/board-view-organization.js"),{renderBoardWarnings:Fe}=n("./app/scripts/views/board/board-view-limit.js"),{openUnsubscribe:Le}=n("./app/scripts/views/board/board-view-unsubscribe.js"),{reopen:Me,_delete:Re}=n("./app/scripts/views/board/board-view-open-close-delete.js"),{copyBoard:Ve}=n("./app/scripts/views/board/board-view-copy.js"),{onWorkspacesPreambleCreateTeamSuccess:Ue,renderWorkspacesPreambleBoardHeaderButton:ze,unmountWorkspacesPreambleBoardHeaderButton:He,renderWorkspacesPreambleInviteButton:We,unmountWorkspacesPreambleInviteButton:Ye,renderWorkspacesAutoNameAlert:Ke,unmountWorkspacesAutoNameAlert:Ge}=n("./app/scripts/views/board/board-view-collaboration.js"),{reloadCustomFields:$e,renderPluginButtons:qe,renderBoardHeaderCalendar:Xe,navigateToBoard:Qe,closeDetailView:Je,clickCloseDirectory:Ze,toggleDirectory:et,navigateToDirectory:tt,showDirectory:nt,closeDirectory:it,toggleCalendar:at,dismissFeedback:rt,navigateToCalendarEvent:st,navigateToCalendar:ot,navigateToBoardEvent:lt,isShowingCalendar:ct,showCalendar:dt,closeCalendar:ut,toggleFilter:pt,showFilter:mt,closeFilter:ht,toggleMap:gt,navigateToMapEvent:bt,navigateToMap:vt,showMap:ft,closeMap:_t,renderBoardHeaderMap:kt,showDashboard:yt,isButlerViewActive:Et,toggleButler:wt,toggleButlerView:Ct,showButlerView:Tt,setButlerView:Ot,navigateToButlerView:jt,navigateToButler:At,showButler:xt,closeButler:Nt,showPowerUpView:St,closePowerUpView:It}=n("./app/scripts/views/plugin/plugin-board-view.js"),{renderBoardHeader:Dt,renderBoardHeaderStarred:Bt,toggleStarred:Pt,openFilter:Ft,clearFilters:Lt,showCleanUp:Mt,renderBoardViewsButton:Rt,renderBoardHeaderFilterButton:Vt,getBoardViewsButtonOptions:Ut,loadPowerUpViewsButtonOptions:zt,getPowerUpViewOptions:Ht,removeBoardViewsButton:Wt,showTimeline:Yt,showCalendarView:Kt,closeSingleBoardView:Gt,renderButlerBoardButtons:$t,navigateToAutomaticReports:qt,showAutomaticReports:Xt,closeAutomaticReports:Qt}=n("./app/scripts/views/board/board-view-header.js"),{saveBoardName:Jt,keyDownEvent:Zt,onInputChanged:en,startRenaming:tn,stopRenaming:nn,updateControllerTitle:an}=n("./app/scripts/views/board/board-view-name.js"),{closeInviteAcceptanceNotification:rn,buildInviteAcceptanceNotification:sn,getNewlySignedUpInvitees:on,renderPopovers:ln,renderInviteAcceptanceNotification:cn,unmountInviteAcceptanceNotification:dn}=n("./app/scripts/views/board/board-view-invitation.js"),un=j.getTrackedVariation("board-header-filtering-experiment",!1),pn=j.get("ecosystem.board-header-filter",!1),mn=j.get("ecosystem.views-filtering",!1);class hn extends C{static initClass(){this.prototype.className="board-wrapper",this.prototype.displayName="BoardView",this.prototype.events={sortcommit:"sortCommit","keydown .js-board-name-input":"keyDownEvent","input .js-board-name-input":"onInputChanged","change .js-board-name-input":"onInputChanged","blur .js-board-name-input":"stopRenaming","click .js-board-editing-target":"startRenaming","click .js-open-org-menu":"openOrgMenu","click .js-add-board-to-team:not(.no-edit)":"addBoardToTeam","click .js-change-vis":"changeVis","click .js-close-calendar":"toggleCalendar","click .js-calendar":"toggleCalendar","click .js-disable-feedback":"dismissFeedback","click .js-close-map":"toggleMap","click .js-map-btn":"toggleMap","click .js-header-filter-btn":"toggleFilter","click .js-close-filter":"toggleFilter","click .js-close-dashboard":"navigateToBoard","click .js-filter-cards-indicator":"openFilter","click .js-filter-card-clear":"clearFilters","click .js-board-header-subscribed":"openUnsubscribe","click .js-star-board":"toggleStarred","click .js-show-sidebar"(e){return l.sendClickedLinkEvent({linkName:"boardMenuDrawerToggleLink",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:gn(this.model.getOrganization(),(e=>e.id))}}}),this.setSidebarShow()},"click .js-dismiss-warning"(e){return E.set(this.$(e.currentTarget).attr("data-dismiss"),Date.now()),this.renderBoardWarnings()},"dblclick #board":"dblClickAddListMenu","click #board":"blurInputsOnBoardClick","click .js-reopen":"reopen","click .js-delete":"delete","click .js-clean-up":"showCleanUp","prevent-scroll-selection":"preventScrollSelection","click .js-close-directory":"clickCloseDirectory","click .js-copy-board":"copyBoard","click .js-open-show-all-board-members":"openAllMembers","click .js-open-manage-board-members":"openAddMembers","click .js-join-board":"joinBoard"},this.prototype.onMemberAdd=V,this.prototype.isTemplate=Q,this.prototype.renderBoardTemplateReactSection=J,this.prototype.renderBoardTemplateBadge=Z,this.prototype._applySettings=ee,this.prototype.permChange=me,this.prototype.openListComposer=ve,this.prototype.openCardComposerInFirstList=we,this.prototype.scrollToList=fe,this.prototype.viewForList=_e,this.prototype.scrollToCard=Ce,this.prototype.preventScrollSelection=Te,this.prototype.markRelatedNotificationsRead=Se,this.prototype.moveCard=Oe,this.prototype.renderTeamOnboardingPupPopover=B,this.prototype.renderTeamOnboardingPupTooltip=P,this.prototype.unmountTeamOnboardingPupPopover=F,this.prototype.unmountTeamOnboardingPupTooltip=L,this.prototype.renderGettingStartedTip=M,this.prototype.unmountGettingStartedTip=R,this.prototype._shouldCloseBoardMenu=ne,this.prototype._isFirstBoardEverLoaded=ie,this.prototype._isGhostUsingInviteLink=ae,this.prototype.renderOpen=te,this.prototype.removeSidebarDisplayTypes=re,this.prototype.renderSidebarDisplayType=se,this.prototype.showSidebarOnOpen=oe,this.prototype.renderSidebarState=le,this.prototype.toggleSidebar=ce,this.prototype.setSidebarShow=de,this.prototype.showSidebar=ue,this.prototype.hideSidebar=pe,this.prototype.renderOrgChanges=De,this.prototype.refreshOrganization=Be,this.prototype.reloadCustomFields=$e,this.prototype.renderBoardHeader=Dt,this.prototype.renderBoardWarnings=Fe,this.prototype.renderPluginButtons=qe,this.prototype.renderBoardHeaderStarred=Bt,this.prototype.toggleStarred=Pt,this.prototype.renderBoardHeaderCalendar=Xe,this.prototype.getAllBackgroundClasses=K,this.prototype.defaultBoardBackground=G,this.prototype.clearBoardBackground=$,this.prototype.renderBoardBackground=q,this.prototype.renderBoardHeaderSubscribed=X,this.prototype.renderBoardViewsButton=Rt,this.prototype.getBoardViewsButtonOptions=Ut,this.prototype.loadPowerUpViewsButtonOptions=zt,this.prototype.getPowerUpViewOptions=Ht,this.prototype.removeBoardViewsButton=Wt,this.prototype.saveBoardName=Jt,this.prototype.keyDownEvent=Zt,this.prototype.onInputChanged=en,this.prototype.startRenaming=tn,this.prototype.stopRenaming=nn,this.prototype.openOrgMenu=Pe,this.prototype.renderPermissionLevel=he,this.prototype.postListListRender=ke,this.prototype.renderLists=ye,this.prototype.sortCommit=Ee,this.prototype.closeInviteAcceptanceNotification=rn,this.prototype.buildInviteAcceptanceNotification=sn,this.prototype.getNewlySignedUpInvitees=on,this.prototype.renderPopovers=ln,this.prototype.renderInviteAcceptanceNotification=cn,this.prototype.unmountInviteAcceptanceNotification=dn,this.prototype.renderBoardHeaderFacepile=U,this.prototype.openAllMembers=z,this.prototype.openAddMembers=H,this.prototype.joinBoard=W,this.prototype.changeVis=ge,this.prototype.addBoardToTeam=be,this.prototype.toggleCalendar=at,this.prototype.dismissFeedback=rt,this.prototype.navigateToCalendarEvent=st,this.prototype.navigateToCalendar=ot,this.prototype.navigateToBoardEvent=lt,this.prototype.navigateToBoard=Qe,this.prototype.isShowingCalendar=ct,this.prototype.toggleMap=gt,this.prototype.toggleFilter=pt,this.prototype.showFilter=mt,this.prototype.closeFilter=ht,this.prototype.navigateToMapEvent=bt,this.prototype.navigateToMap=vt,this.prototype.isButlerViewActive=Et,this.prototype.toggleButler=wt,this.prototype.toggleButlerView=Ct,this.prototype.showButlerView=Tt,this.prototype.setButlerView=Ot,this.prototype.navigateToButler=At,this.prototype.navigateToButlerView=jt,this.prototype.showMemberProfile=Y,this.prototype.showCalendar=dt,this.prototype.showMap=ft,this.prototype.showPowerUpView=St,this.prototype.closePowerUpView=It,this.prototype.showDashboard=yt,this.prototype.showButler=xt,this.prototype.closeDetailView=Je,this.prototype.closeCalendar=ut,this.prototype.closeMap=_t,this.prototype.closeButler=Nt,this.prototype.clickCloseDirectory=Ze,this.prototype.toggleDirectory=et,this.prototype.navigateToDirectory=tt,this.prototype.showDirectory=nt,this.prototype.closeDirectory=it,this.prototype.showTimeline=Yt,this.prototype.showCalendarView=Kt,this.prototype.closeSingleBoardView=Gt,this.prototype.renderBoardHeaderFilterButton=Vt,this.prototype.openFilter=Ft,this.prototype.clearFilters=Lt,this.prototype.openUnsubscribe=Le,this.prototype.dblClickAddListMenu=je,this.prototype.reopen=Me,this.prototype.delete=Re,this.prototype.updateControllerTitle=an,this.prototype.copyBoard=Ve,this.prototype._insertCardPosition=Ae,this.prototype.moveCardRequested=xe,this.prototype.copyCardRequested=Ne,this.prototype.showCleanUp=Mt,this.prototype.renderInviteeOrientation=Ie,this.prototype.renderBoardHeaderMap=kt,this.prototype.unmountWorkspacesPreambleBoardHeaderButton=He,this.prototype.renderWorkspacesPreambleBoardHeaderButton=ze,this.prototype.onWorkspacesPreambleCreateTeamSuccess=Ue,this.prototype.renderWorkspacesPreambleInviteButton=We,this.prototype.unmountWorkspacesPreambleInviteButton=Ye,this.prototype.renderWorkspacesAutoNameAlert=Ke,this.prototype.unmountWorkspacesAutoNameAlert=Ge,this.prototype.renderButlerBoardButtons=$t,this.prototype.navigateToAutomaticReports=qt,this.prototype.showAutomaticReports=Xt,this.prototype.closeAutomaticReports=Qt}constructor({headerBranding:e}){var t,n,i;super(...arguments),i=e=>{const t=[h.f,h.q,h.x],n=m(e);if(d.showingBoardView()&&(!mn||!t.includes(n)))return;const i=this.model.editable(),r=c.isLoggedIn(),s=(e,{shortcutKey:t=n,toggleValue:i}={})=>{let a="boardScreen";d.showingTimeline()&&(a="timelineViewScreen"),d.showingCalendarView()&&(a="calendarViewScreen"),l.sendPressedShortcutEvent({shortcutName:e,source:a,keyValue:t,containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")},enterprise:{id:this.model.get("idEnterprise")}},attributes:{toggleValue:void 0!==i?i.toLowerCase():void 0}})};switch(n){case h.f:return void(pn||this.toggleFilter());case h.q:return void(r&&(this.model.filter.toggleQuietMode(),e.preventDefault(),s("myCardsShortcut")));case h.x:return this.model.filter.clear(),e.preventDefault(),void s("clearAllFiltersShortcut");case h.ClosedBracket:case h.w:return this.toggleSidebar(),e.preventDefault(),void s("toggleBoardMenuDrawerShortcut",{toggleValue:this.model.viewState.get("showSidebar")?"show":"hide"});case h.SemiColon:{const t=f.getShowText();return f.toggleText(),e.preventDefault(),void s("toggleLabelTextShortcut",{toggleValue:t?"hide":"show"})}case h.ArrowDown:case h.j:return this.moveCard("down"),e.preventDefault(),void s("moveDownShortcut");case h.ArrowUp:case h.k:return this.moveCard("up"),e.preventDefault(),void s("moveUpShortcut");case h.ArrowRight:return this.moveCard("right"),e.preventDefault(),void s("moveRightShortcut");case h.ArrowLeft:return this.moveCard("left"),e.preventDefault(),void s("moveLeftShortcut");case h.n:if(i){const t=this.model.viewState.getList(),n=this.model.viewState.getCard();if(null!=t){const i=null!=n?t.openCards().indexOf(n)+1:t.openCards().length;this.model.composer.save({list:t,index:i,vis:!0}),e.preventDefault(),s("insertCardShortcut")}}return;case h.z:case h.Z:return void(i&&(e.preventDefault(),e.shiftKey?(D({source:"boardScreen",idBoard:this.model.id}),s("redoActionShortcut",{shortcutKey:"Shift+Z"})):(I({source:"boardScreen",idBoard:this.model.id}),s("undoActionShortcut"))));case h.Escape:return void(i&&(p.sorting?p.abort():_.isEditing()||y.isVisible||u.isVisible||(this.model.composer.get("vis")?this.model.composer.save("vis",!1):this.model.viewState.get("listComposerOpen")?this.model.viewState.set("listComposerOpen",!1):this.sidebarViewPromise.then((()=>this.sidebarView.popView()))),d.showingCalendar(this)&&a(".calendar-day.active").removeClass("active"),e.preventDefault()));default:return}},(n="onShortcut")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.headerBranding=e,this.onShortcut=this.onShortcut.bind(this),this.renderTemplateTips=this.renderTemplateTips.bind(this),this.isLoadingPowerUpViews=!0,this.powerUpViews=[],g(this.onShortcut,{scope:b.Board})}initialize(){super.initialize(...arguments);this.sidebarViewPromise=i((()=>n.e(40).then(n.t.bind(null,"./app/scripts/views/board-menu/board-sidebar-view.js",7)))).then((e=>this.sidebarView=this.subview(e.default,this.model,{boardView:this})).bind(this)).catch((function(e){if("ChunkLoadError"!==e.name)throw e;{o(e);const t=a(".board-menu")[0];if(t)return s(r.createElement(N,null),t)}})),this.workspaceNavState=A.value;const e=()=>{this.workspaceNavState=A.value,!A.value.enabled||x.value.hidden||A.value.expanded?(a("#board").removeClass("collapsed-workspace-nav"),a(".js-board-header").removeClass("collapsed-workspace-nav")):(a("#board").addClass("collapsed-workspace-nav"),a(".js-board-header").addClass("collapsed-workspace-nav"))};this.unsubscribeWorkspaceNavState=A.subscribe(e),this.unsubscribeWorkspaceNavHiddenState=x.subscribe(e),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null,this.hasSeenInviteAcceptanceNotification=!1,this.workspacesPreambleBoardHeaderButtonTarget=null,this.workspacesPreamblePromptHasBeenSeen=!1,this.workspacesPreambleInviteButtonTarget=null,this.teamOnboardingPupPopoverDiv=null,this.teamOnboardingPupTooltipDiv=null,this.workspacesAutoNameAlertTarget=null,this.makeDebouncedMethods("refreshOrganization","reloadCustomFields","render","renderBoardBackground","renderBoardHeader","renderBoardHeaderCalendar","renderBoardHeaderSubscribed","renderBoardHeaderMap","renderBoardWarnings","renderLists","renderPermissionLevel","updateControllerTitle","renderBoardHeaderFacepile","renderPluginButtons","renderBoardViewsButton"),this.listenTo(this.model,{"change:closed deleting":this.renderDebounced,"change:idOrganization":()=>(this.reloadDirectoryPlugins=!0,this.refreshOrganizationDebounced(),this.headerBranding()),"change:memberships":this.renderPermissionLevelDebounced,"change:limits":this.renderBoardWarningsDebounced,"change:name":()=>(this.renderBoardHeaderDebounced(),this.updateControllerTitleDebounced()),"change:powerUps"(){if(this.renderBoardHeaderMapDebounced(),this.model.isMapPowerUpEnabled()||this.closeMap(),this.renderBoardHeaderCalendarDebounced(),!this.model.isPowerUpEnabled("calendar"))return this.closeCalendar()},"change:prefs.cardCovers":this.renderListsDebounced,"change:prefs.permissionLevel":()=>(this.renderListsDebounced(),this.renderPermissionLevelDebounced(),this.renderBoardHeaderDebounced()),"change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness":()=>(this.renderBoardHeaderCalendarDebounced(),this.renderBoardBackgroundDebounced(!0),this.renderBoardHeaderDebounced(),this.renderPluginButtonsDebounced()),"change:prefs.isTemplate":this.renderBoardHeaderDebounced,"change:prefs.selfJoin":this.renderBoardHeaderDebounced,"change:subscribed":this.renderBoardHeaderSubscribedDebounced,permChange:this.permChange,ownedChange:this.renderBoardHeaderDebounced,destroy:()=>d.displayErrorPage({errorType:"boardNotFound"})}),this.listenTo(this.model.memberList,{"change:status":this.renderBoardHeaderDebounced,add:this.onMemberAdd,"remove reset":this.renderBoardHeaderFacepileDebounced}),this.listenTo(this.model.boardPluginList,"add reset",(()=>(this.reloadCustomFieldsDebounced(),this.loadPowerUpViewsButtonOptions(),this.renderBoardViewsButtonDebounced()))),this.subscribe(O(this.model),(()=>(this.renderBoardHeaderMapDebounced(),this.model.isMapPowerUpEnabled()||this.closeMap(),this.renderBoardHeaderCalendarDebounced(),this.model.isPowerUpEnabled("calendar")||this.closeCalendar(),this.loadPowerUpViewsButtonOptions(),this.renderBoardViewsButtonDebounced()))),this.listenTo(this.model.viewState,{"change:showSidebar":this.renderSidebarState,"change:sidebarDisplayType":this.renderSidebarDisplayType}),this.listenTo(c.me().boardStarList,"add remove reset",(()=>this.renderBoardHeaderStarred())),this.memberTypeMe=this.model.getMemberType(c.me()),this.refreshOrganization(),this.listScrollLeft=null,this.savingScroll=!1,this.calcState={},this.listenTo(this.model.filter,"change",(()=>(this.renderFilteringStatus(),this.renderBoardHeader()))),this.listListView=this.collectionSubview(k,this.model.listList,{id:"board",model:this.model,className:"u-fancy-scrollbar js-no-higher-edits ".concat(!A.value.enabled||x.value.hidden||A.value.expanded?"":"collapsed-workspace-nav"),resetCallback:()=>this.postListListRender()}),this.listenTo(this.listListView,{mouseMoveListView(e){return this.model.viewState.selectList(e.model)},mouseLeaveListView(e){return this.model.viewState.selectList(null)},mouseMoveCardView(e,t){if(!(this.ignoreMouseCardSelects||y.isVisible||p.sorting))return this.model.viewState.selectCard(t.model)},mouseLeaveCardView(e,t){if(!(this.ignoreMouseCardSelects||y.isVisible||p.sorting))return this.model.viewState.selectCard(null)},moveCard:this.moveCardRequested,copyCard:this.copyCardRequested}),this._applySettings(),this.markRelatedNotificationsRead(),this.reloadDirectoryPlugins=!1,l.sendScreenEvent({name:"boardScreen",attributes:{isTemplate:this.model.isTemplate(),visibility:this.model.getPermLevel()},containers:{board:{id:this.model.id},organization:{id:gn(this.model.getOrganization(),(e=>e.id))||""}}})}renderTemplateTips(){return this.sidebarViewPromise.then((()=>this.sidebarView.renderTemplateTips()))}renderClosed(){const e=this.model.getOrganization(),t=j.get("btg.upgrade-prompt-audit",!1),n=null!=e?e.isAtOrOverFreeBoardLimit():void 0,i={name:this.model.get("name"),canReopen:this.model.owned(),canDelete:this.model.canDelete(),deleting:this.model.isDeleting(),isAtOrOverLimit:n,isDesktop:S,orgId:e&&e.get("id"),orgName:e&&e.get("displayName"),billingUrl:e&&e.getBillingUrl(),upgradePathAuditEnabled:t};this.unmountBoardClosed=s(r.createElement(T,i),this.$el[0]),this.defaultBoardBackground()}render(){return this.model.get("closed")?this.renderClosed():(this.unmountBoardClosed&&this.unmountBoardClosed(),this.renderOpen()),this}renderFilteringStatus(){const e=this.model.filter.isFiltering();if(this.$(".js-filter-cards-indicator").toggleClass("hide",!e),(un||pn)&&(this.$(".js-filter-cards-count").toggleClass("hide",!e),this.$(".js-header-filter-btn").toggleClass("board-header-filter-btn-active",e)),this.$(".js-num-cards").toggleClass("hide",!e),this.$("#board").toggleClass("filtering",e),mn&&d.showingBoardView())return;const t=this.model.filter.toQueryString();return new URLSearchParams(location.search).toString()!==new URLSearchParams(t).toString()?history.replaceState(null,null,location.pathname+t):void 0}remove(){return null!=this.calendarView&&this.calendarView.remove(),v(this.onShortcut),this.unmountWorkspacesPreambleBoardHeaderButton(),this.unmountWorkspacesPreambleInviteButton(),this.unmountTeamOnboardingPupPopover(),this.unmountTeamOnboardingPupTooltip(),this.unmountBoardClosed&&this.unmountBoardClosed(),this.removeBoardViewsButton(),this.unmountWorkspacesAutoNameAlert(),this.unsubscribeWorkspaceNavState(),this.unsubscribeWorkspaceNavHiddenState(),super.remove(...arguments)}blurInputsOnBoardClick(e){const t=a(e.target);return t.is("input")||t.is("textarea")?w.stopPropagation(e):a("input, textarea").blur()}}function gn(e,t){return null!=e?t(e):void 0}hn.initClass(),e.exports=hn},"./app/scripts/views/board/calendar-board-button.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarBoardButton",(function(){return c}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),s=n("./packages/nachos/icons/calendar.tsx"),o=n("./packages/nachos/button.ts");const l=Object(r.forTemplate)("board_header"),c=({backgroundBrightness:e,onClick:t})=>a.a.createElement("div",null,a.a.createElement(o.Button,{style:{margin:"0 4px 0 0"},appearance:"dark"===e?"transparent":"transparent-dark",iconBefore:a.a.createElement(s.CalendarIcon,null),onClick:t},l("calendar")))},"./app/scripts/views/board/confirmation-public-boards-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/templates/popover_confirmation_public_boards.js"),c=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js");class d extends o{static initClass(){this.prototype.viewTitleKey="change to public",this.prototype.className="confirmation-popover",this.prototype.events={"click .js-submit":"selectVis","click .js-action-link":"renderInvitationLink","mouseenter .js-action-link":"mouseenter","mouseleave .js-action-link":"mouseleave"}}render(){const e=this.model.toJSON();return e.isTemplate=this.model.isTemplate(),this.$el.html(l(e)),this}selectVis(e){s.stop(e);const t=a.startTask({taskName:"edit-board/prefs/permissionLevel",source:"makeBoardPublicInlineDialog"}),n="public"!==this.model.getPref("permissionLevel")?1:0;return this.model.setPrefWithTracing("permissionLevel","public",{taskName:"edit-board/prefs/permissionLevel",source:"makeBoardPublicInlineDialog",traceId:t,next:(e,i)=>{var r,s;i&&a.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"makeBoardPublicInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(r=this.model.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(s=this.model.getEnterprise())||void 0===s?void 0:s.id}},attributes:{change:n,taskId:t}})}}),this.model.save(),r.hide()}renderInvitationLink(e){var t,n;s.stop(e);const o=new c({model:this.model,modelCache:this.modelCache});o.loadOrgData(),i(".js-open-manage-board-members").removeClass("open-manage-boards-offset"),r.toggle({elem:i(".js-open-manage-board-members"),view:o}),a.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"changeBoardVisiblityToPublicConfirmationInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}})}mouseenter(e){return i(".js-open-manage-board-members").addClass("open-manage-boards-offset")}mouseleave(e){return this.setTimeout((()=>i(".js-open-manage-board-members").removeClass("open-manage-boards-offset")),0)}}d.initClass(),e.exports=d},"./app/scripts/views/board/copy-board-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/lib/alerts.js"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),{Auth:o}=n("./app/scripts/db/auth.js"),l=n("./app/scripts/views/internal/board-display-helpers.js"),{Controller:c}=n("./app/scripts/controller/index.js"),d=n("./app/scripts/views/organization/create-org-view.js"),u=n("./packages/locale/index.ts"),p=n("./app/common/lib/util/last-organization.ts").default,{ModelLoader:m}=n("./app/scripts/db/model-loader.js"),h=n("./app/scripts/views/board/new-board-helper-add-org-view.js"),g=n("./app/scripts/views/lib/pop-over.js"),b=n("./node_modules/bluebird/js/browser/bluebird.js"),{TrelloStorage:v}=n("./packages/storage/index.ts"),f=n("./app/scripts/lib/util/index.js"),_=n("./app/scripts/views/internal/view.js"),k=n("./node_modules/underscore/underscore.js"),y=n("./app/scripts/views/internal/templates.js"),{l:E}=n("./app/scripts/lib/localize.js"),{featureFlagClient:w}=n("./packages/feature-flag-client/index.ts"),C=n("./app/scripts/views/templates/board_menu_vis.js"),T=n("./packages/browser/index.ts").isDesktop(),{renderComponent:O}=n("./app/src/components/ComponentWrapper/index.ts"),{CopyBoardFromTemplatePopoverButton:j}=n("./app/src/components/UpgradePathAudit/index.ts"),A=p(v);class x extends _{static initClass(){this.prototype.events={'change select[name="org-id"]':"changeOrg","click .js-helper-add-org":"helperAddOrg","submit form":"submit",'input input[id="boardNewTitle"]':"onBoardNameChange","click .js-submit":"submit","click .js-create-org":"newOrg","click .js-change-vis":"openChangeVis","click .js-select":"selectVis","click .js-confirm-public":"confirmPublic","click .js-cancel-public":"cancelPublic"}}constructor(e){super(e),this.getViewTitle=this.getViewTitle.bind(this)}initialize({boardNameInputValue:e,gasSource:t}){this.boardNameInputValue=e,this.gasSource=t,this.upgradePathAuditEnabled=w.get("btg.upgrade-prompt-audit",!1),this.blockTeamlessBoardsEnabled=w.get("btg.block-teamless-boards",!1)}getData(){return this.loading=!0,m.loadBoardMinimal(this.model.get("id")).finally((()=>(this.loading=!1,s.sendScreenEvent({name:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.model.getOrganization(),(e=>e.id))}},attributes:{isTemplate:this.model.isTemplate()}}),this.render())))}getViewTitle(){return this.model.isTemplate()?E(["view title","create board from template"]):E(["view title","copy board"])}getOrganization(){switch(this.model.typeName){case"Organization":return this.model;case"Board":return this.model.getOrganization();case"Member":return null}}getDefaultIdOrganization(e){let t,n;if(0===e.length)return null;if(this.options.useLastOrganization){if(1===e.length)return e[0];const i=A.get();if(i===A.NO_ORGANIZATION)return null;if(null!=i&&Array.from(e).includes(i))return i;for(t of(n=null,Array.from(e)))(null==n||t>n)&&(n=t);return n}if(null!=(n=N(this.getOrganization(),(e=>e.id))))return n;{const e=N(o.me().getBestOrganization(),(e=>e.id));return null!=e?e:null}}render(){let e;const t=o.me(),i=this.getDefaultIdOrganization(t.organizationList.pluck("id"));let a=t.organizationList;const r=this.model.get("prefs").isTemplate&&"public"===this.model.get("prefs").permissionLevel,s=this.model.get("enterpriseOwned");t.isPaidManagedEntMember()&&(a=a.filter((e=>e.belongsToRealEnterprise()))),s&&!r&&(e=this.model.getEnterprise(),a=e?a.filter((t=>t.get("idEnterprise")===e.get("id"))):a.filter((e=>e.get("idEnterprise")))),a=a.map((e=>k.extend(e.toJSON(),{selectOrg:e.id===i})));const l=null!=this.model.get("idEnterprise"),c={orgs:a,canAddToOrgs:0!==a.length,willRemovePowerUps:this.model.powerUpsCount()>t.getPowerUpsLimit(this.getOrganization()),isDesktop:T,loading:this.loading,boardHasEnterprise:s,upgradePathAuditEnabled:this.upgradePathAuditEnabled,showPrivateBoardsOptionForEntBoards:l,blockTeamlessBoardsEnabled:this.blockTeamlessBoardsEnabled};e&&(c.enterpriseName=e.get("displayName"));const d=Math.floor(13*Math.random()).toString();return c.placeholder=E(["board name placeholder",d]),c.publicConfirmationText=E(["confirm","public board confirmation","text"]),c.publicConfirmationConfirm=E(["confirm","public board confirmation","confirm"]),c.publicConfirmationCancel=E(["cancel"]),c.isTemplate=this.model.isTemplate(),this.boardNameInputValue&&(c.boardNameInputValue=this.boardNameInputValue),c.pLevel="private",this.model.owned()?c.pLevel=this.model.get("prefs").permissionLevel:null!=i&&(c.pLevel="org"),(null!=this.options?this.options.newOrgBoard:void 0)&&(c.hideOrg=!0),this.$el.html(y.fill(n("./app/scripts/views/templates/board_copy.js"),c)),this.checkBoardPermissions(),this}checkBoardPermissions(){const e=this.$('select[name="org-id"]').val();if(e)return this.loadOrg(e).then((e=>(null!=e?e.isAtOrOverFreeBoardLimit():void 0)?(this.$(".js-board-limits-upgrade-ad").removeClass("hide"),this.$(".js-target-team").text(e.get("displayName")),this.upgradePathAuditEnabled?this.$(".js-upgrade-link").attr("href",this.onDisplayPlanSelection(null==e?void 0:e.get("id"),e.get("displayName"))):(this.$(".js-upgrade-link").attr("href",e.getBillingUrl()),this.disableSubmit())):this.renderBoardVisChooser()));this.renderBoardVisChooser()}isBoardCreationRestricted(e){return"org"!==e.attributes.prefs.boardVisibilityRestrict.org||"org"!==e.attributes.prefs.boardVisibilityRestrict.private||"org"!==e.attributes.prefs.boardVisibilityRestrict.public}loadOrg(e){return b.try((()=>{if(e){const t=this.modelCache.get("Organization",e);return null!=t||!this.isBoardCreationRestricted(t)&&t.memberships?t:m.loadOrganizationMinimal(e)}return null}))}renderBoardVisChooser(e){this.$(".js-permissions").removeClass("hide");const t=this.$('select[name="org-id"]').val(),n={isNewBoard:!0,canChange:!0};this.disableSubmit();return this.$(".js-vis-display").html("<p>".concat(E("checking visibility permissions"),"</p>")),this.loadOrg(t).then((t=>{if(null!=t){const i=null!=t?t.getEnterprise():void 0;this.canChangeOrg(t,e)||(e=null),k.extend(n,{hasOrg:!0,orgName:t.get("displayName"),hasSuperAdmins:t.hasPremiumFeature("superAdmins"),privateRestricted:!this.canChangeOrg(t,"private"),orgRestricted:!this.canChangeOrg(t,"org"),enterpriseRestricted:!this.canChangeOrg(t,"enterprise"),publicRestricted:!this.canChangeOrg(t,"public"),hasEnterprise:null!=t?t.belongsToRealEnterprise():void 0,enterpriseName:null!=i?i.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=t?t.isPremium():void 0})}else if(o.me().isPaidManagedEntMember()){const t=o.me().getEnterprise();t&&(t.canSetTeamlessBoardVisibility(e)||(e=null),k.extend(n,{hasOrg:!1,hasSuperAdmins:!1,privateRestricted:!t.canSetTeamlessBoardVisibility("private"),orgRestricted:!0,enterpriseRestricted:!0,publicRestricted:!t.canSetTeamlessBoardVisibility("public"),hasEnterprise:!0,enterpriseName:t.get("displayName"),isTemplate:this.model.isTemplate(),isOrgPremium:!1,isTeamlessOwnedBoard:!0}))}const i=null!=t&&this.canChangeOrg(t,"org")?this.model.isPrivate()&&this.canChangeOrg(t,"private")?"private":"org":n.isTeamlessOwnedBoard&&n.privateRestricted&&!n.publicRestricted?"public":"private";return n.current=null!=e?e:i,{org:t,visData:n}})).then((({org:e,visData:t})=>{let n=!1;if(t.privateRestricted&&t.orgRestricted&&t.enterpriseRestricted&&t.publicRestricted){n=!0;const i=this.$(".js-no-valid-org-privs");null!=e&&e.owned()?i.html(E("board create restriction admin",{urlSettings:"/".concat(e.get("name"),"/account")})):t.isTeamlessOwnedBoard?i.html(E("board create restriction enterprise")):i.html(E("board create restriction not admin")),i.removeClass("hide"),this.$(".js-vis-chooser,.js-vis-display").addClass("hide")}this.$(".js-vis-chooser").html(C(t));const i=this.getPermissionLevel(),a=t.current;if(i!==a&&"public"===a)return this.openPublicConfirmation();{this.setPermissionLevel(a),this.renderVisDisplay(a);const e=this.$('input[id="boardNewTitle"]').val().trim(),t=!this.$(".js-submit").hasClass("disabled");n||!e||t||this.enableSubmit()}})).done(),this}enableSubmit(){return this.$(".js-submit").removeClass("disabled")}disableSubmit(){return this.$(".js-submit").addClass("disabled")}renderVisDisplay(e){return this.$(".js-vis-display").html(y.fill(n("./app/scripts/views/templates/board_copy_vis.js"),{visIconClass:l.getPermLevelIconClass(e),visDisplayText:E(["board perms",e,"name"])}))}resetVisChooser(){this.$(".js-no-valid-org-privs").addClass("hide")}openPublicConfirmation(){return this.$(".js-vis-display").addClass("hide"),this.$(".js-confirm-public-message").removeClass("hide")}hidePublicConfirmation(){return this.$(".js-confirm-public-message").addClass("hide"),this.$(".js-vis-display").removeClass("hide")}confirmPublic(){s.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.model.getOrganization(),(e=>e.id))}},attributes:{previous:this.model.getPermLevel(),change:"public"!==this.model.getPermLevel(),isTemplate:this.model.isTemplate()}}),this.setPermissionLevel("public"),this.renderVisDisplay("public"),this.hidePublicConfirmation(),this.enableSubmit()}cancelPublic(){const e=this.getPermissionLevel();return this.renderBoardVisChooser(e),this.hidePublicConfirmation(),s.sendTrackEvent({action:"cancelled",actionSubject:"visibility",source:"copyBoardInlineDialog",attributes:{visibility:"public"}})}openChangeVis(e){f.stop(e),this.$(".js-vis-display").addClass("hide"),this.$(".js-vis-chooser").removeClass("hide"),this.$(".js-confirm-public-message").addClass("hide")}onBoardNameChange(e){const t=this.$('select[name="org-id"]').val(),n=i(e.target).val().trim(),a=!this.$(".js-submit").hasClass("disabled");!n||a?!n&&a&&this.disableSubmit():this.loadOrg(t).then((e=>{e&&e.isAtOrOverFreeBoardLimit()||this.enableSubmit()}))}selectVis(e){f.stop(e);const t=i(e.target).closest(".js-select");if(t.hasClass("disabled"))return;this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide");const n=this.getPermissionLevel(),a=t.attr("name");this.renderBoardVisChooser(a),s.sendUpdatedBoardFieldEvent({field:"visibility",value:a,source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.model.getOrganization(),(e=>e.id))}},attributes:{previous:n,change:n!==a,isTemplate:this.model.isTemplate()}})}setPermissionLevel(e){return this.$('input[name="permissionLevel"]').val(e)}getPermissionLevel(){let e;return null!=(e=this.$('input[name="permissionLevel"]').val())?e:""}canChangeOrg(e,t){return e.canSetVisibility(t)}allowBoardCopy(){return this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.resetVisChooser(),this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide"),this.renderBoardVisChooser()}onDisplayPlanSelection(e,t){const n=this.$(".copy-board-upsell-react-component")[0];e&&n&&O(a.createElement(j,{orgId:e,teamName:t}),n)}changeOrg(e){const t=e.target.value;if(s.sendUpdatedBoardFieldEvent({field:"organization",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:t}},attributes:{previous:N(this.model.getOrganization(),(e=>e.id)),change:N(this.model.getOrganization(),(e=>e.id))!==t,isTemplate:this.model.isTemplate()}}),this.hidePublicConfirmation(),!t)return void this.allowBoardCopy();return this.$(".js-vis-display").html("<p>".concat(E("checking visibility permissions"),"</p>")),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.disableSubmit(),this.loadOrg(t).then((e=>(null!=e?e.isAtOrOverFreeBoardLimit():void 0)?(this.$(".js-permissions").addClass("hide"),this.$(".js-board-limits-upgrade-ad").removeClass("hide"),this.$(".js-target-team").text(e.get("displayName")),this.upgradePathAuditEnabled?this.$(".js-upgrade-link").attr("href",this.onDisplayPlanSelection(null==e?void 0:e.get("id"),e.get("displayName"))):this.$(".js-upgrade-link").attr("href",e.getBillingUrl())):this.allowBoardCopy()))}helperAddOrg(e){f.stop(e),g.pushView({view:new h({model:this.model,modelCache:this.modelCache})}),s.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"infoIcon",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.getOrganization(),(e=>e.id))}},attributes:{isTemplate:this.model.isTemplate()}})}defaultBackgroundColor(){if(u.usesEnglish()){const e=new Date,t=e.getMonth(),n=e.getDate();if(2===t&&17===n)return"green"}return"blue"}submit(e){let t;if(f.stop(e),this.$(".js-submit").hasClass("disabled"))return;const n=this.$('input[name="name"]'),i=n.val().trim();if(""===i)return void n.focus().select();const a=this.gasSource||"copyBoardInlineDialog",l=this.model.isTemplate()?"create-board/template":"create-board/copy",d=s.startTask({taskName:l,source:a});s.sendClickedButtonEvent({buttonName:"createButton",source:this.gasSource||"copyBoardInlineDialog",attributes:{isTemplate:this.model.isTemplate(),taskId:d}});const u=null!=(t=this.$('select[name="org-id"]').val())?t:"";A.set(u);const p={name:i,idOrganization:u},m=this.$('input[name="permissionLevel"]').val();let h=k.extend({prefs_permissionLevel:m},p);return this.model.isTemplate()&&(h=k.extend({prefs_isTemplate:!1},h)),h.idBoardSource=this.model.id,h.keepFromSource=this.$("input:checkbox:checked").map((function(){return this.name})).get().join(),o.me().boardList.createWithTracing(p,{modelCache:this.modelCache,requestData:h,traceId:d,success:e=>{var t;let n,i;r.hide("copy-board"),r.hide("templates"),s.sendCopiedBoardEvent({source:a,containers:{board:{id:e.id},organization:{id:u}},attributes:{sourceBoardId:this.model.id,fromTemplate:this.model.isTemplate(),templateCategory:null===(t=this.model.get("templateGallery"))||void 0===t?void 0:t.category,visibility:e.getPermLevel(),isBCFeature:!0,requiredBC:!1,taskId:d}}),s.taskSucceeded({taskName:l,traceId:d,source:a}),i=e.id,Array.from(n=o.me().get("idBoards")).includes(i)||o.me().set("idBoards",n.concat(e.id)),c.displayBoard({idBoard:e.id}).done()},error:(e,t,n)=>{const i=n.responseText;if(/ENTERPRISE_OWNED_ENTITY/.test(i))return s.taskAborted({taskName:l,traceId:d,source:a,error:t}),r.hide("copy-board"),r.show(["unlicensed member cannot copy enterprise board",{enterpriseName:N(this.model.getEnterprise(),(e=>e.get("displayName")))}],"error","copy-board",7e3);if(/SOURCE_TEMPLATE_CONTAINS_FORBIDDEN_ENTERPRISE_POWER_UPS/.test(i)){s.taskAborted({taskName:l,traceId:d,source:a,error:t});const e=this.parseTemplateContainsForbiddenPowerUpsError(i);return r.hide("templates"),r.show(["source template contains forbidden enterprise power ups",{powerUps:e}],"error","forbiddenPowerUps",7e3)}return s.taskFailed({taskName:l,traceId:d,source:a,error:t}),r.flash("could not create board","error","copy-board")}}),this.model.isTemplate()?r.show("creating-board","info","templates"):r.show("copying","info","copy-board"),g.hide()}newOrg(e){s.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:N(this.getOrganization(),(e=>e.id))}},attributes:{isTemplate:this.model.isTemplate()}});const t={};o.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),f.stop(e),g.pushView({view:new d({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in copy board menu"}})})}parseTemplateContainsForbiddenPowerUpsError(e){const{message:t}=JSON.parse(e);return t.slice(1+t.indexOf(":")).trimLeft()}}function N(e,t){return null!=e?t(e):void 0}x.initClass(),e.exports=x},"./app/scripts/views/board/invite-acceptance-notification.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/internal/recup-with-helpers.js")("invite_acceptance_notification"),{trackUe:s}=n("./packages/analytics/index.ts"),o=n("./node_modules/underscore/underscore.js");class l extends a.Component{static initClass(){this.prototype.render=r.renderable((function(){return r.div(".invite-acceptance-notification",(()=>(r.div(".invite-acceptance-notification-close",(()=>r.a({onClick:this.props.onClose,href:"#"},(()=>r.span(".icon-lg.icon-close"))))),r.h6((()=>this.getTitle())),r.p((()=>this.getBody())),r.div(".invite-acceptance-notification-dont-show-again",(()=>r.a({onClick:this.clickDontShowAgain,href:"#"},(()=>r.format("Do not show this again"))))))))}))}constructor(e){super(e),this.state={members:e.members},this.clickDontShowAgain=this.clickDontShowAgain.bind(this)}getTitle(){return 1===this.state.members.length?(r.text("".concat(this.state.members[0].get("fullName")," ")),r.format("joined your board")):r.format("new members joined your board")}getBody(){const e=this.state.members.length;let t=[];if(t=1===e?o.map(this.state.members,(function(e){if(null!=e.get("fullName")){const t=e.get("fullName").split(" ");if(t.length>0)return t[0]}})):o.map(this.state.members,(e=>e.get("fullName"))),1===e)r.text(t[0]+" "),r.format("is new to trello");else if(2===e)r.text(t[0]+" "),r.format("and"),r.text(" ".concat(t[1]," ")),r.format("are new to trello");else if(3===e)r.text(t[0]+", "),r.text(t[1]+", "),r.format("and"),r.text(" "),r.text(t[2]+" "),r.format("are new to trello");else{let n="";t.slice(0,3).forEach((e=>n+=e+", ")),r.text(n),r.format("and"),r.text(" "),r.text(e-3+" "),4===e?r.format("other are new to trello"):r.format("others are new to trello")}return r.text(" "),1===e?r.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(()=>r.format("help them get started by adding them to a card"))):r.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(()=>r.format("help your board members get started by adding them to a card"))),r.text(" "),r.a({href:"https://trello.com/guide/collaboration",target:"_blank",onClick:this.clickMentionLink},(function(){return 1===e?r.format("you can mention them sg in a comment too"):r.format("you can mention them pl in a comment too")}))}clickAddCardLink(){return s("invite acceptance notification","click","help adding them to a card","","","",{member:i.me().id})}clickMentionLink(){return s("invite acceptance notification","click","help mentioning them","","","",{member:i.me().id})}clickDontShowAgain(){return i.me().dismiss("notify-invite-acceptance"),s("invite acceptance notification","dismiss","future notifications","","","by clicking dont show again",{member:i.me().id}),this.props.onClose()}}l.initClass(),e.exports=l},"./app/scripts/views/board/invitee-orientation-view.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),a=n("./app/scripts/views/member-menu-profile/member-on-board-view.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/views/templates/invitee-orientation.js"),{idToDate:l}=n("./app/common/lib/util/date.ts"),{truncate:c}=n("./packages/strings/index.ts"),d=n("./node_modules/underscore/underscore.js");class u extends s{static initClass(){this.prototype.className="invitee-orientation-wrapper",this.prototype.events={"click .js-close-orientation":"onClose"}}initialize(){return this.hasRendered=!1}getInviteToken(){return r.inviteTokenFor(this.model.id)}getMemberForAvatar(){const e=this.getInviteToken().split("-")[1];let t=this.modelCache.get("Member",e);return null==t&&(t=this.model.adminList.models[0]),t}renderableMembers(){const e=this.model.orderedVisibleMembers().slice(0,3);if(i.isLoggedIn()){const t=e.shift();e.push(t)}return e}shouldSeePopover(){return i.isLoggedIn()&&!i.me().isDismissed("invitee-orientation")&&this.getInviteToken()&&l(i.myId())>=new Date("2019-06-15")}renderFacepile(){const e=Array.from(this.renderableMembers()).map((e=>this.subview(a,e,{board:this.model,notClickable:!0,small:!0,hideBadges:!0})));return this.ensureSubviews(e.reverse(),this.$(".js-invitee-orientation-facepile"))}_getDataForMessage(){const e=this.model.orderedVisibleMembers(),t=this.renderableMembers();return{visibleMembersCount:e.length,maxVisible:3,firstMemberFullName:c(t[0].get("fullName"),30),boardName:this.model.get("name")}}_getDataForAvatar(){return{inviterAvatarUrl:this.getMemberForAvatar().get("avatarUrl"),inviterFullName:this.getMemberForAvatar().getMemberViewTitle(),inviterUsername:this.getMemberForAvatar().get("username"),inviterInitials:this.getMemberForAvatar().get("initials")}}render(){if(!this.shouldSeePopover()||this.hasRendered)return this;let e={};e=d.extend(e,this._getDataForAvatar()),e=d.extend(e,this._getDataForMessage()),this.$el.html(o(e)),this.renderFacepile();const t=this.$el.find(".invitee-orientation-message-container"),n=this.$el.find(".invitee-orientation-avatar-container");return setTimeout((()=>n.addClass("active")),1200),setTimeout((()=>t.addClass("active")),1350),this.hasRendered=!0,this}onClose(){return i.me().dismiss("invitee-orientation"),this.remove()}}u.initClass(),e.exports=u},"./app/scripts/views/board/new-board-helper-add-org-view.js":function(e,t,n){const{Analytics:i}=n("./packages/atlassian-analytics/index.ts"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/organization/create-org-view.js"),{featureFlagClient:s}=n("./packages/feature-flag-client/index.ts"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/views/internal/templates.js");class u extends c{static initClass(){this.prototype.viewTitleKey="add an organization",this.prototype.events={"click .js-create-org":"newOrg"}}render(){return this.$el.html(d.fill(n("./app/scripts/views/templates/popover_helper_new_board_add_org.js"))),s.get("dataeng.gasv3-event-tracking",!1)&&i.sendScreenEvent({name:"newBoardHelperAddOrganizationInlineDialog"}),this}newOrg(e){const t={};a.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),l.stop(e);return o.pushView({view:new r({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking team info icon in copy board menu"}})})}}u.initClass(),e.exports=u},"./app/scripts/views/board/reopen-board-popover-view.js":function(e,t,n){const i=n("./packages/react-dom-wrapper/index.ts"),a=n("./node_modules/react/index.js"),{BillableGuestsAlert:r}=n("./app/src/components/BillableGuestsAlert/index.ts"),s=n("./app/scripts/views/board/billable-guest-list-popover-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/views/templates/popover_reopen_board.js"),d=n("./packages/product-features/index.ts").ProductFeatures,u=n("./packages/browser/index.ts").isDesktop(),{Analytics:p,tracingCallback:m}=n("./packages/atlassian-analytics/index.ts");class h extends l{static initClass(){this.prototype.viewTitleKey="reopen board",this.prototype.events={"click .js-confirm-reopen":"confirmReopen"}}initialize({board:e,org:t,newBillableGuests:n,availableLicenseCount:i,onReopen:a}){return this.board=e,this.org=t,this.newBillableGuests=n,this.availableLicenseCount=i,this.onReopen=a,super.initialize(...arguments)}remove(){return this.reactRoot&&i.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}renderReactSection(){const e=this.org.getProduct(),t={adminNames:this.org.adminList.map((e=>e.get("fullName")||e.get("username"))),newBillableGuestsCount:this.newBillableGuests.length,availableLicenseCount:this.availableLicenseCount,orgName:this.org.get("displayName")||this.org.get("name"),pricePerGuest:d.getPrice(e),isMonthly:d.isMonthly(e),isOrgAdmin:this.org.owned(),isDesktop:u,orgUrl:this.org.url,isReopen:!0,onCountClick:()=>o.pushView({view:new s({newBillableGuests:this.newBillableGuests})})},n=a.createElement(r,t);if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return i.render(n,this.reactRoot)}render(){return this.$el.html(c()),this.renderReactSection(),this}confirmReopen(e){let t=this.org.owned()&&!u;this.org.owned()&&null!==this.availableLicenseCount&&this.availableLicenseCount<this.newBillableGuests.length&&(t=!1);const n=p.startTask({taskName:"edit-board/closed",source:"reopenBoardInlineDialog"});return this.board.reopen({newBillableGuests:this.newBillableGuests,keepBillableGuests:t,traceId:n},m({taskName:"edit-board/closed",source:"reopenBoardInlineDialog",traceId:n},(e=>{var t;e||p.sendTrackEvent({action:"reopened",actionSubject:"board",source:"reopenBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id}},attributes:{taskId:n}})}))),"function"==typeof this.onReopen&&this.onReopen(),o.hide()}}h.initClass(),e.exports=h},"./app/scripts/views/card-composer/card-composer-inline-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=n("./packages/jquery/index.js"),s=n("./app/scripts/views/lib/alerts.js"),{Analytics:o}=n("./packages/atlassian-analytics/index.ts"),{ApiError:l}=n("./app/scripts/network/api-error.js"),c=n("./packages/browser/index.ts"),d=n("./app/scripts/views/card-composer/composer-label-selector-view.js"),u=n("./app/scripts/views/card-composer/composer-member-selector-view.js"),p=n("./app/scripts/views/card-composer/composer-pos-selector-view.js"),m=n("./app/scripts/views/card-composer/composer-selector-menu-view.js"),{maybeDisplayLimitsErrorOnCardAdd:h}=n("./app/scripts/views/card/card-limits-error.js"),g=n("./app/scripts/views/lib/confirm.js"),{Controller:b}=n("./app/scripts/controller/index.js"),{htmlEncode:v}=n("./app/scripts/lib/util/text/html-encode.js"),{Key:f,getKey:_,isArrow:k}=n("./packages/keybindings/index.ts"),y=n("./app/scripts/lib/make-error-enum.js"),E=n("./app/scripts/views/lib/pop-over.js"),w=n("./node_modules/bluebird/js/browser/bluebird.js"),C=n("./node_modules/promise-queue/lib/index.js"),T=n("./app/scripts/lib/util/index.js"),O=n("./app/scripts/views/internal/view.js"),j=n("./node_modules/underscore/underscore.js"),A=n("./app/scripts/views/internal/templates.js"),{l:x}=n("./app/scripts/lib/localize.js"),N=n("./app/scripts/views/templates/member.js"),{trackSeparator:S}=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),{objectResolverClient:I}=n("./app/scripts/network/object-resolver-client/index.ts"),D=y("CardComposer",["TooManyCards"]);e.exports=class extends O{className(){return"card-composer"}events(){return{"click .js-add-card":"submitCard","click .js-cancel":"clearAndHide","click .js-cc-menu":"openMenu",keyup:"keyupEvent",paste:"pasteEvent",keydown:"keydownEvent"}}initialize(){this.makeDebouncedMethods("render"),this.listenTo(this.model,"change:idLabels change:idMembers",this.renderSelectedItems),this.listenTo(this.model,"change:vis",this.autosaveCard),this.listenTo(this.model.labelList,"add remove reset change",this.frameDebounce(this.renderSelectedItems)),this._cardCreationApiQueue=new C(5),this.handleClickOutside=this.handleClickOutside.bind(this),r(document).on("click",this.handleClickOutside)}remove(){return r(document).off("click",this.handleClickOutside),super.remove(...arguments)}handleClickOutside(e){if(!this.model.get("vis"))return;const t=r(e.target);return 0===t.closest(".card-composer").length&&0===t.closest(".pop-over").length?this.model.save("vis",!1):void 0}render(e,t){var r,s,l,c;o.sendScreenEvent({name:"inlineCardComposerInlineDialog",containers:{board:{id:null===(r=this.model.getBoard())||void 0===r?void 0:r.id},list:{id:null===(s=this.model.attributes)||void 0===s?void 0:s.list.id},organization:{id:null===(l=this.model.getBoard())||void 0===l||null===(c=l.getOrganization())||void 0===c?void 0:c.id}}});const d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({placeholder:this.getPlaceholder()},this.model.toJSON({board:!0}));return this.renderVisibility(),this.$el.html(A.fill(n("./app/scripts/views/templates/card_composer_inline.js"),d)),this.renderSelectedItems(),this.defer((()=>(T.setCaretAtEnd(this.$(".js-card-title")[0]),"function"==typeof t?t():void 0))),this.$(".js-card-title").autosize(),this}autosaveCard(){const e=r.trim(this.$(".js-card-title").val());return""!==e&&e!==this.getPlaceholder()&&e.length<=16384?this.submitCard(null,!0):this.frameDebounce(this.renderVisibility())}renderVisibility(){return this.$el.toggleClass("hide",!this.model.get("vis")),this}clearTextField(){return this.model.save("title",""),this.$(".js-card-title").val("").trigger("autosize.resize")}submitCard(e,t=!1){e&&T.stop(e),E.hide();const n=r.trim(this.$(".js-card-title").val());if(""===n)return void this.$el.find(".js-card-title").focus().select();if(n.length>16384)return this.$el.find(".js-card-title").focus().select(),void s.flash("card title too long","error","card-composer");const i=e?r(e.target):this.$el,a={$elem:i,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()};if(h(a))return;const o=j.compact(n.split(/\r\n|\r|\n/)),c=o.length,d=c.toString();w.try((()=>{if(c>100)throw new D.TooManyCards;return c>1&&new w((e=>g.toggle("create many cards",{elem:i,html:x("confirm.create many cards.text",{count:d}),confirmText:x("confirm.create many cards.confirm",{count:d}),fxConfirm:t=>e(!0),fxCancel:t=>e(!1)})))})).then((i=>{this.clearTextField();const a=!0===(null==e?void 0:e.shiftKey);return i?this.createMultipleCards(o,a):this.createCard(n,{openCard:a,selectCard:!t,removeNewLines:!0}).catch(l,(()=>s.flash("could not connect","error","card-composer"))),this.clearItems()})).then((()=>{if(t)return this.hide(),this.renderVisibility()})).catch(D.TooManyCards,(()=>g.toggle("too many cards",{elem:i,html:x("confirm.too many cards.text",{count:d}),fxConfirm:e=>E.hide()}))).done()}queueCreateCard(e,t={}){return t.requestData=this._createCardRequestData(e,t.removeNewLines),this._cardCreationApiQueue.add((()=>this.createCard(e,t)))}_createCardRequestData(e,t){var n;e=null===(n=e)||void 0===n?void 0:n.trim(),this.$el.trigger("prevent-scroll-selection"),t&&(e=e.replace(/(\r\n|\n|\r)/gm," "));const i=j.clone(this.model.get("idMembers")),a=j.pluck(this.model.labelList.models,"id");return{newCardData:{name:e,closed:!1,idLabels:a,idMembers:i,dateLastActivity:Date.now()},addsLabels:a.length>0,membersToAdd:i}}createCard(e,t={}){const{openCard:n,selectCard:i,removeNewLines:a,requestData:r}=t;return new w(((t,s)=>{const{newCardData:l,addsLabels:c,membersToAdd:d}=null!=r?r:this._createCardRequestData(e,a);if(""===e)return t();{const a=o.startTask({taskName:"create-card/list",source:"inlineCardComposerInlineDialog"});l.pos=this.model.getList().calcPos(this.model.get("index")),this.model.moveToNext();const r=this.model.getList().cardList.createWithTracing(l,{traceId:a,error:(e,t)=>(this.model.getList().cardList.remove(r),o.taskFailed({taskName:"create-card/list",traceId:a,source:"inlineCardComposerInlineDialog",error:t}),s(t)),success:async n=>{var i,r,s,l;let u=void 0;const p=null==n?void 0:n.getCardRole();if("link"===p){const e=await I.resolveUrl(n.get("name"));e&&e.meta&&(u=e.meta.key||e.meta.definitionId)}o.sendTrackEvent({action:"created",actionSubject:"card",source:"inlineCardComposerInlineDialog",attributes:{numMembersAdded:null==d?void 0:d.length,labelsAdded:c,taskId:a,cardRole:p,linkCardProvider:u},containers:{card:{id:null==n?void 0:n.id},list:{id:null==n||null===(i=n.getList())||void 0===i?void 0:i.id},board:{id:null==n||null===(r=n.getBoard())||void 0===r?void 0:r.id},organization:{id:null==n||null===(s=n.getBoard())||void 0===s||null===(l=s.getOrganization())||void 0===l?void 0:l.id}}}),S(e,{category:"card composer",method:"by creating a card"}),o.taskSucceeded({taskName:"create-card/list",traceId:a,source:"inlineCardComposerInlineDialog"}),t()},modelCache:this.modelCache}),u=this.model.getBoard();if(u.filter.addNewCard(r),i&&u.viewState.selectCard(r),n)return b.showCardDetail(r,{runMethod:r.shouldSuggestDescription()?"expandDesc":void 0,method:"via the Shift shortcut from card composer"})}}))}createMultipleCards(e,t){var n,i,a,r;const s=e.length;for(let n=0;n<e.length;n++){const i=e[n];e.length-1===n?this.queueCreateCard(i,{openCard:t,selectCard:!0}):this.queueCreateCard(i)}o.sendTrackEvent({action:"created",actionSubject:"multipleCards",source:"createMultipleCardsInlineDialog",attributes:{numCardsLength:s},containers:{board:{id:null===(n=this.model.getBoard())||void 0===n?void 0:n.id},list:{id:null===(i=this.model.attributes)||void 0===i?void 0:i.list.id},organization:{id:null===(a=this.model.getBoard())||void 0===a||null===(r=a.getOrganization())||void 0===r?void 0:r.id}}})}pasteEvent(){this.$(".js-card-title").focus().keyup().trigger("autosize.resize")}keydownEvent(e){const t=_(e),n=this.$(".js-card-title"),i=r(e.target).closest(".js-card-title").hasClass("js-card-title"),a=r(e.target).closest(".js-add-card").hasClass("js-add-card");if((i||a)&&!E.isVisible&&t===f.Enter)return T.stop(e),void this.submitCard(e);if(t===f.Escape)return this.saveDraftAndHide();if([f.Tab,f.Enter].includes(t)){var s;n.focus();const i=T.getWordFromCaret(n[0]),a=r(null===(s=E.view)||void 0===s?void 0:s.el);let o=!1;E.view instanceof u?(a.find(".js-members-list .item.selected:first .js-select-member").first().click(),o=!0):E.view instanceof d?(a.find(".js-select-label.selected").first().click(),o=!0):E.view instanceof p?a.find(".js-pos-results").length>0&&(a.find(".js-pos-results li.selected:first a").first().click(),o=!0):t===f.Tab&&""===n.val()&&(T.stop(e),this.hide(),e.shiftKey?r(this.el).closest(".js-list").find(".editable:first .current").click():r(this.el).closest(".js-list").next().find(".editable:first .current").click()),o&&(T.stop(e),T.insertSelection(n,"",i.start,i.end),this.model.set("title",n.val())),this.renderSelectedItems(),E.hide()}}keyupEvent(e){const t=this.$(".js-card-title"),n=_(e);if(![f.Tab,f.Enter].includes(n)){if(n===f.Escape)return T.stop(e),E.hide(),void t.focus();if(k(n)){var i;T.stop(e);const t=r(null===(i=E.view)||void 0===i?void 0:i.el);E.view instanceof u?T.navMenuList(t.find(".js-members-list"),".item",n):E.view instanceof d?T.navMenuList(t,".js-select-label",n):E.view instanceof p&&t.find(".js-pos-results").length>0&&T.navMenuList(t.find(".js-pos-results"),"li",n)}else if(!c.isTouch()&&r(e.target).closest(".js-card-title").hasClass("js-card-title")){const e=T.getWordFromCaret(t[0]),i=new RegExp("^@\\S").test(e.str.substring(0,2)),a=new RegExp("^\\#\\S").test(e.str.substring(0,2)),s=new RegExp("^\\^\\S").test(e.str.substring(0,2)),o=e.str.substring(1).toLowerCase();if(!(i||a||s))return this.model.set("title",this.$(".js-card-title").val()),E.hide();if(![f.Shift,f.Alt,f.Control].includes(n)){let e,n;if(i){n=new u({model:this.model,modelCache:this.modelCache});const i=j.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id"),a=T.filterMembers(this.modelCache,o,i);return a.length>0?(n.populate(a,!0),E.show({elem:this.$(".js-cc-menu"),view:n}),t.focus(),e=r(n.el).find(".js-members-list .item:first"),T.selectMenuItem(r(n.el).find(".js-members-list"),".item",e)):E.hide()}if(a){n=new d({model:this.model,modelCache:this.modelCache});const i=this.model.getBoard().filterLabels(o);return i.length>0?(n.populate(i),E.show({elem:this.$(".js-cc-menu"),view:n}),t.focus(),e=r(n.el).find(".edit-labels-pop-over .js-select-label:first"),T.selectMenuItem(r(n.el).find(".edit-labels-pop-over"),"li",e)):E.hide()}if(s){n=new p({model:this.model,modelCache:this.modelCache});const i=n.filterPos(o);return i.hasData?(n.populateResults(i),E.show({elem:this.$(".js-cc-menu"),view:n}),t.focus(),e=r(n.el).find(".js-pos-results li:first"),T.selectMenuItem(r(n.el).find(".js-pos-results"),"li",e)):E.hide()}}}}}renderSelectedItems(){const e=this.model.get("idMembers"),t=!j.isEmpty(e),n=this.$(".js-list-card-composer-members").empty();for(const t of Array.from(this.modelCache.get("Member",e)))n.append("<div class='member js-remove-member' idMember='".concat(t,"'>").concat(N(t.toJSON()),"</div>"));const i=this.model.get("labels"),a=!j.isEmpty(i),r=this.$(".js-list-card-composer-labels").empty();for(const e of Array.from(this.model.labelList.models))j.isEmpty(e.get("color"))||r.append("<div class='card-label card-label-".concat(e.get("color")," mod-card-front' title='").concat(v(e.get("name")),"' >").concat(v(e.get("name")),"</div>"));this.$(".js-clear-all-items").toggle(a||t)}openMenu(e){var t,n,i;return T.stop(e),o.sendClickedButtonEvent({buttonName:"cardComposerMenuButton",source:"inlineCardComposerInlineDialog",containers:{board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},list:{id:this.model.attributes.list.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),E.toggle({elem:e.target,view:new m({model:this.model,modelCache:this.modelCache})})}clearItems(e){return this.model.clearItems()}hide(e){this.model.save("vis",!1)}saveDraftAndHide(){return this.model.save("title",this.$(".js-card-title").val()),this.$(".js-card-title").val(""),this.hide()}clearAndHide(e){return this.$(".js-card-title").val(""),this.clearItems(),this.hide()}scrollIntoView(){const{top:e}=this.$el.offset();return this.$el.closest(".list-cards").scrollTop(e+this.$el.height())}getPlaceholder(){return x(["templates","card_composer_inline","enter-a-title-for-this-card-ellipsis"])}}},"./app/scripts/views/card-composer/composer-label-selector-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/view.js"),s=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/views/internal/templates.js"),{Analytics:l}=n("./packages/atlassian-analytics/index.ts");class c extends r{static initClass(){this.prototype.viewTitleKey="select labels",this.prototype.tagName="ul",this.prototype.className="edit-labels-pop-over",this.prototype.events={"mouseenter .item":"hoverLabelSelect","click .card-label":"addOrRemoveLabel"}}populate(e){this.populatedLabelList=e}render(){let e=[];const t=this.model.getLabels(),i=null!=this.populatedLabelList?this.populatedLabelList:this.model.getBoard().getLabels();e=(()=>{const e=[];for(const n of Array.from(i)){const i=s.include(t,n);e.push({id:n.id,color:n.get("color"),name:n.get("name"),isActive:i})}return e})();const r={labels:e};return this.$el.html(o.fill(n("./app/scripts/views/templates/select_labels.js"),r)),a.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",this.$(".js-select-label").first()),this}hoverLabelSelect(e){return a.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",i(e.target).closest(".js-select-label"))}addOrRemoveLabel(e){a.stop(e);const t=i(e.target).closest(".js-select-label");t.toggleClass("active");const n=t.attr("data-idlabel");this.model.toggleLabel(this.modelCache.get("Label",n))?l.sendTrackEvent({action:"added",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"}):l.sendTrackEvent({action:"removed",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"})}}c.initClass(),e.exports=c},"./app/scripts/views/card-composer/composer-member-selector-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{getKey:a,Key:r}=n("./packages/keybindings/index.ts"),s=n("./app/scripts/views/member/select-member-on-card-view.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/internal/templates.js"),{l:u}=n("./app/scripts/lib/localize.js"),{Analytics:p}=n("./packages/atlassian-analytics/index.ts");class m extends l{static initClass(){this.prototype.viewTitleKey="select members",this.prototype.events={"mouseenter .item":"hoverMemberSelect","click .item":"addOrRemoveMember",keyup:"keyupEvent"}}populate(e,t){return this.data={idMems:null!=e?e:c.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id")},this.data.showSearch=!(this.data.idMems.length<=5||t)}render(){return this.$el.html(d.fill(n("./app/scripts/views/templates/popover_member_searcher.js"),this.data)),this.fillMems(this.data.idMems),this.$(".js-filter-emoji").length>0&&this.setTimeout((()=>this.$(".js-filter-emoji").focus().select()),20),this.$(".js-filter-members").length>0&&this.setTimeout((()=>this.$(".js-filter-members").focus().select()),20),this}fillMems(e){const t=this.$(".js-members-list");t.empty();for(const n of Array.from(e.slice(0,5))){const e=this.modelCache.get("Member",n);this.appendSubview(this.subview(s,e,{card:this.model}),t)}}filterAndFillMembers(e){const t=c.pluck(this.model.getBoard().memberList.models,"id"),n=o.filterMembers(this.modelCache,e,t);if(n.length>0){this.fillMems(n);const e=this.$(".js-members-list .item:first");o.selectMenuItem(this.$(".js-members-list"),".item",e)}else this.$(".js-members-list").html('<li><p class="empty"></p></li>').find("p").text(u("no matched members"))}hoverMemberSelect(e){const t=i(e.target).closest(".item");return o.selectMenuItem(this.$(".js-members-list"),".item",t)}keyupEvent(e){const t=a(e);if([r.Tab,r.Enter].includes(t))return o.stop(e),void this.$(".js-members-list .item.selected:first .js-select-member").first().click();if([r.ArrowUp,r.ArrowDown].includes(t))return o.stop(e),void o.navMenuList(this.$(".js-members-list"),".item",t);{const e=this.$(".js-filter-members");if(e.length>0){const t=e.val().trim().toLocaleLowerCase();this.filterAndFillMembers(t)}return}}addOrRemoveMember(e){o.stop(e);const t=i(e.target).closest(".item");t.toggleClass("active");const n=t.find("[idMember]").attr("idMember");this.model.toggle("idMembers",n)?p.sendTrackEvent({action:"added",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{addedTo:"card"}}):p.sendTrackEvent({action:"removed",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{removedFrom:"card"}})}}m.initClass(),e.exports=m},"./app/scripts/views/card-composer/composer-pos-selector-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/views/internal/templates.js"),{l:c}=n("./app/scripts/lib/localize.js"),{Analytics:d}=n("./packages/atlassian-analytics/index.ts");class u extends s{static initClass(){this.prototype.viewTitleKey="select position",this.prototype.events={"change .js-select-list":"changeList","change .js-select-position":"changePosition","mouseenter .js-pos-results li":"hoverPosResultsSelect","click .js-select-pos-keyword":"selectPosResult","click .js-select-pos-pos":"selectPosResult","click .js-select-pos-list":"selectPosResult"}}initialize(){var e,t,n,i;d.sendScreenEvent({name:"cardComposerPositionSelectorInlineDialog",containers:{list:{id:null===(e=this.model.getList())||void 0===e?void 0:e.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}})}populateResults(e){return this.data={filtered:!0,keywordList:e.keywordList.map((e=>({value:e,indexString:e,listName:this.model.get("list").get("name")}))),indexList:e.indexList.map((e=>({value:e,indexString:String(e),listName:this.model.get("list").get("name")}))),listList:e.listList.map((e=>({value:e.get("id"),indexString:String(this.model.get("index")+1),listName:e.get("name")})))}}render(){if(this.data)this.$el.html(l.fill(n("./app/scripts/views/templates/popover_filter_pos_results.js"),this.data));else{const e={hideBoard:!0};this.$el.html(l.fill(n("./app/scripts/views/templates/move_card_controls.js"),e)),this.updateListList()}return this}hoverPosResultsSelect(e){const t=i(e.target).closest("li");return r.selectMenuItem(this.$(".js-pos-results"),"li",t)}selectPosResult(e){r.stop(e);const t=i(e.target).closest("a"),n=t.attr("name"),s=this.model.getList().openCards().length,o=s+1;if(t.hasClass("js-select-pos-keyword"))"top"===n?this.model.set("index",0):"bottom"===n&&this.model.set("index",o);else if(t.hasClass("js-select-pos-pos"))this.model.set("index",parseInt(n,10)-1);else if(t.hasClass("js-select-pos-list")){var l,c,u,p;const e=s===this.model.get("pos");this.model.set("list",this.model.getBoard().getList(n)),e&&this.model.set("index",s),d.sendUIEvent({action:"selected",actionSubject:"list",actionSubjectId:"cardComposerList",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===n,isAtBottomOfList:"top"===n},containers:{list:{id:null===(l=this.model.getList())||void 0===l?void 0:l.id},board:{id:null===(c=this.model.getBoard())||void 0===c?void 0:c.id},organization:{id:null===(u=this.model.getBoard())||void 0===u||null===(p=u.getOrganization())||void 0===p?void 0:p.id}}})}var m,h,g,b;(t.hasClass("js-select-pos-keyword")||t.hasClass("js-select-pos-pos"))&&d.sendUIEvent({action:"selected",actionSubject:"position",actionSubjectId:"cardComposerPosition",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===n,isAtBottomOfList:"top"===n},containers:{list:{id:null===(m=this.model.getList())||void 0===m?void 0:m.id},board:{id:null===(h=this.model.getBoard())||void 0===h?void 0:h.id},organization:{id:null===(g=this.model.getBoard())||void 0===g||null===(b=g.getOrganization())||void 0===b?void 0:b.id}}});a.hide()}filterPos(e){const t=new RegExp("^".concat(r.escapeForRegex(e))),n=new RegExp("^".concat(r.escapeForRegex(e),"$")),i=this.model.getList().openCards(),a={keywordList:(()=>{const e=[];for(const n of["top","bottom"])t.test(n)&&e.push(n);return e})(),indexList:(()=>{const e=[];for(let t=1,a=i.length+1,r=1<=a;r?t<=a:t>=a;r?t++:t--)n.test(String(t))&&e.push(t);return e})(),listList:[]};for(const e of Array.from(this.model.getBoard().listList.models)){const n=o.compact(e.get("name").toLowerCase().split(/\s+/));o.find(n,(e=>t.test(e)))&&a.listList.push(e)}return a.hasData=!o.isEmpty(a.keywordList)||!o.isEmpty(a.indexList)||!o.isEmpty(a.listList),a}updateListList(){let e=this.model.getList();const t=e.id,n=this.model.getBoard(),a=this.$(".js-select-list");for(e of(a.empty(),Array.from(o.sortBy(n.listList.models,(e=>e.get("pos")))))){const n=e.get("name"),r=e.id===t?c("selected list",{listName:n}):n,s=i("<option>").val(e.id).text(r);a.append(s),e.id===t&&(s.attr("selected","selected"),this.$(".js-list-value").text(n))}return this.updatePositionList()}updatePositionList(){let e;const t=this.$(".js-select-position");t.empty();const n=this.model.getList(),{cardList:a}=n;if(this.model.get("index")>a.length&&this.model.set("index",a.length),0===a.length)return e=i("<option>").val("0").text("1").appendTo(t),void this.$(".js-pos-value").text("1");for(let n=0,r=a.length,s=0<=r;s?n<=r:n>=r;s?n++:n--){const a=String(n+1);e=i("<option>").val(n).text(a).appendTo(t),n===this.model.get("index")&&e.attr("selected","selected")}this.$(".js-pos-value").text(this.model.get("index").toString())}changeList(){var e,t,n,i,r;const s=this.model.get("index"),o=this.model.getList().openCards().length===s,l=null===(e=this.model.getList())||void 0===e?void 0:e.id,c=this.$(".js-select-list").find("option:selected").val(),u=this.model.getBoard().getList(c);this.model.set("list",u);const p=u.openCards().length;o?this.model.set("index",p):this.model.set("index",Math.min(p,s)),d.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtBottomOfList:o,listSourceId:l},containers:{list:{id:null===(t=this.model.getList())||void 0===t?void 0:t.id},board:{id:null===(n=this.model.getBoard())||void 0===n?void 0:n.id},organization:{id:null===(i=this.model.getBoard())||void 0===i||null===(r=i.getOrganization())||void 0===r?void 0:r.id}}}),a.hide()}changePosition(){var e,t,n,i;const r=this.$(".js-select-position"),s=parseInt(r.find("option:selected").val(),10);this.model.set("index",s),d.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{posSelected:s},containers:{list:{id:null===(e=this.model.getList())||void 0===e?void 0:e.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),a.hide()}}u.initClass(),e.exports=u},"./app/scripts/views/card-composer/composer-selector-menu-view.js":function(e,t,n){const{Analytics:i}=n("./packages/atlassian-analytics/index.ts"),a=n("./app/scripts/views/label/card-label-select-view.js"),r=n("./app/scripts/views/card/card-member-select-view.js"),s=n("./app/scripts/views/card-composer/composer-pos-selector-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/views/templates/popover_selector_menu.js");class u extends c{static initClass(){this.prototype.viewTitleKey="options",this.prototype.events={"click .js-mem-selector":"openMemSelector","click .js-label-selector":"openLabelSelector","click .js-pos-selector":"openPosSelector"}}initialize(){if(this.sendGASEvent)return i.sendScreenEvent({name:"cardComposerMenuInlineDialog",containers:{board:{id:p(null!=this.model?this.model.getBoard():void 0,(e=>e.id))},list:{id:p(p(null!=this.model?this.model.attributes:void 0,(e=>e.list)),(e=>e.id))},organization:{id:p(p(null!=this.model?this.model.getBoard():void 0,(e=>e.getOrganization())),(e=>e.id))}}})}render(){return this.$el.html(d({isTemplate:this.model.board.isTemplate()})),this}openMemSelector(e){return l.stop(e),o.pushView({view:r,options:{model:this.model,modelCache:this.modelCache}})}openLabelSelector(e){return l.stop(e),o.pushView({view:a,options:{model:this.model,modelCache:this.modelCache,hideOnSelect:!1}})}openPosSelector(e){return l.stop(e),o.pushView({view:s,options:{model:this.model,modelCache:this.modelCache}})}}function p(e,t){return null!=e?t(e):void 0}u.initClass(),e.exports=u},"./app/scripts/views/card/SeparatorCard/SeparatorCard.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SeparatorType",(function(){return m})),n.d(t,"SeparatorNumCharacters",(function(){return h})),n.d(t,"getSeparator",(function(){return b})),n.d(t,"trackSeparator",(function(){return v})),n.d(t,"getSeparatorClassName",(function(){return f}));var i=n("./node_modules/classnames/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./packages/atlassian-analytics/index.ts");const u=new Set(["-","_","=","*","#","/","\\","<",">","."]);function p(e){return u.has(e)}let m,h;function g(e,t){const n=e.startsWith(t),i=e.endsWith(t),a=e.startsWith(t.repeat(3)),r=e.endsWith(t.repeat(3)),s=/^(.)\1*$/.test(e);switch(!0){case n&&s:return{character:t,type:m.SeparatorOnly,numCharacters:a?h.ThreeOrMore:h.TwoOrFewer};case n&&i:return{character:t,type:m.SeparatorTitle,numCharacters:a&&r?h.ThreeOrMore:h.TwoOrFewer};case n:return{character:t,type:m.SeparatorStartTitle,numCharacters:a?h.ThreeOrMore:h.TwoOrFewer};case i:return{character:t,type:m.SeparatorEndTitle,numCharacters:r?h.ThreeOrMore:h.TwoOrFewer};default:return null}}function b(e){if(!e)return null;const t=/^[-—]+$/.test(e)?e.replace(/—/g,"--"):e,n=t.charAt(0),i=t.charAt(t.length-1);let a=null,r=null;return p(n)&&(a=g(t,n)),p(i)&&(r=g(t,i)),a||r}function v(e){const t=b(e);if(!t||!p(t.character))return;const{type:n,character:i,numCharacters:a}=t;d.Analytics.sendTrackEvent({action:"updated",actionSubject:"name",source:"inlineCardComposerInlineDialog",attributes:{updatedOn:"card",isSeparator:!0,numCharacters:a,character:i,type:n}})}function f(e){const t=b(e);if(!t)return null;const{type:n,character:i,numCharacters:r}=t;return n!==m.SeparatorOnly||r!==h.ThreeOrMore||"-"!==i&&"_"!==i?null:a()(c.separatorCard,c.singleHorizontalLine)}!function(e){e.SeparatorOnly="separator only",e.SeparatorTitle="separator with title",e.SeparatorStartTitle="starting separator with title",e.SeparatorEndTitle="ending separator with title"}(m||(m={})),function(e){e.ThreeOrMore="three or more",e.TwoOrFewer="two or fewer"}(h||(h={}))},"./app/scripts/views/card/attach-links-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),s=n("./app/scripts/views/templates/popover_limit_exceeded.js"),o=n("./node_modules/url-parse/index.js"),l=n("./node_modules/bluebird/js/browser/bluebird.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/views/templates/card_attach_links.js"),u=n("./node_modules/xtend/immutable.js"),{Analytics:p}=n("./packages/atlassian-analytics/index.ts");class m extends c{static initClass(){this.prototype.viewTitleKey="attach links",this.prototype.events={"click .js-attach:not([disabled])":"attach"}}initialize({links:e}){return this.links=e,this.listenTo(this.model.attachmentList,"add remove reset",this.render)}render(){if(!this.model.canAttach())return this.model.isOverLimit("attachments","perCard")?this.$el.html(s("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(s("perBoard")),this;const e=Array.from(this.links).map((e=>u(e,{domain:o(e.url).host,attached:this.model.attachmentList.any((t=>t.get("url")===e.url))})));return this.$el.html(d(e)),this}attach(e){const t=i(e.currentTarget),n=t.attr("data-url"),s=t.attr("data-text");return t.attr("disabled","disabled"),l.fromNode((e=>this.model.uploadUrl({url:n,name:s},e))).then((()=>p.sendTrackEvent({action:"attached",actionSubject:"link",source:"cardDetailScreen"}))).catch(r,(()=>a.show("unable to attach link","error","linkattachment",5e3)))}}m.initClass(),e.exports=m},"./app/scripts/views/card/attachment-type-picker-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),{Auth:r}=n("./app/scripts/db/auth.js"),{Board:s}=n("./app/scripts/models/board.js"),{boxClientId:o,dropboxClientAppKey:l,oneDriveClientId:c,siteDomain:d}=n("./packages/config/index.ts"),{ApiError:u}=n("./app/scripts/network/api-error.js"),{Card:p}=n("./app/scripts/models/card.js"),{GoogleApi:m}=n("./app/scripts/lib/google-api.js"),h=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),g=n("./app/scripts/views/attachment/attachment-type-restricted-error.js"),b=n("./app/scripts/views/templates/popover_limit_exceeded.js"),{isSubmitEvent:v}=n("./packages/keybindings/index.ts"),f=n("./app/scripts/views/lib/pop-over.js"),_=n("./node_modules/bluebird/js/browser/bluebird.js"),k=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),y=n("./app/scripts/views/card/uploading-link-view.js"),E=n("./app/scripts/lib/util/index.js"),w=n("./app/scripts/views/internal/view.js"),C=n("./node_modules/underscore/underscore.js"),T=n("./app/scripts/views/internal/teacup-with-helpers.js")("attachment_type_picker"),{Analytics:O}=n("./packages/atlassian-analytics/index.ts"),{ninvoke:j}=n("./app/scripts/lib/util/ninvoke.js"),A=n("./node_modules/effing/lib/index.js"),x=n("./node_modules/@atlassian/trello-error-ext/lib/create-custom.js"),N=n("./app/scripts/views/internal/pasted-file-name.js"),{parseTrelloUrl:S}=n("./app/scripts/lib/util/url/parse-trello-url.js"),{dontUpsell:I}=n("./packages/browser/index.ts"),D=n("./app/scripts/views/lib/tooltip.js"),B=x("AttachmentTypePickerView::FileTooLarge"),P=T.renderable((function({hasLargeAttachments:e,id:t,googleDriveReady:n,tipKey:i,tipData:a,defaultName:r,restrictedAttachmentTypes:s}){null==i&&(i="tip-you-can-drag-and-drop-files-and-links-onto-cards-to-upload-them"),null==a&&(a={}),T.div(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(function(){e?T.format("that-file-size-exceeds-the-250mb-limit"):I()?T.div(".gold-promo",(function(){T.format("that-file-size-exceeds-the-10mb-limit")})):T.div(".gold-promo",(function(){T.format("that-file-size-exceeds-the-10mb-limit-but-if-you-upgrade-to"),T.icon("trello-gold","trello-gold-you-can-upload-files-up-to-250mb")}))})),T.ul(".pop-over-list",(function(){Array.from(s).includes("computer")?T.li((()=>T.a(".disabled.js-attachment-restricted",{href:"#"},(()=>T.format("computer"))))):T.li(".uploader",(function(){return T.a(".fakefile",{href:"#"},(()=>T.format("computer"))),T.form(".realfile",{action:"/1/card/".concat(t,"/attachments"),method:"post",enctype:"multipart/form-data"},(function(){return T.input({type:"hidden",name:"token",value:""}),T.input({type:"hidden",name:"format",value:"http"}),T.input(".js-attach-file",{type:"file",name:"file",tabindex:"-1",multiple:""})}))})),T.li((function(){return T.a(".js-attach-card",{href:"#"},(()=>T.format("trello"))),T.li((()=>T.a(".js-google-drive-attachment",{href:"#",class:T.classify({disabled:!n||Array.from(s).includes("google-drive"),"js-attachment-restricted":Array.from(s).includes("google-drive")})},(()=>T.format("google-drive"))))),T.li((()=>T.a(".js-dropbox-attachment",{href:"#",class:T.classify({"disabled js-attachment-restricted":Array.from(s).includes("dropbox")})},(()=>T.format("dropbox"))))),T.li((()=>T.a(".js-box-attachment",{href:"#",class:T.classify({"disabled js-attachment-restricted":Array.from(s).includes("box")})},(()=>T.format("box"))))),T.li((()=>T.a(".js-one-drive-attachment",{href:"#",class:T.classify({"disabled js-attachment-restricted":Array.from(s).includes("onedrive")})},(()=>T.format("onedrive")))))}))})),T.hr(),Array.from(s).includes("link")?T.ul(".pop-over-list",(()=>T.li((()=>T.a(".disabled.js-attachment-restricted",(()=>T.format("attach-a-link"))))))):(T.label({for:"addLink"},(function(){T.format("attach-a-link")})),T.input(".attachment-add-link-input.js-attachment-url.js-autofocus",{type:"text",id:"addLink",placeholder:T.l("paste-any-link-here-ellipsis")}),T.div(".js-name-link.hide",(function(){return T.label({for:"nameLink"},(function(){T.format("link-name")})),T.input(".attachment-add-link-input.js-attachment-name",{type:"text",id:"nameLink",value:r})})),T.input(".js-add-attachment-url",{style:"margin: 0;",type:"submit",value:T.l("attach")})),T.hr(),T.p(".quiet.u-bottom",(function(){T.format(i,a)}))}));class F extends w{static initClass(){this.prototype.viewTitleKey="attach from",this.prototype.events={"click .js-google-drive-attachment:not(.disabled)":"openGoogleDriveFilePicker","click .js-dropbox-attachment:not(.disabled)":"openDropboxFilePicker","click .js-one-drive-attachment:not(.disabled)":"openOneDriveFilePicker","click .js-box-attachment:not(.disabled)":"openBoxFilePicker","click .js-attach-card":"attachCard","change .js-attach-file":"startUpload","click .js-add-attachment-url":"addUrl","keydown .js-attachment-url":"keydown","keydown .js-attachment-name":"keydown","input .js-attachment-url":"toggleAttachmentNameInput","mouseenter .js-attachment-restricted":"showRestrictedTooltip","mouseleave .js-attachment-restricted":"hideRestrictedTooltip",'click a[href^="/gold"]':()=>O.sendClickedLinkEvent({linkName:"goldLink",source:"cardAttachmentPickerInlineDialog"}),'click a[href^="/business-class"]':()=>O.sendClickedLinkEvent({linkName:"businessClassLink",source:"cardAttachmentPickerInlineDialog"})},this.prototype._scripts={dropbox:"https://www.dropbox.com/static/api/1/dropbox.js",box:"https://app.box.com/js/static/select.js",oneDrive:"https://js.live.net/v7.0/OneDrive.js"}}initialize(){return this.listenTo(m,"loaded",this.render)}getCard(){return this.model instanceof p?this.model:this.model.getCard()}getData(){for(const e in this._scripts){const t=this._scripts[e];this._loadOnce(t,(function(){}))}}render(){var e,t,n,i,a;if(!this.getCard().canAttach())return this.getCard().isOverLimit("attachments","perCard")?this.$el.html(b("perCard")):this.getCard().getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(b("perBoard")),this;const s=null===(e=this.getCard())||void 0===e||null===(t=e.getBoard())||void 0===t?void 0:t.getOrganization(),o={id:this.getCard().id,hasLargeAttachments:(null===(n=r.me())||void 0===n?void 0:n.hasPremiumFeature("largeAttachments"))||(null==s?void 0:s.hasPremiumFeature("largeAttachments"))||!1,googleDriveReady:m.loaded,defaultName:this.options.defaultName,restrictedAttachmentTypes:(null===(i=this.getCard())||void 0===i||null===(a=i.getBoard())||void 0===a?void 0:a.getRestrictedAttachmentTypes())||[]};return null!=s&&s.isFeatureEnabled("plugins")||(o.tipKey="tip-you-can-attach-other-things-with-power-ups",o.tipData={url:"/power-ups?utm_source=trello&utm_medium=inapp&utm_content=attachments-menu&utm_campaign=power-ups"}),this.$el.html(P(o)),this}startUpload(e){var t,n;const s=i(e.target),o=this.$(".js-file-too-large").hide(),l=C.toArray(s[0].files),{options:c}=this;c.onStartUpload&&c.onStartUpload();const d=null===(t=this.getCard())||void 0===t||null===(n=t.getBoard())||void 0===n?void 0:n.getOrganization();return(l.length>0?C.any(l,(e=>!r.me().canUploadAttachment(e,d)))?_.reject(B()):_.resolve(l).each((e=>{const t="cardAttachmentPickerInlineDialog",n={source:t,taskName:"create-attachment/file"},i=O.startTask(n);n.traceId=i;const a=e.name||N();return j(this.getCard(),"upload",e,a,{traceId:i}).then((e=>(i&&(O.sendTrackEvent({source:t,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:i}}),O.taskSucceeded(n)),this.trigger("attach",{mimeType:e.mimeType,name:this.options.defaultName||a,url:e.url}))),(e=>(i&&(n.error=e,O.taskFailed(n)),_.reject(e))))})):j(E,"uploadFile",r.myToken(),s)).then((function(){if(O.sendOperationalEvent({action:"completed",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog"}),a.show("finished uploading","info","AjaxQueueUpload",2e3),f.hide(),c.onFinishUpload)return c.onFinishUpload()})).catch(B,(function(){return o.show(),c.onFinishUpload&&c.onFinishUpload(),O.sendOperationalEvent({action:"errored",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{reason:"file too large"}})})).catch(h,(()=>(this.render(),O.sendOperationalEvent({action:"errored",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{reason:"limit exceeded"}})))).catch(g,(()=>(f.hide(),c.onFinishUpload&&c.onFinishUpload(),a.show("attachment upload restricted","error","attachment",5e3),O.sendOperationalEvent({action:"errored",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{reason:"restricted by enterprise"}})))).catch(u.NoResponse,(()=>{var e;return f.hide(),null===(e=c.onFinishUpload)||void 0===e||e.call(c),a.show("unable to upload file","error","upload",5e3),O.sendOperationalEvent({action:"errored",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{reason:"other"}})})).done()}_loadOnce(e,t){return null==window._loadedScripts&&(window._loadedScripts={}),window._loadedScripts[e]?t():i.getScript(e,(()=>(window._loadedScripts[e]=!0,t())))}attachLinks(e,t,n){if(t)return this.$(".js-limit-exceeded").toggleClass("hide",!0),this.options.onStartUpload&&this.options.onStartUpload(this.model,e),f.pushView({view:y}),_.resolve(t).call("map",null!=n?n:e=>e).each((t=>{const n=C.pick(t,"url","mimeType","name");return this.trigger("attach",n),_.fromNode((e=>this.getCard().uploadUrl(n,e))).then((t=>O.sendOperationalEvent({action:"completed",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{type:e}})))})).then((()=>f.hide())).catch(h,(()=>(f.popView(),this.render(),O.sendOperationalEvent({action:"errored",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{reason:"limit exceeded"}})))).catch(g,(()=>(a.show("link type restricted","error","attachment",5e3),O.sendOperationalEvent({action:"errored",actionSubject:"upload",source:"cardAttachmentPickerInlineDialog",attributes:{reason:"type restricted"}}),f.hide()))).finally((()=>this.options.onFinishUpload&&this.options.onFinishUpload(this.model,e))).done()}openGoogleDriveFilePicker(e){return E.stop(e),j(gapi,"load","picker").then((function(){const e=m.validToken();return j(m,"authorize",e)})).then((e=>{const t=new google.picker.DocsView;t.setIncludeFolders(!0);const n=new google.picker.DocsView;n.setIncludeFolders(!0),n.setSelectFolderEnabled(!0),n.setEnableTeamDrives(!0);return(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).addView(t).addView(n).setOAuthToken(e).setCallback((e=>this.attachLinks("Google drive file",e.docs,A.id))).build().setVisible(!0),i("iframe.picker-frame[src*=authserviceid]").attr("src",(function(){return i(this).attr("src").replace(/authserviceid/g,"fixgoogle")}))})).catch((e=>{switch(e.message){case"popup_closed_by_user":case"access_denied":break;default:throw e}})).done()}openDropboxFilePicker(e){E.stop(e),this._loadOnce(this._scripts.dropbox,(()=>{Dropbox.init({appKey:l}),Dropbox.choose({linkType:"preview",iframe:!0,success:e=>this.attachLinks("Dropbox file",e,(e=>({url:e.link,name:e.name})))}),i('iframe[src^="https://www.dropbox.com/chooser"]').parent().css("overflow","auto")}))}openOneDriveFilePicker(e){E.stop(e),this._loadOnce(this._scripts.oneDrive,(()=>{_.try((()=>new _((function(e,t){const{OneDrive:n}=window;return n.open({clientId:c,action:"share",multiSelect:!0,openInNewWindow:!0,success:t=>e(t.value),cancel:()=>e([]),error:e=>t(e),advanced:{redirectUri:"".concat(d,"/onedrive_callback_7.html")}})})))).then((e=>this.attachLinks("OneDrive file",e,(e=>({url:e.webUrl,name:e.name}))))).done()}))}openBoxFilePicker(e){return E.stop(e),this._loadOnce(this._scripts.box,(()=>{const e=new BoxSelect({clientId:o,linkType:"shared",multiselect:!0}),t=n=>(e.unregister(e.SUCCESS_EVENT_TYPE,t),this.attachLinks("Box file",n,A.id));return e.success(t),e.launchPopup()}))}keydown(e){if(v(e))return this.addUrl()}addUrl(e){let t=this.$(".js-attachment-url").val().split(/\s+/),n=this.$(".js-attachment-name").val();/\S/.test(n)||(n=void 0),t=C.filter(t,(e=>/\S/.test(e))),!C.isEmpty(t)&&t.length<10&&this.attachLinks("link",t,(e=>({url:e,name:n})))}attachCard(e){const t=new k({model:this.model,card:this.model,modelCache:this.modelCache,button:!0,onStartUpload:e=>{let t;return e instanceof p?(t=e.get("url"),this.attachLinks("card",[{url:t}])):e instanceof s?(t=e.get("url"),this.attachLinks("board",[{url:t}])):void 0}});return f.pushView({view:t})}toggleAttachmentNameInput(e){const t=i(e.currentTarget).val(),{type:n}=S(t),a=["board","card"].includes(n),r=!/\S/.test(t);return this.$(".js-name-link").toggleClass("hide",a||r)}showRestrictedTooltip(e){const t=this.$(e.target);return D.show(T.l("attachment-type-restricted"),t,!1,D.STYLE.MENU)}hideRestrictedTooltip(){return D.hide()}}F.initClass(),e.exports=F},"./app/scripts/views/card/card-copy-view-deprecated.js":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),{Auth:a}=n("./app/scripts/db/auth.js"),{getKey:r,Key:s}=n("./packages/keybindings/index.ts"),{ModelLoader:o}=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:c}=n("./app/scripts/views/card/card-limits-error.js"),{l:d}=n("./app/scripts/lib/localize.js"),u=n("./app/scripts/views/label/label-limits-error-view.js"),p=n("./app/scripts/views/card/select-card-position.js"),m=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),g=n("./app/scripts/views/internal/templates.js"),{Analytics:b}=n("./packages/atlassian-analytics/index.ts"),v=n("./node_modules/effing/lib/index.js"),f=n("./node_modules/underscore/underscore.js");class _ extends h{static initClass(){this.prototype.viewTitleKey="copy card",this.prototype.showCurrentPosition=!0,this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"}}initialize(e){return b.sendScreenEvent({name:"copyCardInlineDialog",containers:this.model.getAnalyticsContainers(),attributes:{cardIsTemplate:this.model.get("isTemplate"),cardIsClosed:this.model.get("closed")}}),this.onCopy=null!=e.onCopy?e.onCopy:function(){}}render(){const e=this.model.toJSON();e.numChecklists=this.model.checklistList.length,e.numMembers=e.idMembers.length,e.numLabels=null!=(null!=e.idLabels?e.idLabels.length:void 0)?null!=e.idLabels?e.idLabels.length:void 0:0,e.numAttachments=e.badges.attachments,e.numComments=e.badges.comments,e.numStickers=e.stickers.length,e.hasChecklists=e.numChecklists>0,e.hasMembers=e.idMembers.length>0,e.hasLabels=e.numLabels>0,e.hasAttachments=e.badges.attachments>0,e.hasStickers=e.stickers.length>0,e.hasComments=e.badges.comments>0&&!this.model.getBoard().isTemplate(),e.hasStuff=e.hasChecklists||e.hasMembers||e.hasLabels||e.hasAttachments||e.hasComments||e.hasStickers,e.loading=this.loading;let t=this.model.getBoard();const i=this.model.getBoard().getEnterprise();var r,s;t.isGuest(a.me())&&t.get("enterpriseOwned")?(e.isCopy=!0,e.hasEnterprise=!0,e.enterpriseName=null!=i?i.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(r=t.getOrganization(),s=e=>e.get("displayName"),(null!=r?s(r):void 0)||d("member boards.boards")),boards:[f.extend(t.toJSON(),{selected:!0})]}]):null!=i?(e.isCopy=!0,e.hasEnterprise=null!=i,t=null==this.model.getBoard().getMembershipFor(a.me())?t:null,e.organizations=a.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),t),e.enterpriseName=i.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=a.me().getOpenBoardsByOrg(!0,t));for(const t of Array.from(e.organizations))for(const e of Array.from(t.boards))e.id===this.model.get("idBoard")&&(e.selected=!0);const o={move_card_controls:g.move_card_controls};return this.$el.html(g.fill(n("./app/scripts/views/templates/card_copy.js"),e,{editable:this.model.editable()},o)),this.updateBoardData(),this}getData(){return this.loading=!0,Promise.all([o.loadCardCopyData(this.model.get("idBoard"),this.model.id),o.loadBoardMinimal(this.model.get("idBoard"))]).finally((()=>(this.loading=!1,this.render())))}keydownEvent(e){if(r(e)===s.Enter)return m.stop(e),void this.submit(e)}submit(e){m.stop(e);const t=this.$('textarea[name="name"]');if(""===t.val().trim())return void t.focus().select();const n=this.$(".js-select-list").find("option:selected").val(),a=this.$(".js-select-board").find("option:selected").val(),r=this.modelCache.get("Board",a),s=null!=r?r.listList.get(n):void 0,o={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:r,destinationList:s};if(c(o))return;const d=this.$("input:checkbox:checked").get().map(v.get("name")),p=["start","due"].concat(d);if(a!==this.model.getBoard().id){if(this.model.getLabels().length>0&&f.contains(p,"labels")&&r.isOverLimit("labels","perBoard"))return void l.pushView(new u)}this.$(".js-submit").attr("disabled","disabled");const h=b.startTask({taskName:"create-card/copy",source:"copyCardInlineDialog"});this.model.copyTo({name:t.val().trim(),idList:n,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:p,traceId:h}).then((()=>{l.hide(),this.onCopy(),b.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskSucceeded({taskName:"create-card/copy",source:"copyCardInlineDialog",traceId:h})})).catch((e=>{l.hide(),i.flash("could not copy card","error","card-copy"),b.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskFailed({taskName:"create-card/copy",traceId:h,source:"copyCardInlineDialog",error:e})}))}}_.initClass(),f.extend(_.prototype,p),e.exports=_},"./app/scripts/views/card/card-copy-view.ts":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),{Auth:a}=n("./app/scripts/db/auth.js"),{getKey:r,Key:s}=n("./packages/keybindings/index.ts"),{ModelLoader:o}=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:c}=n("./app/scripts/views/card/card-limits-error.js"),{l:d}=n("./app/scripts/lib/localize.js"),u=n("./app/scripts/views/label/label-limits-error-view.js"),p=n("./app/scripts/views/card/select-card-position.js"),m=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),g=n("./app/scripts/views/internal/templates.js"),{Analytics:b}=n("./packages/atlassian-analytics/index.ts"),v=n("./node_modules/effing/lib/index.js"),f=n("./node_modules/underscore/underscore.js");class _ extends h{static initClass(){this.prototype.viewTitleKey="copy card",this.prototype.showCurrentPosition=!0,this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"}}initialize(e){return b.sendScreenEvent({name:"copyCardInlineDialog",containers:this.model.getAnalyticsContainers(),attributes:{cardIsTemplate:this.model.get("isTemplate"),cardIsClosed:this.model.get("closed")}}),this.onCopy=null!=e.onCopy?e.onCopy:function(){}}render(){const e=this.model.toJSON();e.numChecklists=this.model.checklistList.length,e.numMembers=e.idMembers.length,e.numLabels=null!=(null!=e.idLabels?e.idLabels.length:void 0)?null!=e.idLabels?e.idLabels.length:void 0:0,e.numAttachments=e.badges.attachments,e.numComments=e.badges.comments,e.numStickers=e.stickers.length,e.hasChecklists=e.numChecklists>0,e.hasMembers=e.idMembers.length>0,e.hasLabels=e.numLabels>0,e.hasAttachments=e.badges.attachments>0,e.hasStickers=e.stickers.length>0,e.hasComments=e.badges.comments>0&&!this.model.getBoard().isTemplate(),e.hasStuff=e.hasChecklists||e.hasMembers||e.hasLabels||e.hasAttachments||e.hasComments||e.hasStickers,e.loading=this.loading;let t=this.model.getBoard();const i=t.getEnterprise(),r=a.me();if(t.hasEnterprise()){var s;const n=t.get("idEnterprise"),o=null===(s=r.attributes)||void 0===s?void 0:s.enterpriseLicenses,l=(null==o?void 0:o.some((e=>e.idEnterprise===n)))||!1;e.isCopy=!0,e.hasEnterprise=!0,e.enterpriseName=null==i?void 0:i.get("displayName"),l?(t=null==this.model.getBoard().getMembershipFor(a.me())?t:null,e.organizations=a.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),t)):(e.restrictToCurrentBoard=!0,e.organizations=[{displayName:t.getOrganization().get("displayName")||d("member boards.boards"),boards:[f.extend(t.toJSON(),{selected:!0})]}])}else t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=a.me().getOpenBoardsByOrg(!0,t);for(const t of e.organizations)for(const e of t.boards)e.id===this.model.get("idBoard")&&(e.selected=!0);const o={move_card_controls:g.move_card_controls};return this.$el.html(g.fill(n("./app/scripts/views/templates/card_copy.js"),e,{editable:this.model.editable()},o)),this.updateBoardData(),this}getData(){return this.loading=!0,Promise.all([o.loadCardCopyData(this.model.get("idBoard"),this.model.id),o.loadBoardMinimal(this.model.get("idBoard"))]).finally((()=>(this.loading=!1,this.render())))}keydownEvent(e){if(r(e)===s.Enter)return m.stop(e),void this.submit(e)}submit(e){m.stop(e);const t=this.$('textarea[name="name"]');if(""===t.val().trim())return void t.focus().select();const n=this.$(".js-select-list").find("option:selected").val(),a=this.$(".js-select-board").find("option:selected").val(),r=this.modelCache.get("Board",a),s=null!=r?r.listList.get(n):void 0,o={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:r,destinationList:s};if(c(o))return;const d=this.$("input:checkbox:checked").get().map(v.get("name")),p=["start","due"].concat(d);if(a!==this.model.getBoard().id){if(this.model.getLabels().length>0&&f.contains(p,"labels")&&r.isOverLimit("labels","perBoard"))return void l.pushView(new u)}this.$(".js-submit").attr("disabled","disabled");const h=b.startTask({taskName:"create-card/copy",source:"copyCardInlineDialog"});this.model.copyTo({name:t.val().trim(),idList:n,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:p,traceId:h}).then((()=>{l.hide(),this.onCopy(),b.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskSucceeded({taskName:"create-card/copy",source:"copyCardInlineDialog",traceId:h})})).catch((e=>{l.hide(),i.flash("could not copy card","error","card-copy"),b.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:this.model.id},board:{id:this.model.getBoard().id}},attributes:{isCardTemplate:!!this.model.get("isTemplate"),isBoardTemplate:this.model.getBoard().isTemplate(),taskId:h}}),b.taskFailed({taskName:"create-card/copy",traceId:h,source:"copyCardInlineDialog",error:e})}))}}_.initClass(),f.extend(_.prototype,p),e.exports=_},"./app/scripts/views/card/card-cover-chooser-popover.tsx":function(e,n,i){"use strict";i.r(n),i.d(n,"toggleCardCoverChooserPopover",(function(){return ie}));var a=i("./node_modules/react/index.js"),r=i.n(a),s=i("./packages/i18n/index.ts"),o=i("./packages/keybindings/index.ts"),l=i("./node_modules/classnames/index.js"),c=i.n(l),d=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=i.n(d),p=i("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less"),m={insert:"head",singleton:!1},h=(u()(p.a,m),p.a.locals||{}),g=i("./packages/locale/index.ts");const b=Object(s.forTemplate)("card_cover_chooser"),v={productivity:"Productivity",perspective:"Perspective",organization:"Organization",colorful:"Colorful",nature:"Nature",business:"Business",minimal:"Minimal",space:"Space",animals:"Animal"},f=({onSelect:e})=>r.a.createElement("div",null,r.a.createElement("h4",{className:h.heading},b("suggested-searches")),Object.entries(v).map((([t,n])=>r.a.createElement("button",{className:c()("button",h.suggestedSearchButton),key:t,onClick:t=>{t.stopPropagation(),e(n)}},((e,t)=>"en-US"===g.currentLocale||"en-GB"===g.currentLocale||"en-AU"===g.currentLocale||b(e)===t?b(e):b(e)+" ("+t+")")(t,n)))));var _=i("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),k=i("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),y=i("./node_modules/underscore/underscore.js"),E=i("./packages/nachos/spinner.ts"),w=i("./app/src/components/InfiniteList/index.ts"),C=i("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),T=i("./node_modules/react-transition-group/esm/Transition.js"),O=i("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less"),j={insert:"head",singleton:!1},A=(u()(O.a,j),O.a.locals||{}),x=i("./packages/unsplash/index.ts"),N=i("./packages/atlassian-analytics/index.ts");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=Object(s.forTemplate)("card_cover_chooser"),P=({cardId:e,query:t,onSetCover:n})=>{const[i,s]=Object(a.useState)(t),[o,l]=Object(a.useState)(1),[d,u]=Object(a.useState)(!1),[p,m]=Object(a.useState)(!0),[h,g]=Object(a.useState)(!1),{data:b,error:v,loading:f,fetchMore:O}=Object(k.a)({skip:!i.trim().length,variables:{query:i,perPage:24,page:1},notifyOnNetworkStatusChange:!0}),{data:j}=Object(_.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),S=null==j?void 0:j.card,D={organization:{id:null==S?void 0:S.board.idOrganization},board:{id:null==S?void 0:S.board.id},card:{id:null==S?void 0:S.id}},P=Object(a.useCallback)(Object(y.debounce)((e=>{l(1),m(!0),s(e),u(!1)}),500),[s,u]);Object(a.useEffect)((()=>{u(!0),P(t)}),[t,P,u]);const F=b&&b.unsplashPhotos?b.unsplashPhotos:[],L=Object(a.useCallback)((()=>{p&&!f&&(l((e=>e+1)),O({variables:{page:o+1},updateQuery:(e,{fetchMoreResult:t})=>{if(m(!!t&&24===t.unsplashPhotos.length),!t)return e;const n=new Set(e.unsplashPhotos.map((e=>e.id)));return I(I({},e),{},{unsplashPhotos:[...e.unsplashPhotos,...t.unsplashPhotos.filter((e=>!n.has(e.id)))]})}}))}),[O,o,l,p,m,f,24]);if(v||h)return r.a.createElement("div",null,B("something-went-wrong"));if(!f&&i.trim().length&&!F.length)return r.a.createElement("div",{className:"quiet"},B("no-search-results"));const M=d||f,R=!!F.length&&!d&&(!f||o>1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:A.heading},B("search-results")),R&&r.a.createElement(w.InfiniteList,{axis:"y",threshold:"30%",spinnerClassName:A.hideInfiniteListSpinner,itemCount:F.length,pageSize:24,awaitMore:!f&&p,loadMore:L,isLoading:f,itemsRenderer:(e,t)=>r.a.createElement("div",{className:c()(A.searchResultTiles,A.modFixedHeight),ref:e=>t(e)},e),renderItem:(t,i)=>{const{urls:a,links:s,user:o}=F[t];return r.a.createElement(C.a,{key:i,urls:a,links:s,user:o,index:t,cardId:e,onSetCover:n,onSetCoverFailed:()=>g(!0),buttonClassName:A.searchResultTilesItem,onClick:()=>N.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"unplashCoverInlineDialog",attributes:{value:a.raw},containers:D})})}}),r.a.createElement("div",{className:A.searchResultsFooter},r.a.createElement(T.a,{in:M,timeout:85},(e=>r.a.createElement("div",{className:c()(A.loadingColumn,{[A.isExiting]:"exiting"===e})},"exited"!==e&&r.a.createElement(E.a,{inline:!0,modLeft:!0,small:!0,text:B("loading")})))),r.a.createElement("div",{className:A.unsplashColumn},B("photos-from-unsplash",{unsplashLink:r.a.createElement("a",{key:"a",className:A.unsplashLink,href:x.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")}))))};var F=i("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less"),L={insert:"head",singleton:!1},M=(u()(F.a,L),F.a.locals||{}),R=i("./packages/nachos/icons/close.tsx"),V=i("./packages/analytics/index.ts"),U=i("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less"),z={insert:"head",singleton:!1},H=(u()(U.a,z),U.a.locals||{}),W=i("./app/src/noop.ts");const Y=Object(s.forTemplate)("card_cover_chooser"),K=({cardId:e,onSetCover:t})=>{const{data:n}=Object(k.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}),{data:i}=Object(_.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),a=null==i?void 0:i.card,s={organization:{id:null==a?void 0:a.board.idOrganization},board:{id:null==a?void 0:a.board.id},card:{id:null==a?void 0:a.id}},o=n&&n.unsplashPhotos?n.unsplashPhotos:[];return o.length?r.a.createElement("div",null,r.a.createElement("h4",{className:H.heading},Y("top-photos")),r.a.createElement("div",{className:H.unsplashTiles},o.slice(0,12).map((({urls:n,links:i,user:a,id:o},l)=>r.a.createElement(C.a,{key:o,urls:n,links:i,user:a,index:l,cardId:e,onSetCover:t,onSetCoverFailed:W.a,buttonClassName:H.unsplashTilesItem,onClick:()=>N.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:n.raw},containers:s})})))),r.a.createElement("div",{className:H.searchResultsFooter},r.a.createElement("div",{className:H.unsplashColumn},Y("photos-from-unsplash",{unsplashLink:r.a.createElement("a",{key:"a",className:H.unsplashLink,href:x.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")})))):null},G=Object(s.forTemplate)("card_cover_chooser"),$=({cardId:e,onSetCover:t})=>{const{data:n}=Object(_.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),i=n&&n.card,s={organization:{id:null==i?void 0:i.board.idOrganization},board:{id:null==i?void 0:i.board.id},card:{id:null==i?void 0:i.id}},l=Object(a.useRef)(null),[d,u]=Object(a.useState)(""),[p,m]=Object(a.useState)(!1),[h,g]=Object(a.useState)(!1),b=Object(a.useCallback)((()=>{u(""),m(!1)}),[]);Object(o.useShortcut)((()=>{b(),Object(V.track)("Card Cover Chooser","Clear Search","Via Escape Key")}),{scope:o.Scope.Popover,key:o.Key.Escape,enabled:p});const v=Object(a.useCallback)((e=>{if(u(e),l.current){const t=e.length;l.current.focus(),l.current.setSelectionRange(t,t),Object(V.track)("Card Cover Chooser","Click Suggestion",e)}}),[]),k=d.trim().length>0,y=!k,E=k,w=!k;return r.a.createElement("div",{className:M.unsplashSearch},r.a.createElement("div",{className:M.unsplashSearchInputSection},r.a.createElement("input",{type:"text",autoFocus:!0,onFocus:()=>{N.Analytics.sendUIEvent({action:"focused",actionSubject:"input",actionSubjectId:"cardCoverUnsplashSearchInput",source:"unplashCoverInlineDialog",containers:s}),m(!0)},onBlur:()=>{h||m(!1)},onChange:e=>{const t=e.currentTarget.value;u(t)},value:d,placeholder:G("search-unsplash-for-photos"),className:c()(M.unsplashSearchInput,"js-autofocus"),ref:l}),p&&d.length>0&&r.a.createElement("button",{className:c()("button",M.unsplashSearchClearButton),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onClick:()=>{g(!1),b(),Object(V.track)("Card Cover Chooser","Clear Search","Via Button")}},r.a.createElement(R.a,{size:"small",dangerous_className:M.unsplashSearchClearButtonIcon}))),y&&r.a.createElement(f,{onSelect:v}),w&&r.a.createElement(K,{cardId:e,onSetCover:t}),E&&r.a.createElement(P,{cardId:e,query:d,onSetCover:t}))},q=({cardId:e,navigateToSelectCover:t})=>{const{data:n}=Object(_.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[i,s]=Object(a.useState)(!1),o=null==n?void 0:n.card;return Object(a.useEffect)((()=>{o&&!i&&(N.Analytics.sendScreenEvent({name:"unplashCoverInlineDialog",containers:{organization:{id:o.board.idOrganization},board:{id:o.board.id},card:{id:o.id}}}),s(!0))}),[o,i]),r.a.createElement($,{cardId:e,onSetCover:t})};var X=i("./app/src/components/CardCoverChooser/SelectCover.tsx"),Q=i("./app/src/components/ComponentWrapper/index.ts");const J=i("./app/scripts/views/lib/pop-over.js"),Z=i("./app/scripts/lib/plugins/plugin-validators.js"),ee=i("./app/scripts/views/plugin/plugin-pop-over-iframe-view.js"),te=Object(s.forNamespace)("view title"),ne=Object(s.forTemplate)("card_cover_chooser"),ie=({elem:e,cardId:n,boardId:i})=>{const a=r.a.createElement(Q.ComponentWrapper,{key:"add-cover"},r.a.createElement(q,{cardId:n,navigateToSelectCover:()=>J.popView()})),s=r.a.createElement(Q.ComponentWrapper,{key:"select-cover"},r.a.createElement(X.SelectCover,{cardId:n,boardId:i,navigateToAddCover:()=>{J.pushView({getViewTitle:()=>ne("photo-search"),reactElement:a,displayType:"mod-card-cover-chooser"})},navigateToPluginCoverMenu:({title:e,url:n,height:i,board:a})=>{if(!Z.isValidUrlForIframe(n))throw t.NotHandled("Invalid url, must be http or https");if(i&&!Z.isValidHeight(i))throw t.NotHandled("Invalid height, must be a positive number");J.pushView({view:new ee({title:e,content:{url:n,height:i},model:a})})}}));J.toggle({elem:e,getViewTitle:()=>te("cover"),reactElement:s})}},"./app/scripts/views/card/card-limits-error.js":function(e,t,n){const i=n("./app/scripts/views/lib/limit-error-popover.js"),a="cardLimit";e.exports={canAddCard:function(e){const{destinationBoard:t,destinationList:n}=e;return!((null!=t?t.isOverLimit("cards","openPerBoard"):void 0)||(null!=t?t.isOverLimit("cards","totalPerBoard"):void 0)||(null!=n?n.isOverLimit("cards","openPerList"):void 0)||(null!=n?n.isOverLimit("cards","totalPerList"):void 0)||(null!=t?t.isOverLimit("attachments","perBoard"):void 0)||(null!=t?t.isOverLimit("checklists","perBoard"):void 0))},maybeDisplayLimitsErrorOnCardAdd:function(e){const{$elem:t,hasChecklists:n,hasAttachments:r,destinationBoard:s,destinationList:o}=e,l=(null!=s?s.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=s?s.isOverLimit("cards","totalPerBoard"):void 0)?"card exceeds total per board limit":(null!=o?o.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":(null!=o?o.isOverLimit("cards","totalPerList"):void 0)?"card exceeds total per list limit":r&&(null!=s?s.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":n&&(null!=s?s.isOverLimit("checklists","perBoard"):void 0)?"card exceeds checklists per board limit":void 0;return null!=l&&(i({elem:t,message:l,trackingArea:a,params:{boardName:s?s.get("name"):void 0,boardId:s?s.get("id"):void 0,listName:o?o.get("name"):void 0}}),!0)},maybeDisplayLimitsErrorOnCardOpen:function(e){const{$elem:t,hasAttachments:n,destinationBoard:r,destinationList:s}=e,o=(null!=r?r.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=s?s.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":n&&(null!=r?r.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":void 0;return null!=o&&(i({trackingArea:a,elem:t,message:o,params:{boardName:null!=r?r.get("name"):void 0,boardId:null!=r?r.get("id"):void 0,listName:null!=s?s.get("name"):void 0}}),!0)}}},"./app/scripts/views/card/card-list-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./packages/browser/index.ts"),r=n("./app/scripts/views/card/card-view.js"),s=n("./app/scripts/views/internal/collection-view.js"),o=n("./app/scripts/views/lib/drag-sort.js"),l=n("./app/scripts/views/lib/post-render.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./node_modules/underscore/underscore.js"),{chunkArray:u}=n("./app/scripts/views/card/chunkArray.ts"),{featureFlagClient:p}=n("./packages/feature-flag-client/index.ts"),m=["chrome","firefox","opera"].includes(a.browserStr)||"windows"!==a.osStr?function(){}:d.debounce((()=>l.enqueue("jostleBoard",(function(){return i("#board").css("bottom",1),d.defer((()=>i("#board").css("bottom",0)))}))));class h extends s{static initClass(){this.prototype.viewType=r}getModels(){return this.collection.models}constructor(){super(...arguments),this.debouncedRefreshIfInitialized=this.debounce(this.refreshIfInitialized,10)}initialize(){super.initialize(...arguments),p.get("fep.check-card-idboards",!1)&&this.listenTo(this.collection,"change:idBoard",((e,t)=>{t!==this.collection.list.get("idBoard")&&this.removeModel(e)}))}removeModel(e,t){if(!p.get("fep.check-card-idboards",!1)||this.existingSubviewOrUndefined(this.viewType,e))return super.removeModel(...arguments)}render(){return this.options.deferCards?this.whenIdle("deferredCardList_".concat(this.cid),(()=>this.progressiveRender())):this.progressiveRender(),this}progressiveRender(){const e=this.getModels(),t=e=>this.appendSubviews(Array.from(e).map((e=>this.subview(this.viewType,e)))),n=Math.max(10,Math.ceil(window.innerHeight/32)),i=d.first(e,n);t(i);return u(d.rest(e,n),n).forEach(((e,n)=>this.whenIdle("deferredHiddenCards_".concat(this.cid,"_chunk").concat(n),(()=>(t(e),m())))))}insertSubview(e,t,n){null==n&&({$el:n}=this),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof c&&(t=t.$el);const i=e.model;return e.$el.is(":empty")?(e.delegateEvents(),e.render()):n.hasClass("hide")||i.getBoard().filter.satisfiesFilter(i)||e.renderFiltered(),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el),this.debouncedRefreshIfInitialized()}refreshIfInitialized(){return o.refreshIfInitialized(this.$el)}scrollToCardView(e){const t=this.viewForModel(e);if(t){const e=t.$el[0];return this.$el.scrollTop(e.offsetTop+e.offsetHeight)}}}h.initClass(),e.exports=h},"./app/scripts/views/card/card-member-select-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ActionHistory:a}=n("./packages/action-history/index.ts"),r=n("./app/scripts/views/lib/alerts.js"),{Auth:s}=n("./app/scripts/db/auth.js"),o=n("./packages/react-dom-wrapper/index.ts"),l=n("./node_modules/react/index.js"),{ApiError:c}=n("./app/scripts/network/api-error.js"),{Card:d}=n("./app/scripts/models/card.js"),{containsValidUrl:u}=n("./app/scripts/lib/util/url/contains-valid-url.js"),p=n("./app/scripts/views/templates/invite_add_name.js"),{getKey:m,Key:h}=n("./packages/keybindings/index.ts"),{l:g}=n("./app/scripts/lib/localize.js"),b=n("./app/scripts/lib/localize-server-error.js"),{maybeDisplayMemberLimitsError:v}=n("./app/scripts/views/board-menu/member-limits-error.js"),{ModelCache:f}=n("./app/scripts/db/model-cache.js"),{ModelLoader:_}=n("./app/scripts/db/model-loader.js"),k=n("./app/scripts/views/lib/pop-over.js"),y=n("./node_modules/bluebird/js/browser/bluebird.js"),E=n("./app/scripts/views/member/select-member-on-card-view.js"),w=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),C=n("./app/scripts/lib/util/index.js"),T=n("./app/scripts/views/internal/view.js"),O=n("./node_modules/underscore/underscore.js"),j=n("./app/scripts/views/templates/popover_select_members.js"),{Analytics:A,tracingCallback:x}=n("./packages/atlassian-analytics/index.ts"),{track:N,trackUe:S,trackDebounced:I}=n("./packages/analytics/index.ts"),{searchFilter:D}=n("./app/scripts/lib/util/text/search-filter.js"),B=n("./packages/browser/index.ts").isDesktop();class P extends T{static initClass(){this.prototype.viewTitleKey="members",this.prototype.events={"click .js-board-members .js-select-member":"selectMem","click .js-org-members .js-select-member":"selectMem","click .js-suggestions .js-select-member":"addSuggestedMember","click .js-show-org-members":"showOrgMembers","mouseenter .pop-over-member-list .item":"hoverMemberSelect","input .js-search-mem"(e){return this.updateSearch(),this.renderSuggested()},keydown:"keydownEvent","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite"}}constructor(e){super(e),this.wouldBecomeBillableGuest=this.wouldBecomeBillableGuest.bind(this)}initialize(){return this.showAllOrgMembers=!1,this.wouldBecomeBillableGuestPromise=null,this.updateSearch=O.debounce(this.updateSearch,100),this.makeDebouncedMethods("renderMems","renderSuggested"),null!=this.model.memberList&&this.listenTo(this.model.memberList,"add remove reset",(()=>(this.updateOrdering(),this.renderMemsDebounced(),this.renderSuggestedDebounced()))),A.sendScreenEvent({name:"cardMemberListInlineDialog",containers:this.model.getBoard().getAnalyticsContainers(),attributes:{cardIsTemplate:this.model.get("isTemplate"),cardIsClosed:this.model.get("closed")}}),this.updateOrdering()}remove(){return this.reactRoot&&o.unmountComponentAtNode(this.reactRoot),super.remove(...arguments)}updateOrdering(){this._onCardMembers={},this._onListMembers={},this._onBoardMembers={};const e=(e,t)=>t.memberList.forEach((t=>e[t.id]=!0));return this.model instanceof d&&e(this._onCardMembers,this.model),this.model.getList().cardList.forEach(e.bind(null,this._onListMembers)),this.model.getBoard().listList.forEach((t=>t.cardList.forEach(e.bind(null,this._onBoardMembers))))}render(){const e=this.model.getBoard();return this.$el.html(j({canInviteMembers:!e.hasInvitationRestrictions()&&e.canInviteMembers(),includeOrgMembers:null!=e.getOrganization()&&e.canInviteMembers()||this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember(),placeholder:g("add member placeholder")})),this.renderMems(),this.renderSuggested()}getSearch(){return this.$(".js-search-mem").val().trim()}filteredMembers(e,t){const n=D(t);return O.chain(e).filter((e=>n(C.getMemNameArray(e)))).first(8).value()}filteredBoardMembers(e){const t=this.activeBoardMembers().sortBy((e=>(s.isMe(e)?0:this._onCardMembers[e.id]?1:this._onListMembers[e.id]?2:this._onBoardMembers[e.id]?3:4)+e.get("fullName")));return e?this.filteredMembers(t,e):t}filteredOrgMembers(e){if(this.showOrgSection()){const t=this.model.getBoard().getOrganization();return(null!=t?t.paysWithPurchaseOrder():void 0)&&(null!=t?t.isBusinessClass()||t.isStandard():void 0)?null==this.orgMembersPromise&&(this.orgMembersPromise=_.loadOrganizationMembersDataWithAvailableLicenseCount(t.id)):null==this.orgMembersPromise&&(this.orgMembersPromise=_.loadOrganizationMembersData(t.id)),this.orgMembersPromise.then((n=>{const i=t.memberList.filterDeactivated({force:!0}).without(...Array.from(this.model.getBoard().memberList.models||[]));return e?this.filteredMembers(i,e):i}))}return[]}hasSearch(){return""!==this.getSearch()}showOrgSection(){return null!=this.model.getBoard().getOrganization()&&(this.showAllOrgMembers||this.hasSearch())}renderMems(){const e=this.getSearch(),t={".js-board-members":this.filteredBoardMembers(e),".js-org-members":this.filteredOrgMembers(e)},n=this.showOrgSection();return this.$(".js-show-org-members").toggleClass("hide",n),this.$(".js-invite-results").toggleClass("hide",!C.checkEmail(e)),null!=this._renderMemsPromise&&this._renderMemsPromise.cancel(),this._renderMemsPromise=y.each(O.keys(t),(e=>{const i=this.$(e);if(0===i.length)return;const a=i.find(".js-loading"),r=i.find(".js-no-results");return a.removeClass("hide"),r.addClass("hide"),y.resolve(t[e]).then((e=>{a.addClass("hide");const t=i.find(".js-mem-list");t.toggleClass("collapsed",e.length>9),r.toggleClass("hide",e.length>0),e.length>0&&(this.$(".js-board-members").removeClass("hide"),this.$(".js-invite-no-results").addClass("hide"),this.$(".js-org-members").toggleClass("hide",!n));const s=Array.from(e).map((e=>this.subview(E,e,{showUnconfirmed:!0,card:this.model})));return this.ensureSubviews(s,t)}))})).cancellable().then((()=>{if(this.hasSearch()){const t=this.$el.find(".item").first();return t.length>0?C.selectMenuItem(this.$el,".item",t):this.renderEmailInviteToSearchResults({email:e})}})).done(),this}activeBoardMembers(){return this.model.getBoard().memberList.filterDeactivated({force:!0})}renderSuggested(){const e=this.$(".js-suggestions"),t=this.getSuggestedMembers(),n=!this.hasSearch()&&t.length>0&&this.activeBoardMembers().length>9;e.toggleClass("hide",!n);const i=e.find(".js-mem-list");if(n){const e=t.map((e=>this.subview(E,e,{card:this.model},"join-suggestion-".concat(e.id))));this.ensureSubviews(e,i),I.hour("Suggestions","Card Members Menu","Displayed",t.length)}else i.empty();return this}getSuggestedMembers(){const e=a.get(),t=this.model.get("idList"),n=new Set,i={action:{type:"join",idMember:s.myId()}},r=e.filter((({action:e,context:n})=>"add-member"===e.type&&n.idList===t)).filter((function({action:e}){return!n.has(e.idMember)&&(n.add(e.idMember),!0)}));return[i,...Array.from(r)].filter((({action:e})=>this.model.isValidSuggestion(e))).map((({action:e})=>this.modelCache.get("Member",e.idMember))).slice(0,5).sort((function(e,t){if(s.isMe(e))return-1;if(s.isMe(t))return 1;{const n=e.get("fullName").toLowerCase(),i=t.get("fullName").toLowerCase();return n.localeCompare(i)}}))}hoverMemberSelect(e){return C.selectMenuItem(this.$el,".item",e.currentTarget)}keydownEvent(e){const t=m(e);[h.Tab,h.Enter].includes(t)?(C.stop(e),this.$(".js-mem-list .item.selected:first .js-select-member").first().click(),this.$(".js-search-mem").val(""),this.focusSearch(),this.renderMems()):[h.ArrowUp,h.ArrowDown].includes(t)&&(C.stop(e),C.navMenuList(this.$el,".item",t))}updateSearch(e){return this.$(".js-invite-error").addClass("hide"),this.renderMems(),this.focusSearch()}selectMem(e){C.stop(e);const{model:t}=this,n=i(e.currentTarget),a=n.closest(".item"),o=n.attr("idMember"),l="cardMemberSelectInlineDialog";if(!a.hasClass("active")){const e=this.model.getBoard(),n=f.get("Member",o);e.hasActiveMembership(n)||s.isMe(n)&&t.getBoard().isEditableByTeamMemberAndIsNotABoardMember()&&(r.show("woohoo-you-are-now-a-member-of-this-board","info","join-board",4e3),e.optimisticJoinBoard());const i="Card"===t.typeName?A.startTask({taskName:"edit-card/idMembers",source:l}):"";t.addMemberWithTracing(o,i,x({taskName:"edit-card/idMembers",traceId:i,source:l},((e,n)=>{n&&A.sendUpdatedCardFieldEvent({field:"idMembers",source:l,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:i}})}))),a.addClass("active"),N("Card","Change Member","Add Member");const c=this.model.getBoard().memberList.models,d=s.me().id;return c.forEach((function(e){if(e.get("id")===o&&e.get("idMemberReferrer")===d)return S("card","adds","invitee","to card","","",{member:d,addedMember:o})}))}{const e="Card"===t.typeName?A.startTask({taskName:"edit-card/idMembers",source:l}):"";t.removeMemberWithTracing(o,e,x({taskName:"edit-card/idMembers",traceId:e,source:l},((n,i)=>{i&&A.sendUpdatedCardFieldEvent({field:"idMembers",source:l,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:e}})}))),a.removeClass("active"),N("Card","Change Member","Remove Member")}this.focusSearch()}addSuggestedMember(e){C.stop(e);const t=this.$(e.currentTarget).attr("idMember"),n="cardMemberSelectInlineDialog",i=A.startTask({taskName:"edit-card/idMembers",source:n});this.model.addMemberWithTracing(t,i,x({taskName:"edit-card/idMembers",traceId:i,source:n},((e,t)=>{t&&A.sendUpdatedCardFieldEvent({field:"idMembers",source:n,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:i}})}))),N("Card","Suggested",s.isMe(t)?"Join":"Add Member"),this.focusSearch()}focusSearch(){this.$(".js-search-mem").focus()}showOrgMembers(e){this.showAllOrgMembers=!0,this.renderMems()}wouldBecomeBillableGuest(e){const{ApiPromise:t}=n("./app/scripts/network/api-promise.js"),i=this.model.getBoard();if(!i.hasOrganization())return y.resolve(!1);const a=i.getOrganization();return a&&!a.isFeatureEnabled("multiBoardGuests")?y.resolve(!1):t({url:"/1/search/members/",type:"get",data:{idBoard:null!=i?i.id:void 0,query:e},dataType:"json"}).then((e=>1===e.length&&e[0].wouldBecomeBillableGuest))}renderEmailInviteToSearchResults(e){this.$(".js-invite-no-results").removeClass("hide");const t=O.compact(C.removeDomainFromEmailAddress(e.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,""),n=this.model.getBoard(),i=null!=n?n.getOrganization():void 0;O.extend(e,{fullName:C.toTitleCase(t),canAddAsObserver:null!=i?i.isFeatureEnabled("observers"):void 0,modelType:"Board",isLoading:!0,isOrgAdmin:null!=i?i.owned():void 0,isDesktop:B});const a=C.checkEmail(e.email),r=!(null!=n?n.hasInvitationRestrictions():void 0)&&a&&(null!=n?n.canInviteMembers():void 0);if(this.$(".js-board-members").addClass("hide"),this.$(".js-org-members").addClass("hide"),r)return this.$(".js-invite-no-results").addClass("hide"),this.$(".js-invite-results").html(p(e)).removeClass("hide"),null!=this.wouldBecomeBillableGuestPromise&&this.wouldBecomeBillableGuestPromise.cancel(),this.wouldBecomeBillableGuestPromise=this.wouldBecomeBillableGuest(e.email).cancellable().then((t=>{if(O.extend(e,{isLoading:!1,wouldBecomeBillableGuest:t,availableLicenseCount:null!=i?i.getAvailableLicenseCount():1/0}),this.$(".js-invite-results").html(p(e)),t){const e=l.createElement(w,{displayOrg:i,isDesktop:B});if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return o.render(e,this.reactRoot)}})).catch(c,(t=>{const n=b(t);return O.extend(e,{isLoading:!1,error:n}),this.$(".js-invite-results").html(p(e))})).catch(y.CancellationError)}_getNewMemberId(e,t,i,a){const{ApiPromise:r}=n("./app/scripts/network/api-promise.js"),s=O.first(O.difference(e,t));if(null!=s)return N("Invitations","Send Email Board Invite to New Member","Role: ".concat(i)),y.resolve(s);return r({url:"/1/search/members/",type:"get",data:O.extend({query:a},this.model.getBoard().getInviteURLParams()),dataType:"json"}).then((e=>{if(e.length>0)return e[0].id}))}sendEmailInvite(e){const{ApiPromise:t}=n("./app/scripts/network/api-promise.js");C.stop(e);const a=this.$(".js-send-email-invite");if(null!=a.attr("disabled"))return;const r=this.$(".js-email-data .js-full-name"),s=r.val().trim(),o=this.$(".js-email-data .js-email").val().trim();if(!C.validName(s))return C.setCaretAtEnd(r),void i(".js-name-error").show();if(u(s))return C.setCaretAtEnd(r),void i(".js-name-error-url").show();const l={fullName:s,email:o,type:"normal",allowBillableGuest:!0};this.$("#addAsObserver").is(":checked")&&(l.type="observer");const d=this.model.getBoard();if(v(i(e.target),d))return;a.attr("disabled","disabled");const p=O.pluck(d.memberList.models,"id");t({url:"/1/board/".concat(d.id,"/members"),type:"put",data:l}).then((({members:e})=>{const t=O.pluck(e,"id");return this._getNewMemberId(t,p,l.type,o)})).then((e=>{if(null!=e){const t="cardMemberSelectInlineDialog",n=A.startTask({taskName:"edit-card/idMembers",source:t});return this.model.addMemberWithTracing(e,n,x({taskName:"edit-card/idMembers",traceId:n,source:t},((e,i)=>{if(i)return A.sendUpdatedCardFieldEvent({field:"idMembers",source:t,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:n}}),this.$(".js-send-email-invite").removeAttr("disabled"),k.hide()}))),N("Card","Change Member","Add Member")}})).catch(c,(e=>{const t=b(e);this.$(".js-invite-error").removeClass("hide").find(".error").html(t),this.$(".js-uninvited-search-results").empty().hide(),a.removeAttr("disabled"),i("js-search-mem").focus().select(),N("Invitations","Error",null!=e.message?e.message:e.responseText)}))}}P.initClass(),e.exports=P},"./app/scripts/views/card/card-move-view.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./node_modules/underscore/underscore.js"),{ActionHistory:r}=n("./packages/action-history/index.ts"),s=n("./app/scripts/views/lib/alerts.js"),{ApiAjax:o}=n("./app/scripts/network/api-ajax.js"),{Auth:l}=n("./app/scripts/db/auth.js"),c=n("./app/scripts/views/lib/dialog.js"),{l:d}=n("./app/scripts/lib/localize.js"),u=n("./app/scripts/views/lib/pop-over.js"),{maybeDisplayLimitsErrorOnCardAdd:p}=n("./app/scripts/views/card/card-limits-error.js"),m=n("./app/scripts/views/label/label-limits-error-view.js"),h=n("./app/scripts/views/card/select-card-position.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./app/scripts/views/internal/templates.js"),{track:v,trackDebounced:f}=n("./packages/analytics/index.ts"),{featureFlagClient:_}=n("./packages/feature-flag-client/index.ts"),{renderComponent:k}=n("./app/src/components/ComponentWrapper/index.ts"),{MoveCardPopover:y}=n("./app/src/components/MoveCardPopover/index.ts"),{Analytics:E}=n("./packages/atlassian-analytics/index.ts");class w extends g{static initClass(){this.prototype.viewTitleKey="move card",this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData","click .js-submit":"commitChange","click .js-suggested-move":"suggestedMove"}}initialize({onCommit:e}){return this.onCommit=null!=e?e:function(){},E.sendScreenEvent({name:"moveCardInlineDialog",containers:this.model.getAnalyticsContainers(),attributes:{cardIsTemplate:this.model.get("isTemplate"),cardIsClosed:this.model.get("closed")}}),this.listenTo(l.me().boardList,"add remove reset",this.render)}render(){const e={};let t=this.model.getBoard();const r=this.model.getBoard().getEnterprise();var s,o;t.isGuest(l.me())&&t.get("enterpriseOwned")?(e.isMove=!0,e.hasEnterprise=!0,e.enterpriseName=null!=r?r.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(s=t.getOrganization(),o=e=>e.get("displayName"),(null!=s?o(s):void 0)||d("member boards.boards")),boards:[a.extend(t.toJSON(),{selected:!0})]}]):null!=r?(e.isMove=!0,e.hasEnterprise=!0,t=null==this.model.getBoard().getMembershipFor(l.me())?t:null,e.organizations=l.me().getOpenBoardsInEnterpriseByOrg(!0,r.get("id"),t),e.enterpriseName=r.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,e.organizations=l.me().getOpenBoardsByOrg(!0,t));for(const n of Array.from(e.organizations))for(const e of Array.from(n.boards))e.id===this.model.get("idBoard")&&(e.selected=!0,t=e);e.suggestions=this.getSuggestedMoves();let c={move_card_controls:b.move_card_controls};return _.get("fep.nachos_select",!1)?k(i.createElement(y,{organizations:e.organizations,defaultBoardId:t.id,defaultBoardName:t.name,defaultListId:this.model.getList().id,defaultListName:this.model.getList().get("name"),cardList:this.model.getList().cardList,currentIndex:this.model.getList().openCards().indexOf(this.model),onSubmit:this.requestChange.bind(this),hasEnterprise:e.hasEnterprise,enterpriseName:e.enterpriseName,restrictToCurrentBoard:e.restrictToCurrentBoard,isMove:e.isMove,suggestions:this.getSuggestedMoves()}),this.$el.get(0)):(c={move_card_controls:b.move_card_controls},this.$el.html(b.fill(n("./app/scripts/views/templates/popover_move_card.js"),e,{},c))),this.updateBoardData(),e.suggestions.length>0&&f.hour("Suggestions","Card Move Menu","Displayed",e.suggestions.length),this}getSuggestedMoves(){const e=r.get(),t=this.model.getBoard(),n=this.model.getList(),i=this.model.get("idList"),a=this.model.get("idBoard"),s=new Set;return e.filter((({action:e,context:t})=>"move"===e.type&&t.idList===i&&e.idBoard===a)).sort((function(e,t){if(e.action.idList===t.action.idList){const n="string"==typeof e.action.position,i="string"==typeof t.action.position;return n&&!i?-1:i&&!n?1:0}return 0})).filter((function({action:e}){return!s.has(e.idList)&&(s.add(e.idList),!0)})).filter((({action:e})=>this.model.isValidSuggestion(e))).slice(0,5).map((function({action:e}){const i=t.listList.get(e.idList),a=i.toJSON();return a.direction=i.get("pos")>n.get("pos")?"right":"left",a.position=e.position,a}))}suggestedMove(e){const t=this.$(e.currentTarget),n=t.attr("data-id"),i=this.model.getBoard().listList.get(n),a=(()=>{switch(t.attr("data-position")){case"top":return 0;case"1":return 1;default:return i.cardList.length}})();p({$elem:t,destinationList:i})||(this.model.moveToList(i,a),v("Card","Suggested","Move on Same Board"),this.onCommit(),u.hide())}commitChange(e){const t=this.$(".js-select-board"),n=this.$(".js-select-list"),i=this.$(".js-select-position"),a=t.find("option:selected").val(),r=n.find("option:selected").val(),s=i.find("option:selected").val(),o=parseInt(i.find("option:selected").prop("index"),10);return this.requestChange(e,a,r,s,o)}requestChange(e,t,n,i,a){let r,l;if(t===this.model.getBoard().id){if(r=this.model.getBoard().listList.get(n),l={$elem:this.$(e.target),destinationList:r},p(l))return;this.model.moveToList(r,a),v("Card","Move Menu","Same Board")}else if(null!=t&&null!=n&&null!=i){const d=this.modelCache.get("Board",t);if(r=null!=d?d.listList.get(n):void 0,l={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:d,destinationList:r},p(l))return;if(this.model.getLabels().length>0&&d.isOverLimit("labels","perBoard"))return void u.pushView(new m);v("Card","Move Menu","Changed Board");const h=null!=r?r.openCards().length:void 0;this.model.recordAction({type:"move",idBoard:t,idList:n,position:(()=>{switch(i){case"top":return h>0?"top":a;case"bottom":return h>1?"bottom":a;default:return a}})(),fromPosition:this.model.getList().openCards().indexOf(this.model)}),this.model.getList().cardList.remove(this.model),c.hide(),o({url:"/1/cards/".concat(this.model.id),type:"put",data:{idList:n,idBoard:t,pos:i},success:e=>(this.model.board=null,this.model.set("idBoard",e.idBoard),this.model.set("idList",e.idList),this.model.set("pos",e.pos)),error:e=>{this.model.getList().cardList.add(this.model);const t=null!=e.responseJSON?e.responseJSON.error:void 0;return"BOARD_TOO_MANY_CUSTOM_FIELDS"===t?s.show("too many custom fields card","error","moveerror",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===t?s.show("too many custom options card","error","moveerror",8e3):s.show("could not move card","error","moveerror",5e3)}})}this.onCommit(),u.hide()}}w.initClass(),a.extend(w.prototype,h),e.exports=w},"./app/scripts/views/card/card-view-attachment.js":function(e,t,n){const{Analytics:i}=n("./packages/atlassian-analytics/index.ts"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/warn-if-file-too-large.js"),s=n("./app/scripts/views/internal/pasted-file-name.js"),{ninvoke:o}=n("./app/scripts/lib/util/ninvoke.js"),l=n("./app/scripts/views/lib/alerts.js"),c=n("./node_modules/bluebird/js/browser/bluebird.js");e.exports.dragenter=function(e){if(!this.model.editable())return;const t=this.$el.outerHeight(),n=!this.model.canAttach(),i=!this.model.canDropAttachment(e.type),a=i?".list-card-dropzone-restricted":n?".list-card-dropzone-limited":".list-card-dropzone";return this.$(a).css({height:"".concat(t,"px"),"line-height":"".concat(t,"px")}),this.$el.addClass("is-drophover").toggleClass("is-restricted",i).toggleClass("is-limited",n)},e.exports.dragleave=function(e){return this.$el.removeClass("is-drophover")},e.exports.dropFiles=function(e){if(!this.model.canAttach()||this.model.attachmentTypeRestricted("computer"))return void a.stop(e);const t=e.detail;return r(this.model.getBoard(),t)?void 0:(c.resolve(t).each((e=>{const t=e.name||s(),n="cardViewAttachment",a={source:n,taskName:"create-attachment/file"},r=i.startTask(a);return a.traceId=r,o(this.model,"upload",e,t,{traceId:r}).then((e=>(r&&(i.sendTrackEvent({source:n,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:r}}),i.taskSucceeded(a)),e)),(e=>(r&&(a.error=e,i.taskFailed(a)),c.reject(e))))})).catch((()=>l.show("unable to upload file","error","upload",5e3))).done(),e.stopPropagation())},e.exports.dropUrl=function(e){if(!this.model.canAttach()||this.model.attachmentTypeRestricted("link"))return void a.stop(e);const t=e.detail;return this.model.getBoard().attachmentUrlRestricted(t)?void 0:(this.model.uploadUrl(t),e.stopPropagation())}},"./app/scripts/views/card/card-view-cover.js":function(e,t){e.exports.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()&&!this.onCalendar}},"./app/scripts/views/card/card-view-helpers.js":function(e,t,n){const i=n("./app/scripts/views/member-menu-profile/card-member-menu-view.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/templates/member_on_card.js"),o={openMemberOnCardMenu(e){r.stop(e);const t=this.$(e.target).closest(".member"),n=t.attr("data-idmem"),s=this.modelCache.get("Member",n),o=this.model,l=this.model.getBoard();a.toggle({elem:t,view:i,options:{model:s,modelCache:this.modelCache,card:o,board:l}})},getMemberOnCardHtml(e){const t=e.toJSON(),n=this.model.getBoard();var i,a;return t.isVirtual=(i=n.getOrganization(),a=t=>t.isVirtual(e),(null!=i?a(i):void 0)||n.isVirtual(e)),t.isDeactivated=n.isDeactivated(e),s(t)}};e.exports=o},"./app/scripts/views/card/card-view-label.js":function(e,t,n){const{LabelState:i}=n("./app/scripts/view-models/label-state.js"),{track:a}=n("./packages/analytics/index.ts");e.exports.labelClick=function(e){if(e&&(e.ctrlKey||e.metaKey||e.shiftKey))return;const t=i.getShowText();var n,r;return a("Toggle Labels Text on Card Front",t?"Hide":"Show",(n=this.model.getBoard(),r=e=>e.id,null!=n?r(n):void 0),"click-label"),e.preventDefault(),e.stopPropagation(),i.toggleText()},e.exports.labelMouseEnter=function(e){return this.$el.addClass("card-labels-hover")},e.exports.labelMouseLeave=function(e){return this.$el.removeClass("card-labels-hover")}},"./app/scripts/views/card/card-view-lists.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{shouldFireConfetti:a}=n("./app/scripts/views/card/should-fire-confetti.ts"),r=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;e.exports.moveTo=function(e,t,n,s){if(0===t.item.parents(".js-list").length)return;const o=t.item.parents(".js-list").find(".list-card:not(.placeholder,.js-composer)").index(t.item);if(!s){if(a(n.model.get("name"))){const e=t.item.offset(),n=t.item.height(),a=t.item.width();r({angle:i.random(55,125),spread:i.random(50,70),particleCount:i.random(40,75),origin:{x:(e.left+a/2)/window.innerWidth,y:(e.top+n/2)/window.innerHeight}})}t.item.remove()}this.model.moveToList(n.model,o)},e.exports.moveIn=function(e,t,n){n.model.id===this.model.get("idList")&&this.moveTo(e,t,n,!0)}},"./app/scripts/views/card/card-view-mixins.js":function(e,t,n){const{Analytics:i,tracingCallback:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./packages/browser/index.ts"),{DASHCARDS_POWER_UP_ID:s}=n("./app/scripts/data/dashcards-id.js"),{Dates:o}=n("./app/scripts/lib/dates.js"),l=n("./app/scripts/views/internal/due-date-helpers.js"),{makePreviewCachable:c}=n("./app/common/lib/util/preview.ts"),{Label:d}=n("./app/scripts/models/label.js"),u=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),p=n("./app/scripts/views/internal/plugins/plugin-runner.js"),m=n("./node_modules/underscore/underscore.js"),h=n("./app/scripts/views/templates/label.js"),g=n("./app/scripts/lib/plugins/plugin-cover-with-defaults.js"),b=n("./app/scripts/lib/plugins/plugin-validators.js"),v=n("./app/scripts/views/internal/teacup-with-helpers.js")("badge"),{l:f}=n("./app/scripts/lib/localize.js"),{featureFlagClient:_,seesVersionedVariation:k}=n("./packages/feature-flag-client/index.ts"),y=n("./app/scripts/lib/util/index.js"),{UnsplashTracker:E}=n("./packages/unsplash/index.ts"),{shouldFireConfetti:w}=n("./app/scripts/views/card/should-fire-confetti.ts"),C=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default,T=v.renderable((function({archived:e,attachments:t,attachmentsByType:n,checkItems:i,checkItemsChecked:a,checkItemsEarliestDue:r,comments:s,description:c,due:d,dueComplete:u,location:p,notifications:m,start:h,subscribed:g,viewingMemberVoted:b,votes:y,isOnBoardTemplate:E,hideVotes:w,isCardTemplate:C,showDueCompleteCheckbox:T}){C&&v.div(".badge.is-template",{title:f("badge.template")},(function(){return v.span(".badge-icon.icon-sm.icon-template-card"),v.span(".badge-text",(()=>v.format("template")))})),m&&v.div(".badge.is-unread-notification",{title:f("badge.notifications")},(function(){return v.span(".badge-icon.icon-sm.icon-notification"),v.span(".badge-text",(()=>v.text(m)))})),g&&v.div(".badge.is-icon-only",{title:f("badge.watch")},(()=>v.span(".badge-icon.icon-sm.icon-subscribe"))),y>0&&!C&&(w?w&&b&&v.div(".badge",{title:f("badge.votes"),class:v.classify({"is-voted":b})},(()=>v.span(".badge-icon.icon-sm.icon-vote"))):v.div(".badge",{title:f("badge.votes"),class:v.classify({"is-voted":b})},(function(){return v.span(".badge-icon.icon-sm.icon-vote"),v.span(".badge-text",(()=>v.text(y)))})));const O=_.get("ecosystem.timeline-version","none"),j=e=>{v.div(".badge.js-due-date-badge",{title:l.titleForDueDate(d,u),class:v.classify({"mod-due-date":T,[l.classForDueDate(d,u)]:!0})},(function(){return v.span(".badge-icon.icon-sm.icon-clock.badge-due-icon"),T&&(v.span(".badge-icon.icon-sm.icon-checkbox-checked.badge-due-checked"),v.span(".badge-icon.icon-sm.icon-checkbox-unchecked.badge-due-unchecked")),v.span(".badge-text.js-due-date-text",(()=>v.text(e)))}))};k("ecosystem.timeline-version","stable")&&!C?h&&d&&h<=d?j("".concat(o.toDateString(h)," - ").concat(o.toDateString(d))):d?j("".concat(o.toDateString(d))):h&&v.div(".badge.js-start-date-badge",(function(){v.span(".badge-icon.icon-sm.icon-clock"),v.span(".badge-text.js-start-date-text",(function(){v.text(f(l.relativeInforForStartDate(h),{date:o.toDateString(h)}))}))})):(h&&!C&&"none"!==O&&v.div(".badge.js-start-date-badge",(function(){v.span(".badge-icon.icon-sm.icon-clock"),v.span(".badge-text.js-start-date-text",(function(){v.text(o.toDateString(h))}))})),d&&!C&&j(o.toDateString(d))),c&&v.div(".badge.is-icon-only",{title:f("badge.description")},(()=>v.span(".badge-icon.icon-sm.icon-description"))),s>0&&!E&&v.div(".badge",{title:f("badge.comments")},(function(){return v.span(".badge-icon.icon-sm.icon-comment"),v.span(".badge-text",(()=>v.text(s)))}));const A=n?n.trello.board+n.trello.card:0;if((t-=A)>0&&v.div(".badge",{title:f("badge.attachments")},(function(){return v.span(".badge-icon.icon-sm.icon-attachment"),v.span(".badge-text",(()=>v.text(t)))})),A>0&&v.div(".badge",{title:f("badge.trello attachments")},(function(){return v.span(".badge-icon.icon-sm.icon-board"),v.span(".badge-text",(()=>v.text(A)))})),i>0&&v.div(".badge.js-checkitems-badge",{title:f("badge.checkitems"),class:v.classify({"is-complete":a===i,[l.classForDueDate(r,!1)]:null!=r})},(function(){return v.span(".badge-icon.icon-sm.icon-checklist"),v.span(".badge-text.js-checkitems-badge-text",(function(){if(v.text(a),v.text("/"),v.text(i),r)return v.text(" • "),v.text(o.toDateString(r))}))})),e&&v.div(".badge",{title:f("badge.archived.title")},(function(){return v.span(".badge-icon.icon-sm.icon-archive"),v.span(".badge-text",(()=>v.text(f("badge.archived.text"))))})),p)return v.div(".badge",{title:f("badge.location")},(()=>v.span(".badge-icon.icon-sm.icon-location")))}));function O(e,t){return null!=e?t(e):void 0}e.exports={clearCover(){return this.$el.removeClass("is-covered"),this.$(".js-card-stickers").css("height",""),this.$(".js-card-cover").css({"background-origin":"","background-image":"","background-color":"",height:"",padding:""}).removeClass("is-no-preview-size color-card-cover"),this.clearColorCover()},clearColorCover(){return this.$(".js-card-cover").removeClass(((e,t)=>(t.match(/\bcolor-card-cover-\S+/g)||[]).join(" ")))},renderCover(){let e;const t=this.model.getBoard();if(!t.getPref("cardCovers")||this.onCalendar)return this.clearCover(),this.clearFullCover(),this;if(!this.model.hasCover())return this.renderPluginCover(),this;const{idAttachment:n,idUploadedBackground:i,color:a,scaled:s,edgeColor:o,sharedSourceUrl:l,size:d,idPlugin:u}=this.model.get("cover"),p=this.$(".js-card-cover"),m=this.$(".js-card-stickers");if(this.clearColorCover(),"full"===d&&this.shouldRenderFullCover())return this.renderFullCover();this.clearFullCover();const h=u&&t.isPluginEnabled(u);if(a)e=this.model.hasStickers()?64:32,p.css({"background-color":"","background-image":"","background-size":"",height:e}).toggleClass("is-no-preview-size",!1),p.addClass("color-card-cover color-card-cover-".concat(a)),m.css("height",e);else if(n||i||h){let t;const a=r.isHighDPI()?600:300;let d=null!=(t=y.smallestPreviewBiggerThan(s,a))?t:y.biggestPreview(s);if(null==d&&n&&null!=this.model.attachmentList){const e=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==e)return null;d={url:e.get("url")}}if(p.css({"background-color":null!=o?o:"transparent","background-image":'url("'.concat(c(d.url),'")')}).toggleClass("is-no-preview-size",null==d),null!=d){const t=Math.min(d.height,260);e=245*d.height/d.width,e<=t?(p.css({height:e,"background-size":"cover"}),m.css("height",e)):(p.css({height:t,"background-size":"contain"}),m.css("height",t)),i&&E.trackOncePerInterval(l)}}return this.$el.addClass("is-covered"),this},clearFullCover(){return this.$(".js-card-stickers").css("height",""),this.$el.removeClass((function(e,t){const n=t.match(/\bcolor-card-cover\S*/g)||[];return n.push("full-cover-list-card"),n.push("full-cover-list-card-dark"),n.push("dashcard"),n.join(" ")})),this.$el.css({"background-size":"","background-image":"","background-position":"","background-repeat":"","background-color":"","min-height":""})},renderFullCover(){this.clearCover(),this.clearFullCover();const{color:e,scaled:t,edgeColor:n,brightness:i,idPlugin:a}=this.model.get("cover");if(a&&!this.model.getBoard().isPluginEnabled(a))return this;if(a===s&&this.$el.addClass("dashcard"),this.$el.addClass("full-cover-list-card"),"dark"===i&&this.$el.addClass("full-cover-list-card-dark"),e)this.$el.addClass("color-card-cover color-card-cover-".concat(e));else{let e,i;const a=r.isHighDPI()?600:300,s=null!=(i=y.smallestPreviewBiggerThan(t,a))?i:y.biggestPreview(t),o={"background-image":'url("'.concat(s.url,'")'),"background-size":"cover"},l=Math.min(s.height,260);if(this.$el.height()>l)e="auto",o["background-size"]="contain",o["background-position"]="center",o["background-repeat"]="no-repeat",o["background-color"]=n;else{const t=245*s.height/s.width;e=t<=l?t:l}o["min-height"]=e,this.$el.css(o),this.$(".js-card-stickers").css("height",this.$el.height())}return this.$el.addClass("is-covered"),this},getFullCoverStylesForInitialRender(){let e;const{idAttachment:t,scaled:n}=this.model.get("cover"),i=r.isHighDPI()?600:300;let a=null!=(e=y.smallestPreviewBiggerThan(n,i))?e:y.biggestPreview(n);if(null==a&&t&&null!=this.model.attachmentList){const e=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==e)return null;a={url:e.get("url")}}if(null==a)return null;const s={"background-image":'url("'.concat(a.url,'")'),"background-size":"cover"},o=Math.min(a.height,260),l=245*a.height/a.width;return s["min-height"]="".concat(l<=o?l:o,"px"),v.stylify(s)},renderPluginCover(){return this.waitForId(this.model,(()=>p.one({command:"card-cover",board:this.model.getBoard(),card:this.model,list:this.model.getList(),timeout:1e4,options:{attachments:u.attachments(this.model.attachmentList.models,["id","url"]),cardDetail:!1},fxPluginFilter:e=>!(e.get("tags")||[]).includes("plugin-cover-beta")}).then((e=>{if(this.model.hasCover())return;if(!b.isValidCover(e))throw new Error("Invalid cover supplied");const t=g(e);return this.$(".js-card-cover").css({"background-origin":"content-box","background-color":t.edgeColor,"background-image":'url("'.concat(t.url,'")'),"background-position":t.position,"background-repeat":"no-repeat","background-size":t.size,height:"".concat(t.height,"px"),padding:t.padding}).removeClass("is-no-preview-size"),this.$(".js-card-stickers").css("height",t.stickerHeight),this.$el.addClass("is-covered")})).catch((()=>{if(!this.model.hasCover())return this.clearCover(),this.clearFullCover()}))))},getBadgesHtml(){let e;const t=null!=(e=this.model.get("badges"))?e:{},n=_.get("remarkable.card-front-due-complete-checkbox",!1);return T({subscribed:t.subscribed,description:t.description,comments:t.comments,attachments:t.attachments,attachmentsByType:t.attachmentsByType,checkItems:t.checkItems,checkItemsChecked:t.checkItemsChecked,checkItemsEarliestDue:t.checkItemsEarliestDue,hideVotes:!!O(O(this.model.getBoard(),(e=>e.get("prefs"))),(e=>e.hideVotes)),votes:t.votes,viewingMemberVoted:t.viewingMemberVoted,due:this.model.get("due"),dueComplete:this.model.get("dueComplete"),notifications:m.filter(this.modelCache.all("Notification"),(e=>e.get("unread")&&null!=this.model.id&&O(O(e.get("data"),(e=>e.card)),(e=>e.id))===this.model.id)).length,archived:this.model.get("closed"),location:t.location&&O(this.model.getBoard(),(e=>e.isMapPowerUpEnabled())),isOnBoardTemplate:this.model.isOnBoardTemplate(),isCardTemplate:!!this.model.get("isTemplate"),showDueCompleteCheckbox:this.model.editable()&&n,start:this.model.get("start")})},renderBadges(){return this.$(".js-badges").html(this.getBadgesHtml()),this},updateDateBadges(){return this.updateDueDate(),this.updateCheckItemsEarliestDue()},updateDueDate(){const e=this.model.get("due"),t=this.model.get("start"),n=this.model.get("dueComplete"),i=this.el.querySelector(".js-due-date-badge"),a=this.el.querySelector(".js-due-date-text"),r=k("ecosystem.timeline-version","stable");if(i&&a){const s=i.getAttribute("title"),c=l.titleForDueDate(e,n);if(s===c)return this;i.setAttribute("title",c);const d=i.classList.value.split(" ").pop();i.classList.replace(d,l.classForDueDate(e,n)),a.innerText=r&&t&&t<e?"".concat(o.toDateString(t)," - ").concat(o.toDateString(e)):o.toDateString(e)}return this},updateCheckItemsEarliestDue(){const e=this.model.get("badges");if(!e)return this;const{checkItemsEarliestDue:t}=e,n=this.$(".js-checkitems-badge");return n&&(n.removeClass(((e,t)=>(t.match(/\bis-due-\S+/g)||[]).join(" "))),t&&n.addClass(l.classForDueDate(t,!1))),this},toggleDueDateComplete(e){if(!_.get("remarkable.card-front-due-complete-checkbox",!1))return;if(!this.model.editable())return;y.stop(e);const t=!this.model.get("dueComplete"),n=i.startTask({taskName:"edit-card/dueComplete",source:"cardView"});return t&&(w(this.model.get("name"))||w(this.model.getList().get("name")))&&C({angle:m.random(55,125),spread:m.random(50,70),particleCount:m.random(40,75),origin:{x:e.pageX/window.innerWidth,y:e.pageY/window.innerHeight}}),this.model.update({dueComplete:t,traceId:n},a({taskName:"edit-card/dueComplete",traceId:n,source:"cardView"},((e,t)=>{t&&i.sendUpdatedCardFieldEvent({field:"dueComplete",source:"cardView",attributes:{taskId:n},containers:{card:{id:t.id},list:{id:t.idList},board:{id:t.idBoard}}})})))},updateBadges(){if(_.get("remarkable.card-front-due-complete-checkbox",!1)){const e=this.model.previous("badges"),t=this.model.get("badges");if(e&&t){const n=Object.keys(e).filter((n=>!m.isEqual(t[n],e[n])));if(1===n.length&&n.includes("dueComplete"))return this.renderDueComplete()}}return this.renderBadges()},renderMembers(e){const t=(()=>{const e=[];for(let t=this.model.memberList.models.length-1;t>=0;t--){const n=this.model.memberList.models[t];e.push(this.getMemberOnCardHtml(n))}return e})();return this.$(".js-list-card-members").empty().append(t.join("")),this},labelsData(){return m.chain(this.model.getLabels()).sort(d.compare).map((e=>this.model.dataForLabel(e))).filter((e=>!m.isEmpty(e.color))).value()},renderLabels(){const e=(()=>{const e=[];for(const t of Array.from(this.labelsData())){const n=t;n.extraClasses=["mod-card-front"],e.push(h(n))}return e})();return this.$(".js-card-labels").empty().append(e),this}}},"./app/scripts/views/card/card-view-name-edit.js":function(e,t,n){const{getSeparatorClassName:i}=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),a=n("./app/scripts/views/templates/card_title_on_card_front.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/card/quick-card-editor-view.js"),{track:l}=n("./packages/analytics/index.ts"),{featureFlagClient:c}=n("./packages/feature-flag-client/index.ts");e.exports.renderName=function(){const e=this.model.toJSON();c.get("wildcard.card-types-separator",!1)||(e.separatorClassName=i(e.name));const t=a(e);return this.$(".js-card-name").html(t),this},e.exports.openQuickCardEditor=function(e){if(!this.options.quickEditHidden&&this.model.editable())return r.stop(e),s.hide(),o.open(this),l("Card Front","Open Quick Card Editor",void 0,this.model.trackProperty()),this}},"./app/scripts/views/card/card-view-plugins.js":function(e,t,n){const{Analytics:i,tracingCallback:a}=n("./packages/atlassian-analytics/index.ts"),{MemberState:r}=n("./app/scripts/view-models/member-state.js"),{track:s,trackUe:o,Noun:l,Verb:c}=n("./packages/analytics/index.ts"),{stickerClip:d}=n("./app/scripts/lib/util/sticker-clip.js"),u=n("./app/scripts/views/stickers/sticker-view.js"),p=n("./app/scripts/views/custom-field/custom-field-badges-view.js"),m=n("./app/scripts/views/plugin/plugin-badges-view.js"),{LegacyPowerUps:h}=n("./app/scripts/data/legacy-power-ups.js"),g=h.cardAging;e.exports.addNewStickerToList=function(e,t,n,u){const p=i.startTask({taskName:"edit-card/stickers",source:"cardView",attributes:{action:"added"}});let m=null!=e.id?e.id:e.get("image"),h=e.get("url"),g=e.get("scaled");const b=e.get("isGiphySticker");if(b){const t=r.getUseAnimatedStickers();t||(m=e.get("stillUrl"),h=e.get("stillUrl"),g=e.get("stillScaled")),o({category:l.CARD,verb:c.ADDS,directObj:l.GIPHY_STICKER,context:{useAnimatedStickers:t}})}s("Card","Sticker",m,this.model.trackProperty()),this.model.stickerList.createWithTracing({image:m,left:d(t),top:d(n),rotate:u,zIndex:this.model.stickerList.nextZIndex(),imageUrl:h,imageScaled:g,isGiphySticker:b},{modelCache:this.modelCache,traceId:p},a({taskName:"edit-card/stickers",traceId:p,source:"cardView",attributes:{action:"added"}},((e,t)=>{if(t){const e=this.model;i.sendUpdatedCardFieldEvent({field:"stickers",source:"cardView",containers:{card:{id:e.id},board:{id:e.get("idBoard")},list:{id:e.get("idList")},organization:{id:e.get("idOrg")}},attributes:{taskId:p,image:m,imageUrl:h,isGiphySticker:b,useAnimatedStickers:r.getUseAnimatedStickers()}})}})))},e.exports.showStickers=function(){return!this.onCalendar},e.exports.renderStickers=function(e){if(!this.showStickers())return void this.$el.removeClass("is-stickered");const t=this.$(".js-stickers-area"),n=this.$(".js-card-stickers"),i=this.model.hasStickers(),a=this.model.editable();if(i){this.$el.addClass("is-stickered"),t.removeClass("hide");const e=this.model.stickerList.map((e=>this.subview(u,e,{canRemove:a&&e.id&&!this.options.quickEditHidden,fixedHeight:()=>this.$(".js-card-details").get(0).getBoundingClientRect().top-t.get(0).getBoundingClientRect().top,fixedWidth:()=>{const e=t.get(0).getBoundingClientRect(),n=this.$(".js-card-menu").get(0);if(n){return n.getBoundingClientRect().left-e.left}return this.$el.get(0).getBoundingClientRect().right-e.left},card:this.model},e.id||e.cid)));this.ensureSubviews(e,n),this.renderCover()}else this.$el.removeClass("is-stickered"),t.addClass("hide");return this},e.exports.renderCustomFieldItems=function(){const e=this.subview(p,this.model);return this.appendSubview(e,this.$(".js-custom-field-badges")),this},e.exports.renderPluginBadges=function(){const e=this.$(".js-plugin-badges");return this.ensureSubviews([this.subview(m,this.model)],e),this},e.exports.renderPowerUpEffects=function(){const e=this.model.getBoard();this.$el.removeClass(this.model.getAllAgingClasses());const t=this.model.getPluginDataByKey(g,"shared","evergreen",!1);if(e.isPowerUpEnabled("cardAging")&&!this.model.get("closed")&&!t&&!this.model.get("isTemplate")){const e=this.model.getAgingData();return this.$el.addClass(e.agingClassesToAdd)}},e.exports.moveToCalendarDay=function(e,t,n){n.getCardView(this.model).delegateEvents();const a=new Date(n.data.day),r=i.startTask({taskName:"edit-card/due",source:"calendarViewScreen"});return this.model.changeDueDateMaintainTime(a,r,((e,t)=>{if(e)throw i.taskFailed({taskName:"edit-card/due",traceId:r,source:"calendarViewScreen",error:e});i.sendUpdatedCardFieldEvent({field:"due",source:"calendarViewScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:r}}),i.taskSucceeded({taskName:"edit-card/due",traceId:r,source:"calendarViewScreen"})})),n.updateHeader(),n.renderCardsAndListHeaders()},e.exports.moveInCalendarDay=function(e,t,n){return n.getCardView(this.model).delegateEvents(),n.renderCardsAndListHeaders()},e.exports.renderDueComplete=function(){return this.$el.toggleClass("is-due-complete",this.model.get("dueComplete")),this.updateDueDate()}},"./app/scripts/views/card/card-view-templates.js":function(e,t){e.exports.isOnBoardTemplate=function(){return this.model.isOnBoardTemplate()}},"./app/scripts/views/card/card-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./packages/jquery/index.js"),{Auth:o}=n("./app/scripts/db/auth.js"),l=n("./packages/browser/index.ts"),c=n("./app/scripts/views/label/card-label-select-view.js"),d=n("./app/scripts/views/card/card-member-select-view.js"),u=n("./app/scripts/views/card/card-view-helpers.js"),p=n("./app/scripts/views/card/card-view-mixins.js"),{Controller:m}=n("./app/scripts/controller/index.js"),h=n("./app/scripts/views/card/date-picker-view.js"),{Dates:g}=n("./app/scripts/lib/dates.js");n("./app/scripts/views/internal/data-transfer/drag-drop-events.js");const b=n("./app/scripts/views/lib/drag-sort.js"),{getKey:v,Key:f,registerShortcutHandler:_,Scope:k,unregisterShortcutHandler:y}=n("./packages/keybindings/index.ts"),{forTemplate:E}=n("./packages/i18n/index.ts"),{seesVersionedVariation:w}=n("./packages/feature-flag-client/index.ts"),C=n("./app/scripts/views/label/label-key-helper.js"),{LazyDateRangePicker:T}=n("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx"),O=n("./app/scripts/views/internal/paste-input.js"),j=n("./app/scripts/views/lib/pop-over.js"),A=n("./node_modules/bluebird/js/browser/bluebird.js"),{repeatAction:x}=n("./app/scripts/lib/last-action/index.ts"),N=n("./node_modules/promise-queue/lib/index.js"),{TrelloStorage:S}=n("./packages/storage/index.ts"),I=n("./app/scripts/lib/util/index.js"),D=n("./app/scripts/views/internal/view.js"),B=n("./node_modules/underscore/underscore.js"),{Analytics:P,Apdex:F,tracingCallback:L}=n("./packages/atlassian-analytics/index.ts"),M=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),R=n("./app/scripts/views/templates/card_in_list.js"),{currentModelManager:V}=n("./app/scripts/controller/currentModelManager.ts"),{renderName:U,openQuickCardEditor:z}=n("./app/scripts/views/card/card-view-name-edit.js"),{showCover:H}=n("./app/scripts/views/card/card-view-cover.js"),{labelClick:W,labelMouseEnter:Y,labelMouseLeave:K}=n("./app/scripts/views/card/card-view-label.js"),{dragenter:G,dragleave:$,dropFiles:q,dropUrl:X}=n("./app/scripts/views/card/card-view-attachment.js"),{moveTo:Q,moveIn:J}=n("./app/scripts/views/card/card-view-lists.js");let{isOnBoardTemplate:Z}=n("./app/scripts/views/card/card-view-templates.js");const{addNewStickerToList:ee,showStickers:te,renderStickers:ne,renderCustomFieldItems:ie,renderPluginBadges:ae,renderPowerUpEffects:re,moveToCalendarDay:se,moveInCalendarDay:oe,renderDueComplete:le}=n("./app/scripts/views/card/card-view-plugins.js"),{featureFlagClient:ce}=n("./packages/feature-flag-client/index.ts"),de=n("./node_modules/react/index.js"),{renderComponent:ue}=n("./app/src/components/ComponentWrapper/index.ts"),{BoardCard:pe}=n("./app/src/components/CardFronts/BoardCard.tsx"),{MirrorCard:me}=n("./app/src/components/CardFronts/MirrorCard.tsx"),{SeparatorCard:he}=n("./app/src/components/CardFronts/SeparatorCard.tsx"),{LinkCard:ge}=n("./app/src/components/CardFronts/LinkCard.tsx"),be=new N(1),ve=function(e){be.add((()=>new A((function(t){e.hookDroppable(),B.defer(t)}))))},fe=E("due_date_picker"),_e=["l","-","d","a","m","v","s"," ","0","1","2","3","4","5","6","7","8","9"];class ke extends D{static initClass(){B.extend(this.prototype,u,p),this.prototype.tagName=function(){const e=this.model.getCardRole();return e&&"mirror"!==e?"div":"a"},this.prototype.filterDeactivated=!0,this.prototype.applyBoardCardFilter=!0,this.prototype.trackApdex=!0,this.prototype.events={moveto:"moveTo",movein:"moveIn",moveToCalendarDay:"moveToCalendarDay",moveInCalendarDay:"moveInCalendarDay","click .js-open-quick-card-editor":"openQuickCardEditor","click .js-member-on-card-menu":"openMemberOnCardMenu","click .card-label.mod-card-front":"labelClick","click .js-due-date-badge":"toggleDueDateComplete",click:"handleClick",contextmenu(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||S.get("nocontext")))return this.openQuickCardEditor(e)},mouseenter(){return this.trigger("mouseEnterCardView")},mousemove(){return this.trigger("mouseMoveCardView")},mouseleave(){return this.trigger("mouseLeaveCardView")},"mouseenter .card-label.mod-card-front":"labelMouseEnter","mouseleave .card-label.mod-card-front":"labelMouseLeave","dd-enter:files":"dragenter","dd-leave:files":"dragleave","dd-drop:files":"dropFiles","dd-enter:url":"dragenter","dd-leave:url":"dragleave","dd-drop:url":"dropUrl","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"},this.prototype.isOnBoardTemplate=Z,this.prototype.addNewStickerToList=ee,this.prototype.showStickers=te,this.prototype.renderStickers=ne,this.prototype.renderName=U,this.prototype.renderCustomFieldItems=ie,this.prototype.renderPluginBadges=ae,this.prototype.showCover=H,this.prototype.renderDueComplete=le,this.prototype.renderPowerUpEffects=re,this.prototype.openQuickCardEditor=z,this.prototype.labelClick=W,this.prototype.labelMouseEnter=Y,this.prototype.labelMouseLeave=K,this.prototype.moveToCalendarDay=se,this.prototype.moveInCalendarDay=oe,this.prototype.moveTo=Q,this.prototype.moveIn=J,this.prototype.dragenter=G,this.prototype.dragleave=$,this.prototype.dropFiles=q,this.prototype.dropUrl=X}constructor(e){super(e),r(this,"showDateRangePicker",(function(){const e=this.$(".js-card-menu");var t,n;if(e)return j.toggle({elem:e,getViewTitle:()=>fe("dates"),keepEdits:!0,reactElement:de.createElement(T,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:()=>j.hide(),idCard:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrg:null===(n=this.model.getBoard())||void 0===n?void 0:n.get("idOrganization")})})})),this.onShortcut=this.onShortcut.bind(this);const t=500;this.throttledJoin=this.throttle(this.onJoin,t),this.throttledClose=this.throttle(this.onClose,t),this.throttledMoveToNextList=this.throttle(this.onMoveToNextList,t),this.throttledMoveToPrevList=this.throttle(this.onMoveToPrevList,t),this.throttledSubscribe=this.throttle(this.onSubscribe,t)}className(){const e="list-card js-member-droppable";if(ye(this.model.getBoard(),(e=>e.getPref("cardCovers")))&&null!=this.model.get("cover")){const{size:t,brightness:n,color:i,idAttachment:a,idUploadedBackground:r,idPlugin:s}=this.model.get("cover");if((a||r||i||s)&&"full"===t&&this.shouldRenderFullCover()){const t="dark"===n?"full-cover-list-card-dark":"",a=i?"color-card-cover color-card-cover-".concat(i):"";return"".concat(e," full-cover-list-card ").concat(t," ").concat(a)}}return e}attributes(){if(ye(this.model.getBoard(),(e=>e.getPref("cardCovers")))&&null!=this.model.get("cover")){const{size:e,idAttachment:t,idUploadedBackground:n,color:i,idPlugin:a}=this.model.get("cover");if((t||n||i||a)&&"full"===e&&this.shouldRenderFullCover()){const e=this.getFullCoverStylesForInitialRender();if(null!=e)return{style:e}}}return{}}initialize(){for(const e of["filterDeactivated","applyBoardCardFilter","trackApdex"])null!=this.options[e]&&(this[e]=this.options[e]);this.whenIdle("initialize_cardview_".concat(this.cid),(()=>{this.render(),this.makeDebouncedMethods("render","renderName","renderLabels","renderCover","renderFiltered","renderPowerUpEffects","renderStickers","renderBadges","renderDueComplete","renderCustomFieldItems","updateDateBadges","updateBadges"),this.listenTo(this.model,{"change:cardRole":this.render,"change:id":this.render,"change:name":()=>{this.model.get("cardRole")?this.render():this.renderNameDebounced()},"change:labels":this.renderLabelsDebounced,"change:idAttachmentCover change:cover":this.renderCoverDebounced,"change:name change:labels change:idLabels change:due change:start change:dueComplete":this.renderFilteredDebounced,"change:due change:start change:badges":this.updateRenderIntervalSubscription,"change:dueComplete":this.renderDueComplete,"change:dateLastActivity":()=>(this.renderCoverDebounced(),this.renderPowerUpEffectsDebounced()),"change:due change:start change:subscribed change:isTemplate":this.renderBadgesDebounced,"change:badges":this.updateBadgesDebounced,keyboardMove:this.scrollIntoView}),this.listenTo(this.model.customFieldItemList,"add remove reset change",this.frameDebounce((function(){return this.renderCustomFieldItems(),this.renderFiltered()}))),this.listenTo(this.modelCache,"add:Notification remove:Notification change:Notification",this.renderBadgesDebounced),this.listenTo(this.model.memberList,"change:initials change:avatarUrl change:avatarSource change:fullName change:username",this.renderMembers),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce((function(){return this.renderMembers(),this.renderFiltered()}))),this.listenTo(this.model.labelList,"add remove reset change",this.renderLabelsDebounced),this.listenTo(this.model.stickerList,{"add remove reset change sort":this.renderStickersDebounced});const e=this.model.getBoard();return this.listenTo(e,"change:powerUps change:prefs.cardAging",this.renderPowerUpEffectsDebounced),this.subscribe(M(e,this.model),(()=>(this.renderCoverDebounced(),this.renderPowerUpEffectsDebounced()))),this.listenTo(e.filter,"change",this.renderFilteredDebounced),this.listenTo(e,"change:labels",this.renderLabelsDebounced),this.listenTo(e,"change:memberships",this.renderMembers),this.listenTo(e,"change:prefs.hideVotes",this.renderBadgesDebounced),this.listenTo(e,"change:prefs.cardCovers",(()=>{this.renderCoverDebounced(),"link"===this.model.get("cardRole")&&ce.get("wildcard.link-cards",!1)&&this.render()})),this.listenTo(e.customFieldList,"add remove reset change",this.renderCustomFieldItemsDebounced),this.listenTo(e.boardPluginList,"add remove reset change",(()=>(this.renderCustomFieldItemsDebounced(),this.renderBadgesDebounced()))),this.listenTo(e.viewState,"active-card-changed",this.renderActiveState),this.listenTo(e,"permChange",this.render),this.listenTo(this,"mouseEnterCardView",(function(){return ve(this)})),this.updateRenderIntervalSubscription()}))}shouldRenderFullCover(){return!0}renderActiveState(){if(null==this.$el)return;const e=ye(this.model.getBoard(),(e=>e.viewState.isCardSelected(this.model)));this.$el.toggleClass("active-card",e),e?(O.addHandler(this,{scope:"card"}),_(this.onShortcut,{scope:k.Card})):(O.removeHandler(this),y(this.onShortcut,{scope:k.Card}))}remove(){return y(this.onShortcut),super.remove(...arguments)}onClose(e,t,n){if(n){const n=P.startTask({taskName:"edit-card/closed",source:"cardView"});this.model.close(n,((e,t)=>{if(e)throw P.taskFailed({taskName:"edit-card/closed",traceId:n,source:"cardView",error:e});P.sendUpdatedCardFieldEvent({field:"closed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}}),P.taskSucceeded({taskName:"edit-card/closed",traceId:n,source:"cardView"})})),e.preventDefault(),t("archiveCardShortcut")}}onMoveToNextList(e,t,n,i,a){i&&!a&&(this.model.moveToNextList(t===f.AngleRight?"top":"bottom"),e.preventDefault(),n("moveToNextListShortcut"))}onMoveToPrevList(e,t,n,i,a){i&&!a&&(this.model.moveToPrevList(t===f.AngleLeft?"top":"bottom"),e.preventDefault(),n("moveToPreviousListShortcut"))}handleClick(e){this.model.getCardRole()||this.showDetail(e)}onSubscribe(e,t,n){if(n&&!this.isOnBoardTemplate()){const n=P.startTask({taskName:"edit-card/subscribed",source:"cardView"}),i=this.model.get("subscribed");this.model.subscribeWithTracing(!i,n,L({taskName:"edit-card/subscribed",source:"cardView",traceId:n},((e,t)=>{t&&P.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:n}})}))),e.preventDefault(),t("subscribeShortcut",{toggleValue:i?"unsubscribe":"subscribe"})}}onJoin(e,t,n){const i=this.model.getBoard();if(Z=this.isOnBoardTemplate(),n&&!Z&&(i.hasActiveMembership(o.me())||i.isEditableByTeamMemberAndIsNotABoardMember())){i.isEditableByTeamMemberAndIsNotABoardMember()&&i.optimisticJoinBoard();const e="cardView",t=P.startTask({taskName:"edit-card/idMembers",source:e});this.model.toggleMemberWithTracing(o.myId(),{traceId:t},L({taskName:"edit-card/idMembers",traceId:t,source:e},((n,i)=>{i&&P.sendUpdatedCardFieldEvent({field:"idMembers",source:e,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:t}})})))}e.preventDefault(),t("assignSelfShortcut",{shortcutKey:"Space",toggleValue:this.model.hasMember(o.myId())?"add":"remove"})}onShortcut(e){if(m.showingBoardOverlay())return;const t=o.isLoggedIn(),n=this.model.editable(),i=!!this.model.get("isTemplate"),{onCalendar:a}=this,r=v(e);if(this.model.getCardRole()&&_e.includes(r))return;const s=(e,{shortcutKey:t=r,toggleValue:n}={})=>{P.sendPressedShortcutEvent({shortcutName:e,source:"cardView",keyValue:t,containers:this.model.getAnalyticsContainers(),attributes:{toggleValue:void 0!==n?n.toLowerCase():void 0}})};switch(r){case f.Enter:return this.showDetail(),e.preventDefault(),void s("openCardShortcut");case f.e:return this.openQuickCardEditor(),e.preventDefault(),void s("quickCardEditorShortcut");case f.t:return m.showCardDetail(this.model,{runMethod:"editTitle",method:"via the T shortcut from card front"}),e.preventDefault(),void s("openCardAndEditTitleShortcut");case f.Dash:return m.showCardDetail(this.model,{runMethod:"onChecklistShortcut",method:"via the dash shortcut from card front"}),e.preventDefault(),void s("addChecklistShortcut");case f.d:if(n&&!i){w("ecosystem.timeline-version","stable")?this.showDateRangePicker():this.showPopOver(h,{trackingCategory:"keyboard shortcut"}),e.preventDefault(),s("dueDatesShortcut")}return;case f.l:return void(n&&(this.showPopOver(c,{hideOnSelect:!1}),e.preventDefault(),s("editLabelsShortcut")));case f.Zero:case f.One:case f.Two:case f.Three:case f.Four:case f.Five:case f.Six:case f.Seven:case f.Eight:case f.Nine:if(n){let t=!0;const n=e=>(t=!1,this.showPopOver(c,{searchInit:e,hideOnSelect:!0}));C.setLabelFromKey(r,this.model,n),e.preventDefault();let i="showLabelsPopover";if(t){const e=C.colorForKey(r);i=this.model.hasLabel(e)?"add":"remove"}s("toggleLabelShortcut",{toggleValue:i})}return;case f.a:case f.m:return void(n&&!this.isOnBoardTemplate()&&(this.showPopOver(d),e.preventDefault(),s("assignMembersShortcut")));case f.Space:return void this.throttledJoin(e,s,n);case f.c:return void this.throttledClose(e,s,n);case f.AngleRight:case f.Period:return void this.throttledMoveToNextList(e,r,s,n,a);case f.AngleLeft:case f.Comma:return void this.throttledMoveToPrevList(e,r,s,n,a);case f.v:return void(t&&!i&&this.model.getBoard().canVote(o.me())&&(this.model.toggleVote(),e.preventDefault(),s("voteShortcut",{toggleValue:this.model.voted()?"vote":"unvote"})));case f.s:return void this.throttledSubscribe(e,s,t);case f.r:return n?(e.preventDefault(),this.waitForId(this.model,(()=>{x({source:"cardView",idBoard:this.model.getBoard().id,idCard:this.model.id}),s("repeatActionShortcut")}))):void 0;default:return}}showPopOver(e,t){return null==t&&(t={}),j.toggle({elem:this.$(".js-card-menu"),view:e,options:B.extend({model:this.model,modelCache:this.modelCache,hideOnSelect:!0},t)})}render(){const e=this.model.toJSON(),t=this.model.getCardRole();if("separator"===t)this.unmountReactCard=ue(de.createElement(he,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},isEditable:this.model.editable(),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("mirror"===t)this.unmountReactCard=ue(de.createElement(me,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},cardUrl:e.name,mirrorCardUrl:e.url,isEditable:this.model.editable()&&!this.model.get("closed"),isClosed:this.model.get("closed"),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("board"===t)this.unmountReactCard=ue(de.createElement(pe,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},boardUrl:e.name,isEditable:this.model.editable()&&!this.model.get("closed"),isClosed:this.model.get("closed"),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("link"===t&&/^https?:\/\/\S+$/.test(this.model.get("name"))){var n;const t=null===(n=this.model.getBoard())||void 0===n?void 0:n.getPref("cardCovers");this.unmountReactCard=ue(de.createElement(ge,{openEditor:e=>{e.preventDefault(),this.openQuickCardEditor()},url:e.name,hideCover:!t,isEditable:this.model.editable()&&!this.options.quickEditHidden,analyticsContainers:this.model.getAnalyticsContainers()}),this.el)}else{this.unmountReactCard&&this.unmountReactCard(),e.showCover=this.showCover(),e.showEditor=this.model.editable()&&!this.options.hideMenu,this.model.hasStickers()&&(e.hasStickers=!0),e.labels=this.labelsData();const t=this.model.getBoard();e.members=[];for(let n=this.model.memberList.models.length-1;n>=0;n--){const i=this.model.memberList.models[n],a=i.toJSON();a.isVirtual=ye(t.getOrganization(),(e=>e.isVirtual(i)))||t.isVirtual(i),a.isDeactivated=t.isDeactivated(i),e.members.push(a)}e.cover=this.model.get("cover"),this.model.get("idAttachmentCover")&&(e.attachmentCoverUrl=ye(this.model.attachmentList.get(this.model.get("idAttachmentCover")),(e=>e.get("url")))),e.hideCover=!this.model.getBoard().getPref("cardCovers")||this.onCalendar,e.hasCover=this.model.hasCover(),this.$el.toggleClass("js-archive-card",this.model.get("closed")),this.showCover()&&this.model.hasCover()&&this.$el.addClass("is-covered"),this.model.hasStickers()&&this.$el.addClass("is-stickered"),this.$el.html(R(e)),this.renderName(),this.renderBadges(),this.renderCustomFieldItems(),this.renderDueComplete(),this.whenIdle("render_".concat(this.cid),(()=>(this.renderPluginBadges(),this.renderActiveState(),this.renderCover(),this.renderStickers(),this.renderPowerUpEffects(),this.waitForId(this.model,(()=>this.renderLink())),this._droppableHookedSinceRender=!1,ve(this))))}return this.renderFiltered(),this}hookDroppable(){if(!l.isTouch()&&null!=this.$el&&!this._droppableHookedSinceRender&&(this._droppableHookedSinceRender=!0,!l.isTouch())){const e=this.throttle((()=>s(".board-canvas")[0].getBoundingClientRect()),100,{trailing:!1});this.$el.droppable({refreshPositions:!0,inBounds(t){const n=e();return n.left<=t.pageX&&t.pageX<n.right&&n.top<=t.pageY&&t.pageY<n.bottom},accept:e=>{return!!e.is(".js-list-draggable-board-members .member")||!(!e.is(".js-draggable-sticker")||this.model.getCardRole())&&(t=this.model,n="isOverLimit",i=e=>e.isOverLimit("stickers","perCard"),!(null!=t&&"function"==typeof t[n]?i(t,n):void 0));var t,n,i},hoverClass:"active-card",drop:(e,t)=>{if(t.draggable.hasClass("member")){const e=t.draggable.data("id");if(!this.model.memberList.detect((t=>t.id===e))){const t="cardView",n=P.startTask({taskName:"edit-card/idMembers",source:t});this.model.addMemberWithTracing(e,n,L({taskName:"edit-card/idMembers",traceId:n,source:t},((e,i)=>{i&&P.sendUpdatedCardFieldEvent({field:"idMembers",source:t,containers:{card:{id:this.model.id},board:{id:this.model.get("idBoard")},list:{id:this.model.get("idList")}},attributes:{taskId:n}})})))}}else if(t.draggable.hasClass("js-draggable-sticker")){let e,n,i,a;const r=t.draggable.data("sticker"),s=e=n=1,o=t.helper.offset(),l={top:this.$el.offset().top+s,left:this.$el.offset().left+e},c=this.$el.outerWidth()-e-n,d=o.left-l.left,u=o.top-l.top,p=d/c*100,m=this.$(".js-card-stickers").height();a=this.$el.hasClass("is-stickered")||this.$el.hasClass("is-covered")?u/m*100:0,a>m&&(a=m);const h=I.getElemTransformMatrix(t.helper.find(".sticker-select-fixed"));i=null!=h?I.getMatrixDegrees(h)%360:0,this.addNewStickerToList(r,p,a,i)}}})}}renderLink(){const e=this.model.getCardRole();if(e&&"mirror"!==e)return;const t=m.getCardUrl(this.model);return this.$el.attr("href",t),this}renderFiltered(e){if(null!=this.options.dontFilter)return;null==this._visible&&(this._visible=!0);const t=this.model.getBoard(),n=null==t||!V.onBoardView(t.id)||!this.applyBoardCardFilter||t.filter.satisfiesFilter(this.model);return this._visible!==n&&(this.$el.toggleClass("hide",!n).height(n?"":0),this._visible=n),this}showDetail(e){if(e&&(e.ctrlKey||e.metaKey||e.shiftKey))return;if(I.stop(e),b.sorting)return;const t={taskName:"view-card",source:"boardScreen"},n=P.startTask(t);return this.options.trackEvent&&this.options.trackEvent(),this.trackApdex&&F.start({task:"cardFromBoard",taskId:this.model.id}),m.showCardDetail(this.model,{runMethod:this.model.shouldSuggestDescription()?"expandDesc":void 0,method:"from card front",onSuccess:()=>{P.taskSucceeded(a(a({},t),{},{traceId:n}))},onFail:e=>{P.taskFailed(a(a({},t),{},{traceId:n,error:e}))},onAbort:e=>{P.taskAborted(a(a({},t),{},{traceId:n,error:e}))}}),this.trackApdex?F.stop({task:"cardFromBoard",taskId:this.model.id}):void 0}scrollIntoView(){const e=this.$el.closest("#board"),t=this.$el.closest(".js-list"),n=t[0].getBoundingClientRect(),i=n.left+n.width-window.innerWidth;return this.$el.closest(".js-list-cards").scrollTop(this.$el.position().top),n.left<0?e.animate({scrollLeft:t.position().left},150):i>0?e.animate({scrollLeft:e.scrollLeft()+i},150):void 0}updateRenderIntervalSubscription(){if(!(this.model.get("due")||this.advancedChecklistsV2Enabled&&ye(this.model.get("badges"),(e=>e.checkItemsEarliestDue))))return this.stopListening(g,"renderInterval",this.updateDateBadgesDebounced);this.listenTo(g,"renderInterval",this.updateDateBadgesDebounced)}}function ye(e,t){return null!=e?t(e):void 0}ke.initClass(),e.exports=ke},"./app/scripts/views/card/chunkArray.ts":function(e,t,n){"use strict";function i(e,t){if(!e.length||t<1)return[];const n=new Array(Math.ceil(e.length/t));for(let i=0;i<n.length;i++)n[i]=e.slice(i*t,i*t+t);return n}n.r(t),n.d(t,"chunkArray",(function(){return i}))},"./app/scripts/views/card/date-picker-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{importWithRetry:s}=n("./packages/use-lazy-component/index.ts"),{Analytics:o}=n("./packages/atlassian-analytics/index.ts"),{Auth:l}=n("./app/scripts/db/auth.js"),c=n("./app/scripts/views/lib/alerts.js"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/internal/view.js"),p=n("./app/scripts/views/templates/date_picker.js"),{track:m,trackUe:h}=n("./packages/analytics/index.ts"),{sendPluginTrackEvent:g}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),b=n("./node_modules/moment/moment.js"),{TrelloStorage:v}=n("./packages/storage/index.ts"),{l:f}=n("./app/scripts/lib/localize.js"),{dontUpsell:_}=n("./packages/browser/index.ts"),{LegacyPowerUps:k}=n("./app/scripts/data/legacy-power-ups.js"),y=k.calendar,E="LT",w=[E,"h:mm A"],C=()=>[{name:"no",text:f("due-date-custom-reminder.none"),value:-1},{name:"at time of due date",text:f("due-date-custom-reminder.at-time-of-due-date"),value:0},{name:"5 minutes before",text:f("due-date-custom-reminder.5-minutes-before"),value:5},{name:"10 minutes before",text:f("due-date-custom-reminder.10-minutes-before"),value:10},{name:"15 minutes before",text:f("due-date-custom-reminder.15-minutes-before"),value:15},{name:"1 hour before",text:f("due-date-custom-reminder.1-hour-before"),value:60},{name:"2 hours before",text:f("due-date-custom-reminder.2-hours-before"),value:120},{name:"1 day before",text:f("due-date-custom-reminder.1-day-before"),default:!0,value:1440},{name:"2 days before",text:f("due-date-custom-reminder.2-days-before"),value:2880}],T=()=>C().find((e=>e.default)).value;class O extends u{static initClass(){this.prototype.viewTitleKey="change due date",this.prototype.tagName="form",this.prototype.className="dpicker-widget u-clearfix",this.prototype.events={"click .js-remove-date":"removeDueDate","input .js-dpicker-time-input":"validateTimeInput","change .js-dpicker-time-input":"normalizeTimeInput",'click a[href="/business-class"]':()=>m("Card Detail","Click Business Class Link","Date Picker PopOver"),submit:"onSaveClickHandler","click .js-enable-calendar-powerup"(e){return e.preventDefault(),this.enableCalendarPowerUp()}},this.prototype.vigor=this.VIGOR.NONE}constructor(e){super(e),this.setDueDate=this.setDueDate.bind(this),this.onSaveClickHandler=this.onSaveClickHandler.bind(this)}initialize(){return this.listenTo(this.model.getBoard(),"change:powerUps",this.renderCalendarPowerUp),this.trackViewed(),this.loadPikadayLibrary()}loadPikadayLibrary(){return null!=this.pikadayLoadPromise?this.pikadayLoadPromise:this.pikadayLoadPromise=s((()=>n.e(159).then(n.t.bind(null,"./node_modules/pikaday/pikaday.js",7)))).then((e=>e.default)).then((e=>this.Pikaday=e))}getSelectedDueDateMoment(){const e=this.picker.getMoment();if(!e.isValid())return null;e.year()<1e3&&e.add(2e3,"years");const t=this.selectedTimeMoment();return e.hour(t.hour()).minute(t.minute())}submitDueDate(e,t){return null!=e?this.setDueDate(e.toDate(),t):this.removeDueDate()}setDueDate(e,t){this.trackSetDueDate(e,t),O.lastDueDate=e,v.set("lastDueDateReminder_".concat(l.myId()),t);const n={due:j(this.model.getDueDate(),(e=>e.getTime()))||null,dueReminder:this.model.get("dueReminder")||-1},i={due:e.getTime(),dueReminder:t};if(!((null==n?void 0:n.due)===i.due&&(null==n?void 0:n.dueReminder)===i.dueReminder)){const e=o.startTask({taskName:"edit-card/due",source:"datePickerInlineDialog"}),t=a(a({},i),{},{traceId:e});this.model.setDueDate(t,((t,n)=>{if(t)throw o.taskFailed({taskName:"edit-card/due",traceId:e,source:"datePickerInlineDialog",error:t});o.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:e}}),o.taskSucceeded({taskName:"edit-card/due",traceId:e,source:"datePickerInlineDialog"})}))}d.hide()}removeDueDate(){if(this.trackRemoveDueDate(),this.model.get("due")){const e=o.startTask({taskName:"edit-card/due",source:"datePickerInlineDialog"});this.model.setDueDate({due:null,dueReminder:-1,traceId:e},((t,n)=>{if(t)throw o.taskFailed({taskName:"edit-card/due",traceId:e,source:"datePickerInlineDialog",error:t});o.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:e}}),o.taskSucceeded({taskName:"edit-card/due",traceId:e,source:"datePickerInlineDialog"})}))}return d.hide()}trackSetDueDate(e,t){null==t&&(t=T());const n=this.options.trackingCategory,i=this.trackingContext();let a="on card";const r=C().find((e=>e.value===t)).name;a="with ".concat(r," custom notification");const s=null==this.model.getDueDate()?"that did not have a due date":j(this.model.getDueDate(),(e=>e.getTime()))===e.getTime()?"that had the same due date":"that had a different due date";h(n,"saves","due date",a,s,"by clicking save button in the due date popover",i);const l=this.model.getBoard();return o.sendTrackEvent({action:"set",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:l.id},organization:{id:l.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}trackRemoveDueDate(){const e=this.options.trackingCategory,t=this.trackingContext();h(e,"removes","due date","from card","","by clicking remove button in the due date popover",t);const n=this.model.getBoard();return o.sendTrackEvent({action:"removed",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:n.id},organization:{id:n.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}trackViewed(){const e=this.model.getBoard();return o.sendScreenEvent({name:"datePickerInlineDialog",containers:{card:{id:this.model.id},board:{id:e.id},organization:{id:e.get("idOrganization")}},attributes:{trackingCategory:this.options.trackingCategory}})}trackingContext(){return{cardId:this.model.id,boardId:j(this.model.getBoard(),(e=>e.id)),teamId:j(j(this.model.getBoard(),(e=>e.getOrganization())),(e=>e.id))}}renderCalendarPowerUp(){const e=this.$(".js-cal-enabled").addClass("hide"),t=this.$(".js-enable-cal").addClass("hide"),n=this.model.getBoard(),i=n.isPowerUpEnabled("calendar"),a=n.owned()&&!i;i?e.removeClass("hide"):a&&t.removeClass("hide")}getSelectReminderSetting(){const e=this.model.get("dueReminder"),t=null!=e?e:v.get("lastDueDateReminder_".concat(l.myId()));return null!=t?t:T()}renderOnce(){let e,t;const n=this.model.getBoard(),i=b().add(1,"days").toDate(),a=null!=(e=null!=(t=this.model.getDueDate())?t:O.lastDueDate)?e:i;return this.$el.html(p({canChangePowerUps:n.owned(),canEnableAdditionalPowerUps:n.canEnableAdditionalPowerUps(),upsellEnabled:!_(),customReminderSettings:C(),selectedReminderSetting:this.getSelectReminderSetting()})),this.loadPikadayLibrary().then((()=>(this.picker=new this.Pikaday({field:this.$(".js-dpicker-date-input")[0],container:this.$(".js-dpicker-cal")[0],bound:!1,format:"l",firstDay:b.localeData().firstDayOfWeek(),i18n:{previousMonth:f("prev month button text"),nextMonth:f("next month button text"),months:b.months(),weekdays:b.weekdays(),weekdaysShort:b.weekdaysMin()},keyboardInput:!1}),this.picker.setDate(a),this.$timeInput().val(b(a).format(E)),this.renderCalendarPowerUp()))),this}validateTimeInput(){return this.$timeInput().toggleClass("input-error",!this.isTimeInputValid())}normalizeTimeInput(){return this.$timeInput().val(this.selectedTimeMoment().format(E)),this.validateTimeInput()}selectedTimeMoment(){return this.isTimeInputValid()?b(this.$timeInput().val(),w):b().hours(12).minutes(0)}$timeInput(){return this.$(".js-dpicker-time-input")}isTimeInputValid(){return e=this.$timeInput().val(),b(e,w).isValid();var e}enableCalendarPowerUp(){const e={pluginId:y,pluginName:"calendar",installSource:"datePickerInlineDialog"},t=o.startTask({taskName:"enable-plugin",source:"datePickerInlineDialog"});this.model.getBoard().enablePluginWithTracing(y,{traceId:t,taskName:"enable-plugin",attributes:e,source:"datePickerInlineDialog",next:n=>{if(n){const i=n.serverMessage;o.taskAborted({traceId:t,taskName:"enable-plugin",source:"datePickerInlineDialog",error:new Error(i)});const a=o.startTask({taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:e});this.model.getBoard().disablePluginWithTracing(y,{traceId:a,taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:e,next:e=>{var t;e||g({idPlugin:y,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,event:{action:"disabled",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:a}})}}),"PLUGIN_NOT_ALLOWED"===i?c.show("plugin not allowed","error","addpluginerror",4e3):c.show("could not add plugin","error","addpluginerror",2e3)}else{var i;g({idPlugin:y,idBoard:null===(i=this.model.getBoard())||void 0===i?void 0:i.id,event:{action:"added",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:t}}),m("Card Detail","Enable Calendar via Due Date Menu"),h("card detail","enables","Power-Up","","","due date",y)}}})}onSaveClickHandler(e){e.preventDefault();const t=this.getSelectedDueDateMoment(),n=parseInt(this.$(".js-custom-reminder").val(),10),i=isNaN(n)?T():n;return this.submitDueDate(t,i)}}function j(e,t){return null!=e?t(e):void 0}O.initClass(),e.exports=O},"./app/scripts/views/card/quick-card-editor-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a,getScreenFromUrl:r}=n("./packages/atlassian-analytics/index.ts"),s=n("./app/scripts/views/label/card-label-select-view.js"),o=n("./app/scripts/views/card/card-member-select-view.js"),l=n("./app/scripts/views/card/card-move-view.js"),c=n("./app/scripts/views/card/card-view-helpers.js"),d=n("./app/scripts/views/card/card-view-mixins.js"),u=n("./app/scripts/views/card/date-picker-view.js"),{getKey:p,Key:m,registerShortcutHandler:h,Scope:g,unregisterShortcutHandler:b}=n("./packages/keybindings/index.ts"),{forTemplate:v}=n("./packages/i18n/index.ts"),{LazyDateRangePicker:f}=n("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx"),{defaultRouter:_}=n("./app/src/router/index.ts"),k=n("./app/scripts/views/lib/pop-over.js"),y=n("./app/scripts/views/stickers/sticker-edit-view.js"),E=n("./app/scripts/lib/util/index.js"),w=n("./app/scripts/views/internal/view.js"),C=n("./node_modules/underscore/underscore.js"),T=n("./app/scripts/views/internal/templates.js"),{track:O}=n("./packages/analytics/index.ts"),{seesVersionedVariation:j}=n("./packages/feature-flag-client/index.ts"),{trackSeparator:A}=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),x=n("./node_modules/react/index.js"),{renderComponent:N}=n("./app/src/components/ComponentWrapper/index.ts"),{ConvertCardRoleButton:S}=n("./app/src/components/QuickCardEditor/index.ts"),{renderDueComplete:I}=n("./app/scripts/views/card/card-view-plugins.js"),{Urls:D}=n("./app/scripts/controller/urls.js"),{getCardUrl:B}=D,{toggleCardCoverChooserPopover:P}=n("./app/scripts/views/card/card-cover-chooser-popover.tsx"),F=n("./app/scripts/views/card/card-copy-view-deprecated.js"),L=n("./app/scripts/views/card/card-copy-view.ts"),{featureFlagClient:M}=n("./packages/feature-flag-client/index.ts"),R=v("due_date_picker");function V(e){const{traceId:t,taskName:n,field:i}=e;return(e,r)=>{if(e)throw a.taskFailed({taskName:n,traceId:t,source:"quickCardEditorInlineDialog",error:e});a.sendUpdatedCardFieldEvent({field:i,source:"quickCardEditorInlineDialog",containers:{card:{id:r.id},board:{id:r.idBoard},list:{id:r.idList}},attributes:{taskId:t}}),a.taskSucceeded({taskName:n,traceId:t,source:"quickCardEditorInlineDialog"})}}class U extends w{static initClass(){this.prototype.className="quick-card-editor",this.prototype.isMouseDownOnOverlay=!1,this.prototype.renderDueComplete=I,this.prototype.events={"keydown .js-edit-card-title":"quickCardEditKeydown","click .js-save-edits":"saveEdits","click .js-stop":"stopCard","click .js-edit-labels":"editLabels","click .js-edit-members":"editMembers","click .js-edit-cover":"editCover","click .js-move-card":"moveCard","click .js-copy-card":"copyCard","click .js-edit-due-date":"editDueDate","click .js-archive":"archive","click .js-due-date-badge":"toggleDueDateComplete",click:"checkCloseEditor","click .js-close-editor":"closeEditor",mousedown:"mousedownOnOverlay"}}constructor(e){super(e),this.onShortcut=this.onShortcut.bind(this),h(this.onShortcut,{scope:g.Overlay})}static open(e){this.close();const{$el:t}=e,n=t.offset(),i={width:t.width(),left:n.left,top:n.top,onMap:e.onMap};return a.sendScreenEvent({name:"quickCardEditorInlineDialog",attributes:{view:r()}}),this.current=new U({model:e.model,modelCache:e.modelCache,onRemove:()=>{this.current=null}}).render(i)}static close(){return null!=this.current&&this.current.closeEditor(),this.current=null}initialize(){return this.makeDebouncedMethods("render","renderStickers","renderLabels","renderCover","renderBadges","updateBadges","rerender"),this.unsubscribeFromRouter=_.subscribe(this.onRouteChanged.bind(this)),this.routeWhenOpened=_.getRoute().routePath,this.listenTo(this.model,{"change:labels":this.renderLabelsDebounced,"change:idLabels":this.renderLabelsDebounced,"change:idAttachmentCover":this.renderCoverDebounced,"change:cover":this.renderCoverDebounced,"change:dueComplete":this.renderDueComplete,"change:due change:subscribed change:isTemplate":this.renderBadgesDebounced,"change:badges":this.updateBadgesDebounced,"change:cardRole":this.rerenderDebounced}),this.listenTo(this.model.labelList,"add remove reset change",(()=>this.renderLabelsDebounced())),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderMembers)),this.listenTo(this.model.stickerList,"add remove reset change sort",(function(){return this.renderStickersDebounced()}))}shouldRenderFullCover(){return!1}onRouteChanged(e){if(e.routePath!==this.routeWhenOpened)return this.closeEditor()}remove(){var e,t;return this.unsubscribeFromRouter(),b(this.onShortcut),null===(e=(t=this.options).onRemove)||void 0===e||e.call(t),super.remove(...arguments)}showCover(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()}showStickers(){return!0}onShortcut(e){switch(p(e)){case m.Escape:return this.closeEditor(),O("Keyboard Shortcuts","Esc - Close Quick Card Editor","Quick Card Editor"),e.preventDefault();case m.Enter:return this.saveEdits(),O("Keyboard Shortcuts","Enter - Save Quick Card Edits","Quick Card Editor"),e.preventDefault()}}render(e){this.opts=e;const t=this.model.toJSON();t.labels=this.model.getLabels(),t.showCover=this.showCover(),t.hasStickers=this.model.hasStickers(),t.cardUrl=B(this.model),t.quickEdit=!0,t.members=[],t.isTemplate=this.model.isOnBoardTemplate(),t.isCardTemplate=!!this.model.get("isTemplate"),t.cardRole=this.model.getCardRole(),t.left=this.cLeft=e.left,t.top=this.cTop=e.top,t.width=this.cWidth=e.width;const a=this.cWidth+this.cLeft+160,r=i(window).width();return e.onMap&&(t.top=t.top-20),a>r&&(t.leftButtons=!0,this._usingLeftButtons=!0),this.$el.html(T.fill(n("./app/scripts/views/templates/quick_card_editor.js"),t,{})),this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers().checkShowCover(),this.renderDueComplete(),i("#chrome-container").append(this.$el),this.calcHeight(),this.focusInput(),this.defer((()=>this.$(".quick-card-editor-buttons").addClass("fade-in"))),this.$(".js-edit-card-title").autosize(),N(x.createElement(S,{idCard:this.model.get("id"),onLoad:()=>this.calcHeight(),analyticsContainers:this.model.getAnalyticsContainers()}),this.$("#convert-card-role-button-react-root")[0]),this}rerender(){this.render(this.opts)}calcHeight(){let e;const t=i(window).height(),n=this.$(".quick-card-editor-card").outerHeight();this.cTop+n>t&&(e=t-n-8,this.$(".quick-card-editor-card").css({top:e}));const a=this.$(".quick-card-editor-buttons"),r=a.outerHeight();r+a.offset().top>t&&a.css({top:n-r})}renderStickers(){if(this.$(".sticker.moving, .sticker.rotating").length>0)return this;const e=this.$(".js-card-stickers").empty(),t=Array.from(this.model.stickerList.models).map((e=>this.subview(y,e,{card:this.model})));return this.appendSubviews(t,e),this.$(".list-card").toggleClass("is-stickered",this.model.hasStickers()),this}checkShowCover(){return this.$(".list-card").toggleClass("is-covered",this.showCover()).toggleClass("is-stickered",this.model.hasStickers()),this}focusInput(){return this.$(".js-edit-card-title").focus().select()}showPopOver(e,t,n,a){null==a&&(a={}),E.stop(e),k.toggle({elem:i(e.target).closest("a"),view:new t(C.extend({model:this.model,modelCache:this.modelCache},a)),alignRight:this._usingLeftButtons}),O("Quick Card Editor",n,void 0,this.model.trackProperty())}showDateRangePicker(e){var t,n;if(this.$(".js-card-menu"))return k.toggle({elem:i(e.target).closest("a"),getViewTitle:()=>R("dates"),keepEdits:!0,reactElement:x.createElement(f,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:()=>k.hide(),idCard:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrg:null===(n=this.model.getBoard())||void 0===n?void 0:n.get("idOrganization")})})}editLabels(e){return this.showPopOver(e,s,"Open Label Edit")}editMembers(e){return this.showPopOver(e,o,"Open Member Edit")}editCover(e){P({elem:this.$(e.currentTarget),cardId:this.model.id})}copyCard(e){const t=M.get("enterprise.allow-enterprise-users-to-copy-enterprise-cards",!1)?L:F;return this.showPopOver(e,t,"Open Copy Card",{onCopy:this.closeEditor.bind(this)})}editDueDate(e){j("ecosystem.timeline-version","stable")?this.showDateRangePicker(e):this.showPopOver(e,u,"Open Due Date Edit",{trackingCategory:"quick card editor"})}moveCard(e){const t=this.closeEditor.bind(this);return this.showPopOver(e,l,"Open Move Card",{onCommit:t})}archive(e){E.stop(e);const t=a.startTask({taskName:"edit-card/closed",source:"quickCardEditorInlineDialog"});this.model.close(t,V({traceId:t,taskName:"edit-card/closed",field:"closed"})),this.closeEditor(),O("Quick Card Editor","Archive",void 0,this.model.trackProperty())}quickCardEditKeydown(e){if(p(e)===m.Enter)return this.saveEdits(e)}saveEdits(e){E.stop(e);const t=this.$(".js-edit-card-title").val().trim(),n=this.model.get("name");if(t===n)this.closeEditor();else if(""!==t){const e=a.startTask({taskName:"edit-card/name",source:"quickCardEditorInlineDialog"});this.model.recordAction({type:"rename",name:t,previousName:n}),this.model.update({name:t,traceId:e},V({traceId:e,taskName:"edit-card/name",field:"name"})),this.closeEditor(),O("Quick Card Editor","Save Name",void 0,this.model.trackProperty()),A(t,{category:"quick card editor",method:"by editing name"})}else this.$(".js-edit-card-title").focus().select()}mousedownOnOverlay(e){this.isMouseDownOnOverlay=e.target===this.$el[0]}checkCloseEditor(e){this.isMouseDownOnOverlay&&(this.isMouseDownOnOverlay=!1,k.isVisible?k.hide():this.$(".sticker.editing").length>0?this.stopEditingStickers():this.closeEditor(e))}closeEditor(e){this.remove(),k.hide(),O("Quick Card Editor","Close",void 0,this.model.trackProperty())}stopEditingStickers(){for(const e of Array.from(C.clone(this.model.stickerList.models)))e.trigger("stopEditing")}stopCard(e){E.stopPropagation(e),k.hide()}}U.initClass(),C.extend(U.prototype,d,c),e.exports=U},"./app/scripts/views/card/select-card-position.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ModelLoader:a}=n("./app/scripts/db/model-loader.js"),r=n("./app/scripts/network/payloads.ts").default,s=n("./node_modules/underscore/underscore.js"),{l:o}=n("./app/scripts/lib/localize.js"),l={renderValues(){const e=this.$(".js-select-board option:selected").val(),t=this.$(".js-select-list option:selected").val();let n=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1;const a=this.modelCache.get("Board",e),r=a.get("name"),l=s.find(a.listList.models,(({id:e})=>e===t));if(this.$(".js-board-value").text(r),null!=l){const e=l.get("name");n=n.toString(),this.$(".js-list-value").text(e),this.$(".js-pos-value").text(n),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").removeAttr("disabled")}else this.$(".js-list-value").empty().append(i("<i></i>").text(o("no lists"))),this.$(".js-pos-value").empty().append(i("<i></i>").text(o("n/a"))),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").attr("disabled","disabled")},updateBoardData(){const e=this.$(".js-select-board").find("option:selected").val();if(e===this.model.getBoard().id){this._boardData=this.model.getBoard();for(const e of Array.from(this._boardData.listList.models))e.cardCount=this._boardData.listList.get(e.id).openCards().length;this.updateListList()}else null!=e&&(this.$(".js-submit").attr("disabled","disabled"),a.loadBoardData(e,r.cardsAndListsMinimal).then((()=>(this._boardData=this.modelCache.get("Board",e),this.updateListList()))).done())},updateListList(){let e;const t=this.$(".js-select-board"),n=this.$(".js-select-list").empty(),a=t.find("option:selected").val(),r=this.model.getList().id;var s,o;a===this.model.getBoard().id?e=r:(s=this._boardData.listList.at(0),o=e=>e.id,e=null!=s?o(s):void 0);for(const t of Array.from(this._boardData.listList.models)){const a=i("<option>").val(t.id).appendTo(n);t.id===r?a.format("current list",{listName:t.get("name")}):a.text(t.get("name")),t.id===e&&a.attr("selected","selected")}return this.updatePositionList()},updatePositionList(){let e,t,n;const a=this.$(".js-select-list"),r=this.$(".js-select-position").empty(),s=a.find("option:selected").val();if(null==s)return void this.renderValues();const l=null!=(t=this._boardData.listList.get(s))?t:this._boardData.listList.at(0),c=(null!=l?l.id:void 0)===this.model.getList().id;let d=this._boardData.listList.get(s).cardList.length;c?(e=this.model.getList().openCards().indexOf(this.model),n=e,this.showCurrentPosition||(d-=1)):(e=-1,n=d);for(let t=0,a=d,s=0<=a;s?t<=a:t>=a;s?t++:t--){const a=String(t+1),s=t===e?o("current position",{index:a}):a,c=0===t?"top":t===d?"bottom":l.calcPos(t),u=i("<option>").val(c).text(s).appendTo(r);t===n&&u.attr("selected","selected")}this.$(".js-pos-value").text(String(n)),this.renderValues()}};e.exports=l},"./app/scripts/views/card/should-fire-confetti.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"shouldFireConfetti",(function(){return a}));const i=["🎊","🎉","🎆","🎇","👖","✨"];function a(e){return i.some((t=>e.includes(t)))}},"./app/scripts/views/card/uploading-link-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js");class a extends i{static initClass(){this.prototype.viewTitleKey="sending links"}render(){return this.$el.html('<div class="spinner loading"></div>'),this}}a.initClass(),e.exports=a},"./app/scripts/views/custom-field/constants.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_FIELDS",(function(){return i}));const i=50},"./app/scripts/views/custom-field/custom-field-badge-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")(),r=n("./app/scripts/views/internal/view.js"),s=n("./node_modules/xtend/immutable.js"),{Analytics:o}=n("./packages/atlassian-analytics/index.ts"),l=a.renderable((function({icon:e,name:t,text:n,type:i}){return null!=e&&a.icon(e,{class:"mod-quiet"}),a.span(".badge-text",(function(){return t&&"checkbox"!==i?a.text("".concat(t,": ").concat(n)):a.text(n)}))})),c={black:"field-color-black",blue:"field-color-blue",green:"field-color-green",orange:"field-color-orange",red:"field-color-red",yellow:"field-color-yellow",purple:"field-color-purple",pink:"field-color-pink",sky:"field-color-sky",lime:"field-color-lime","light-gray":"field-color-light-gray"};class d extends r{static initClass(){this.prototype.tagName="div"}className(){const e=this.getColorClass();return e?"badge field-color ".concat(e):"badge"}initialize({customFieldItem:e,customField:t}){this.customFieldItem=e,this.customField=t}getColorClass(){return c[null!=this.options.customFieldItem?this.options.customFieldItem.getColor():void 0]}trackCustomFieldValueUpdate(){o.sendTrackEvent({action:"updated",actionSubject:"customFieldValue",source:"cardDetailBadge",attributes:{type:this.customField.get("type")},containers:this.customField.getBoard().getAnalyticsContainers()})}renderBadge(e){return this.$el.html(l(e)),this.$el}render(){const e=this.customField.toJSON(),t=this.customFieldItem.toJSON(),n="checkbox"===this.customField.get("type")?this.customField.icon():void 0,a=this.customFieldItem.getFrontBadgeText();return this.renderBadge(s(t,i.pick(e,"name","type"),{icon:n,text:a})),this}}d.initClass(),e.exports=d},"./app/scripts/views/custom-field/custom-field-badges-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/custom-field/custom-field-badge-view.js"),r=n("./app/scripts/views/internal/plugins/plugin-runner.js"),{sendPluginViewedComponentEvent:s}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),o=n("./app/scripts/views/internal/view.js"),l=n("./packages/config/index.ts").customFieldsId;let c=null,d=!1;class u extends o{static initClass(){this.prototype.tagName="span",this.prototype.badgeView=a}idForBadge(e,t){let n=[e.id,e.name,JSON.stringify(e.options)];return t&&(n.push(t.id),t.idValue?n.push(t.idValue):n=n.concat([t.color,JSON.stringify(t.value)])),n.join(":")}render(){const e=this.model.getBoard();e.id!==c&&(c=e.id,d=!1);const t=e.customFieldList.map((e=>{const t=this.model.getCustomFieldItem(e.id);if(!(null!=t?t.showFrontBadge():void 0))return null;const n=this.idForBadge(e.toJSON(),t.toJSON());return this.subview(this.badgeView,this.model,{customFieldItem:t,customField:e},n)})),n=i.compact(t);return this.ensureSubviews(n),n.length>0&&this.trackBadges(),this}trackBadges(){if(!d)return d=!0,r.getOrLoadPlugin(this.model.getBoard(),l).then((()=>s({idPlugin:l,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})))}}u.initClass(),e.exports=u},"./app/scripts/views/custom-field/custom-field-create-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{CustomField:a}=n("./app/scripts/models/custom-field.js"),r=n("./app/scripts/views/custom-field/option-editor-view.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./node_modules/bluebird/js/browser/bluebird.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),p=d.renderable((({selectedType:e,name:t,isDuplicate:n,cardFront:i})=>d.form((function(){return d.label({for:"field-create-type"},(()=>d.format("type"))),d.select(".js-field-type-select",{id:"field-create-type",name:"type"},(()=>a.types.forEach((t=>d.option({value:t,selected:e===t},(()=>d.format(t))))))),d.label({for:"field-create-name"},(()=>d.format("name"))),d.input(".js-field-name-input",{autoselect:!0,class:d.classify({"is-invalid":n}),id:"field-create-name",maxlength:1e3,name:"name",required:!0,spellcheck:!0,type:"text",value:t}),d.p(".custom-field-error-message.js-duplicate-error",{class:d.classify({hide:!n})},(()=>d.format("duplicate field"))),d.div({class:d.classify({"js-options-container":!0,"options-container":!0})}),d.hr(),d.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(d.format("show on front of card"),i)return d.icon("check")})),d.hr(),d.input(".nch-button.nch-button--primary.js-save-field",{disabled:0===t.length||n,type:"submit",value:d.l("create")})}))));class m extends l{static initClass(){this.prototype.viewTitleKey="new field",this.prototype.events={"click .js-save-field":"createField","click .js-toggle-field-display":"toggleDisplay","input .js-field-name-input":"validateFieldName","change .js-field-type-select":"changeType"}}initialize(){return this.cardFront=!0,this.board=this.options.board}isDuplicate(){const e=null!=this.name?this.name:"",t=null!=this.selectedType?this.selectedType:"checkbox";return this.board.hasCustomField(t,e)}render(){const e=this.isDuplicate();return this.$el.html(p({name:null!=this.name?this.name:"",isDuplicate:e,selectedType:this.selectedType,cardFront:this.cardFront})),"list"===this.selectedType&&(this.optionEditor=this.subview(r,this.model,{},"new-field-options-editor"),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}changeType(e){return this.selectedType=this.$(e.target).val(),this.render()}validateFieldName(e){const t=this.$(e.target).val().trim();this.name=t;const n=this.isDuplicate();return this.$(".js-save-field").prop("disabled",0===this.name.length||n),this.$(".js-field-name-input").toggleClass("is-invalid",n),this.$(".js-duplicate-error").toggleClass("hide",!n)}toggleDisplay(e){return c.stop(e),this.cardFront=!this.cardFront,this.render()}createField(e){c.stop(e);const t=this.$(e.target),n=t.closest("form"),a=n.find(".js-field-type-select").val(),r=n.find(".js-field-name-input").val().trim();if(""===r)return;const l=u.startTask({taskName:"edit-plugin/customFields",source:"customFieldCreateInlineDialog"});t.prop("disabled",!0);const d={idModel:this.board.id,modelType:"board",name:r,pos:"bottom",type:a};"list"===a&&(d.options=this.optionEditor.getOptions());const p=i.extend({},d,{display_cardFront:this.cardFront});return new o(((e,t)=>this.board.customFieldList.createWithTracing(d,{requestData:p,traceId:l,success:()=>{u.sendTrackEvent({action:"added",actionSubject:"customField",source:"customFieldCreateInlineDialog",attributes:{taskId:l,type:a},containers:this.board.getAnalyticsContainers()}),u.taskSucceeded({taskName:"edit-plugin/customFields",source:"customFieldCreateInlineDialog",traceId:l}),e()},error:(e,n)=>(u.taskFailed({taskName:"edit-plugin/customFields",traceId:l,source:"customFieldCreateInlineDialog",error:n}),t(n))}))).then((()=>s.popView())).done()}}m.initClass(),e.exports=m},"./app/scripts/views/custom-field/custom-field-delete-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/views/internal/view.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:o,tracingCallback:l}=n("./packages/atlassian-analytics/index.ts"),c=s.renderable((({name:e})=>s.div((function(){return s.p((()=>s.format("delete warning"))),s.p((()=>s.format("delete prompt",{fieldName:e}))),s.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,placeholder:s.l("field name")}),s.div((()=>s.button(".nch-button--fullwidth.nch-button.nch-button--danger.js-delete-field.disabled",{disabled:!0},(()=>s.format("delete field")))))}))));class d extends a{static initClass(){this.prototype.viewTitleKey="delete field",this.prototype.events={"click .js-delete-field":"removeField","input .js-field-name":"validateName"}}initialize(){return this.customField=this.options.customField}render(){return this.$el.html(c({name:this.customField.get("name")})),this}validateName(e){const t=this.$(e.target).val()===this.customField.get("name");return this.$(".js-delete-field").toggleClass("disabled",!t).prop("disabled",!t)}removeField(e){r.stop(e);const t=o.startTask({taskName:"edit-plugin/customFields",source:"customFieldDeleteInlineDialog"});return this.customField.destroyWithTracing({traceId:t},l({taskName:"edit-plugin/customFields",source:"customFieldDeleteInlineDialog",traceId:t},(e=>{e||o.sendTrackEvent({action:"deleted",actionSubject:"customField",source:"customFieldDeleteInlineDialog",attributes:{taskId:t,type:this.customField.get("type")},containers:this.customField.getBoard().getAnalyticsContainers()})}))),i.hide()}}d.initClass(),e.exports=d},"./app/scripts/views/custom-field/custom-field-edit-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-delete-view.js"),{isSubmitEvent:a}=n("./packages/keybindings/index.ts"),r=n("./app/scripts/views/custom-field/option-editor-view.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:d,tracingCallback:u}=n("./packages/atlassian-analytics/index.ts"),p=c.renderable((({name:e,cardFront:t,isList:n})=>c.div((function(){return c.label({for:"name"},(()=>c.format("name"))),c.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,value:e}),c.p(".custom-field-error-message.hide.js-duplicate-error",(()=>c.format("duplicate field"))),c.div({class:c.classify({"js-options-container":!0,"options-container":!0})}),n&&c.p(".quiet",(()=>c.format("delete option warning"))),c.hr(),c.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(c.format("show on front of card"),t)return c.icon("check")})),c.div((function(){return c.hr(),c.a(".quiet.js-delete-field",{href:"#"},(()=>c.format("delete field")))}))}))));class m extends o{static initClass(){this.prototype.events={"click .js-delete-field":"removeField","click .js-toggle-field-display":"toggleDisplay","keydown .js-field-name":"handleEnter","input .js-field-name":"validateName","focusout .js-field-name":"saveOnBlur"}}viewTitleKey(){return this.customField.isList()?"edit field":"rename field"}initialize(){return this.board=this.options.board,this.customField=this.options.customField,this.options=this.customField.get("options")}render(){var e,t;return this.$el.html(p({name:this.customField.get("name"),cardFront:(e=this.customField.get("display"),t=e=>e.cardFront,null!=e?t(e):void 0),isList:this.customField.isList()})),this.customField.isList()&&(this.optionEditor=this.subview(r,this.model,{customField:this.customField},"".concat(this.customField.id,"-options-editor")),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}handleEnter(e){if(a(e))return l.stop(e),this.$(e.target).blur()}validateName(e){const t=this.$(e.target),n=t.val().trim();if(0===n.length)return void t.addClass("is-invalid");const i=n!==this.customField.get("name")&&this.board.hasCustomField(this.customField.get("type"),n);return t.toggleClass("is-invalid",i),this.$(".js-duplicate-error").toggleClass("hide",!i)}saveOnBlur(e){const t=e.target.value.trim();if(t===this.customField.get("name"))return;const n=this.customField.get("type");if(0===t.length||this.board.hasCustomField(n,t))return void this.render();const i=d.startTask({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog"});this.customField.update({traceId:i,name:t},u({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:i},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:i,type:this.customField.get("type"),updatedField:"name"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}toggleDisplay(e){l.stop(e);const t=d.startTask({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog"});return this.customField.toggleDisplay(t,u({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:t},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:t,type:this.customField.get("type"),updatedField:"display/cardFront"},containers:this.customField.getBoard().getAnalyticsContainers()})}))),this.render()}removeField(e){return l.stop(e),s.pushView({elem:this.$(e.target),view:i,options:{model:this.model,modelCache:this.modelCache,customField:this.customField}})}}m.initClass(),e.exports=m},"./app/scripts/views/custom-field/custom-fields-button-view.js":function(e,t,n){const i=n("./app/scripts/views/custom-field/custom-field-create-view.js"),a=n("./app/scripts/views/custom-field/custom-field-edit-view.js"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),c=n("./packages/config/index.ts").customFieldsId,{MAX_FIELDS:d}=n("./app/scripts/views/custom-field/constants.ts"),u=l.renderable((function(e){null==e&&(e={});const{canCreate:t,fields:n}=e;return l.div((function(){return 0===n.length&&t?(l.p((()=>l.format("no custom fields"))),l.hr(),l.a(".custom-field.js-add-field",{href:"#"},(function(){return l.icon("add"),l.span(".custom-field-name",(()=>l.format("new field")))}))):l.ul((function(){if(n.map((e=>l.li(".custom-field.js-field",{href:"#",idCustomField:e.id},(function(){return l.icon(e.icon(),{class:"js-drag-handle draggable"}),l.a(".custom-field-name.js-edit-field",{href:"#"},(()=>l.text(e.get("name"))))})))),t)return l.hr(),l.a(".custom-field.js-add-field",{href:"#"},(function(){return l.icon("add"),l.span(".custom-field-name",(()=>l.format("new field")))}))}))}))}));class p extends s{static initClass(){this.prototype.viewTitleKey="custom fields",this.prototype.events={"click .js-add-field":"createCustomField","click .js-edit-field":"editCustomField"}}initialize(){return this.board=this.options.board}render(){const e=this.board.customFieldList.models,t=this.board.editable()&&this.board.isPluginEnabled(c)&&this.board.customFieldList.length<d;if(this.$el.html(u({canCreate:t,fields:e})),e.length>1){const e=this.$(".js-field").first().closest("ul");e.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",handle:".js-drag-handle",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-field",sort:(t,n)=>{const i=e.parent().parent().offset().top,a=t.clientY-i;return n.helper.css({top:"".concat(a,"px")})},update:(e,t)=>{const n=t.item.attr("idCustomField"),i=t.item.parent().children().index(t.item);return this.board.customFieldList.get(n).move(i)}})}return this}createCustomField(e){return o.stop(e),r.pushView({elem:this.$(e.target),view:i,options:{model:this.model,modelCache:this.modelCache,board:this.board}})}editCustomField(e){const t=this.$(e.target).closest(".js-field"),n=t.attr("idCustomField"),i=this.board.customFieldList.get(n);return r.pushView({elem:t,view:a,options:{model:this.model,modelCache:this.modelCache,board:this.board,customField:i}})}}p.initClass(),e.exports=p},"./app/scripts/views/custom-field/option-editor-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{CustomFieldItem:a}=n("./app/scripts/models/custom-field-item.js"),{isSubmitEvent:r}=n("./packages/keybindings/index.ts"),s=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),{Analytics:c,tracingCallback:d}=n("./packages/atlassian-analytics/index.ts"),u=l.renderable((({options:e,colors:t})=>l.div((function(){if(l.label(".js-option-list-label",(()=>l.format("options"))),l.div(".js-option-list",(()=>e.map((e=>l.div(".field-list-option.js-list-option",{idOption:e.cid||e.id},(function(){return l.a(".field-list-option-color-swatch.is-clickable.js-option-pick-color.field-color-".concat(e.color||"none"),{href:"#"}),l.a(".option-value.js-option",{href:"#",title:e.value.text},(()=>l.text(e.value.text))),l.input(".option-value.js-option",{type:"text",value:e.value.text}),l.a(".icon-sm.icon-trash.js-remove-option",{href:"#"})})))))),l.div(".hide.js-option-color-picker",(function(){return l.label(".field-color-picker-label",(()=>l.format("select a color"))),l.div({style:"margin-left: 4px"},(()=>t.map((e=>l.a(".field-list-option-color-swatch.field-color.is-clickable.field-color-".concat(e.color,".js-palette-color"),{"data-color":e.color})))))})),e.length<50)return l.input(".js-add-option.add-option",{type:"text",placeholder:l.l("add item")})}))));class p extends s{static initClass(){this.prototype.events={"click .js-option-pick-color":"toggleColorPicker","click .js-palette-color":"pickColor","click a.js-option":"startEditOption","click .js-remove-option":"removeOption","keydown .js-add-option":"addOption","keydown input[type=text].js-option":"blurOnEnter","focusout input[type=text].js-option":"updateOption"}}initialize(){let e;return this.customField=this.options.customField,this.options=null!=(e=null!=this.customField?this.customField.get("options"):void 0)?e:[]}render(){const e=Array.from(a.colors).map((e=>({color:e})));let{options:t}=this;this.customField&&(t=this.customField.optionList.models.map((e=>i.extend({cid:e.cid},e.toJSON())))),this.$el.html(u({colors:e,options:t}));const n=this.$(".js-option-list");return t.length>1&&n.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-list-option",sort:(e,t)=>{const n=this.$el.closest(".js-options-container").parent().offset().top,i=this.$el.find(".js-option-list-label").first().outerHeight(),a=e.clientY-n-i;return t.helper.css({top:"".concat(a,"px")})},update:(e,t)=>{const n=t.item.attr("idOption"),a=t.item.parent().children().index(t.item);if(this.customField)return this.customField.getOptionByCId(n).move(a);{const e=i.findIndex(this.options,(e=>e.id===n));return this.options.splice(a,0,this.options.splice(e,1)[0])}}}),this}getOption(e){return i.find(this.options,(t=>t.id===e))}getOptions(){return this.options.map((function(e,t){return e.new?{color:e.color,value:e.value,pos:1024*(t+1)}:i.omit(e,"pos","idCustomField")}))}toggleColorPicker(e){const t=this.$(".js-option-color-picker");if(!t.hasClass("hide"))return void this.render();const n=this.$(e.target).closest(".js-list-option");if(n.hasClass("editing"))return void n.children("input.js-option").blur();const i=n.attr("idOption");return this.targetOption=i,t.insertAfter('.js-list-option[idOption="'.concat(i,'"]')).removeClass("hide")}pickColor(e){const{color:t}=e.target.dataset,n=this.targetOption;if(this.customField){const e=c.startTask({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog"});this.customField.getOptionByCId(n).update({traceId:e,color:t},d({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:e},(t=>{t||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),updatedField:"options/color"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}else{this.getOption(n).color=t}return this.render()}startEditOption(e){const t=this.$(e.target).closest(".js-list-option");if(!t.hasClass("editing"))return t.addClass("editing"),t.children('input[type="text"].js-option').first().select()}updateOption(e){const t=e.target.value.trim(),n=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){if(this.customField.getOptionByCId(n).get("value").text!==t){const e=c.startTask({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog"});this.customField.getOptionByCId(n).update({traceId:e,value:{text:t}},d({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:e},(t=>{t||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),updatedField:"options/value/text"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}}else{this.getOption(n).value.text=t}return this.render()}blurOnEnter(e){if(r(e))return this.$(e.target).blur()}removeOption(e){const t=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){const e=this.customField.getOptionByCId(t);if(null!=e){const t=c.startTask({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog"});e.destroyWithTracing({traceId:t},d({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:t},(e=>{e||c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:t,type:this.customField.get("type"),removedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()})})))}}else this.options=i.filter(this.options,(e=>e.id!==t));return this.render()}addOption(e){if(r(e)){o.stop(e);const a=e.target.value.trim();if(!a)return;if(this.customField){const e=c.startTask({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog"});this.customField.optionList.createWithTracing({value:{text:a},pos:"bottom"},{traceId:e,error:(t,n)=>{c.taskFailed({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:e,error:n})},success:()=>{c.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{taskId:e,type:this.customField.get("type"),addedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()}),c.taskSucceeded({taskName:"edit-plugin/customFields",source:"customFieldEditInlineDialog",traceId:e})}})}else this.options.push(this._createOption(e.target.value.trim(),(t=i.last(this.options),n=e=>e.pos,(null!=t?n(t):void 0)||0)));return e.target.value="",this.render(),this.$(".js-add-option").focus()}var t,n}_createOption(e,t,n="none"){return{id:i.uniqueId("field-option_"),color:n,new:!0,pos:t+5,value:{text:e}}}}p.initClass(),e.exports=p},"./app/scripts/views/directory/base-directory-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/react/index.js"),r=n("./packages/react-dom-wrapper/index.ts"),{ReactRootComponent:s}=n("./app/scripts/views/internal/react-root-component.tsx"),o=n("./app/scripts/views/internal/view.js");e.exports=class extends o{initialize(){var e;return null!==(e=this.$reactRoot)&&void 0!==e?e:this.$reactRoot=i("<div></div>")}renderContent(){throw new Error("BaseDirectoryView renderContent method is not defined.")}getReactRoot(){return a.createElement(s,null,this.renderContent())}render(){return this.$el.append(this.$reactRoot),r.render(this.getReactRoot(),this.$reactRoot[0]),this}}},"./app/scripts/views/directory/business-class-upsell-view.js":function(e,t,n){const{Analytics:i,getScreenFromUrl:a}=n("./packages/atlassian-analytics/index.ts"),{PlanSelectionOverlay:r}=n("./app/src/components/FreeTrial/index.ts"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./node_modules/react/index.js"),l=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:c}=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/scripts/views/internal/teacup-with-helpers.js")("business_class_upsell"),{trackUe:u}=n("./packages/analytics/index.ts"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),{featureFlagClient:h}=n("./packages/feature-flag-client/index.ts");class g extends m{static initClass(){this.prototype.events={"click .js-business-class-upsell-upgrade":"upgradePrompt","click .js-business-class-upsell-close":"onClose"}}upgradePrompt(e){p.stop(e);const t=document.createElement("span"),n=this.model.getOrganization();return i.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:n.id}}}),c(o.createElement(r,{orgId:n.id,onContinue:()=>window.location.assign("/business-class"),onClose:()=>(l.unmountComponentAtNode(t),t.remove())}),t)}onClose(e){return p.stop(e),u("Power-Up BC upgrade popover ad","close","Power-Up BC upgrade popover ad"),s.hide()}render(){if(h.get("btg.upgrade-prompt-audit",!1)){const{UpgradeSmartComponentConnected:e}=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx");this.$el.html(d.render((()=>d.div(".js-content"))));const t=this.$(".js-content")[0];return c(o.createElement(e,{orgId:this.model.getOrganization().id,promptId:"pupLimitPopUpPromptFull",additionalProps:{onClose:e=>(p.stop(e),l.unmountComponentAtNode(t),s.hide(),t.remove())}}),t),this}return i.sendScreenEvent({name:"pupLimitBCUpsellInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")}},attributes:{location:a()}}),this.$el.html(d.render((()=>d.div(".content",(function(){return d.a(".icon-close.icon-lg.js-business-class-upsell-close",{href:"#"}),d.h5((()=>d.format("get-unlimited-power-ups"))),d.p((()=>d.format("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"))),d.span(".small-link.js-business-class-upsell-upgrade",(()=>d.format("try-for-14-days")))}))))),this}}g.initClass(),e.exports=g},"./app/scripts/views/directory/directory-bonus-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{PowerUpItemType:a}=n("./app/src/components/PowerUp/index.ts"),r=n("./app/scripts/views/directory/base-directory-view.js"),s=n("./app/scripts/views/directory/directory-plugin-item-view.js"),o=n("./node_modules/react/index.js"),l=n("./app/scripts/views/internal/recup-with-helpers.js")("directory");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Bonus Power-Ups",this.prototype.render=l.renderable((()=>l.div(".directory-content-body",(function(){return l.div(".directory-bonus-banner",(function(){return l.h1((()=>l.formatText("bonus-powerups"))),l.p((()=>l.formatText("what-is-a-bonus-powerup")))})),l.div(".directory-listing")}))))}}c.initClass();e.exports=class extends r{eventSource(){return"boardDirectoryBonusScreen"}initialize({plugins:e,currentPage:t,directoryView:n}){return this.plugins=e,this.currentPage=t,this.directoryView=n,super.initialize(...arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))}renderContent(){return this.bonusPlugins=this.directoryView.getBonusPlugins(),o.createElement(c,null)}render(){super.render(...arguments);const e=this.$el.find(".directory-listing");e.empty();const t=i.map(this.bonusPlugins,(e=>this.subview(s,this.model,{atomType:a.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(t,e);const n=this.directoryView.getEnabledPlugins(),r=i.intersection(i.map(this.bonusPlugins,"id"),i.map(n,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:this.bonusPlugins.length,totalListedEnabled:r.length,totalEnabled:n.length,allPowerUpsEnabled:i.map(n,"id")},r),this}}},"./app/scripts/views/directory/directory-enabled-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{PowerUpItemType:a}=n("./app/src/components/PowerUp/index.ts"),r=n("./app/scripts/views/directory/base-directory-view.js"),s=n("./app/scripts/views/directory/directory-plugin-item-view.js"),o=n("./node_modules/react/index.js"),l=n("./app/scripts/views/internal/recup-with-helpers.js")("directory_enabled");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Enabled Power-Ups",this.prototype.render=l.renderable((()=>l.div(".directory-content-body",(()=>l.div(".directory-listing")))))}}c.initClass();class d extends o.Component{static initClass(){this.prototype.displayName="Directory Enabled Power-Ups Empty State",this.prototype.render=l.renderable((()=>l.div(".directory-content-body.directory-enabled-empty",(function(){return l.div(".directory-enabled-empty-text",(function(){return l.p((()=>l.formatText("there-are-no-power-ups-enabled-for-this-board"))),l.p((()=>l.formatText("get-started-with-these-great-power-ups")))})),l.div(".directory-listing")}))))}}d.initClass(),e.exports=class extends r{eventSource(){return"boardDirectoryEnabledScreen"}initialize({plugins:e,currentPage:t,directoryView:n}){return this.plugins=e,this.currentPage=t,this.directoryView=n,super.initialize(...arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))}getPluginSuggestions(){const e=this.directoryView.filterOutHiddenPlugins(this.plugins);return i.sample(e,3)}renderContent(){return this.enabledPlugins=this.directoryView.getEnabledPlugins(),this.enabledPlugins.length?o.createElement(c,null):o.createElement(d,null)}render(){let e;super.render(...arguments);const t=this.$el.find(".directory-listing");if(t.empty(),this.enabledPlugins.length>0){e=this.enabledPlugins;const n=i.map(this.enabledPlugins,(e=>this.subview(s,this.model,{atomType:a.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(n,t)}else{const n=this.getPluginSuggestions();e=n;const r=i.map(n,(e=>this.subview(s,this.model,{atomType:a.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(r,t)}const n=i.intersection(i.map(e,"id"),i.map(this.enabledPlugins,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:e.length,totalListedEnabled:n.length,totalEnabled:this.enabledPlugins.length,allPowerUpsEnabled:i.map(this.enabledPlugins,"id")},n),this}}},"./app/scripts/views/directory/directory-header-view.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),a=n("./app/scripts/views/directory/base-directory-view.js"),r=n("./app/scripts/views/board-menu/board-add-to-team-view.js"),{Controller:s}=n("./app/scripts/controller/index.js"),{dontUpsell:o}=n("./packages/browser/index.ts"),{featureFlagClient:l}=n("./packages/feature-flag-client/index.ts"),{ModelLoader:c}=n("./app/scripts/db/model-loader.js"),d=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),u=n("./app/scripts/views/lib/pop-over.js"),p=n("./node_modules/react/index.js"),m=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),{trackUe:h}=n("./packages/analytics/index.ts"),{UpgradeSmartComponentConnected:g}=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"),b=n("./app/scripts/lib/util/index.js");let v=void 0;class f extends p.Component{static initClass(){this.prototype.displayName="Directory Business Class Banner",v=l.get("btg.upgrade-prompt-audit",!1),this.prototype.render=m.renderable((function(){const{onDismissClick:e,onUpgradeClick:t,orgId:n}=this.props;return m.div(".directory-business-class-banner",(function(){return m.div(".banner-content",(function(){return m.icon("business-class",{class:"icon-lg light"}),m.format("this-board-has-reached-its-power-up-limit-upgrade-to-business-class-to-enable-additional-power-ups")})),m.div(".buttons-container",(function(){return m.a(".dismiss-link",{href:"#",onClick:e},(()=>m.format("dismiss"))),v?m.addElement(p.createElement(g,{orgId:n,promptId:"pupUpgradeBannerButton"})):m.a(".button-link.mod-upgrade",{href:"#",onClick:t},(()=>m.format("upgrade")))}))}))}))}}f.initClass();class _ extends p.Component{static initClass(){this.prototype.displayName="Directory Header",this.prototype.render=m.renderable((function(){const{title:e,showBackButton:t,navigateBack:n,toggleNavigationMenu:i}=this.props;return m.div(".directory-header",(()=>m.div(".directory-header-toolbar",(function(){return m.h2(".directory-header-toolbar-title",(()=>m.format(e))),m.div(".directory-header-toolbar-left",(function(){return m.a(".icon-lg.icon-back.dark-hover.directory-back-btn",{href:"#",onClick:n,class:m.classify({hide:!t})}),m.a(".directory-hamburger",{href:"#",onClick:i},(()=>m.text("☰")))})),m.div(".directory-header-toolbar-right",(()=>m.a(".icon-lg.icon-close.dark-hover.js-close-directory",{href:"#"})))}))))}))}}_.initClass();class k extends p.Component{static initClass(){this.prototype.render=m.renderable((function(){const{title:e,showBackButton:t,navigateBack:n,toggleNavigationMenu:i,upsellEnabled:a,onUpgradeClick:r,onDismissClick:s,orgId:o}=this.props;return m.div((function(){if(m.tag(_,{title:e,showBackButton:t,navigateBack:n,toggleNavigationMenu:i}),a)return m.tag(f,{onUpgradeClick:r,onDismissClick:s,orgId:o})}))}))}}k.initClass(),e.exports=class extends a{initialize({directoryView:e}){return this.directoryView=e,super.initialize(...arguments),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(d(this.model),(()=>this.render()))}onUpgradeClick(e){if(b.stop(e),h("Power-Up BC upgrade banner","clicks","upgrade button"),this.model.owned()){if(!this.model.hasOrganization())return c.loadMyOrganizations(),u.toggle({autoPosition:!0,elem:e.target,getViewTitle:()=>"Upgrade to Business Class",view:new r({model:this.model})});window.location=s.getBoardPowerUpsUpgradeUrl(this.model)}else window.location="/business-class"}onDismissClick(e){return b.stop(e),h("Power-Up BC upgrade","closes","Power-Up BC upgrade banner"),i.me().dismissAd("DirectoryBusinessClassBanner"),this.manuallyDismissed=!0,this.render(),this.directoryView.setBodyHeight(this.manuallyDismissed)}renderContent(){var e,t;const{category:n,section:a,idPlugin:r,history:s,search:l}=this.directoryView;let c="power-ups";null!=l&&l.length?c="power-ups":null!=n?c=n:null!=a&&(c=a);const d=null===(e=this.model.getOrganization())||void 0===e?void 0:e.isPremium();return p.createElement(k,{title:c,upsellEnabled:!(this.model.canEnableAdditionalPowerUps()||d||this.manuallyDismissed||i.me().isAdDismissed("DirectoryBusinessClassBanner")||o()),showBackButton:null!=a||null!=r||s.length,navigateBack:()=>this.directoryView.navigateBack(),onUpgradeClick:e=>this.onUpgradeClick(e),onDismissClick:e=>this.onDismissClick(e),toggleNavigationMenu:()=>this.directoryView.toggleNavigationMenu(),orgId:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id})}}},"./app/scripts/views/directory/directory-home-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{PowerUpItemType:a}=n("./app/src/components/PowerUp/index.ts"),r=n("./app/scripts/views/directory/base-directory-view.js"),s=n("./app/scripts/views/directory/directory-plugin-item-view.js"),o=n("./node_modules/react/index.js"),l=n("./app/scripts/views/internal/recup-with-helpers.js")("directory_home"),{sortFeaturedPowerUps:c}=n("./app/src/components/PowerUpDirectory/HomePage.tsx"),{featureFlagClient:d}=n("./packages/feature-flag-client/index.ts");class u extends o.Component{static initClass(){this.prototype.displayName="Directory Home",this.prototype.render=l.renderable((function(){return l.div((()=>l.div(".directory-content-body",(function(){return l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("featured-power-ups"))))),l.div(".directory-featured-powerups.js-featured-power-ups-container"),d.get("workflowers.show-integrations-in-pup-dir",!1)&&(l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("integrations"))))),l.div(".directory-featured-powerups.js-integrations-container")),l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("essential-power-ups"))))),l.div(".directory-featured-powerups.js-essential-power-ups-container"),l.div(".directory-heading-wrapper",(()=>l.h2((()=>l.formatText("other-great-power-ups"))))),l.div(".directory-featured-powerups.js-other-power-ups-container")}))))}))}}u.initClass(),e.exports=class extends r{initialize({directoryView:e,currentPage:t}){return this.directoryView=e,this.currentPage=t,super.initialize(...arguments)}eventSource(){return"boardDirectoryFeaturedScreen"}renderContent(){return o.createElement(u,{boardId:this.model.id})}getPluginsByTags(e){return i.filter(this.directoryView.plugins,(t=>i.every(e,(e=>i.contains(t.get("tags"),e)))))}getFeaturedPlugins(){const e=this.getPluginsByTags(["featured"]),t=c(i.map(e,(e=>e.toJSON()))),n=i.map(t,(t=>i.find(e,(e=>e.id===t.id))));return this.featuredPlugins=n}getEssentialPlugins(){var e;return null!==(e=this.essentialPlugins)&&void 0!==e?e:this.essentialPlugins=this.getPluginsByTags(["essential"])}getIntegrations(){if(null!=this.integrations)return this.integrations;const e=d.get("workflowers.show-integrations-in-pup-dir",!1)?this.getPluginsByTags(["integration"]):[];return this.integrations=e}getOtherPowerUps(){const e=i.filter(this.directoryView.plugins,(function(e){let t;return!(i.contains(e.get("tags"),"featured")||i.contains(e.get("tags"),"essential")||i.contains(e.get("tags"),"integration")||(t=e.get("moderatedState"),["hidden","moderated"].includes(t)))}));return i.sample(e,12)}render(){super.render(...arguments);const e=this.directoryView.filterOutHiddenPlugins(this.getFeaturedPlugins()),t=this.directoryView.filterOutHiddenPlugins(this.getEssentialPlugins()),n=this.directoryView.filterOutHiddenPlugins(this.getIntegrations()),r=this.getOtherPowerUps(),o=this.directoryView.getEnabledPlugins(),l=i.flatten([e,n,t,r]),c=d.get("workflowers.show-integrations-in-pup-dir",!1),u=i.map(e,(e=>this.subview(s,this.model,{atomType:a.Featured,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id))),p=i.map(t,(e=>this.subview(s,this.model,{atomType:a.Featured,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id))),m=i.map(n,(e=>this.subview(s,this.model,{atomType:a.Featured,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id))),h=i.map(r,(e=>this.subview(s,this.model,{atomType:a.Description,currentPage:this.currentPage,plugin:e,directoryView:this.directoryView},e.id)));this.appendSubviews(u,this.$el.find(".js-featured-power-ups-container")),this.appendSubviews(p,this.$el.find(".js-essential-power-ups-container")),c&&this.appendSubviews(m,this.$el.find(".js-integrations-container")),this.appendSubviews(h,this.$el.find(".js-other-power-ups-container"));const g=i.intersection(i.map(l,"id"),i.map(o,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:l.length,totalListedEnabled:g.length,totalEnabled:o.length,allPowerUpsEnabled:i.map(o,"id")},g),this}}},"./app/scripts/views/directory/directory-legacy-power-ups.js":function(e,t,n){const i=n("./app/scripts/views/power-ups/calendar-settings-view.js"),a=n("./app/scripts/views/power-ups/card-aging-settings-view.js"),{LegacyPowerUps:r}=n("./app/scripts/data/legacy-power-ups.js"),s=n("./app/scripts/views/power-ups/voting-settings-view.js");e.exports=[{name:"voting",settingsView:e=>new s({model:e}),id:r.voting},{name:"cardAging",settingsView:e=>new a({model:e}),id:r.cardAging},{name:"calendar",settingsView:e=>new i({model:e}),id:r.calendar}]},"./app/scripts/views/directory/directory-listing-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/directory/base-directory-view.js"),r=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),s=n("./app/scripts/views/directory/directory-plugin-item-view.js"),o=n("./app/scripts/lib/markdown/format.js"),l=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),{PowerUpItemType:c}=n("./app/src/components/PowerUp/index.ts"),d=n("./app/scripts/views/internal/recup-with-helpers.js"),u=d("directory"),p=d("power_up_item_details"),m=d("directory_data_consent"),h=n("./resources/images/directory/icons/notCompliant.svg"),g=n("./resources/images/directory/icons/compliant.svg"),b=n("./node_modules/react/index.js"),v=n("./app/scripts/lib/plugins/plugin-validators.js"),{featureFlagClient:f}=n("./packages/feature-flag-client/index.ts"),{forTemplate:_}=n("./packages/i18n/index.ts"),k=_("directory");class y extends b.Component{static initClass(){this.prototype.displayName="Directory Listing",this.prototype.render=u.renderable((function(){const{supportEmail:e,description:t,displayName:n,isGrandfathered:a,isCompliant:r,privacyPolicy:s,categories:l,onCategoryClick:c,isIntegration:d}=this.props;return u.div(".directory-individual-listing",(function(){if(u.div(".js-directory-listing"),e){let t=e;/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i.test(t)&&(t="mailto:".concat(e,"?subject=").concat(encodeURIComponent(n))),u.div(".directory-listing-support",(()=>u.div(".support-list",(function(){if(u.icon("email",{class:"icon-lg"}),u.a(".support-link",{href:t},(()=>u.format("contact-support"))),v.isValidHttp(s))return u.icon("information",{class:"icon-lg"}),u.a(".support-link",{href:s},(()=>u.format("privacy-policy")))}))))}else u.div(".directory-listing-categories",(function(){return u.icon("information",{class:"icon-lg"}),u.div(".categories-list",(()=>i.map(l,(e=>u.a(".category-link",{href:"#",onClick:()=>c(e)},(()=>u.format(e)))))))}));return a&&u.p(".power-up-grandfathered",(function(){return p.format("power-up-was-enabled-on-this-board-before-some-recent-changes-we-made",{name:n}),u.text(" 🎉")})),d&&u.div(".directory-listing-integration",(()=>(u.div(".directory-listing-integration-header",{"data-beta-string":k("beta")},(()=>u.format("trello-integrations"))),u.format("integration-description",{powerUpName:n}),u.text(" "),u.a(".integration-info-link",{href:"https://help.trello.com/article/1094-what-are-power-ups",target:"_blank"},(()=>u.format("integrations-learn-more")))))),u.div(".directory-listing-content.markeddown",(()=>u.raw(o.markdownAsHtml(t)))),u.div(".directory-listing-compliance",(function(){const e=!1===r?h:g;return m.img(".directory-listing-compliance-icon",{src:e,alt:"",role:"presentation"}),!1===r?m.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:n}):!0===r?m.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:n}):m.format("power-up-complies-with-our-data-privacy-standards",{pluginName:n})}))}))}))}}y.initClass();class E extends a{static initClass(){this.prototype.className="directory-listing-wrapper"}eventSource(){return"boardDirectoryPowerUpDetailsScreen"}initialize({directoryView:e,plugin:t,currentPage:n}){this.directoryView=e,this.plugin=t,this.currentPage=n,super.initialize(...arguments);const a=i.findWhere(r,{id:this.plugin.id});if(a){let e;const{name:t}=a;return this.isGrandfathered=(e=t,Array.from(this.model.get("powerUps")).includes(e))}}navigateToCategory(e){return this.directoryView.navigate({section:"category",category:e})}renderContent(){const e=l.get(this.plugin),t=f.get("workflowers.show-integrations-in-pup-dir",!1);return b.createElement(y,{displayName:e.getName(),description:e.getDescription(),supportEmail:this.plugin.get("supportEmail"),privacyPolicy:this.plugin.get("privacyUrl"),categories:this.plugin.get("categories"),isGrandfathered:this.isGrandfathered,onCategoryClick:e=>this.navigateToCategory(e),isCompliant:this.plugin.get("isCompliantWithPrivacyStandards"),isIntegration:t&&(this.plugin.get("tags")||[]).includes("integration")})}render(){super.render(...arguments),this.appendSubview(this.subview(s,this.model,{atomType:c.Listing,plugin:this.plugin,currentPage:this.currentPage,directoryView:this.directoryView},this.plugin.id),this.$(".js-directory-listing"));const e=this.directoryView.getEnabledPlugins();return this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,isEnabled:!!i.some(e,{id:this.plugin.id}),tags:this.plugin.get("tags")}),this}}E.initClass(),e.exports=E},"./app/scripts/views/directory/directory-page-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{PowerUpItemType:a}=n("./app/src/components/PowerUp/index.ts"),r=n("./app/scripts/views/directory/base-directory-view.js"),s=n("./app/scripts/views/directory/directory-plugin-item-view.js"),o=n("./node_modules/react/index.js"),l=n("./app/scripts/views/internal/recup-with-helpers.js")("directory");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Page",this.prototype.render=l.renderable((()=>l.div(".directory-content-body",(()=>l.div(".directory-listing")))))}}c.initClass(),e.exports=class extends r{eventSource(){const{title:e}=this.options;return"custom"===e?"boardDirectoryCustomScreen":"made-by-trello"===e?"boardDirectoryMadeByTrelloScreen":"boardDirectoryCategoryScreen"}renderContent(){return o.createElement(c,{title:this.options.title})}render(){super.render(...arguments);const e=this.$el.find(".directory-listing");e.empty();const{plugins:t,currentPage:n,directoryView:r,title:o}=this.options,l=i.map(t,(e=>this.subview(s,this.model,{atomType:a.Description,currentPage:n,plugin:e,directoryView:r},e.id)));this.appendSubviews(l,e);const c=r.getEnabledPlugins(),d=i.intersection(i.map(t,"id"),i.map(c,"id")),u={totalListed:t.length,totalListedEnabled:d.length,totalEnabled:c.length,allPowerUpsEnabled:i.map(c,"id"),listedPowerUpsEnabled:d},p=this.eventSource();return"custom"!==o&&(u.categoryid=o),r.trackScreenEvent(p,u),this}}},"./app/scripts/views/directory/directory-plugin-enable-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s;const o=n("./node_modules/underscore/underscore.js"),{PowerUp:l,PowerUpItemType:c}=n("./app/src/components/PowerUp/index.ts"),{atlassianPowerUps:d}=n("./app/scripts/data/directory.js"),u=n("./app/scripts/views/lib/alerts.js"),p=n("./app/scripts/views/directory/base-directory-view.js"),m=n("./app/scripts/views/internal/recup-with-helpers.js"),h=m("directory_data_consent"),g=n("./resources/images/directory/icons/notCompliant.svg"),b=n("./resources/images/directory/icons/compliant.svg"),v=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),f=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),_=n("./app/scripts/views/internal/plugins/plugin-runner.js"),{sendPluginTrackEvent:k}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),y=m("directory_power_up_item"),{Analytics:E}=n("./packages/atlassian-analytics/index.ts"),{trackUe:w}=n("./packages/analytics/index.ts"),C=n("./app/scripts/lib/util/index.js"),T=n("./node_modules/xtend/immutable.js"),O=h.renderable((({pluginName:e})=>h.div((function(){return h.p((()=>h.format("by-you-clicking-add",{pluginName:e}))),h.ul((function(){return h.li((()=>h.format("access-this-board"))),h.li((()=>h.format("add-content-to-this-board-such-as-attachments-to-cards"))),h.li((()=>h.format("take-actions-on-this-board-such-as-moving-sorting-filtering-cards-or-lists"))),h.li((()=>h.format("access-user-information-such-as-username-avatar-initials-and-full-name-for-users-on-this-board")))}))})))),j=h.renderable((function({pluginName:e,privacyPolicyUrl:t}){return t?h.format("for-more-information-please-see-power-ups-privacy-policy",{pluginName:e,privacyPolicyUrl:t}):h.format("for-more-information-please-see-power-ups-privacy-practices",{pluginName:e})})),A=h.renderable((({pluginName:e,privacyPolicyUrl:t})=>h.div(".directory-data-consent",(function(){return h.p((()=>h.format("power-up-is-developed-and-maintained-by-another-company-within-the-atlassian-corporate-family",{pluginName:e}))),h.tag(O,{pluginName:e}),h.tag(j,{pluginName:e,privacyPolicyUrl:t})})))),x=h.renderable((({pluginName:e,isCompliant:t})=>h.div(".directory-compliance",(()=>h.p((function(){const n=!1===t?g:b;return h.img(".directory-compliance-icon",{src:n,alt:"",role:"presentation"}),!1===t?h.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:e}):!0===t?h.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:e}):h.format("power-up-complies-with-our-data-privacy-standards",{pluginName:e})})))))),N=h.renderable((({pluginName:e,privacyPolicyUrl:t,isPublic:n,isCompliant:i})=>h.div(".directory-data-consent",(function(){return h.p((()=>h.format("power-up-is-not-developed-or-maintained-by-trello",{pluginName:e}))),n&&h.tag(x,{pluginName:e,isCompliant:i}),h.tag(O,{pluginName:e}),h.tag(j,{pluginName:e,privacyPolicyUrl:t})}))));e.exports=(s=class extends p{static initClass(){this.prototype.className="directory-listing-wrapper",this.prototype.renderContent=y.renderable((function(){const e=this.io.getName(),t=this.io.getIconUrl(),n=this.plugin.get("author"),i=this.plugin.get("privacyUrl"),a=Array.from(d).includes(this.plugin.id),r=this.plugin.get("public"),s=this.plugin.get("isCompliantWithPrivacyStandards");return y.div(".directory-individual-listing",(()=>(y.div(".directory-listing-powerup",(()=>y.tag(l,{type:c.Listing,atomProps:{subtitle:n,icon:{url:t},name:e}}))),a?y.tag(A,{pluginName:e,privacyPolicyUrl:i}):y.tag(N,{pluginName:e,privacyPolicyUrl:i,isPublic:r,isCompliant:s}),y.div(".directory-enable-page-buttons",(()=>(y.button(".button.link",{onClick:this.cancel.bind(this)},(()=>y.formatText("cancel"))),y.button(".nch-button.nch-button--primary.mt-4.mr-4",{onClick:this.enable.bind(this)},(()=>y.formatText("add")))))))))}))}eventSource(){return"powerUpAddDetailsScreen"}initialize({directoryView:e,plugin:t,currentPage:n}){let i;if(this.directoryView=e,this.plugin=t,this.tags=this.plugin.get("tags"),this.currentPage=n,super.initialize(...arguments),this.io=f.get(this.plugin),this.pluginDetails={isLegacy:(i=this.plugin.id,Array.from(o.pluck(v,"id")).includes(i))},this.pluginDetails.isLegacy){const e=o.findWhere(v,{id:this.plugin.id});return this.pluginDetails=T(this.pluginDetails,e)}}isGrandfathered(){let e;return this.pluginDetails.isLegacy&&(e=this.pluginDetails.name,Array.from(this.model.get("powerUps")).includes(e))}enable(e){C.stop(e);const t={pluginId:this.plugin.id,pluginName:this.plugin.name,pluginTags:this.tags,installSource:"boardDirectory"},n=E.startTask({taskName:"enable-plugin",source:"addPowerUpButton"}),i=e.target;return this.model.enablePluginWithTracing(this.plugin.id,{traceId:n,attributes:t,taskName:"enable-plugin",source:"addPowerUpButton",next:e=>{if(e){const i=e.serverMessage;if(E.taskAborted({taskName:"enable-plugin",source:"addPowerUpButton",error:new Error(i),attributes:a({},t),traceId:n}),this.isGrandfathered())this.model.pull("powerUps",this.pluginDetails.name);else{const e=E.startTask({taskName:"disable-plugin",source:"addPowerUpButton",attributes:t});this.model.disablePluginWithTracing(this.plugin.id,{traceId:e,attributes:t,taskName:"disable-plugin",source:"addPowerUpButton"})}"PLUGIN_NOT_ALLOWED"===i?u.show("plugin not allowed","error","addpluginerror",4e3):u.show("could not add plugin","error","addpluginerror",2e3)}}}),this.io.supports("on-enable")?_.one({plugin:this.plugin,command:"on-enable",board:this.model,el:i}).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:e.message,id:this.plugin.id}):void 0)).finally((()=>this.pluginEnabled(n))):this.pluginEnabled(n)}pluginEnabled(e){return w(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id),k({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",attributes:{installSource:"boardDirectory",tags:this.tags,taskId:e},source:"addPowerUpButton"}}),this.directoryView.navigate({idPlugin:this.plugin.id})}cancel(){return this.directoryView.navigateBack()}render(){return super.render(...arguments),this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,tags:this.tags}),this}},s.initClass(),s=s)},"./app/scripts/views/directory/directory-plugin-item-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./node_modules/underscore/underscore.js"),{PowerUp:o,PowerUpItemType:l}=n("./app/src/components/PowerUp/index.ts"),{Auth:c}=n("./app/scripts/db/auth.js"),d=n("./app/scripts/views/lib/alerts.js"),u=n("./app/scripts/views/directory/base-directory-view.js"),p=n("./app/scripts/views/directory/business-class-upsell-view.js"),{dontUpsell:m}=n("./packages/browser/index.ts"),h=n("./app/scripts/views/lib/confirm.js"),g=n("./app/scripts/views/custom-field/custom-fields-button-view.js"),b=n("./resources/images/directory/icons/customIcon.png"),v=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),{firstPartyPluginsOrg:f}=n("./packages/config/index.ts"),_=n("./app/scripts/lib/markdown/format.js"),k=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),y=n("./app/scripts/views/internal/plugins/plugin-runner.js"),E=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),w=n("./app/scripts/views/lib/pop-over.js"),C=n("./app/scripts/views/board-menu/edit-email-settings-view.js"),T=n("./node_modules/bluebird/js/browser/bluebird.js"),O=n("./node_modules/react/index.js"),{sendPluginScreenEvent:j,sendPluginUIEvent:A,sendPluginTrackEvent:x}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),N=n("./app/scripts/views/internal/recup-with-helpers.js")("directory_power_up_item"),{Analytics:S}=n("./packages/atlassian-analytics/index.ts"),{trackUe:I}=n("./packages/analytics/index.ts"),D=n("./app/scripts/lib/util/index.js"),B=n("./node_modules/xtend/immutable.js"),{featureFlagClient:P}=n("./packages/feature-flag-client/index.ts"),{customFieldsId:F,mapPowerUpId:L,microsoftTeamsId:M,microsoftTeamsUrl:R,e2bId:V,gmailId:U,gmailUrl:z}=n("./packages/config/index.ts"),{PowerUpTestIds:H}=n("./packages/test-ids/index.ts"),W=N.renderable((({authorize:e,disable:t,supportsSettings:n,showSettings:i,supportsAuth:a,hasPersonalSettings:r,removeData:s,authStatus:o,showListingOption:l,navigateToListing:c})=>N.ul(".pop-over-list",(function(){return l&&N.li({onClick:c},(()=>N.a((()=>N.format("view-power-up"))))),a&&o&&!o.authorized?N.li({onClick:e},(()=>N.a((()=>N.format("authorize-account"))))):(n&&N.li({onClick:i},(()=>N.a((()=>N.format("edit-power-up-settings"))))),r&&N.li({onClick:s},(()=>N.a((()=>N.format("remove-personal-settings")))))),N.li({"data-test-id":H.DisablePowerUpLink,onClick:t},(()=>N.a((()=>N.format("disable")))))})))),Y=N.renderable((({cancel:e,disable:t,powerupName:n})=>N.div(".disable-warning-container",(function(){return P.get("ecosystem.custom-fields-sku-relocation",!1)?N.p(".disable-warning-message-new-sku",(()=>N.format("disable-warning-message-new-sku",{powerupName:n}))):N.p(".disable-warning-message",(()=>N.format("disable-warning-message",{powerupName:n}))),N.button(".nch-button.nch-button--danger.directory-warning-disable-button",{onClick:t},(()=>N.format("disable-warning-button",{powerupName:n}))),N.button(".nch-button.nch-button--transparentDark.directory-cancel-button",{onClick:e},(()=>N.a((()=>N.format("cancel")))))})))),K=N.renderable((({onClick:e})=>N.button(".nch-button.nch-button--primary.directory-enable-button",{onClick:e},(()=>N.formatText("add"))))),G=N.renderable((function({enterpriseDisplayName:e}){const t=N.l("this-power-up-was-disabled-by-the-enterprise",{enterpriseDisplayName:e});return N.button(".nch-button.nch-button--disabled.directory-disabled-button",{title:t},(()=>N.formatText("add")))})),$=N.renderable((({onClick:e})=>N.a(".button.directory-settings-button",{onClick:e},(function(){return N.icon("gear"),N.formatText("settings")})))),q=N.renderable((({onClick:e,href:t})=>N.a(".nch-button.nch-button--primary.directory-enable-button",{onClick:e,href:t,target:"_blank"},(function(){return N.formatText("configure")}))));class X extends u{constructor(...e){super(...e),r(this,"disablePopover",(e=>(w.hide(),this.disable(e))))}static initClass(){this.prototype.className="directory-listing-powerup",this.prototype.events={click(e){if(this.options.atomType!==l.Listing)return this.$(e.target).is("a, button")||A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",source:"boardDirectory",attributes:{tags:this.tags}}}),this.navigateToListing(e)}}}initialize({plugin:e,currentPage:t,directoryView:n}){let i;if(this.plugin=e,this.tags=this.plugin.get("tags"),this.currentPage=t,this.directoryView=n,super.initialize(...arguments),this.canEnable=this.model.editable(),this.initialData={canEnable:this.model.editable(),isLegacy:(i=this.plugin.id,Array.from(s.pluck(v,"id")).includes(i))},this.io=k.get(this.plugin),this.pluginDetails={displayName:this.io.getName(),description:this.io.getDescription(),iconUrl:this.io.getIconUrl(),overview:this.io.getOverview(),author:this.plugin.get("author"),moderatedState:this.plugin.get("moderatedState")},this.initialData.isLegacy){const e=s.findWhere(v,{id:this.plugin.id});this.pluginDetails=B(this.pluginDetails,e)}return this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render)),this.listenTo(this.model,"cancel-add-to-team",(()=>w.hide())),this.subscribe(this.model.boardPluginList.snoop(),this.frameDebounce(this.render)),this.subscribe(E(this.model),this.frameDebounce(this.render))}showListingOption(){return!1}navigateToListing(e){var t;if(!this.$(e.target).is("a, button"))return w.isVisible&&w.hide(),null===(t=this.directoryView)||void 0===t?void 0:t.navigate({idPlugin:this.plugin.id})}enable(e){D.stop(e);const t=e.target,n=(this.tags||[]).includes("promotional");if(this.model.canEnableAdditionalPowerUps()||n)if(this.plugin.get("idOrganizationOwner")===f){const e={pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags,installSource:"boardDirectory"},n=S.startTask({taskName:"enable-plugin",source:"addPowerUpButton",attributes:e});this.model.enablePluginWithTracing(this.plugin.id,{traceId:n,taskName:"enable-plugin",attributes:e,source:"addPowerUpButton",next:t=>{if(t){const i=t.serverMessage;if(S.taskAborted({taskName:"enable-plugin",source:"addPowerUpButton",error:new Error(i),attributes:a({},e),traceId:n}),this.isGrandfathered())this.model.pull("powerUps",this.pluginDetails.name);else{const t=S.startTask({taskName:"disable-plugin",source:"addPowerUpButton",attributes:e});this.model.disablePluginWithTracing(this.plugin.id,{traceId:t,taskName:"disable-plugin",attributes:e,source:"addPowerUpButton"})}"PLUGIN_NOT_ALLOWED"===i?d.show("plugin not allowed","error","addpluginerror",4e3):d.show("could not add plugin","error","addpluginerror",2e3)}else x({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",source:"pupConfigurationInlineDialog",taskId:n}}),I(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id)}}),this.io.supports("on-enable")&&y.one({plugin:this.plugin,command:"on-enable",board:this.model,el:t}).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:e.message,id:this.plugin.id}):void 0))}else this.directoryView.navigate({idPlugin:this.plugin.id,isEnabling:!0});else w.toggle({autoPosition:!0,hideHeader:!0,elem:t,view:new p({model:this.model}),displayType:P.get("btg.upgrade-prompt-audit",!1)?"directory-upgrade-prompt-popover":"directory-business-class-popover"})}isGrandfathered(){let e;return this.initialData.isLegacy&&(e=this.pluginDetails.name,Array.from(this.model.get("powerUps")).includes(e))}disable(e){if(this.isGrandfathered()){var t;const n=()=>this.model.pull("powerUps",this.pluginDetails.name);null!==(t=this.model.getOrganization())&&void 0!==t&&t.isFeatureEnabled("plugins")?n():h.pushView("disable power up",{elem:e,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:n})}else{const e=S.startTask({taskName:"disable-plugin",source:"pupConfigurationInlineDialog",attributes:{pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags}}),t=()=>this.model.disablePluginWithTracing(this.plugin.id,{traceId:e,taskName:"disable-plugin",source:"pupConfigurationInlineDialog",attributes:{pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags},next:t=>{t||(x({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"disabled",actionSubject:"powerUp",source:"pupConfigurationInlineDialog"},attributes:{taskId:e}}),I(this.currentPage,"disables","Power-Up","","","disable button",this.plugin.id))}});if(!this.io.supports("on-disable"))return t();y.one({plugin:this.plugin,command:"on-disable",board:this.model,timeout:500}).finally((()=>t()))}}getEnabledState(){return this.initialData.isLegacy?this.model.isPowerUpEnabled(this.pluginDetails.name):this.model.isPluginEnabled(this.plugin.id)}hasPersonalSettings(){const e=s.extend(c.me().getPluginData(this.plugin.id),this.model.getPluginData(this.plugin.id));return s.any(e,(({private:e})=>null!=e))}showDisableWarning(e){const t=this.io.getName();w.pushView({elem:e,autoPosition:!0,getViewTitle:()=>N.l("disable-warning-header",{powerupName:t}),reactElement:O.createElement(Y,{key:this.plugin.id,cancel:()=>{w.popView()},disable:this.disablePopover,powerupName:t})})}showPowerUpSettings(e){I(this.currentPage,"opens","Power-Up","","","edit-settings",this.plugin.id),A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"editSettingsOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),this.directoryView&&this.directoryView.trackScreenEvent("powerUpEditInlineDialog",{powerUpId:this.plugin.id}),this.initialData.isLegacy?w.pushView({elem:e,view:this.pluginDetails.settingsView(this.model),autoPosition:!0}):this.plugin.id===F?w.pushView({elem:e,view:g,autoPosition:!0,options:{board:this.model}}):y.one({plugin:this.plugin,command:"show-settings",board:this.model,el:e}).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-settings.",{error:e.message,id:this.plugin.id}):void 0)).done()}showAuthorization(e){I(this.currentPage,"opens","Power-Up","","","show-authorization",this.plugin.id),A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"authorizeAccountOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),y.one({plugin:this.plugin,command:"show-authorization",board:this.model,el:e}).then((()=>j({idPlugin:this.plugin.id,idBoard:this.model.id,screenName:"pupAuthorizationInlineDialog"}))).catch((e=>"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-authorization.",{error:e.message,id:this.plugin.id}):void 0)).done()}clearData(e){A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"removeDataOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),h.pushView("clear plugin data",{elem:e,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>(I(this.currentPage,"clicks","Power-Up","","","remove-data",this.plugin.id),this.io.supports("remove-data")?y.one({board:this.model,plugin:this.plugin,command:"remove-data",timeout:1e3}).finally((()=>(this.model.clearPluginData(this.plugin.id),c.me().clearPluginData(this.plugin.id)))):(this.model.clearPluginData(this.plugin.id),c.me().clearPluginData(this.plugin.id)))})}toggleOptions(e){D.stop(e);const t=e.target,n=e=>s.bind(e,this,t);return I(this.currentPage,"opens","Power-Up","","","show-settings",this.plugin.id),this.directoryView&&this.directoryView.trackScreenEvent("pupConfigurationInlineDialog",{powerUpId:this.plugin.id}),T.props({supportsAuth:this.io.supports("show-authorization"),supportsSettings:this.pluginDetails.settingsView||this.io.supports("show-settings"),hasPersonalSettings:this.hasPersonalSettings()}).then((e=>e.supportsAuth?y.one({timeout:1e3,plugin:this.plugin,command:"authorization-status",board:this.model}).then((t=>B(e,{authStatus:t}))).catch((t=>("undefined"!=typeof console&&null!==console&&console.warn("Failed to get authorization-status.",{error:t.message,id:this.plugin.id}),e))):e)).then((e=>{const i=P.get("ecosystem.pups-views-transition",!1),a=P.get("ecosystem.custom-fields-sku-relocation",!1),r=i&&this.plugin.id===L||a&&this.plugin.id===F?n(this.showDisableWarning):this.disablePopover;return w.toggle({autoPosition:!0,getViewTitle:()=>this.io.getName(),elem:t,reactElement:O.createElement(W,{key:this.plugin.id,disable:r,authorize:n(this.showAuthorization),showSettings:n(this.showPowerUpSettings),removeData:n(this.clearData),supportsSettings:e.supportsSettings,supportsAuth:e.supportsAuth,hasPersonalSettings:e.hasPersonalSettings,authStatus:e.authStatus,showListingOption:this.showListingOption(),navigateToListing:n(this.navigateToListing)})}),j({idPlugin:this.plugin.id,idBoard:this.model.id,screenName:"pupConfigurationInlineDialog"})}))}getIntegrationButton(e){const t=e===l.Listing?"boardDirectoryPowerUpDetailsScreen":"powerUpCard";if(this.plugin.id===V)return O.createElement(q,{onClick:e=>{A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:t}}),D.stop(e),w.toggle({elem:e.target,view:new C({model:this.model,modelCache:this.modelCache,fromPowerUpDirectory:!0})})}});let n;if(this.plugin.id===M)n=R;else{if(this.plugin.id!==U)return"";n=z}return O.createElement(q,{onClick:e=>{A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:t}})},href:n})}getButton(e){var t,n;const i=null===(t=this.model.getOrganization())||void 0===t?void 0:t.isPremium();if(P.get("workflowers.show-integrations-in-pup-dir",!1)&&null!==(n=this.tags)&&void 0!==n&&n.includes("integration"))return this.getIntegrationButton(e);if((m()||i)&&!this.model.canEnableAdditionalPowerUps()&&!this.isEnabled&&!(this.tags||[]).includes("promotional"))return;var a;if(this.model.isEnterpriseBoard()&&null!=this.model.getEnterprise()&&!this.model.getEnterprise().isPluginAllowed(this.plugin.id))return O.createElement(G,{enterpriseDisplayName:null===(a=this.model.getEnterprise())||void 0===a?void 0:a.get("displayName")});let r="powerUpCard";return e===l.Listing&&(r="boardDirectoryPowerUpDetailsScreen"),this.isEnabled?O.createElement($,{onClick:e=>(A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:r}}),this.toggleOptions(e))}):O.createElement(K,{onClick:e=>(A({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpAddButton",source:r,attributes:{tags:this.tags}}}),this.enable(e))})}renderContent(){var e;const{author:t,iconUrl:n,displayName:i,description:a,overview:r}=this.pluginDetails;this.isEnabled=this.getEnabledState({id:this.plugin.id});const s=this.options.atomType||l.Basic;return O.createElement(o,{type:s,atomProps:{subtitle:s===l.Listing?t:void 0,overview:_.markdownAsText(r||a),icon:{url:n||b},heroImageUrl:this.plugin.get("heroImageUrl"),name:i,button:this.getButton(s),usage:(null===(e=this.plugin.get("usageBrackets"))||void 0===e?void 0:e.boards)||0,promotional:(this.tags||[]).includes("promotional"),staffPick:(this.tags||[]).includes("staff-pick"),integration:(this.tags||[]).includes("integration")}})}render(){return super.render(...arguments),this.$el.data("idPlugin",this.plugin.id),this}}X.initClass(),e.exports=X},"./app/scripts/views/directory/directory-search-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{PowerUpItemType:a}=n("./app/src/components/PowerUp/index.ts"),r=n("./app/scripts/views/directory/base-directory-view.js"),s=n("./app/scripts/views/directory/directory-plugin-item-view.js"),o=n("./node_modules/react/index.js"),l=n("./app/scripts/views/internal/recup-with-helpers.js")("directory");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Search",this.prototype.render=l.renderable((function(){return l.div(".directory-content-body",(()=>this.props.isEmpty?l.div(".directory-search-empty",(()=>l.p((()=>(l.formatText("bummer-no-search-results-for"),l.span((()=>l.text('"'.concat(this.props.searchTerm,'"'))))))))):l.div(".directory-listing")))}))}}c.initClass(),e.exports=class extends r{eventSource(){return"boardDirectorySearch"}renderContent(){return o.createElement(c,{searchTerm:this.options.searchTerm,isEmpty:i.isEmpty(this.options.plugins)})}render(){super.render(...arguments);const e=this.$el.find(".directory-listing");e.empty();const{plugins:t,currentPage:n,directoryView:r}=this.options,o=i.map(t,(e=>this.subview(s,this.model,{atomType:a.Description,currentPage:n,plugin:e,directoryView:r},e.id)));this.appendSubviews(o,e);const l=r.getEnabledPlugins(),c=i.intersection(i.map(t,"id"),i.map(l,"id"));return r.trackScreenEvent(this.eventSource(),{totalListed:t.length,totalListedEnabled:c.length,totalEnabled:l.length,allPowerUpsEnabled:i.map(l,"id")},c),this}}},"./app/scripts/views/directory/directory-sidebar-view.js":function(e,t,n){let i;const a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/directory/base-directory-view.js"),{asNumber:s}=n("./packages/i18n/formatters.ts"),{getKey:o,Key:l}=n("./packages/keybindings/index.ts"),c=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),d=n("./node_modules/react/index.js"),u=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),{PowerUpTestIds:p}=n("./packages/test-ids/index.ts"),{featureFlagClient:m}=n("./packages/feature-flag-client/index.ts"),{categories:h}=n("./app/scripts/data/directory.js");class g extends d.Component{static initClass(){this.prototype.displayName="Directory Sidebar Placeholder",this.prototype.render=u.renderable((()=>u.div((function(){return u.div(".directory-search",(()=>u.div(".directory-navigation-option.placeholder"))),u.ul((function(){return u.li((()=>u.div(".directory-navigation-option.placeholder"))),u.li((()=>u.div(".directory-navigation-option.placeholder"))),u.li((()=>u.div(".directory-navigation-option.placeholder"))),u.li(".directory-categories",(function(){return u.div(".directory-categories-heading.placeholder",(function(){})),u.ul(".directory-navigation-categories-list",(()=>a.forEach(h,(e=>u.li((()=>u.div(".directory-navigation-option.placeholder")))))))}))}))}))))}}g.initClass();class b extends d.Component{static initClass(){this.prototype.displayName="Directory Sidebar",this.prototype.render=u.renderable((function(){const e=e=>this.directorySearchInput=e,{enabledCount:t,showCustomCategory:n,clearSearch:i,section:r,category:s,idPlugin:o,onCategoryClick:l,onHomeClick:c,onEnabledClick:d,onCustomClick:g,onSearchKeyUp:b,onMadeByTrelloClick:v,onBonusClick:f}=this.props;return u.div((function(){return u.div(".directory-search",(function(){return u.input(".js-directory-search",{type:"text",placeholder:u.l("search"),onKeyUp:b,ref:e}),u.a(".icon-sm.icon-close.dark-hover.hide.js-directory-search-clear",{href:"#",onClick:i})})),u.div(".directory-navigation-section",(()=>u.ul((function(){if(u.li({onClick:c},(()=>u.a(".directory-navigation-option",{href:"#",class:u.classify({active:!r&&!s&&!o})},(()=>{u.span(".icon-md.icon-star"),u.formatText("featured")})))),u.li({onClick:d},(()=>u.a(".directory-navigation-option.enable-option",{href:"#",class:u.classify({active:"enabled"===r}),"data-test-id":p.EnabledPowerUpsLink},(function(){return u.span(".icon-md.icon-power-up"),u.formatText("enabled"),u.span(".directory-navigation-power-up-count",(()=>u.text(t)))})))),n&&u.li({onClick:g},(()=>u.a(".directory-navigation-option",{href:"#",class:u.classify({active:"custom"===r})},(()=>(u.span(".icon-md.icon-gear"),u.formatText("custom")))))),u.li({onClick:v},(()=>u.a(".directory-navigation-option.trello-option",{href:"#",class:u.classify({active:"made-by-trello"===r}),"data-test-id":p.TrelloPowerUpsLink},(function(){return u.span(".icon-md.icon-board"),u.formatText("made-by-trello")})))),m.get("ecosystem.bonus-powerups",!1))return u.li({onClick:f},(()=>u.a(".directory-navigation-option",{href:"#",class:u.classify({active:"bonus"===r}),"data-test-id":p.TrelloPowerUpsLink},(function(){return u.span(".icon-md.icon-sparkle"),u.div(".directory-navigation-bonus",(()=>(u.p((()=>{u.formatText("bonus")})),u.p(".directory-navigation-bonus-sub",(()=>{u.formatText("bonus-sub")})))))}))))})))),u.div(".directory-navigation-section",(()=>u.ul((()=>a.forEach(h,(e=>u.li({onClick:()=>l(e)},(()=>u.a(".directory-navigation-option.category-link",{class:u.classify({active:s===e}),href:"#"},(()=>u.format(e)))))))))))}))}))}constructor(e){super(e),this.directorySearchInput=null,this.focusDirectorySearchInput=this.focusDirectorySearchInput.bind(this)}componentDidMount(){return this.focusDirectorySearchInput()}focusDirectorySearchInput(){var e;return null===(e=this.directorySearchInput)||void 0===e?void 0:e.focus()}}b.initClass(),e.exports=(i=class extends r{static initClass(){this.prototype.className="directory-sidebar js-directory-sidebar"}initialize({directoryView:e}){return this.directoryView=e,super.initialize(...arguments),this.onSearchKeyUp=a.debounce(this.onSearchKeyUp,100),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(c(this.model),(()=>this.render()))}updateSearch(e){this.directoryView.updateSearch(e);const t=this.$(".js-directory-search-clear");return null!=e&&e.length?t.removeClass("hide"):t.addClass("hide"),this.directoryView.headerView.render()}onSearchKeyUp(e){let t=e.target.value;const n=o(e);if(n===l.Escape&&(t=null,this.emptySearchField()),n===l.Enter&&this.$el.hasClass("active")&&this.directoryView.toggleNavigationMenu(),t!==this.directoryView.search)return this.updateSearch(t)}fillSearchField(e){return this.$(".js-directory-search").val(e)}emptySearchField(){return this.$(".js-directory-search").val("")}clearSearch(){return this.emptySearchField(),this.updateSearch(null)}navigateTo(e,t){if(this.directoryView.navigate({section:e,category:t}),this.$el.hasClass("active"))return this.directoryView.toggleNavigationMenu()}renderContent(){var e;const{section:t,category:n,idPlugin:i,history:r,isLoading:o}=this.directoryView;if(o)return d.createElement(g,null);let l="";const c=this.model.get("powerUps").length+this.model.powerUpsCount();return c>0&&(l=s(c)),d.createElement(b,{enabledCount:l,section:t,idPlugin:i,category:n||null!=i&&(null===(e=a.last(r))||void 0===e?void 0:e.category),showCustomCategory:!a.isEmpty(this.directoryView.getCustomPlugins()),clearSearch:()=>this.clearSearch(),onSearchKeyUp:e=>this.onSearchKeyUp(e),onCategoryClick:e=>this.navigateTo("category",e),onHomeClick:()=>this.navigateTo(),onEnabledClick:()=>this.navigateTo("enabled"),onCustomClick:()=>this.navigateTo("custom"),onMadeByTrelloClick:()=>this.navigateTo("made-by-trello"),onBonusClick:()=>this.navigateTo("bonus")})}},i.initClass(),i=i)},"./app/scripts/views/directory/directory-spinner-view.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{PowerUpItemType:a}=n("./app/src/components/PowerUp/index.ts"),{LoadingSkeleton:r}=n("./app/src/components/PowerUp/LoadingSkeleton.tsx"),s=n("./app/scripts/views/directory/base-directory-view.js"),o=n("./node_modules/react/index.js"),l=n("./node_modules/recup/lib/recup.js");class c extends o.Component{static initClass(){this.prototype.displayName="Directory Spinner",this.prototype.render=l.renderable((function(){return l.div(".directory-content-body",(()=>l.div(".directory-listing",(()=>i.times(this.props.numOfAtoms,(()=>l.div(".directory-listing-powerup",(()=>l.tag(r,{type:this.props.atomType})))))))))}))}}c.initClass();class d extends o.Component{static initClass(){this.prototype.displayName="Directory Spinner",this.prototype.render=l.renderable((()=>l.div(".directory-listing",(()=>l.div(".directory-spinner",(()=>l.div(".spinner.loading.centered")))))))}}d.initClass(),e.exports=class extends s{eventSource(){return"boardDirectorySpinnerScreen"}renderContent(){const{section:e,idPlugin:t,isEnabling:n}=this.options;return i.contains(["category","custom","enabled"],e)?o.createElement(c,{numOfAtoms:24,atomType:a.Description}):t||n?o.createElement(d,null):o.createElement(c,{numOfAtoms:6,atomType:a.Featured})}}},"./app/scripts/views/directory/directory-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./node_modules/underscore/underscore.js"),{Analytics:r}=n("./packages/atlassian-analytics/index.ts"),{Auth:s}=n("./app/scripts/db/auth.js"),{Controller:o}=n("./app/scripts/controller/index.js"),l=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),c=n("./app/scripts/views/directory/directory-bonus-view.js"),d=n("./app/scripts/views/directory/directory-enabled-view.js"),u=n("./app/scripts/views/directory/directory-listing-view.js"),p=n("./app/scripts/views/directory/directory-header-view.js"),m=n("./app/scripts/views/directory/directory-home-view.js"),h=n("./app/scripts/views/directory/directory-search-view.js"),g=n("./app/scripts/views/directory/directory-spinner-view.js"),b=n("./app/scripts/views/directory/directory-page-view.js"),v=n("./app/scripts/views/directory/directory-plugin-enable-view.js"),f=n("./app/scripts/views/directory/directory-sidebar-view.js"),{firstPartyPluginsOrg:_}=n("./packages/config/index.ts"),{BUTLER_POWER_UP_ID:k}=n("./app/scripts/data/butler-id.js"),{mapPowerUpId:y,e2bId:E}=n("./packages/config/index.ts"),w=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),C=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),{track:T,trackUe:O}=n("./packages/analytics/index.ts"),{Key:j,registerShortcut:A,Scope:x,unregisterShortcut:N}=n("./packages/keybindings/index.ts"),S=n("./app/scripts/views/internal/view.js"),{createSearchIndex:I}=n("./app/src/components/PowerUpDirectory/SearchHelper.ts"),{categories:D}=n("./app/scripts/data/directory.js"),{workspaceNavigationState:B,workspaceNavigationHiddenState:P}=n("./app/src/components/WorkspaceNavigation/index.ts"),F=function(e,t,n,i){let a="home page";return i?a="search":n?a="list page":["enabled","custom","made-by-trello","bonus"].includes(e)?a=e+" page":"category"===e&&(a="category ".concat(t," page")),"Power-Up directory ".concat(a)};class L extends S{static initClass(){this.prototype.className="directory-wrapper",this.prototype.events={"click .js-directory-responsive-overlay":"toggleNavigationMenu"}}constructor(e){super(e),this.onShortcut=this.onShortcut.bind(this),A(this.onShortcut,{scope:x.PowerUpsDirectory,key:j.Escape})}initialize({boardView:e}){this.boardView=e,super.initialize(...arguments),this.featuredPlugins=[],this.history=[],this.isLoading=!0,this.plugins=[],this.search=null,this.headerView=this.subview(p,this.model,{directoryView:this}),this.sidebarView=this.subview(f,this.model,{directoryView:this}),this.category=this.options.category,this.section=this.options.section,this.idPlugin=this.options.idPlugin,this.isEnabling=this.options.isEnabling,null==this.section||a.contains(["enabled","category","custom","made-by-trello","bonus"],this.section)||this.navigate(),null==this.category||a.contains(D,this.category)||this.navigate(),this.preparePlugins(),this.makeDebouncedMethods("onOrganizationChange"),this.listenTo(this.model.boardPluginList,{"add remove reset":this.onPluginChange}),this.listenTo(this.model,{"change:powerUps":this.onPluginChange,"change:idOrganization":this.onOrganizationChangeDebounced}),this.subscribe(w(this.model),(()=>this.onPluginChange())),this.workspaceNavExpanded=B.value.expanded,this.workspaceNavEnabled=B.value.enabled,this.workspaceNavHidden=P.value.hidden;const t=()=>{const e=i(".directory-wrapper");this.workspaceNavExpanded=B.value.expanded,this.workspaceNavEnabled=B.value.enabled,this.workspaceNavHidden=P.value.hidden,!B.value.enabled||P.value.hidden?(e.removeClass("directory-wrapper--workspace-nav-expanded"),e.removeClass("directory-wrapper--workspace-nav-collapsed")):B.value.expanded?(e.addClass("directory-wrapper--workspace-nav-expanded"),e.removeClass("directory-wrapper--workspace-nav-collapsed")):(e.addClass("directory-wrapper--workspace-nav-collapsed"),e.removeClass("directory-wrapper--workspace-nav-expanded"))};return this.unsubscribeFromWorkspaceNavigationState=B.subscribe(t),this.unsubscribeFromWorkspaceNavigationHiddenState=P.subscribe(t),this.trackSearch=a.debounce(this.trackSearch,5e3,!0)}remove(){return N(this.onShortcut),this.unsubscribeFromWorkspaceNavigationState(),this.unsubscribeFromWorkspaceNavigationHiddenState(),super.remove(...arguments)}onShortcut(){if(!this.$(".js-directory-search").is(":focus"))return this.boardView.closeDirectory(),T("Keyboard Shortcuts","Esc - Close Power-Ups Directory","Power-Ups Directory")}onOrganizationChange(){return this.isLoading=!0,this.sidebarView.render(),this.renderSubview(),this.model.loadPlugins().then((()=>this.preparePlugins()))}onPluginChange(e){return this.setBodyHeight()}toggleNavigationMenu(){const e=i(".js-directory-sidebar"),t=i(".js-directory-responsive-overlay");return e.hasClass("active")?(e.removeClass("active"),t.removeClass("active")):(e.addClass("active"),t.addClass("active"))}preparePlugins(){let e;return this.boardView.reloadDirectoryPlugins?(e=this.model.loadPlugins(),this.boardView.reloadDirectoryPlugins=!1):e=this.model.getAvailablePlugins(),e.then((e=>{if(this.plugins=e,this.model.isTemplate()&&(this.plugins=e.filter((e=>e.id!==E))),this.index=I(this.plugins.map((e=>e.toJSON()))),this.isLoading=!1,"custom"===this.section&&!this.getCustomPlugins().length||this.idPlugin&&!this.getPlugin())return this.navigate();if(this.idPlugin){let e;const t=this.getPlugin();if(e=t.get("moderatedState"),["hidden","moderated"].includes(e))return this.navigate();if(t.get("idOrganizationOwner")===_)return this.isEnabling=!1,this.navigate({section:this.section,idPlugin:this.idPlugin})}return this.sidebarView.render(),this.renderSubview()}))}getCommonTrackingAttributes(){var e;return{boardId:this.model.id,organizationId:this.model.get("idOrganization"),boardPaidStatus:(()=>{var e,t,n,i;switch(!1){case!this.model.isEnterpriseBoard():return"enterprise";case!(null!==(e=this.model)&&void 0!==e&&null!==(t=e.getOrganization())&&void 0!==t&&t.isBusinessClass()):return"bc";case!(null!==(n=this.model)&&void 0!==n&&null!==(i=n.getOrganization())&&void 0!==i&&i.isStandard()):return"standard";default:return"free"}})(),maxUserPaidStatus:s.isLoggedIn()?null==s||null===(e=s.me())||void 0===e?void 0:e.getMaxPaidStatus():"notLoggedIn"}}getPlugin(){return a.find(this.plugins,(e=>e.id===this.idPlugin))}getPluginsForCategory(){let e;return a.chain(this.plugins).filter((t=>(e=this.category,Array.from(t.get("categories")).includes(e)))).shuffle().value()}getCustomPlugins(){return a.chain(this.plugins).filter((e=>!e.get("public"))).sortBy((e=>C.get(e).getName().toLowerCase())).value()}getPluginsForSearch(){return this.index.search(this.search).map((e=>this.plugins.find((t=>t.id===e.id))))}getTrelloPlugins(){let e;return a.chain(this.plugins).filter((t=>(e="made-by-trello",Array.from(t.get("tags")).includes("made-by-trello")))).sortBy((e=>C.get(e).getName().toLowerCase())).value()}getBonusPlugins(){let e;return a.chain(this.plugins).filter((t=>(e="promotional",Array.from(t.get("tags")).includes("promotional")))).sortBy((e=>C.get(e).getName().toLowerCase())).value()}getEnabledPlugins(){const e=a.flatten([this.model.idPluginsEnabled(),this.model.get("powerUps")]);return a.chain(e).filter((e=>!(this.model.isButlerCore()&&e===k||this.model.isMapCore()&&e===y))).map((e=>a.find(this.plugins,(t=>t.id===e||a.findWhere(l,{id:t.id,name:e}))))).compact().sortBy((e=>C.get(e).getName().toLowerCase())).value()}filterOutHiddenPlugins(e){return a.filter(e,(function(e){let t;return t=e.get("moderatedState"),!["hidden","moderated"].includes(t)}))}updateSearch(e){if(e!==this.search)return this.search=e,this.section||this.category||this.idPlugin||this.isEnabling||null!==e||this.history.splice(0,this.history.length),this.renderSubview()}trackSearch(){return O(F(this.section,this.category,this.idPlugin),"opens",this.getCurrentPage())}trackScreenEvent(e,t){return r.sendScreenEvent({name:e,attributes:a.extend(t,this.getCommonTrackingAttributes())})}getCurrentPage(){return F(this.section,this.category,this.idPlugin,this.search)}navigate(e){null==e&&(e={});const{section:t,category:n,idPlugin:i,isNavigatingBack:r,isEnabling:s,search:l}=e;r||a.isEqual({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling},{section:t,category:n,idPlugin:i,isEnabling:s})||(this.search&&(this.section||this.category||this.idPlugin||this.isEnabling)?(this.history.push({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling,search:null}),this.history.push({section:void 0,category:void 0,idPlugin:void 0,isEnabling:void 0,search:this.search})):this.history.push({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling,search:this.search}));let c="power-ups";i?(c="power-up",O(this.getCurrentPage(),"opens",F(t,n,i),"","","",i)):O(this.getCurrentPage(),"opens",F(t,n)),this.section=t,this.category=n,this.idPlugin=i,this.isEnabling=!!s;const d=[];return null!=this.section&&d.push(this.section),null!=this.category&&d.push(this.category),null!=this.idPlugin&&(d.push(this.idPlugin),this.isEnabling&&d.push("enable")),o.setBoardLocation(this.model.id,c,d,{replace:!1}),this.search&&i||this.sidebarView.clearSearch(),this.search=null,r&&l&&(this.sidebarView.updateSearch(l),this.sidebarView.fillSearchField(l)),this.sidebarView.render(),this.headerView.render(),this.$directoryBody.scrollTop(0),this.renderSubview()}navigateBack(){if(a.isEmpty(this.history))return this.navigate({isNavigatingBack:!0});const{section:e,category:t,idPlugin:n,search:i}=this.history.pop();return this.navigate({section:e,category:t,idPlugin:n,isNavigatingBack:!0,search:i})}activeEventSource(){return this.activeSubview?this.activeSubview.eventSource():"boardDirectoryScreen"}setBodyHeight(e){return e||this.model.canEnableAdditionalPowerUps()?this.$(".js-directory-body").removeClass("has-upsell"):s.me().isAdDismissed("DirectoryBusinessClassBanner")?void 0:this.$(".js-directory-body").addClass("has-upsell")}homeSubview(){return this.subview(m,this.model,{currentPage:this.getCurrentPage(),directoryView:this})}bonusSubview(){return this.subview(c,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})}enabledSubview(){return this.subview(d,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})}pluginListingSubview(){return this.subview(u,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})}pluginEnableView(){return this.subview(v,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})}searchSubview(){return this.trackSearch(),this.subview(h,this.model,{plugins:this.filterOutHiddenPlugins(this.getPluginsForSearch()),searchTerm:this.search,currentPage:this.getCurrentPage(),directoryView:this})}pageSubView(e,t){return this.subview(b,this.model,{title:e,plugins:this.filterOutHiddenPlugins(t),currentPage:this.getCurrentPage(),directoryView:this})}renderSubview(){return this.$contentContainer=this.$("#directory-content"),this.$contentContainer.empty(),null!=this.activeSubview&&this.deleteSubview(this.activeSubview),this.activeSubview=(()=>{switch(!1){case!this.isLoading:return this.subview(g,this.model,{section:this.section,idPlugin:this.idPlugin,isEnabling:this.isEnabling});case!this.search:return this.searchSubview();case"category"!==this.section||!this.category:return this.pageSubView(this.category,this.getPluginsForCategory());case"made-by-trello"!==this.section:return this.pageSubView(this.section,this.getTrelloPlugins());case"bonus"!==this.section:return this.bonusSubview();case"custom"!==this.section:return this.pageSubView(this.section,this.getCustomPlugins());case"enabled"!==this.section:return this.enabledSubview();case!this.idPlugin||!this.isEnabling:return this.pluginEnableView();case!this.idPlugin:return this.pluginListingSubview();default:return this.homeSubview()}})(),this.appendSubview(this.activeSubview,this.$contentContainer)}renderOnce(){return this.trackScreenEvent("boardDirectoryScreen",{totalEnabled:this.model.powerUpsCount(),allPowerUpsEnabled:this.model.idPluginsEnabled()}),this.appendSubview(this.headerView),this.$el.append('<div class="directory-body js-directory-body"></div>'),this.$directoryBody=this.$(".js-directory-body"),this.setBodyHeight(),this.$directoryBody.append('<div class="directory-responsive-overlay js-directory-responsive-overlay"></div>'),this.appendSubview(this.sidebarView,this.$directoryBody),this.$directoryBody.append('<div id="directory-content"></div>'),this.workspaceNavEnabled&&!this.workspaceNavHidden&&(this.workspaceNavExpanded?this.$el.addClass("directory-wrapper--workspace-nav-expanded"):this.$el.addClass("directory-wrapper--workspace-nav-collapsed")),this.renderSubview(),this}}L.initClass(),e.exports=L},"./app/scripts/views/emoji/trello-emoji-picker.js":function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const{EmojiProviderComponent:a}=n("./app/src/components/Emoji/EmojiProviderComponent.tsx"),r=n("./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js").default,s=n("./node_modules/react/index.js"),o=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),l=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader"),c=n("./node_modules/underscore/underscore.js"),{Button:d}=n("./packages/nachos/button.ts");class u extends s.Component{static initClass(){this.defaultProps={title:"",emoji:"",color:"#0079BF",set:"twitter",i18n:{search:o.l("search"),notfound:o.l("no-emoji-found"),skintext:o.l("skintext"),categories:{search:o.l("categories-search-results"),recent:o.l("categories-frequently-used"),people:o.l("categories-smileys-and-people").replace(/&amp;/g,"&"),nature:o.l("categories-animals-and-nature").replace(/&amp;/g,"&"),foods:o.l("categories-food-and-drink").replace(/&amp;/g,"&"),activity:o.l("categories-activity"),places:o.l("categories-travel-and-places").replace(/&amp;/g,"&"),objects:o.l("categories-objects"),symbols:o.l("categories-symbols"),flags:o.l("categories-flags"),custom:o.l("categories-custom")}},style:{width:"408px"},emojiSize:"28px",skinEmoji:"v",autoFocus:!0,showCustomEmojiButton:!1}}componentDidMount(){return document.querySelector("#chrome-container").scrollTop=0}render(){const e=()=>s.createElement("div",{className:"emoji-mart-no-results"},s.createElement("div",{className:"emoji-mart-no-results-illo"},s.createElement("div",{className:"emoji-mart-no-results-label"},o.l("no-emoji-found")),s.createElement("img",{className:"emoji-mart-no-results-img",src:n("./resources/images/illos.png")})),this.props.showCustomEmojiButton&&s.createElement("div",{className:"emoji-mart-no-results-btn"},s.createElement(d,{onClick:this.props.onCustomEmojiButtonClick},l.l("create-custom-emoji"))));return s.createElement("div",{onClick:function(e){return e.preventDefault()}},s.createElement(a,null,((t,n)=>s.createElement(r,i({ref:e=>{this.pickerRef=e}},c.extend({},this.props,{data:t,backgroundImageFn:n,notFound:e}))))))}}u.initClass(),e.exports=u},"./app/scripts/views/internal/autocomplete/auto-insertion-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./packages/browser/index.ts"),{getKey:r,isArrow:s,Key:o}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/lib/util/index.js"),d={checkInsert(e){const t=r(e);if(l.isVisible&&!a.isTouch()){if(e.shiftKey&&[o.ArrowUp,o.ArrowDown].includes(t)||e.altKey&&[o.ArrowUp,o.ArrowDown].includes(t))return;if(t===o.Escape)return c.stop(e),void l.hide();{const n=[{listClass:".js-available-members",itemClass:".js-select-member"},{listClass:".js-available-emoji",itemClass:".js-select-emoji"},{listClass:".js-card-list",itemClass:".js-select-card"}];for(const{listClass:a,itemClass:r}of Array.from(n)){let n=i(".pop-over").find(a);if(n.length>0){if([o.Enter,o.Tab].includes(t))return c.stop(e),n.find(".item:first").hasClass("selected")&&(this.keyAutoMention(e),n=i(".pop-over").find(a)),n.find(".item.selected:first ".concat(r)).first().click(),l.hide(),!1;if([o.ArrowUp,o.ArrowDown].includes(t))return c.stop(e),c.navMenuList(n,".item",t),!1}}}}},keyAutoMention(e){if(!a.isTouch()){if(s(r(e))||r(e)===o.Enter)return;if(r(e)===o.Escape)return void(l.isVisible&&c.stop(e));const t=c.getWordFromCaret(this.getTextInput());if(new RegExp("^@\\S").test(t.str.substring(0,2)))return this.getAutoMentionerView("input").then((e=>{0!==e.filterMentionablesForMatches(t.str.substring(1).toLowerCase()).length?(l.show({elem:this.getMentionTarget(),view:e,keepEdits:!0}),this.getTextInput().is(":focus")||this.getTextInput().focus()):l.hide()}));if(/^:[a-z0-9_]+$/.test(t.str)){const e=this.getEmojiCompleterView("input");return l.show({elem:this.getEmojiTarget(),view:e,keepEdits:!0}),void(this.getTextInput().is(":focus")||this.getTextInput().focus())}return this.setTimeout((()=>l.hide()),5)}}};e.exports=d},"./app/scripts/views/internal/autocomplete/auto-mentioner-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Auth:a}=n("./app/scripts/db/auth.js"),{getKey:r,Key:s}=n("./packages/keybindings/index.ts"),{l:o}=n("./app/scripts/lib/localize.js"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/views/member/select-member-view.js"),d=n("./app/scripts/views/member/select-filterable-view.js"),{TrelloStorage:u}=n("./packages/storage/index.ts"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),h=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/internal/templates.js"),{Analytics:b,getScreenFromUrl:v}=n("./packages/atlassian-analytics/index.ts"),{searchFilter:f}=n("./app/scripts/lib/util/text/search-filter.js"),_="recentMentions";let k=u.get(_)||[];class y extends m{static initClass(){this.prototype.viewTitleKey="mention",this.prototype.events={"mouseenter .js-select-member":"hoverItem","click .js-select-member:not(.disabled)":"insertMember","mouseenter .js-select-all-card-members":"deselectMember","mouseenter .js-select-all-board-members":"deselectMember",keydown:"keydownEvent","keyup .js-filter-mentionables":"keyupEvent"}}initialize({board:e,card:t}){let n;if(this.board=e,this.card=t,n=null!=this.board?this.board.getOrganization():void 0)return this.listenTo(n.memberList,"add remove reset",this.frameDebounce(this.render))}render(){const e={};return this.options.input&&(e.input=!0),this.options.button&&(e.button=!0),this.$el.html(g.fill(n("./app/scripts/views/templates/popover_auto_mentioner.js"),e)),b.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}}),this.$mentionablesList=this.$(".js-available-members"),this.options.button?this.fillMentionables(this.getMentionables()):this.options.input&&this.filterMentionables(),this}getTextInput(){return i(this.options.target)}getExtraMentionables(e,t){const n={type:"extra",text:"card",names:["all","card"],extraText:o(["automentioner","all-members-on-card"]),mentionCount:e.length},i={type:"extra",text:"board",names:["all","board"],extraText:o(["automentioner","all-members-on-board"]),mentionCount:t.length};return null!=this.card?[n,i]:[i]}getMentionables(){const e=a.myId(),t=(e,t)=>(null==t&&(t={}),h.chain(e).reject((e=>this.board.isDeactivated(this.modelCache.get("Member",e)))).map((e=>h.extend({},t,{id:e,names:p.getMemNameArrayFromId(this.modelCache,e),type:"member"}))).value()),n=t(null!=this.card?this.card.getIdCardMems():void 0),i=t(this.board.getIdBoardMems()),r=(()=>{let e;if(null!=(e=this.board.getOrganization())){let n=[],i=[];const a=e.memberList.filter((t=>!e.isDeactivated(t)));if(this.board.isPrivate())if(e.hasPremiumFeature("superAdmins")){const t=h.groupBy(a,(t=>e.ownedByMember(t)?"admin":"not-admin"));n=h.pluck(t.admin,"id"),i=h.pluck(t["non-admin"],"id")}else i=h.pluck(a,"id");else n=h.pluck(a,"id");return[...Array.from(t(n)),...Array.from(t(i,{disabled:!0,extraText:o(["mention member","board not team visible"])}))]}return[]})();return h.chain([...Array.from(n),...Array.from(i),...Array.from(r)]).uniq((e=>e.id)).sortBy((function(t,n,i){const a=k.indexOf(t.id);return t.id===e?i.length:-1===a?k.length:a})).concat(this.getExtraMentionables(n,i)).value()}clearMentionables(){return this.$mentionablesList.empty()}keydownEvent(e){let t;if(t=r(e),[s.Enter,s.Tab].includes(t))return p.stop(e),void this.$mentionablesList.find(".item.selected:first .js-select-member").click()}keyupEvent(e){const t=r(e);return[s.Enter,s.Tab,s.ArrowLeft,s.ArrowRight].includes(t)?void 0:[s.ArrowUp,s.ArrowDown].includes(t)?(p.stop(e),void p.navMenuList(this.$mentionablesList,".item",t)):this.filterMentionables()}filterMentionables(e){let t;if(this.clearMentionables(),this.options.button)t=i(".js-filter-mentionables").val().trim().toLowerCase();else if(this.options.input){const e=this.getTextInput();t=p.getWordFromCaret(e).str.substring(1).toLowerCase()}const n=this.filterMentionablesForMatches(t);if(!this.options.input||0!==n.length)return this.fillMentionables(n),p.selectMenuItem(this.$mentionablesList,".item",this.$mentionablesList.find(".item").first());this.setTimeout((()=>l.hide()),5)}filterMentionablesForMatches(e){const t=f(e);return h.filter(this.getMentionables(),(e=>t(e.names)))}hoverItem(e){const t=i(e.target).closest(".item");return p.selectMenuItem(this.$mentionablesList,".item",t)}deselectMember(e){return this.$mentionablesList.find(".item").removeClass("selected")}fillMentionables(e){const t=((e=h.groupBy(e,"type")).member||[]).slice(0,50).map((({id:e,disabled:t,extraText:n})=>({member:this.modelCache.get("Member",e),disabled:t,extraText:n})));this.$mentionablesList.empty();const n=[];for(const{member:e,disabled:i,extraText:a}of Array.from(t))n.push(this.subview(c,e,{disabled:i,extraText:a}));if(this.appendSubviews(n,this.$mentionablesList),null!=e.extra)for(const t of Array.from(e.extra))this.$mentionablesList.append(new d(t).render().el);this.$(".js-empty-list").toggleClass("hide",h.keys(e).length>0)}insertMember(e){let t;p.stop(e);const n=i(e.currentTarget).attr("autocompleteText");this.saveRecent(i(e.currentTarget).attr("idMember"));let a="member",r=i(e.currentTarget).attr("idMember"),s=v();"board"===n&&(a="board",r=null!=this.board?this.board.id:void 0,"boardScreen"===s&&(s="boardMenuDrawerAboutScreen")),"card"===n&&(a="card",r=null!=this.card?this.card.id:void 0),b.sendTrackEvent({action:"mentioned",actionSubject:a,actionSubjectId:r,source:s,containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}});const o=this.getTextInput();if(this.options.input)t=p.getWordFromCaret(o),p.insertSelection(o,"@".concat(n," "),t.start,t.end);else{const e=p.getCaretPosition(o);null!=e&&(t={start:e,end:e}),p.insertSelection(o,"@".concat(n," "),null!=t?t.start:void 0,null!=t?t.end:void 0)}l.hide()}saveRecent(e){let t=u.get(_)||[];return t=h.chain([e,...Array.from(t)]).uniq().first(16).value(),u.set(_,t),k=t}}y.initClass(),e.exports=y},"./app/scripts/views/internal/autocomplete/completer-util.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/card/attachment-type-picker-view.js"),r=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),s=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),{ModelLoader:o}=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),d=n("./app/scripts/lib/util/index.js"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),p=n("./node_modules/bluebird/js/browser/bluebird.js"),m=n("./node_modules/underscore/underscore.js"),h={},g={openEmojiCompleter(e){return d.stop(e),l.pushView({view:this.getEmojiCompleterView("button")})},autoMentionerView(e,t,n){return new r({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,board:n,modelCache:this.modelCache})},getAutoMentionerView(e){let t;const n=null!=this.getCard?this.getCard():this.card,i=n?n.getBoard():this.board;null!=(t=null!=i?i.getOrganization():void 0)&&(!h[t.id]||Date.now()-h[t.id]>3e5)&&(h[t.id]=Date.now(),o.loadOrganizationMembersData(t.id));const a=this.modelCache.get("Board",i.id).get("memberships"),r=m.indexBy(i.getIdBoardMems());if(r.length!==a.length){if(a.some((e=>!e.deactivated&&!r.hasOwnProperty(e.idMember))))return o.loadBoardMembers(i.id).then((()=>this.autoMentionerView(e,n,i)))}return p.resolve(this.autoMentionerView(e,n,i))},getEmojiCompleterView(e){const t=null!=this.getCard?this.getCard():this.card,n=t?t.getBoard():this.board;return new s({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,modelCache:this.modelCache})},getTrelloCompleterView(){const e=this.getCard();return new c({model:e,button:!0,target:this.getTextInput(),card:e,modelCache:this.modelCache})},commentAddAttachment(e){d.stop(e);const t=i(e.target).closest(".comment-box").find("textarea"),n=t.prop("selectionStart"),r=t.prop("selectionEnd"),s=t.val().substring(n,r),o=this.getCard(),c=new a({model:o,modelCache:this.modelCache,defaultName:s});c.on("attach",(function({url:e,name:i}){const a=(i=i||s)?"[".concat(i,"](").concat(e,")"):e;return d.insertSelection(t,"".concat(a," "),n,r),t.trigger("autosize.resize")})),l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:c,options:{model:o,modelCache:this.modelCache}}),u.sendScreenEvent({name:"cardAttachmentPickerInlineDialog",containers:{card:{id:o.id}}})},commentMentionMember(e){d.stop(e),this.getAutoMentionerView("button").then((t=>l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:t}))),u.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},commentAddEmoji(e){d.stop(e),l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:this.getEmojiCompleterView("button")}),u.sendScreenEvent({name:"cardEmojiPickerInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},commentAddCard(e){d.stop(e),l.toggle({elem:i(e.currentTarget),keepEdits:!0,view:this.getTrelloCompleterView()}),u.sendScreenEvent({name:"cardTrelloCompleterInlineDialog",containers:{card:{id:b(this.getCard(),(e=>e.id))}}})},insertRecording(e){var t,n;let i;const a=this.getTextInput(),r=d.getCaretPosition(a);null!=r&&(i={start:r,end:r}),d.insertSelection(a,"".concat("".concat(e).trim()," "),(null===(t=i)||void 0===t?void 0:t.start)||void 0,(null===(n=i)||void 0===n?void 0:n.end)||void 0)}};function b(e,t){return null!=e?t(e):void 0}e.exports=g},"./app/scripts/views/internal/autocomplete/emoji-completer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),{getKey:s,Key:o}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/view.js"),u=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/internal/templates.js"),{Analytics:m}=n("./packages/atlassian-analytics/index.ts"),h=n("./app/src/emoji.ts").default,{l:g}=n("./app/scripts/lib/localize.js"),b=n("./app/scripts/views/templates/popover_emoji_completer.js"),{dontUpsell:v}=n("./packages/browser/index.ts"),f=n("./app/scripts/views/internal/autocomplete/emoji-mart-completer-view.js"),{featureFlagClient:_}=n("./packages/feature-flag-client/index.ts");class k extends d{static initClass(){this.prototype.viewTitleKey="emoji",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}initialize(){var e,t,n;this._customEmoji={},(a.me().hasPremiumFeature("customEmoji")||null!==(e=this.options.card)&&void 0!==e&&null!==(t=e.getBoard())&&void 0!==t&&null!==(n=t.getOrganization())&&void 0!==n&&n.hasPremiumFeature("customEmoji"))&&(a.me().loadCustomEmojis(),this.listenTo(a.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}render(){var e,t,n;const i={};return this.options.input&&(i.input=!0),this.options.button&&(i.button=!0),i.upsellEnabled=!v()||a.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),this.$el.html(b(i)),this.$emojiList=this.$(".js-available-emoji"),this.options.input&&this.filterEmoji(this.getInput()),this.options.button&&this.fillDefaultEmojiList(),this}keyupEvent(e){const t=s(e);if([o.ArrowUp,o.ArrowDown].includes(t))return c.stop(e),void c.navMenuList(this.$emojiList,".item",t);if([o.Enter,o.Tab].includes(t))return;const n=this.getInput();return this.filterEmoji(n)}keydownEvent(e){let t;if(t=s(e),[o.Enter,o.Tab].includes(t)){c.stop(e);const t=this.$emojiList.find(".item.selected:first .js-select-emoji");if(t.length>0)return t.click()}}updateCustomEmoji(){return this._customEmoji=u.object(a.me().customEmojiList.map((e=>[e.get("name"),e.get("url")]))),this.render()}getTextInput(){return i(this.options.target)}getInput(){if(this.options.button)return this.$(".js-filter-emoji").val();{const e=this.getTextInput();return c.getWordFromCaret(e).str.substring(1)}}filterEmoji(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}renderEmojiList(e){for(const t of Array.from(e)){const e={name:t,image:null!=this._customEmoji[t]?this._customEmoji[t]:h[t]};this.$emojiList.append(p.fill(n("./app/scripts/views/templates/select_emoji.js"),e))}return this}fillDefaultEmojiList(e){this.renderEmojiList(["thumbsup","smile","warning","sunglasses","ballot_box_with_check","facepalm"])}fillEmojiList(e){let t=e.replace(/\W+/g,"");if(""===e)return this.fillDefaultEmojiList(),!1;if(/[A-Z]/.test(t)&&this.options.input)return l.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(g("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(g("no matching emoji helper",{emojiName:t}));const n=this.getEmojiSuggestions(t).slice(0,6);return n.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(n)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==n.length}clearEmojiList(){return this.$emojiList.empty()}getEmojiSuggestions(e){let t;const n=new RegExp("^".concat(c.escapeForRegex(e))),i=(()=>{const e=[];for(t in this._customEmoji)n.test(t)&&e.push(t);return e})(),a=(()=>{const e=[];for(t in h)n.test(t)&&e.push(t);return e})();if(null==this._sortOverride){const e=["thumbsup","smile","warning","sunglasses","facepalm","question","thumbsdown","wink","smiley","smile_cat","bowtie","heart","laughing","bug","cry","dancer","dancers","clap","shipit","white_check_mark","star","arrow_down","point_down","point_up","point_left","metal"];this._sortOverride={};for(let t=0;t<e.length;t++){const n=e[t];this._sortOverride[n]=t+1}}return u.uniq([...Array.from(i),...Array.from(a)]).sort(((e,t)=>{const n=this._sortOverride[e],i=this._sortOverride[t];return n&&!i?-1:i&&!n?1:(n&&i&&(e=n,t=i),e<t?-1:e>t?1:0)}))}hoverItem(e){const t=i(e.target).closest(".item");return c.selectMenuItem(this.$emojiList,".item",t)}selectEmoji(e){c.stop(e);const t=i(e.target).closest(".js-select-emoji").find(".emoji-name").text();this.insertEmoji(t),l.hide()}insertEmoji(e){let t;const n=this.getTextInput();if(this.options.input)t=c.getWordFromCaret(n);else{const e=c.getCaretPosition(n);null!=e&&(t={start:e,end:e})}return c.insertSelection(n,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),m.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}openEmojiUploader(e){c.stop(e);const t=this.$(e.target).attr("data-emojiname");l.pushView({keepEdits:!0,view:r,options:{model:a.me(),emojiName:t,completerView:this,card:this.options.card}}),m.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}}k.initClass();let y=k;_.get("fep.emoji-mart-completer",!1)&&(y=f),e.exports=y},"./app/scripts/views/internal/autocomplete/emoji-mart-completer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),{getKey:s,Key:o}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/view.js"),u=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/internal/templates.js"),{Analytics:m}=n("./packages/atlassian-analytics/index.ts"),{l:h}=n("./app/scripts/lib/localize.js"),g=n("./app/scripts/views/templates/popover_emoji_completer.js"),{dontUpsell:b}=n("./packages/browser/index.ts"),v=n("./node_modules/react/index.js"),f=n("./packages/react-dom-wrapper/index.ts"),_=n("./app/scripts/views/emoji/trello-emoji-picker.js"),{emojiProvider:k}=n("./app/src/components/Emoji/EmojiProvider.ts"),y=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js").default;class E extends d{static initClass(){this.prototype.viewTitleKey="emoji",this.prototype.displayType="mod-reaction-selector",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}initialize(){var e,t,n;this._customEmoji={},(a.me().hasPremiumFeature("customEmoji")||null!==(e=this.options.card)&&void 0!==e&&null!==(t=e.getBoard())&&void 0!==t&&null!==(n=t.getOrganization())&&void 0!==n&&n.hasPremiumFeature("customEmoji"))&&(a.me().loadCustomEmojis(),this.listenTo(a.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}render(){var e,t,n;const i={};return this.options.input&&(i.input=!0),i.upsellEnabled=!b()||a.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),this.options.button?f.render(this.getEmojiPicker(),this.$el[0]):(this.$el.html(g(i)),this.$emojiList=this.$(".js-available-emoji"),this.filterEmoji(this.getInput())),this}keyupEvent(e){const t=s(e);if([o.ArrowUp,o.ArrowDown].includes(t))return c.stop(e),void c.navMenuList(this.$emojiList,".item",t);if([o.Enter,o.Tab].includes(t))return;const n=this.getInput();return this.filterEmoji(n)}keydownEvent(e){let t;if(t=s(e),[o.Enter,o.Tab].includes(t)){c.stop(e);const t=this.$emojiList.find(".item.selected:first .js-select-emoji");if(t.length>0)return t.click()}}updateCustomEmoji(){return this._customEmoji=u.object(a.me().customEmojiList.map((e=>[e.get("name"),e.get("url")]))),this.render()}getTextInput(){return i(this.options.target)}getInput(){const e=this.getTextInput();return c.getWordFromCaret(e).str.substring(1)}filterEmoji(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}renderEmojiList(e){for(const t of Array.from(e)){const e={html:y({data:k.getDataSync(),backgroundImageFn:k.getSpritesheetsUrl,html:!0,emoji:t,set:k.getDefaultEmojiSet(),size:18}),isEmojiMart:!0,name:t,image:null!=this._customEmoji[t]?this._customEmoji[t]:null};this.$emojiList.append(p.fill(n("./app/scripts/views/templates/select_emoji.js"),e))}return this}fillEmojiList(e){let t=e.replace(/\W+/g,"");if(/[A-Z]/.test(t)&&this.options.input)return l.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(h("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(h("no matching emoji helper",{emojiName:t}));const n=this.getEmojiSuggestions(t).slice(0,6);return n.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(n)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==n.length}clearEmojiList(){return this.$emojiList.empty()}getEmojiSuggestions(e){const t=new RegExp("^".concat(c.escapeForRegex(e))),n=Object.keys(this._customEmoji).filter((e=>t.test(e))),i=k.emojiIndex.search(e).map((e=>e.id));return u.uniq([...Array.from(n),...Array.from(i)])}hoverItem(e){const t=i(e.target).closest(".item");return c.selectMenuItem(this.$emojiList,".item",t)}selectEmoji(e,t){if(c.stop(e),"string"==typeof t)this.insertEmoji(t);else{const t=i(e.target).closest(".js-select-emoji").find(".emoji-name").text(),n=k.emojiIndex.search(t).map((e=>e.id));this.insertEmoji(t||n&&n[0])}l.hide()}insertEmoji(e){let t;const n=this.getTextInput();if(this.options.input)t=c.getWordFromCaret(n);else{const e=c.getCaretPosition(n);null!=e&&(t={start:e,end:e})}return c.insertSelection(n,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),m.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}openEmojiUploader(e){c.stop(e);const t=this.$(e.target).attr("data-emojiname");l.pushView({keepEdits:!0,view:r,options:{model:a.me(),emojiName:t,completerView:this,card:this.options.card}}),m.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}remove(){return f.unmountComponentAtNode(this.$el[0]),super.remove(...arguments)}getEmojiPicker(){var e,t,n;const i=!b()||a.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),r=a.me().customEmojiList.map((e=>({name:e.get("name"),short_names:[e.get("name")],imageUrl:e.get("url")})));return v.createElement(_,{custom:r,onClick:(e,t)=>this.selectEmoji(t,e.id),showCustomEmojiButton:i,onCustomEmojiButtonClick:this.openEmojiUploader.bind(this)})}willBePopped(){return i(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),i(document).off("input",".emoji-mart-search input")}}E.initClass(),e.exports=E},"./app/scripts/views/internal/autocomplete/emoji-uploader-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),{Auth:r}=n("./app/scripts/db/auth.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/views/internal/templates.js");class d extends l{static initClass(){this.prototype.viewTitleKey="upload emoji"}events(){return{"click .js-upload-emoji":"uploadEmoji","change .js-upload-emoji-file":"fileChange","input .js-emoji-name":"nameChange"}}initialize({completerView:e}){var t,n,i;return this.completerView=e,this.hasGold=this.model.hasPremiumFeature("customEmoji"),this.hasBCGold=!1,this.teamEnabledFeature=null===(t=this.options.card)||void 0===t||null===(n=t.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.hasPremiumFeature("customEmoji"),this.canUpload=this.hasGold||this.hasBCGold||this.teamEnabledFeature,(()=>{const e=[];for(const t of Array.from(this.model.organizationList.models)){if(this.hasBCGold=t.isFeatureEnabled("goldMembers"),this.hasBCGold)break;e.push(void 0)}return e})()}render(){const e=this.model.toJSON();return e.emojiName=this.options.emojiName,e.hasGold=this.hasGold,e.hasBCGold=this.hasBCGold,e.showTeamUpsell=!this.teamEnabledFeature&&!this.hasBCGold,e.canUpload=this.canUpload,this.$el.html(c.fill(n("./app/scripts/views/templates/popover_emoji_uploader.js"),e)),this._validate(),this.renderEmoji(),this}getName(){return this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g,"_")}renderEmoji(){this.$(".js-emoji-preview-name").text(":".concat(this.getName()||"???",":"));const e=u(this.$(".js-upload-emoji-file").prop("files"),(e=>e[0]));if(new RegExp("^image/.*").test(null!=e?e.type:void 0)){const t=new FileReader;t.onload=e=>(this.$(".js-emoji-conversion").removeClass("hide"),this.$(".js-emoji-preview").attr("src",e.target.result)),t.readAsDataURL(e)}else this.$(".js-emoji-conversion").addClass("hide");return this}fileChange(e){const t=this.$(".js-emoji-name"),n=this.$(".js-upload-emoji-file");if(""===t.val()){let e;const i=u(n.prop("files"),(e=>e[0]));null!=i?({name:e}=i):n.val()&&(e=u(new RegExp("[^\\/]+$").exec(n.val()),(e=>e[0]))),null==e&&(e=""),e=e.split(".")[0],e=e.toLowerCase().replace(/[^a-z0-9_]/g,""),t.val(e),this.$(".js-emoji-name").focus().select()}return this.renderEmoji(),this._validate()}nameChange(e){return this.renderEmoji(),this._validate()}_validate(e){const t=this.getName(),n=this.$(".js-upload-emoji-file"),i=/^[a-z0-9_\s]+$/.test(t),a=u(n.prop("files"),(e=>e.length))>0||n.val(),r=i&&a&&this.canUpload;return this.$(".js-invalid-name").toggleClass("hide",i||""===t),this.$(".js-upload-emoji").toggleClass("disabled",!r)}uploadEmoji(e){var t,n,l;if(o.stop(e),i(".js-upload-emoji").hasClass("disabled"))return;this.$(".error").addClass("hide");const c=this.$(".js-upload-emoji-file"),d=u(c.prop("files"),(e=>e[0])),p=this.getName(),m=()=>(this.completerView.insertEmoji(p),s.hide());if(!d&&c.val())return void o.uploadFile(r.myToken(),c,m);if(null!=d&&!o.validFileSize(d))return void a.flash("file too large","error","emoji-uploader");if(null==d||!p)return;const h=new FileReader,g=new FormData;g.append("token",r.myToken()),g.append("file",d),g.append("name",p);const b=null===(t=this.options.card)||void 0===t||null===(n=t.getBoard())||void 0===n||null===(l=n.getOrganization())||void 0===l?void 0:l.id;return b&&g.append("idOrganization",b),h.onload=e=>this.model.customEmojiList.create({url:e.target.result,name:p},{data:g,processData:!1,contentType:!1,success:m,error(){return this.$(".error").removeClass("hide")}}),h.readAsDataURL(d)}}function u(e,t){return null!=e?t(e):void 0}d.initClass(),e.exports=d},"./app/scripts/views/internal/autocomplete/trello-completer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Board:a}=n("./app/scripts/models/board.js"),{Card:r}=n("./app/scripts/models/card.js"),{getKey:s,Key:o}=n("./packages/keybindings/index.ts"),l=n("./app/scripts/views/templates/popover_limit_exceeded.js"),{ModelLoader:c}=n("./app/scripts/db/model-loader.js"),{parseTrelloUrl:d}=n("./app/scripts/lib/util/url/parse-trello-url.js"),u=n("./app/scripts/network/payloads.ts").default,p=n("./node_modules/bluebird/js/browser/bluebird.js"),{Recents:m}=n("./app/scripts/lib/recents.js"),h=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./node_modules/underscore/underscore.js"),v=n("./app/scripts/views/templates/select_board.js"),f=n("./app/scripts/views/templates/select_card.js"),{SidebarState:_}=n("./app/scripts/view-models/sidebar-state.js"),k=n("./app/scripts/views/templates/popover_trello_completer.js"),{Analytics:y}=n("./packages/atlassian-analytics/index.ts"),{ApiError:E}=n("./app/scripts/network/api-error.js"),{isShortId:w}=n("./packages/shortlinks/index.ts");class C extends g{static initClass(){this.prototype.viewTitleKey="add card or board",this.prototype.events={"mouseenter .js-select-card,.js-select-board":"hoverItem","click .js-select-card":"selectCard","click .js-select-board":"selectBoard",keydown:"keydownEvent","keyup .js-search":"keyupEvent","input .js-search":"updateSearch"}}initialize(){return this.items=[],this.debouncedSearch=this.debounce(this.search,350).bind(this),this.search("")}render(){return this.model.canAttach()?(this.$el.html(k({})),p.resolve(this._lastRenderPromise).then((()=>this.renderItems())).done(),this):(this.model.isOverLimit("attachments","perCard")?this.$el.html(l("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(l("perBoard")),this)}renderItems(){let e,t;this.$(".js-loading").addClass("hide");const n=new Set([this.model.get("shortLink")]),i=new Set;this.model.attachmentList.forEach((function(e){const t=e.get("url"),{type:a,shortLink:r}=d(t);switch(a){case"card":return n.add(r);case"board":return i.add(r)}}));const s=this.items.filter((e=>e instanceof r&&!n.has(e.get("shortLink")))),o=this.items.filter((e=>e instanceof a&&!i.has(e.get("shortLink")))),l=this.$(".js-card-list").empty(),c=this.$(".js-board-list").empty();if(s.length>0){const n=(()=>{const n=[];for(const i of Array.from(s))e=i.toJSON(),t=i.getBoard(),null!=t&&(e.boardName=t.get("name")),n.push(f(e));return n})();l.append(n)}if(o.length>0){const n=(()=>{const n=[];for(t of Array.from(o)){const i=t.getOrganization();e=t.toJSON(),null!=i&&(e.orgName=i.get("displayName")),n.push(v(e))}return n})();c.append(n)}this.items.length>0&&h.selectMenuItem(this.$el,".item",this.$el.find(".item").first());const u=!this._lastQuery&&0===s.length,p=!this._lastQuery&&0===o.length;return this.$(".js-card-results").toggleClass("hide",u),this.$(".js-board-results").toggleClass("hide",p),this.$(".js-no-card-results").toggleClass("hide",s.length>0),this.$(".js-no-board-results").toggleClass("hide",o.length>0),this}keyupEvent(e){const t=s(e);[o.ArrowUp,o.ArrowDown].includes(t)&&(h.stop(e),h.navMenuList(this.$el,".item",t))}updateSearch(e){const t=this.$(".js-search").val();return this.debouncedSearch(t)}keydownEvent(e){let t;if(t=s(e),[o.Enter,o.Tab].includes(t)){h.stop(e);const t=this.$el.find(".item.selected:first").find(".js-select-card,.js-select-board");if(t.length>0)return t.click()}}getTextInput(){return i(this.options.target)}_renderSettledItems(e,t){if(e===this._lastQuery)return this._lastRenderPromise=p.resolve(t).then((function(e){return b.isArray(e)?e:[e]})).catch(E,(()=>[])).tap((e=>(this.items=e,this.renderItems()))).finally((()=>this._lastRenderPromise=null))}search(e){if(e===this._lastQuery)return;if(this._lastQuery=e,this.$(".js-card-results").addClass("hide"),this.$(".js-board-results").addClass("hide"),this.$(".js-loading").removeClass("hide"),""===e){const t=5,n=b.chain(m.get("card",t+1)).without(this.model.id).first(t).value(),i=b.chain(_.getRecentBoards()).without(this.model.get("idBoard")).first(t).value(),a=p.props({recentCards:p.map(n,(e=>this.modelCache.getOrLoad({type:"Card",id:e,payload:u.cardCompleter,loader:e=>c.loadCardCompleterData(e)}))),recentBoards:p.map(i,(e=>this.modelCache.getOrLoad({type:"Board",id:e,payload:u.boardCompleter,loader:e=>c.loadBoardCompleterData(e)})))}).then((({recentCards:e,recentBoards:t})=>b.compact([...Array.from(e),...Array.from(t)])));return void this._renderSettledItems(e,a)}const t=d(e.trim());if("card"===t.type)return void this._renderSettledItems(e,c.loadCardCompleterData(t.shortLink));if("board"===t.type)return void this._renderSettledItems(e,c.loadBoardCompleterData(t.shortLink));if(w(e)){const{card:t}=this.options,n=null!=t?t.getBoard():void 0;if(null!=n){let t;return void(null!=(t=n.getCard(e))?this._renderSettledItems(e,t):this._renderSettledItems(e,c.loadCardData(n.id,e)))}}const n={query:e,board_fields:"name,idOrganization,url",modelTypes:"cards,boards",partial:!0,card_board:!0};c.loadSearchData(n).nodeify(((t,n)=>{if(null==t){const t=b.chain(n.cards).map((e=>this.modelCache.get("Card",e.id))).sortBy((e=>e.get("idBoard")===this.model.get("idBoard")?0:1)).value(),i=b.chain(n.boards).map((e=>this.modelCache.get("Board",e.id))).sortBy((e=>e.get("id")===this.model.get("idBoard")?1:0)).value();return this._renderSettledItems(e,[...Array.from(t),...Array.from(i)])}return this.items=[],this.renderItems()}))}hoverItem(e){const t=i(e.target).closest(".item");return h.selectMenuItem(this.$el,".item",t)}selectCard(e){h.stop(e);const t=this.$(e.target).closest(".js-select-card").attr("data-id"),n=this.modelCache.get("Card",t);null!=n&&this.insertItem(n)}selectBoard(e){h.stop(e);const t=this.$(e.target).closest(".js-select-board").attr("data-id"),n=this.modelCache.get("Board",t);null!=n&&this.insertItem(n)}insertItem(e){let t;if(this.options.onStartUpload)return void this.options.onStartUpload(e);const n=e.get("url"),i=this.getTextInput(),a=h.getCaretPosition(i);null!=a&&(t={start:a,end:a}),h.insertSelection(i,"".concat(n," "),null!=t?t.start:void 0,null!=t?t.end:void 0);let s="board";const o={};return e instanceof r?(s="card",o.card={id:e.id}):o.board={id:e.id},y.sendTrackEvent({action:"added",actionSubject:s,source:"trelloAddCardInlineDialog",containers:o})}}C.initClass(),e.exports=C},"./app/scripts/views/internal/board-display-helpers.js":function(e,t,n){const{l:i}=n("./app/scripts/lib/localize.js"),a={getPermLevelAltTextForBoard(e){const t=e.getPermLevel();return i(["board perms",t,"short summary"])},getPermLevelAltTextForTemplate(e){const t=e.getPermLevel();return i(["template perms",t,"short summary"])},getPermLevelIconClass:e=>"org"===e?"organization-visible":"enterprise"===e?"enterprise":e,getPermLevelIconClassForBoard:e=>a.getPermLevelIconClass(e.getPermLevel())};e.exports=a},"./app/scripts/views/internal/collection-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./node_modules/underscore/underscore.js");e.exports=class extends i{constructor(e){super(e),this.sort=this.sort.bind(this)}initialize(){return this.listenPropagators={},this.makeDebouncedMethods("sort"),this.listenTo(this.collection,{sort:this.sortDebounced,add:this.addModel,remove:this.removeModel,reset:this.reset}),super.initialize(...arguments)}getModels(){return this.collection.models}subview(){const e=super.subview(...arguments);return null==this.listenPropagators[e.cid]&&(this.listenPropagators[e.cid]=this.listenTo(e,"all",((t,...n)=>this.trigger(t,e,...Array.from(n))))),e}addModel(e,t){const n=this.subview(this.viewType,e);this.el&&this.insertSubview(n,a.indexOf(this.getModels(),e))}removeModel(e,t){return this.removeSubview(this.viewForModel(e))}reset(e,{previousModels:t}){let n;const i={};for(n of Array.from(e.models))i[n.cid]=!0;for(n of Array.from(t))i[n.cid]||this.removeModel(n);return this.sort()}sort(){const e=Array.from(this.el.children).map((function(e,t){return e.matches(".placeholder,.card-composer")?t:null})).filter((e=>null!==e)),t=this.getModels();for(let n=0;n<t.length;n++){const i=t[n],a=n+e.filter((e=>e<=n)).length;this.moveSubviewToPosition(this.subview(this.viewType,i),a)}}render(){let e;return this.appendSubviews((()=>{const t=[];for(e of Array.from(this.getModels()))t.push(this.subview(this.viewType,e));return t})()),this}viewForModel(e){return this.existingSubview(this.viewType,e)}removeSubview(e){return this.deleteSubview(e)}insertSubview(e,t,n){null==n&&({$el:n}=this),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof i&&(t=t.$el),e.$el.is(":empty")&&(e.delegateEvents(),e.render()),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el)}moveSubviewToPosition(e,t){if(e.$el.is(":empty"))return void this.insertSubview(e,t,this.$el);const{children:n}=this.el;e.$el.index()!==t&&(0===t?this.$el.prepend(e.$el):t>=n.length?this.$el.append(e.$el):e.$el.insertAfter(n[t-1]))}}},"./app/scripts/views/internal/data-transfer/drag-drop-events.js":function(e,t,n){const{countWhile:i}=n("./app/scripts/lib/util/array/count-while.js"),{trigger:a}=n("./app/scripts/lib/util/event/trigger.js"),{getTypes:r,getDropped:s}=n("./app/scripts/views/internal/data-transfer/normalize.js"),o=function(e,t){document.addEventListener(e,t)},l=function(e,t,n,i){for(const r of Array.from(n))a(e,"".concat(t,":").concat(r),i)},c=function(e){if(e){const t=c(e.parentElement);return t.push(e),t}return[]};let d=[],u=null;const p=function(e,t){let n;if(clearTimeout(u),d.length>0&&d[d.length-1]===e)return;const a=c(e),r=i(a,d,((e,t)=>e===t));for(n of Array.from(d.slice(r)))l(n,"dd-leave",t,{bubbles:!1});for(n of Array.from(a.slice(r)))l(n,"dd-enter",t,{bubbles:!1});return d=a};o("dragenter",(function(e){return p(e.target,r(e.dataTransfer)),e.preventDefault()})),o("dragover",(function(e){const t=r(e.dataTransfer);return t.length>0&&(e.dataTransfer.dropEffect="copy"),p(e.target,t),e.preventDefault()})),o("dragleave",(function(e){const t=r(e.dataTransfer);return u=setTimeout((()=>p(null,t)),200)})),o("dragend",(e=>p(null,[]))),o("drop",(function(e){const t=r(e.dataTransfer);s(e).then((function(n){for(const t in n){const i=n[t];a(e.target,"dd-drop:".concat(t),{detail:i})}return p(null,t)})),e.preventDefault()}))},"./app/scripts/views/internal/disable-submit-if-length-too-long.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a={checkLength(e){const t=i(e.target).val(),n=this.maxLength||16384,a=0===t.length||/^\s*$/.test(t),r=!a&&t.length>n;null!=this.preventSubmit?this.preventSubmit(r,a):this._preventSubmit(r,a)},_preventSubmit(e,t){return this.$(".js-too-long-warning").toggleClass("hide",!e),this.$(".js-is-empty-warning").toggleClass("hide",!t),this.$('input[type="submit"]').prop("disabled",t||e)}};e.exports=a},"./app/scripts/views/internal/friendly-links.js":function(e,t,n){const{Analytics:i,getScreenFromUrl:a}=n("./packages/atlassian-analytics/index.ts"),{KnownServices:r}=n("./app/scripts/db/known-services.js"),s=n("./app/scripts/views/internal/plugins/plugin-runner.js"),o=n("./node_modules/bluebird/js/browser/bluebird.js"),l=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/views/internal/teacup-with-helpers.js")(),{ModelCache:d}=n("./app/scripts/db/model-cache.js"),u=n("./node_modules/url-parse/index.js"),{sendPluginTrackEvent:p}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{renderComponent:m}=n("./app/src/components/ComponentWrapper/index.ts"),{SmartLinksBridge:h}=n("./app/scripts/views/internal/smart-links-bridge.tsx"),g=n("./node_modules/react/index.js"),b=new window.Map,v=new window.Map,f=(e,t)=>{var n,i,a,r;return{application:e,resourceType:null==t||null===(n=t.resolvedUrl)||void 0===n||null===(i=n.meta)||void 0===i?void 0:i.resourceType,visibility:null==t||null===(a=t.resolvedUrl)||void 0===a||null===(r=a.meta)||void 0===r?void 0:r.visibility}},_=c.renderable((function({icon:e,text:t,idPlugin:n,monochrome:i}){return c.img({class:c.classify({"known-service-icon":!0,"plugin-icon":null!=n,"mod-reset":!1===i}),src:e}),c.text(t)}));e.exports=function(e,t,n={}){let c=null!=e.tagName==="A"?[e]:l.toArray(e.querySelectorAll("a"));return c="A"===(null==e?void 0:e.tagName)?[e]:l.toArray(e.querySelectorAll("a")),o.map(c,(function(e){const l=u(e.href),c=e.textContent===l.origin?l.origin:l.href;if(c!==e.textContent)try{if(decodeURIComponent(c)!==e.textContent)return}catch(e){return}const k="".concat(null!=t?t.id:void 0,":").concat(c);return o.try((function(){if(!t)throw new s.Error.NotHandled("no board specified");if(b.get(k))return b.get(k);if(v.get(k))return v.get(k);const e=s.one({command:"format-url",board:t,options:{url:c}});return v.set(k,e),e})).catch(s.Error.NotHandled,(()=>null)).then((function(n){return v.delete(k),null!=(null!=n?n.text:void 0)?(n.idPlugin&&p({idPlugin:n.idPlugin,idBoard:t.id,event:{action:"formatted",actionSubject:"url",source:"powerUpFormatUrl"}}),n):r.interpret(e.href,d,{sourceComponent:"atlaskit-smart-card"})})).then((function(t){if(null!=t)return b.set(k,t),t.url?(e.classList.add("atlaskit-smart-link"),m(g.createElement(h,{url:t.url,analyticsContext:n.analyticsContext}),e)):(e.classList.add("known-service-link"),(({application:e,meta:t})=>{i.sendOperationalEvent({action:"rendered",actionSubject:"friendlyLink",source:a(),attributes:f(e,t)})})(t),e.addEventListener("click",(({application:e,meta:t})=>{i.sendClickedLinkEvent({linkName:"friendlyLink",source:a(),attributes:f(e,t)})})(t)),e.innerHTML=_(t))}))}))}},"./app/scripts/views/internal/model-cache-listener.js":function(e,t,n){const{ModelCache:i}=n("./app/scripts/db/model-cache.js"),a=n("./node_modules/react/index.js"),r=n("./node_modules/xtend/immutable.js");e.exports=function(e){return class extends a.Component{constructor(e){super(...arguments),this.listeners=[],this.modelListeners=[]}listenTo(e,t){return i.on(e,t),this.listeners.push({events:e,callback:t})}modelListener(e,t,n){return e.on(t,n),this.modelListeners.push({model:e,events:t,callback:n})}clearModelListeners(){return this.modelListeners.forEach((({model:e,events:t,callback:n})=>e.off(t,n)))}componentWillUnmount(){return this.listeners.forEach((({events:e,callback:t})=>i.off(e,t))),this.clearModelListeners()}render(){const t=r(this.props,{listenTo:this.listenTo.bind(this),modelListener:this.modelListener.bind(this),clearModelListeners:this.clearModelListeners.bind(this)});return a.createElement(e,t)}}}},"./app/scripts/views/internal/paste-input.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{trelloClipboard:a}=n("./app/scripts/lib/trello-clipboard.js"),r=n("./node_modules/underscore/underscore.js"),{getPasted:s}=n("./app/scripts/views/internal/data-transfer/normalize.js"),{triggerList:o}=n("./app/scripts/lib/util/event/trigger-list.js");e.exports=new(function(){const e=class{static initClass(){this.prototype.precedence={list:4,card:5,dialog:10}}constructor(){this.paste=this.paste.bind(this),this._handlers={},i(document).on("paste",this.paste),a.on("pasteImage",(e=>this.triggerPasted("files",[e])))}addHandler(e,{scope:t,precedence:n}){null==n&&(n=this.precedence[t]),null==n&&(n=this.precedence.default),null==this._handlers[t]&&(this._handlers[t]={}),this._handlers[t]={target:e,scope:t,precedence:n}}removeHandler(e){return(()=>{const t=[];for(const n in this._handlers){const{target:i}=this._handlers[n];e===i&&t.push(delete this._handlers[n])}return t})()}_sortedHandlers(){return r.sortBy(r.values(this._handlers),(e=>-e.precedence))}paste(e){s(e.originalEvent).then((t=>{if(!r.isEmpty(t)&&(!t.text&&!t.url||!["INPUT","TEXTAREA"].includes(e.target.tagName)||a.isClipboard(e.target)))for(const e of["url","text","files"])if(t[e]){this.triggerPasted(e,t[e]);break}}))}triggerPasted(e,t){const n=r.compact(this._sortedHandlers().map((e=>null!=e.target?e.target.el:void 0)));return o(n,"pasteinput:".concat(e),{detail:t})}};return e.initClass(),e}())},"./app/scripts/views/internal/pasted-file-name.js":function(e,t,n){const i=n("./node_modules/moment/moment.js"),{l:a}=n("./app/scripts/lib/localize.js");e.exports=function(){const e=i(),t=a("pasted file name",{date:e.format("l"),time:e.format("LTS")});return"".concat(t,".png")}},"./app/scripts/views/internal/react-root-component.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ReactRootComponent",(function(){return L}));var i={};n.r(i),n.d(i,"FILE",(function(){return v})),n.d(i,"URL",(function(){return f})),n.d(i,"TEXT",(function(){return _})),n.d(i,"HTML",(function(){return k}));var a=n("./node_modules/react/index.js"),r=n.n(a);function s(e){var t=null;return function(){return null==t&&(t=e()),t}}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,i;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,i=function(e){return n.add(e)};e.forEach(i),t.forEach(i);var a=[];return n.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,i=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),i>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&o(t.prototype,n),i&&o(t,i),e}(),c=s((function(){return/firefox/i.test(navigator.userAgent)})),d=s((function(){return Boolean(window.safari)}));function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=t.length,a=[],r=0;r<i;r++)a.push(r);a.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var s,o,l=[],c=[],d=[],u=0;u<i-1;u++)s=t[u+1]-t[u],o=n[u+1]-n[u],c.push(s),l.push(o),d.push(o/s);for(var p=[d[0]],m=0;m<c.length-1;m++){var h=d[m],g=d[m+1];if(h*g<=0)p.push(0);else{s=c[m];var b=c[m+1],v=s+b;p.push(3*v/((v+b)/h+(v+s)/g))}}p.push(d[d.length-1]);for(var f,_=[],k=[],y=0;y<p.length-1;y++){f=d[y];var E=p[y],w=1/c[y],C=E+p[y+1]-f-f;_.push((f-E-C)*w),k.push(C*w*w)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=_,this.c3s=k}var t,n,i;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,i=this.c1s,a=this.c2s,r=this.c3s,s=t.length-1;if(e===t[s])return n[s];for(var o,l=0,c=r.length-1;l<=c;){var d=t[o=Math.floor(.5*(l+c))];if(d<e)l=o+1;else{if(!(d>e))return n[o];c=o-1}}var u=e-t[s=Math.max(0,c)],p=u*u;return n[s]+i[s]*u+a[s]*p+r[s]*u*p}}])&&u(t.prototype,n),i&&u(t,i),e}();function m(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),i=n.top;return{x:n.left,y:i}}function h(e){return{x:e.clientX,y:e.clientY}}function g(e,t,n,i,a){var r,s,o,l="IMG"===(r=t).nodeName&&(c()||!(null!==(s=document.documentElement)&&void 0!==s&&s.contains(r))),u=m(l?e:t),h={x:n.x-u.x,y:n.y-u.y},g=e.offsetWidth,b=e.offsetHeight,v=i.anchorX,f=i.anchorY,_=function(e,t,n,i){var a=e?t.width:n,r=e?t.height:i;return d()&&e&&(r/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:r}}(l,t,g,b),k=_.dragPreviewWidth,y=_.dragPreviewHeight,E=a.offsetX,w=a.offsetY,C=0===w||w;return{x:0===E||E?E:new p([0,.5,1],[h.x,h.x/g*k,h.x+k-g]).interpolate(v),y:C?w:(o=new p([0,.5,1],[h.y,h.y/b*y,h.y+y-b]).interpolate(f),d()&&l&&(o+=(window.devicePixelRatio-1)*y),o)}}var b,v="__NATIVE_FILE__",f="__NATIVE_URL__",_="__NATIVE_TEXT__",k="__NATIVE_HTML__";function y(e,t,n){var i=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=i?i:n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(E(b={},v,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),E(b,k,{exposeProperties:{html:function(e,t){return y(e,t,"")}},matchesTypes:["Html","text/html"]}),E(b,f,{exposeProperties:{urls:function(e,t){return y(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),E(b,_,{exposeProperties:{text:function(e,t){return y(e,t,"")}},matchesTypes:["Text","text/plain"]}),b);function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,i;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(i){n[i]={value:t.config.exposeProperties[i](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&C(t.prototype,n),i&&C(t,i),e}();function O(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(w).filter((function(e){return w[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}var t,n,i;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&j(t.prototype,n),i&&j(t,i),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(){function e(t,n,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=a.sourceNodes.get(e);return t&&m(t)||null},this.endDragNativeItem=function(){a.isDraggingNativeItem()&&(a.actions.endDrag(),a.currentNativeHandle&&a.registry.removeSource(a.currentNativeHandle),a.currentNativeHandle=null,a.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&a.document&&a.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=a.currentDragSourceNode;null==e||a.isNodeInDocument(e)||a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()},this.handleTopDragStartCapture=function(){a.clearCurrentDragSourceNode(),a.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=a.dragStartSourceIds;a.dragStartSourceIds=null;var n=h(e);a.monitor.isDragging()&&a.actions.endDrag(),a.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:a.getSourceClientOffset,clientOffset:n});var i=e.dataTransfer,r=O(i);if(a.monitor.isDragging()){if(i&&"function"==typeof i.setDragImage){var s=a.monitor.getSourceId(),o=a.sourceNodes.get(s),l=a.sourcePreviewNodes.get(s)||o;if(l){var c=a.getCurrentSourcePreviewNodeOptions(),d=g(o,l,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});i.setDragImage(l,d.x,d.y)}}try{null==i||i.setData("application/json",{})}catch(e){}a.setCurrentDragSourceNode(e.target),a.getCurrentSourcePreviewNodeOptions().captureDraggingState?a.actions.publishDragSource():setTimeout((function(){return a.actions.publishDragSource()}),0)}else if(r)a.beginDragNativeItem(r);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(a.dragEnterTargetIds=[],a.enterLeaveCounter.enter(e.target)&&!a.monitor.isDragging()){var t=e.dataTransfer,n=O(t);n&&a.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=a.dragEnterTargetIds;(a.dragEnterTargetIds=[],a.monitor.isDragging())&&(a.altKeyPressed=e.altKey,t.length>0&&a.actions.hover(t,{clientOffset:h(e)}),t.some((function(e){return a.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){a.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=a.dragOverTargetIds;if(a.dragOverTargetIds=[],!a.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));a.altKeyPressed=e.altKey,a.actions.hover(t||[],{clientOffset:h(e)}),(t||[]).some((function(e){return a.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())):a.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){a.isDraggingNativeItem()&&e.preventDefault(),a.enterLeaveCounter.leave(e.target)&&a.isDraggingNativeItem()&&setTimeout((function(){return a.endDragNativeItem()}),0)},this.handleTopDropCapture=function(e){var t;(a.dropTargetIds=[],a.isDraggingNativeItem())&&(e.preventDefault(),null===(t=a.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));a.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=a.dropTargetIds;a.dropTargetIds=[],a.actions.hover(t,{clientOffset:h(e)}),a.actions.drop({dropEffect:a.getCurrentDropEffect()}),a.isDraggingNativeItem()?a.endDragNativeItem():a.monitor.isDragging()&&a.actions.endDrag()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new A(n,i),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new l(this.isNodeInDocument)}var t,n,a;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var i=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var i=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var a=function(t){return i.handleDragStart(t,e)},r=function(e){return i.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",r),function(){i.sourceNodes.delete(e),i.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",r),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,i=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},r=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",i),t.addEventListener("dragover",a),t.addEventListener("drop",r),function(){t.removeEventListener("dragenter",i),t.removeEventListener("dragover",a),t.removeEventListener("drop",r)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return N({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return N({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(i).some((function(t){return i[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new T(w[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&I(t.prototype,n),a&&I(t,a),e}(),B=function(e,t,n){return new D(e,t,n)},P=n("./node_modules/react-dnd/dist/esm/core/DndProvider.js");const F=n("./app/scripts/views/internal/global-click-handler.js"),L=({children:e})=>r.a.createElement(P.a,{backend:B},r.a.createElement("div",{className:"js-react-root",onClick:e=>{e.isDefaultPrevented()||F(e)}},e))},"./app/scripts/views/internal/smart-links-bridge.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"SmartLinksBridge",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/SmartMedia/index.ts");const s=({url:e,analyticsContext:t})=>a.a.createElement(r.b,{url:e,plainLink:()=>a.a.createElement("a",{href:e},e),analyticsContext:t})},"./app/scripts/views/internal/view-with-actions.js":function(e,t,n){const{ModelLoader:i}=n("./app/scripts/db/model-loader.js"),a={limit:50,nextPage:1,shortLoad:!1,loading:!1,idModels:null,loadMoreActions(){if(!this.loading)return this.loading=!0,this.waitForId(this.model,(()=>{let e;return i.loadMoreActionData(this.model.typeName.toLowerCase(),this.model.id,this.nextPage,this.limit,this.idModels,null!=(e="function"==typeof this.getActionsFilter?this.getActionsFilter():void 0)?e:"all").finally((()=>this.loading=!1)).then((e=>(this.shortLoad=e.length<this.limit,this.renderActions(),++this.nextPage))).done()}))},hasMoreActions(){return!this.loading&&!this.shortLoad&&this.getActions().length>=this.limit},getActions(){let e;const t=null!=(e="function"==typeof this.getFilteringModels?this.getFilteringModels():void 0)?e:[];return this.model.getActions(...Array.from(t||[]))}};e.exports=a},"./app/scripts/views/internal/warn-if-file-too-large.js":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./node_modules/underscore/underscore.js"),s=function(e){const t=a.me().hasPremiumFeature("largeAttachments"),n=e.getOrganization(),r=(null==n?void 0:n.hasPremiumFeature("largeAttachments"))||!1,s=t||r?"file size exceeds 250mb":"file size exceeds 10mb";return i.show(s,"error","upload",5e3)};e.exports=function(e,t){r.isArray(t)||(t=[t]);const n=e.getOrganization();for(const i of Array.from(t))if(!a.me().canUploadAttachment(i,n))return s(e),!0;return!1}},"./app/scripts/views/invitation-link/display-invitation-link-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ApiPromise:a}=n("./app/scripts/network/api-promise.js"),{Analytics:r}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:s}=n("./packages/feature-flag-client/index.ts"),o=n("./node_modules/react/index.js"),l=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:c}=n("./app/src/components/ComponentWrapper/index.ts"),{QrCodeWrapper:d,QrCodeType:u,QrCodeStyle:p}=n("./app/src/components/QrCode/index.ts"),m={_secretUrl(){return"".concat(this.model.url(),"/invitationSecret")},showInvitationLink(e){return this.$(".js-show-invitation-link").addClass("hide"),this.$(".js-invitation-link-container").removeClass("hide"),a({method:"post",url:this._secretUrl()}).get("secret").then((e=>{const t=this.model.get("url").replace(new RegExp("(/b/[^/]+|/[^/]+$)(.*)$"),"/invite$1/".concat(e,"$2"));return s.get("aaaa.qr-codes",!1)&&this.mountQrCode(t),this.$(".js-invitation-link").val(t).focus().select()})).then((()=>r.sendClickedLinkEvent({linkName:"inviteToBoardCreateLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}))).done()},clickInvitationLink(e){return r.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),i(".js-invitation-link").select()},deactivateInvitationLink(e){return this.$(".js-show-invitation-link").removeClass("hide"),this.$(".js-invitation-link-container").addClass("hide"),this.$(".js-invitation-link").val(""),r.sendClickedLinkEvent({linkName:"inviteToBoardDisableLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),this.unmountQrCode(),a({method:"delete",url:this._secretUrl()}).done()},copyInvitationLink(e){return i(".js-invitation-link").select(),r.sendClickedButtonEvent({buttonName:"inviteToBoardLinkCopyButton",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),document.execCommand("copy"),clearTimeout(this.hideTimeout),i(".js-hide-on-copy").hide(),i(".js-show-on-copy").show(),this.hideTimeout=setTimeout((()=>(i(".js-hide-on-copy").show(),i(".js-show-on-copy").hide())),2e3)},mountQrCode(e){const t=this.$el.find(".js-qr-code")[0];t&&c(o.createElement(d,{url:e,type:u.boardInvite,style:p.inline}),t)},unmountQrCode(){const e=this.$el.find(".js-qr-code")[0];e&&l.unmountComponentAtNode(e)}};e.exports=m},"./app/scripts/views/label/card-label-select-view.js":function(e,t,n){const i=n("./app/scripts/views/label/labels-view.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/views/internal/view.js");class s extends r{static initClass(){this.prototype.viewTitleKey="labels"}el(){return this.labelsView=this.subview(i,this.model,{board:this.model.getBoard(),selectLabel:this.toggleLabel.bind(this),renderOn:[{source:this.model.labelList,events:"add remove reset change"},{source:this.model,events:"change:labels, change:idLabels"}],popOverMethod:"pushView",searchInit:this.options.searchInit}),this.labelsView.render().el}toggleLabel(e,t){this.model.toggleLabel(this.modelCache.get("Label",e)),this.options.hideOnSelect&&a.popView()}}s.initClass(),e.exports=s},"./app/scripts/views/label/label-create-view.js":function(e,t,n){const{Label:i}=n("./app/scripts/models/label.js"),a=n("./app/scripts/views/label/label-edit-component.js"),r=n("./app/scripts/views/label/label-limits-error-view.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/internal/view.js"),{Analytics:l}=n("./packages/atlassian-analytics/index.ts");class c extends o{static initClass(){this.prototype.viewTitleKey="create label"}el(){if(this.options.board.isOverLimit("labels","perBoard"))return(new r).render().el;let{color:e}=this.options,{name:t}=this.options;return Array.from(i.colors).includes(t)&&(e=t,t=""),new a({model:{name:t},submitTextKey:"create",color:e,onSubmit:(e,t)=>{if(!this.options.board.isOverLimit("labels","perBoard")){if("function"==typeof this.options.onSubmit){const n=l.startTask({taskName:"create-label",source:"labelCreateScreen"}),i=e=>{l.taskAborted({taskName:"create-label",source:"labelCreateScreen",traceId:n,error:e})},a=e=>{throw l.taskFailed({taskName:"create-label",source:"labelCreateScreen",traceId:n,error:e})},r=()=>{l.sendTrackEvent({action:"created",actionSubject:"label",source:"labelCreateScreen",containers:{board:{id:this.options.board.id}},attributes:{taskId:n}}),l.taskSucceeded({taskName:"create-label",source:"labelCreateScreen",traceId:n})};this.options.onSubmit(e,t,n,a,i,r)}return s.popView()}s.pushView(new r)}}).render().el}}c.initClass(),e.exports=c},"./app/scripts/views/label/label-edit-component.js":function(e,t,n){const{Label:i}=n("./app/scripts/models/label.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/view.js"),s=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/views/internal/templates.js"),{l:l}=n("./app/scripts/lib/localize.js");class c extends r{static initClass(){this.prototype.tagName="form",this.prototype.className="edit-label",this.prototype.events={"click .js-palette-color":"pickColor","click .js-submit":"submit",submit:"submit"}}initialize({accessoryView:e,color:t,onSubmit:n,submitTextKey:i}){return this.accessoryView=e,this.color=t,this.onSubmit=n,this.submitTextKey=i,super.initialize(...arguments)}renderOnce(){let e;const t=(()=>{const t=[];for(e of Array.from(i.colors))t.push({color:e,selected:e===this.color});return t})(),a={label:{name:this.model.name},colors:t};return a.submitText=l(this.submitTextKey),a.noColor=null===this.color,this.$el.html(o.fill(n("./app/scripts/views/templates/label_edit_component.js"),a)),null!=this.accessoryView&&this.$(".js-accessory-view-holder").append(this.accessoryView.render().el),this}pickColor(e){a.stop(e),this.$(".js-palette-select").hide();const t=this.$(e.target).closest(".js-palette-color");return this.color=t.attr("data-color"),t.find(".js-palette-select").show()}submit(e){a.stop(e);const t=this.$(".js-label-name").val().trim();return s.isEmpty(t)&&s.isEmpty(this.color)?void 0:this.onSubmit(t,s.isEmpty(this.color)?null:this.color)}}c.initClass(),e.exports=c},"./app/scripts/views/label/label-edit-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/lib/confirm.js"),r=n("./app/scripts/views/label/label-edit-component.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),{l:c}=n("./app/scripts/lib/localize.js"),{Analytics:d,tracingCallback:u}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p}=n("./packages/feature-flag-client/index.ts");e.exports=i=function(){let e=void 0;return i=class extends l{static initClass(){e=class extends l{static initClass(){this.prototype.tagName="input",this.prototype.className="nch-button nch-button--danger",this.prototype.events={click(e){return o.stop(e),this.options.onClick()}}}attributes(){return{type:"submit",value:c("delete")}}},e.initClass(),this.prototype.viewTitleKey="change label"}initialize(){return this.sendGASEvent=p.get("dataeng.gasv3-event-tracking",!1)}el(){return new r({model:this.model.toJSON(),submitTextKey:"save",onSubmit:(e,t)=>{const n=d.startTask({taskName:"edit-label",source:"labelEditScreen"});return this.model.update({color:t,name:e,traceId:n},u({taskName:"edit-label",source:"labelEditScreen",traceId:n},(e=>{e||d.sendTrackEvent({action:"updated",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:this.model.getBoard().id}},attributes:{taskId:n}})}))),"function"==typeof this.options.onSubmit&&this.options.onSubmit(),s.popView()},color:this.model.get("color"),accessoryView:new e({onClick:this.confirmDeleteLabel.bind(this)})}).render().el}confirmDeleteLabel(){return a.pushView("delete label",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",popOnClick:!0,popDepth:2,fxConfirm:e=>{const t=d.startTask({taskName:"delete-label",source:"labelEditScreen"});return this.model.destroyWithTracing({traceId:t},u({taskName:"delete-label",source:"labelEditScreen",traceId:t})),"function"==typeof this.options.onSubmit&&this.options.onSubmit(),d.sendTrackEvent({action:"deleted",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:this.model.getBoard().id}},attributes:{taskId:t}})}})}},i.initClass(),i}()},"./app/scripts/views/label/label-key-helper.js":function(e,t,n){const{Key:i}=n("./packages/keybindings/index.ts"),{Label:a}=n("./app/scripts/models/label.js"),r=n("./node_modules/underscore/underscore.js");e.exports=function(){class e{static initClass(){this.keyboardIndex=[r.last(a.colors)].concat(r.initial(a.colors))}static keyNumberForColor(e){const t=this.keyboardIndex.indexOf(e);return t>=0?"".concat(t):null}static colorForKey(e){const t=e-i.Zero;return this.keyboardIndex[t]}static setLabelFromKey(e,t,n){const i=this.colorForKey(e),a=t.getBoard().labelsForColors()[i];1===(null!=a?a.length:void 0)?t.toggleLabelColor(i):"function"==typeof n&&n(i)}}return e.initClass(),e}()},"./app/scripts/views/label/label-limits-error-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/templates.js"),a=n("./app/scripts/views/internal/view.js");class r extends a{static initClass(){this.prototype.tagName="span",this.prototype.className="error"}renderOnce(){return this.$el.html(i.fill(n("./app/scripts/views/templates/label_limit_exceeded.js")))}}r.initClass(),e.exports=r},"./app/scripts/views/label/labels-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{ActionHistory:a}=n("./packages/action-history/index.ts"),{Auth:r}=n("./app/scripts/db/auth.js"),{Card:s}=n("./app/scripts/models/card.js"),{getKey:o,Key:l}=n("./packages/keybindings/index.ts"),{Label:c}=n("./app/scripts/models/label.js"),d=n("./app/scripts/views/label/label-create-view.js"),u=n("./app/scripts/views/label/label-edit-view.js"),p=n("./app/scripts/views/label/label-key-helper.js"),m=n("./app/scripts/views/lib/pop-over.js"),h=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./node_modules/underscore/underscore.js"),v=n("./app/scripts/views/internal/templates.js"),{l:f}=n("./app/scripts/lib/localize.js"),{Analytics:_}=n("./packages/atlassian-analytics/index.ts");let k=void 0;class y extends g{static initClass(){k=12,this.prototype.labelsToShow=k,this.prototype.events={"click .js-select-label":"clickLabel","click .js-toggle-color-blind-mode":"toggleColorBlindMode","click .js-edit-label":"clickEditLabel","click .js-add-label":"clickAddLabel","click .js-show-more":"showMore","input .js-label-search":"renderLabels","keyup .js-label-search":"keyUp","mouseover .card-label":"hoverLabel"}}initialize({selectLabel:e,board:t,modelCache:n,renderOn:i,popOverMethod:a,searchInit:s,onEditSubmit:o}){this.selectLabel=e,this.board=t,this.modelCache=n,this.renderOn=i,this.popOverMethod=a,this.searchInit=s,this.onEditSubmit=o,this.makeDebouncedMethods("render","renderLabels"),this.listenTo(r.me(),{"change:prefs":this.renderDebounced}),this.listenTo(this.board.labelList,{"add remove reset change":this.renderLabelsDebounced});for(const e of Array.from(null!=this.renderOn?this.renderOn:[]))this.listenTo(e.source,e.events,this.renderLabelsDebounced);return this._keepVisible={},_.sendScreenEvent({name:"labelsInlineDialog",containers:this.board.getAnalyticsContainers()}),super.initialize(...arguments)}render(){const e=this.board.labelColors(),t={editable:this.board.editable()},i={colors:e,isColorBlindEnabled:r.isLoggedIn()&&r.me().get("prefs").colorBlind,searchInit:null!=this.searchInit?this.searchInit:""};return this.searchInit=null,this.$el.html(v.fill(n("./app/scripts/views/templates/popover_change_labels.js"),i,t)),this.renderLabels()}renderLabels(){const e=this._filteredLabels(),t=b.map(e,(e=>this.model.dataForLabel(e))),i=e=>e.isActive||this._keepVisible[e.id],a=(()=>{if(t.length>this.labelsToShow){const e=t.filter(i);let n=this.labelsToShow-e.length;return b.chain(t).filter((e=>i(e)||n-- >0)).first(this.labelsToShow).value()}return t})();this.$(".js-show-more").toggleClass("hide",a.length===t.length);const r={labels:a},o={editable:this.board.editable()};this.$(".js-labels-list").empty().append(v.fill(n("./app/scripts/views/templates/select_labels.js"),r,o));const l=this._searchVal(),c=b.isEmpty(l)||e.length>0?f("create new label.unnamed"):f("create new label.named",{name:l},{raw:!0});this.$(".js-add-label").text(c),!b.isEmpty(l)&&e.length>0&&this.selectFirstLabelInList();const d=!this._searchVal()&&this.model instanceof s&&a.length<t.length?this.getSuggestedLabels():[];return this.$(".js-suggestions").toggleClass("hide",0===d.length),this.$(".js-suggested-labels-list").empty().append(v.fill(n("./app/scripts/views/templates/select_labels.js"),{labels:d},o)),this}getSuggestedLabels(){const e=a.get(),t=this.model.getBoard(),n=this.model.get("idList"),i=new Set;return e.filter((({action:e,context:t})=>"add-label"===e.type&&t.idList===n)).filter((function({action:e}){return!i.has(e.idLabel)&&(i.add(e.idLabel),!0)})).filter((({action:e})=>this.model.isValidSuggestion(e))).map((({action:e})=>{const n=t.labelList.get(e.idLabel);return this.model.dataForLabel(n)})).slice(0,5)}highlightElement(e){return h.selectMenuItem(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",e)}getHighlightedElement(){return this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label.selected").first()}selectFirstLabelInList(e){this.highlightElement(this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label").first())}toggleColorBlindMode(e){const t=r.me();t.toggleColorBlindMode(),_.sendTrackEvent({action:"toggled",actionSubject:"colorBlindFriendlyMode",source:"cardLabelsScreen",containers:{card:{id:this.model.id}},attributes:{value:t.get("prefs").colorBlind}})}clickEditLabel(e){h.stop(e);const t=i(e.target).closest(".js-edit-label").attr("data-idLabel");return this.editLabel(t)}selectLabelViaElem(e){const t=e.attr("data-idLabel"),n=e.closest(".js-suggestions").length>0;return this._keepVisible[t]=!0,this.selectLabel(t,n)}clickLabel(e){h.stop(e);const t=i(e.target).closest(".js-select-label");return this.selectLabelViaElem(t)}findElementForLabel(e){return this.$(".js-edit-label").filter(((t,n)=>i(n).attr("data-idLabel")===e))}editLabel(e){const t=this.findElementForLabel(e),n=this.modelCache.get("Label",e);return m[this.popOverMethod]({elem:t,view:u,options:{model:n,board:this.board,modelCache:this.modelCache,onSubmit:this.onEditSubmit}})}clickAddLabel(e){h.stop(e);const t=this._searchVal();m[this.popOverMethod]({elem:this.$(".js-add-label"),view:d,options:{board:this.board,name:t,color:this._nextColor(),onSubmit:(e,t,n,i,a,r)=>(this.model.createLabel(e,t,n,i,a,r),this.clearSearch())}})}showMore(){return this.labelsToShow+=k,this.renderLabels()}hoverLabel(e){this.highlightElement(i(e.target).closest(".card-label"))}keyUp(e){const t=o(e);if([l.ArrowUp,l.ArrowDown].includes(t))return h.stop(e),void h.navMenuList(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",t);if(t!==l.Enter)return;if(!(this._filteredLabels().length>0))return this.clickAddLabel();{const e=this.getHighlightedElement();if(e.length>0&&(this.selectLabelViaElem(e),this.clearSearch()),this.sendGASEevent)return _.sendTrackEvent({action:"added",actionSubject:"label",source:"cardLabelFilter",containers:{card:{id:this.model.id}}})}}clearSearch(){return this.$(".js-label-search").val(""),this.renderLabels()}_nextColor(){let e;const t=b.chain(this.board.getLabels()).map((e=>e.get("color"))).uniq().value();return null!=(e=b.difference(c.colors,t)[0])?e:""}_searchVal(){const e=this.$(".js-label-search").val();return e?e.trim():""}_filteredLabels(){const e=this._searchVal().toLowerCase(),t=b.chain(this.board.getLabels()).filter((t=>!!b.isEmpty(e)||(t.has("name")&&t.get("name").toLowerCase().indexOf(e)>-1||t.has("color")&&0===t.get("color").toLowerCase().indexOf(e)))).value(),n=this.board.getLabels().filter((n=>n.has("color")&&n.get("color")===p.keyboardIndex[parseInt(e,10)]&&0===t.filter((e=>0===c.compare(n,e))).length));return t.concat(n)}}y.initClass(),e.exports=y},"./app/scripts/views/lib/confirm.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/lib/util/index.js"),r=n("./app/scripts/views/internal/view.js"),s=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/views/internal/templates.js"),{l:l}=n("./app/scripts/lib/localize.js");let c=void 0,d=void 0;class u extends r{static initClass(){c=function(e,t){const n=s.clone(e);for(const e of Object.keys(t||{})){const i=t[e];e in n||(n[e]=i())}return n},d=function(e,t){const n=c(t,{title:()=>l(["confirm",e,"title"],t.templateData),html:()=>l(["confirm",e,"text"],t.templateData),confirmText:()=>l(["confirm",e,"confirm"],t.templateData)});return"fxCancel"in n&&!("cancelText"in n)&&(n.cancelText=l(["confirm",e,"cancel"],t.templateData)),n},this.prototype._events={"click .js-confirm":"confirm","click .js-cancel":"cancel"}}constructor({model:e,text:t,html:i,elem:a,top:r,confirmText:o,confirmBtnClass:l,confirmBtnTestId:c,cancelText:d,title:u,template:p,templateData:m,data:h,fxConfirm:g,fxCancel:b,popOnClick:v,popDepth:f,maxWidth:_}){super(...arguments),this.model=e,this.elem=a,this.top=r,this.title=u,this.template=p,this.templateData=m,this.popOnClick=v,this.popDepth=f,null==this.template&&(this.template=n("./app/scripts/views/templates/confirm.js")),null==c&&(c=""),this.confirm=this._handleClick(g),this.cancel=b?this._handleClick(b):function(){},this.data=s.extend({text:t,html:i,confirmText:o,confirmBtnClass:l,confirmBtnTestId:c,cancelText:d},null!=h?h:{}),null==this.templateData&&(this.templateData={}),this.maxWidth=_,this.delegateEvents(this._events)}static toggle(e,t){return t=1===arguments.length?e:d(e,t),i.toggle({elem:t.elem,top:t.top,alignRight:t.alignRight,view:this,options:t})}static pushView(e,t){return t=1===arguments.length?e:d(e,t),i.pushView({view:this,options:t})}getViewTitle(){return this.title}render(){return this.$el.html(o.fill(this.template,this.data,{},{member:o.member})),setTimeout((e=>(this.$el.find(".js-confirm").focus(),0))),this}_handleClick(e){return t=>(a.stop(t),this.popOnClick?i.popView(this.popDepth):i.hide(),"function"==typeof e&&e(t),this.remove(),!1)}}u.initClass(),e.exports=u},"./app/scripts/views/lib/drag-sort.js":function(e,t,n){let i;const a=n("./packages/jquery/index.js"),r=n("./packages/browser/index.ts"),{Controller:s}=n("./app/scripts/controller/index.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/lib/post-render.js"),{SidebarState:c}=n("./app/scripts/view-models/sidebar-state.js"),d=n("./app/scripts/lib/util/index.js"),u=n("./node_modules/underscore/underscore.js"),{Analytics:p}=n("./packages/atlassian-analytics/index.ts"),m=({x:e},{left:t,right:n})=>t<=e&&e<n,h=({top:e,left:t,bottom:n,right:i},a,r)=>({top:e+r,bottom:n-r,left:t+a,right:i-a}),g=e=>({x:e.pageX,y:e.pageY}),b=(...e)=>function(){for(const t of Array.from(e))null!=t&&t.apply(this,arguments)},v=(e,t)=>b(t,e);class f{static initClass(){this.prototype.hasMousedLeft=!1,this.prototype.hasMousedRight=!1,this.prototype.stopped=!1,this.prototype.aborted=!1}constructor({scrollBoard:e,scrollLists:t,scrollCard:n,commitEvent:i,cancelMethod:a}){this.scrollBoard=e,this.scrollLists=t,this.scrollCard=n,this.commitEvent=i,this.cancelMethod=a,this._queue=[]}start(e,t){this.$helper=t.helper,this.$target=a(e.target),this.initialMousePosition=g(e),this.lockModelCache(),c.hideSidebar(),this.startTrackingMouse(),this.hidePopoversForSomeReason(),this.boardElement=a("#board")[0],this.boardCanvasElement=a(".board-canvas")[0],this.windowOverlayElement=a(".window-overlay")[0],this.cachedHoveredList=this.getHoveredListForPoint(this.initialMousePosition),(this.scrollLists||this.scrollBoard||this.scrollCard)&&this.startAutoscrolling(),i.sorting=!0,this.onStop((()=>u.defer((()=>i.sorting=!1))))}lockModelCache(){const e=s.getCurrentModelCache();if(null==e)throw new Error("Attempt to use DragInfo on a page with no modelCache!");const t=e.lock("DragSort.startSort");return this.onStop((()=>e.unlock(t)))}hidePopoversForSomeReason(){0===this.$target.closest(".pop-over").length&&o.hide()}startAutoscrolling(){const e=Math.floor(1e3/60),t=setInterval(this.autoscroll.bind(this),e);return this.onStop((()=>clearInterval(t)))}getHoveredListForPoint(e){for(const t of Array.from(a(".js-list")))if(m(e,t.getBoundingClientRect()))return a(t).find(".list-cards")[0];return null}startTrackingMouse(){const e=u.throttle((e=>{if(!this.stopped)return this.cachedHoveredList=this.getHoveredListForPoint(e)}),100);return a(document).on("mousemove.dragsort",(t=>{const n=g(t);n.x<this.initialMousePosition.x-20&&(this.hasMousedLeft=!0),n.x>this.initialMousePosition.x+20&&(this.hasMousedRight=!0),e(n)})),this.onStop((()=>a(document).off("mousemove.dragsort")))}onStop(e){return this._queue.push(e)}stop(e,t){this.stopped=!0;for(const e of Array.from(this._queue))e.call(this);delete this._queue,this.aborted||this.$target.trigger(this.commitEvent,t)}scrollDeltaForOverhang(e){return.1*e}autoscrollBoard(){const{left:e,right:t}=this.$helper[0].getBoundingClientRect(),n=h(this.boardCanvasElement.getBoundingClientRect(),100,0),i=n.left-e;i>0&&this.hasMousedLeft&&(this.boardElement.scrollLeft-=this.scrollDeltaForOverhang(i));const a=t-n.right;a>0&&this.hasMousedRight&&(this.boardElement.scrollLeft+=this.scrollDeltaForOverhang(a))}autoscrollLists(){const{top:e,bottom:t}=this.$helper[0].getBoundingClientRect(),n=h(this.cachedHoveredList.getBoundingClientRect(),0,50),i=n.top-e;i>0&&(this.cachedHoveredList.scrollTop-=this.scrollDeltaForOverhang(i));const a=t-n.bottom;a>0&&(this.cachedHoveredList.scrollTop+=this.scrollDeltaForOverhang(a))}autoscrollCard(){let{bottom:e}=this.$helper[0].getBoundingClientRect();const{top:t}=this.$helper[0].getBoundingClientRect();e-t>64&&(e=t+64);const n=h(this.windowOverlayElement.getBoundingClientRect(),0,100),i=n.top-t;i>0&&(this.windowOverlayElement.scrollTop-=this.scrollDeltaForOverhang(i));const a=e-n.bottom;a>0&&(this.windowOverlayElement.scrollTop+=this.scrollDeltaForOverhang(a))}autoscroll(){this.scrollBoard&&this.autoscrollBoard(),this.scrollLists&&null!=this.cachedHoveredList&&this.autoscrollLists(),this.scrollCard&&this.autoscrollCard()}abort(){let e;return this.aborted=!0,null!=(e=a.ui.ddmanager.current)&&(e.currentContainer=e),this.$target[this.cancelMethod]("cancel")}}f.initClass();let _=null;const k=function(e,t){return t=u.defaults({},t,{distance:7,scroll:!1}),e.scrollLists&&(t.custom={refreshContainers(){this.containers=(()=>{const e=[];for(const t of Array.from(this.containers))if(a.contains(document,t.element[0])){const n=t.element.closest(".js-list")[0].getBoundingClientRect();for(const e of["left","top","width","height"])t.containerCache[e]=n[e];e.push(t)}return e})()}}),t.start=v(t.start,(function(t,n){if(null!=_)throw new Error("Attempt to start a drag event while another is in progress!");_=new f(e),_.start(t,n)})),t.stop=v(t.stop,(function(e,t){d.stopPropagation(e),_.stop(e,t),_=null})),t},y=e=>({width:e.outerWidth(),height:e.outerHeight()}),E=function(e,t,n){if(r.isTouch())return;let i=null;const s=!("helper"in n)||"original"===n.helper;n.start=v(n.start,(function(e,a){s&&"appendTo"in n&&(a.helper.appendTo(n.appendTo),i.sortable("refreshPositions",!0));const{width:r,height:o}=(null!=t.calcSize?t.calcSize:y)(a.item);a.placeholder.width(r),a.placeholder.height(o)})),t=u.extend({commitEvent:"sortcommit",cancelMethod:"sortable"},t),n=k(t,n),l.enqueue((()=>{return t=()=>{i=a(e),i.sortable(n)},void(_?_.onStop(t):t());var t}))},w=function(e,t,n){r.isTouch()||(t=u.extend({commitEvent:"dragcommit",cancelMethod:"draggable"},t),n=k(t,n),l.enqueue((()=>a(e).draggable(n))))};e.exports=i={refreshListSortable:()=>E(".js-list-sortable",{scrollBoard:!0,scrollLists:!1,calcSize(e){const t=e.children(".list");return{width:t.outerWidth(),height:t.outerHeight()}}},{handle:".list-header",tolerance:"pointer",placeholder:"list-wrapper placeholder",items:".js-list",appendTo:"#trello-root"}),refreshCalendarCardSortable:()=>E(".js-calendar-sortable",{scrollBoard:!1,scrollLists:!1},{connectWith:".js-calendar-sortable",placeholder:"list-card placeholder-none",items:".list-card:not(.placeholder-none, .hide, .js-composer), .js-draggable-calendar-check-item",helper:"clone",appendTo:"#trello-root",over:(e,t)=>a(e.target).closest(".calendar-day").addClass("drop"),out:(e,t)=>a(e.target).closest(".calendar-day").removeClass("drop")}),refreshListCardSortable:()=>E(".js-sortable",{scrollBoard:!0,scrollLists:!0},{connectWith:".js-sortable:not(.card-limits-full)",placeholder:"list-card placeholder",items:".list-card:not(.placeholder, .hide, .js-composer)",appendTo:"#trello-root"}),refreshDraggableSidebarMembers:()=>w(".js-list-draggable-board-members .member:not(.js-member-deactivated)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){p.sendUIEvent({action:"dragged",actionSubject:"member",source:"boardScreen",containers:{board:{id:s.getCurrentBoardView().model.id}}}),a(".list-card.active-card").removeClass("active-card")}}),refreshDraggableStickers:()=>w(".js-draggable-sticker:not(.disabled)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){p.sendUIEvent({action:"dragged",actionSubject:"sticker",source:"boardScreen",containers:{board:{id:s.getCurrentBoardView().model.id}}});const n=20*Math.random()-10;t.helper.find(".sticker-select-fixed").css({transform:"rotate(".concat(n,"deg)"),"-webkit-transform":"rotate(".concat(n,"deg)")})}}),refreshCardSortable:(e,t)=>E(e,{scrollCard:!0},t),abort(){if(null==_)throw new Error("Abort called while not dragging!");return _.abort()},refreshIfInitialized(e){if(null!=e?e.hasClass("ui-sortable"):void 0)return e.sortable("refresh")}}},"./app/scripts/views/lib/limit-error-popover.js":function(e,t,n){const i=n("./app/scripts/views/lib/confirm.js"),a=n("./app/scripts/views/lib/pop-over.js"),{l:r}=n("./app/scripts/lib/localize.js"),{Analytics:s,getScreenFromUrl:o}=n("./packages/atlassian-analytics/index.ts");e.exports=function({trackingArea:e,elem:t,message:n,params:l}){const{boardId:c,orgId:d}=l;return s.sendTrackEvent({action:"exceeded",actionSubject:e,source:o(),attributes:{message:n},containers:{board:{id:c},organization:{id:d}}}),i.toggle(n,{elem:t,html:r("confirm.".concat(n,".text"),l),fxConfirm:()=>a.hide()})}},"./app/scripts/views/lib/markdown-transform.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"applyMarkdownShortcuts",(function(){return p}));var i=n("./packages/feature-flag-client/index.ts");const a=(e,t)=>{""===e?document.execCommand("delete",!1)||t.setRangeText(e):document.execCommand("insertText",!1,e)||t.setRangeText(e)},r=(e,t,n)=>Math.min(Math.max(e,t),n),s=(e,t,n,i)=>{var s,o;n||(n=t);const l=u(e);if(""===l.selection){const i=new RegExp("("+t.test.source+")$"),a=new RegExp("^("+n.test.source+")"),r=l.text.substring(0,l.selectionStart).match(i),s=l.text.substring(l.selectionEnd).match(a);if(!r&&s){const t=l.selectionEnd+s[0].length;return void e.setSelectionRange(t,t)}}const c=new RegExp("^("+t.test.source+")"),p=new RegExp("("+n.test.source+")$");d(e,l,i);const m=u(e),h=m.selection.match(c),g=m.selection.match(p),b=(null===(s=m.selection.match(c))||void 0===s?void 0:s[0].length)||0,v=(null===(o=m.selection.match(p))||void 0===o?void 0:o[0].length)||0;if(h&&g&&m.selectionEnd-v!==m.selectionStart&&m.selectionStart+b!==m.selectionEnd){e.setSelectionRange(m.selectionStart,m.selectionEnd),a(m.selection.substring(b,m.selection.length-v),e);const t=m.selection.length-v-b,n=m.selectionStart,i=m.selectionStart+t;""===l.selection?e.setSelectionRange(r(l.selectionStart-b,n,i),r(l.selectionEnd-b,n,i)):e.setSelectionRange(m.selectionStart,m.selectionEnd-b-v)}else e.setSelectionRange(m.selectionStart,m.selectionEnd),a("".concat(t.insert).concat(m.selection).concat(n.insert),e),""===m.selection?e.setSelectionRange(m.selectionStart+t.insert.length,m.selectionStart+t.insert.length):""===l.selection?e.setSelectionRange(l.selectionStart+t.insert.length,l.selectionStart+t.insert.length):e.setSelectionRange(m.selectionStart,m.selectionEnd+t.insert.length+n.insert.length)},o=(e,t)=>{const n=u(t);n.selection.endsWith("\n")&&t.setSelectionRange(n.selectionStart,n.selectionEnd-1);const{selection:i,selectionStart:r,selectionEnd:s,text:o}=u(t),l=t=>{var n;return null===(n=t.match(e.test))||void 0===n?void 0:n[0]},c=o.lastIndexOf("\n",r-1),d=o.indexOf("\n",s),p=-1!==c?c+1:0,m=-1!==d?d:o.length,h=o.substring(p,m),g=h.split("\n");if(""!==i||0!==r&&"\n"!==o.charAt(r-1))if(g.every((e=>""===e.trim()||void 0!==l(e)))){const e=g.map((e=>{const t=l(e);return t?e.substring(t.length):e})).join("\n"),n=e.length-h.length;t.setSelectionRange(p,m),a(e,t),t.setSelectionRange(p,m+n)}else{let n=0;const i=g.map((t=>{var i;if(""===t.trim())return t;const a=null===(i=t.match(e.test))||void 0===i?void 0:i[0];a&&(t=t.substring(a.length));const r=e.insert(n);return n++,"".concat(r).concat(t)})).join("\n"),r=i.length-h.length;t.setSelectionRange(p,m),a(i,t),t.setSelectionRange(p,m+r)}else{const n=e.insert(0);a(n,t),t.setSelectionRange(r+n.length,r+n.length)}},l=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,c={"ctrl b":e=>{s(e,{test:/\*\*/,insert:"**"})},"ctrl i":e=>{s(e,{test:/_/,insert:"_"})},"ctrl k":e=>{let t=u(e);d(e,t,!0),t=u(e),l.test(t.selection)?s(e,{test:/\[\]\(/,insert:"[]("},{test:/\)/,insert:")"},!0):s(e,{test:/\[/,insert:"["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl l":e=>{let t=u(e);d(e,t,!0),t=u(e),l.test(t.selection)?s(e,{test:/!\[\]\(/,insert:"![]("},{test:/\)/,insert:")"},!0):s(e,{test:/!\[/,insert:"!["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl shift s":e=>{s(e,{test:/~~/,insert:"~~"})},"ctrl shift m":(e,t=!1)=>{const n=u(e);!t&&n.selection.trim().includes("\n")&&(("`"!==n.selection.charAt(0)||n.selection.startsWith("```"))&&"`"!==n.selection.charAt(n.selection.length-1)||n.selection.endsWith("```")||"``"===n.selection)?s(e,{test:/```\n/,insert:"```\n"},{test:/\n```/,insert:"\n```"}):s(e,{test:/`/,insert:"`"})},"ctrl alt 1":(e,t=!1)=>{!t&&o({test:/^#/,insert:()=>"#"},e)},"ctrl alt 2":(e,t=!1)=>{!t&&o({test:/^##/,insert:()=>"##"},e)},"ctrl alt 3":(e,t=!1)=>{!t&&o({test:/^###/,insert:()=>"###"},e)},"ctrl shift 8":(e,t=!1)=>{!t&&o({test:/^[-*+] /,insert:()=>"- "},e)},"ctrl shift 7":(e,t=!1)=>{!t&&o({test:/^[0-9]+. /,insert:e=>"".concat(e+1,". ")},e)}},d=(e,t,n)=>{const i=n?/[^\s]+/:/[^\s\\/!?.,;|<>{}\-+=&'"]+/;if(i.test(t.selection))return;let a=t.selectionStart,r=t.selectionEnd;for(;a>0&&i.test(t.text.charAt(a-1));)a--;for(;r<t.text.length&&i.test(t.text.charAt(r));)r++;e.setSelectionRange(a,r)},u=e=>{const t=e.selectionStart||0,n=e.selectionEnd||0,i=e.value,a="string"==typeof i?i:"";return{text:a,selection:a.substring(t,n),selectionStart:t,selectionEnd:n}},p=(e,t=!1)=>{if(!i.featureFlagClient.get("remarkable.markdown-hotkeys",!1))return;const n=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",a=e.metaKey&&"Meta"===n||e.ctrlKey&&"Control"===n?"ctrl ":"",r=e.shiftKey?"shift ":"",s=e.altKey?"alt ":"";let o=e.originalEvent.key;n&&("¡"===o&&(o="1"),"™"===o&&(o="2"),"£"===o&&(o="3"));const l="".concat(a).concat(s).concat(r).concat(o),d=Object.entries(c).find((([e])=>e===l));if(d){const[,n]=d;if(e.preventDefault(),null===e.target)return;n(e.target,t)}}},"./app/scripts/views/lib/tooltip.js":function(e,t,n){let i;const a=n("./packages/jquery/index.js"),r=n("./app/scripts/views/internal/templates.js");e.exports=i=new(function(){const e=class{static initClass(){this.prototype.STYLE={DEFAULT:"default",MENU:"menu",BILLING:"billing"},this.prototype.TOOLTIP_CONTAINER="tooltip-container",this.prototype.DEFAULT_OPTIONS={addVerticalOffset:0}}constructor(){this.tooltip=null}show(e,t,i,s,o){if(null==i&&(i=!0),null==s&&(s=this.STYLE.DEFAULT),null==o&&(o=this.DEFAULT_OPTIONS),a(window).on("click",t[0],this.windowClick),clearTimeout(this.emptyTimer),"function"==typeof e.renderOnce&&(e=e.renderOnce().$el.html()),(null!=this.tooltip?this.tooltip.tooltipHtml:void 0)===e&&(null!=this.tooltip?this.tooltip.$anchor[0]:void 0)===t[0])return;const l=a(r.fill(n("./app/scripts/views/templates/tooltip_content.js"),{tooltipHtml:e,closeable:i,style:s})),c=a(".".concat(this.TOOLTIP_CONTAINER)).attr("class",this.TOOLTIP_CONTAINER);s!==this.STYLE.DEFAULT&&c.addClass("tooltip-".concat(s)),c.html(l),this.tooltip={tooltipHtml:e,$anchor:t,$elem:l};const{left:d,top:u}=t.offset(),p=t.outerHeight(),m=window.innerWidth-c.outerWidth();return c.css({left:Math.min(Math.max(d-5,5),m),top:Math.max(u+p+o.addVerticalOffset,5)}),l.addClass("active")}windowClick(e){const t=a(e.target);if(e.target!==e.data&&0===t.closest(".js-tooltip-content").length||0!==t.closest(".js-tooltip-close-button").length)return i.hide()}hide(){this.tooltip=null;const e=a(".".concat(this.TOOLTIP_CONTAINER));return e.find(".tooltip-content").removeClass("active"),this.emptyTimer=setTimeout((()=>e.empty()),300),a(window).off("click",this.windowClick)}};return e.initClass(),e}())},"./app/scripts/views/list/inline-list-composer-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/templates/list_add.js"),{Analytics:c}=n("./packages/atlassian-analytics/index.ts");e.exports=class extends o{className(){return"js-add-list list-wrapper mod-add is-idle"}events(){return{"click .js-open-add-list":"setOpen","click .js-cancel-edit":"setClose",submit:"addList"}}initialize(){this.listenTo(this.model.viewState,"change:listComposerOpen",this.frameDebounce(this.renderListComposer)),this.listenTo(this.model,"change:limits",this.render),this.listenTo(this.model.listList,"add remove",this.render),this.handleClickOutside=this.handleClickOutside.bind(this),i(document).on("click",this.handleClickOutside)}remove(){return i(document).off("click",this.handleClickOutside),super.remove(...arguments)}handleClickOutside(e){if(!this.model.viewState.get("listComposerOpen"))return;return 0===i(e.target).closest(".js-add-list").length?this.setClose(e):void 0}render(){const e=0===this.model.listList.length;return this.$el.html(l({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard"),isFirstList:e})),this.renderListComposer(),this.model.editable()&&this.$el.removeClass("fade hide"),this}setOpen(e){var t,n,i;c.sendClickedButtonEvent({buttonName:"addAnotherListButton",source:"boardScreen",containers:{board:{id:null===(t=this.model)||void 0===t?void 0:t.id},organization:{id:null===(n=this.model)||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),this.$(".js-open-add-list").attr("tabindex","-1"),s.stop(e),this.model.viewState.set("listComposerOpen",!0)}setClose(e){this.$(".js-open-add-list").removeAttr("tabindex"),s.stop(e),this.model.viewState.set("listComposerOpen",!1)}renderListComposer(){return!this.model.viewState.get("listComposerOpen")||this.model.isOverLimit("lists","totalPerBoard")||this.model.isOverLimit("lists","openPerBoard")?this.renderClose():(c.sendScreenEvent({name:"inlineListComposerInlineDialog",containers:{board:{id:null===(e=this.model)||void 0===e?void 0:e.id},organization:{id:null===(t=this.model)||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}}),this.renderOpen());var e,t,n}renderOpen(e){s.stop(e),this.$el.removeClass("is-idle"),this.defer((()=>this.$(".list-name-input").blur().focus().select())),r.hide()}renderClose(e){s.stop(e),this.$el.addClass("is-idle")}createList(e){return new Promise(((t,n)=>{const i=this.model.listList.create(e,{success:e=>{var n,i,a;return c.sendTrackEvent({action:"created",actionSubject:"list",source:"inlineListComposerInlineDialog",containers:{board:{id:null===(n=this.model)||void 0===n?void 0:n.id},organization:{id:null===(i=this.model)||void 0===i||null===(a=i.getOrganization())||void 0===a?void 0:a.id}}}),t()},error:()=>(this.model.listList.remove(i),n())})}))}addList(e){s.stop(e);const t=this.$(".list-name-input"),n=this.model.listList.length+1,i=t.val().trim();""!==i?this.createList({name:i,pos:this.model.calcPos(n),closed:!1}).then((()=>(t.val(""),this.renderOpen(),this))).catch((()=>a.flash("could not connect","error","list-composer"))):t.focus().select()}}},"./app/scripts/views/list/list-bulk-move-cards-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{maybeDisplayLimitsErrorOnCardAdd:a}=n("./app/scripts/views/card/card-limits-error.js"),r=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/views/internal/templates.js"),{Analytics:c}=n("./packages/atlassian-analytics/index.ts");class d extends s{static initClass(){this.prototype.viewTitleKey="move all cards in list",this.prototype.events={"click .js-select-list":"selectList"}}initialize(){var e,t,n;c.sendScreenEvent({name:"moveAllCardsInListInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}})}render(){const e=this.model.toJSON();e.lists=[];const t=this.model.getBoard().listList.models;for(const n of Array.from(t)){const t=o.clone(n.toJSON());t.id===this.model.id&&(t.current=!0),e.lists.push(t)}return this.$el.html(l.fill(n("./app/scripts/views/templates/list_bulk_card_move.js"),e)),this}selectList(e){const t=i(e.target).closest(".js-select-list"),n=t.attr("name");if(t.hasClass("disabled"))return;const s=this.modelCache.get("List",n),l=o.clone(this.model.openCards().models);if(l.length>0){var d,u,p;const t={$elem:i(e.target),destinationList:s};if(a(t))return;c.sendTrackEvent({action:"moved",actionSubject:"card",source:"moveAllCardsInListInlineDialog",attributes:{listSourceId:this.model.id||""},containers:{list:{id:n||""},board:{id:(null===(d=this.model.getBoard())||void 0===d?void 0:d.id)||""},organization:{id:(null===(u=this.model.getBoard())||void 0===u||null===(p=u.getOrganization())||void 0===p?void 0:p.id)||""}}});for(const e of Array.from(l))e.moveToList(s,1e3)}r.hide()}}d.initClass(),e.exports=d},"./app/scripts/views/list/list-copy-view.js":function(e,t,n){const{getKey:i,Key:a}=n("./packages/keybindings/index.ts"),{maybeDisplayLimitsErrorOnCardAdd:r}=n("./app/scripts/views/card/card-limits-error.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/views/templates/list_copy.js"),{Analytics:d}=n("./packages/atlassian-analytics/index.ts");class u extends l{static initClass(){this.prototype.viewTitleKey="copy list",this.prototype.tagName="form",this.prototype.events={"click .js-submit":"submit",submit:"submit",'keydown textarea[name="name"]':"keydownEvent"}}initialize(){var e,t,n;return d.sendScreenEvent({name:"copyListInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}}),this.listenTo(this.model.getBoard(),"change:limits",this.render)}render(){const e=this.model.getBoard();return this.$el.html(c({canCopyTotal:!e.isOverLimit("lists","totalPerBoard"),canCopyOpen:!e.isOverLimit("lists","openPerBoard"),name:this.model.get("name")})),this}keydownEvent(e){if(i(e)===a.Enter)return o.stop(e),void this.submit(e)}submit(e){var t,n,i;o.stop(e);const a=this.$('textarea[name="name"]');if(""===a.val().trim())return void a.focus().select();const l=this.model.getBoard(),c=l.isOverLimit("lists","totalPerBoard")||l.isOverLimit("lists","openPerBoard");if(this.$(".js-limit-exceeded").toggleClass("hide",!c),c)return;if(this.model.cardList.length>0){let t,n=t=!1;this.model.cardList.forEach((function(e){return n=n||e.attachmentList.length>0,t=t||e.checklistList.length>0}));const i={$elem:this.$(e.target),hasChecklists:t,hasAttachments:n,destinationBoard:l};if(r(i))return}const u=l.listList.calcPos(this.model.getIndexInList()+1,this.model,!0),p={idListSource:this.model.id,idBoard:this.model.get("idBoard"),pos:u,name:a.val().trim(),closed:!1},m=l.listList.create(p,{error:()=>l.listList.remove(m)});s.hide(),d.sendTrackEvent({action:"copied",actionSubject:"list",source:"copyListInlineDialog",attributes:{listSourceId:this.model.id||""},containers:{board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},list:{id:m.get("idListSource")||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}})}}u.initClass(),e.exports=u},"./app/scripts/views/list/list-list-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/internal/collection-view.js"),r=n("./app/scripts/views/lib/drag-sort.js"),s=n("./app/scripts/views/list/inline-list-composer-view.js"),o=n("./app/scripts/views/list/list-view.js"),l=n("./app/scripts/lib/assert/index.js");e.exports=(i=class extends a{static initClass(){this.prototype.viewType=o}initialize({resetCallback:e}){return this.resetCallback=e,super.initialize(...arguments),l(null!=this.resetCallback),this.listenTo(this.collection,{reset:this.resetCallback,"change:idBoard":this.boardChange})}render(){const e=Math.max(3,Math.ceil(window.innerWidth/270)),t=this.getModels().map(((t,n)=>this.subview(this.viewType,t,{deferCards:n>=e})));return this.model.editable()&&t.push(this.subview(s,this.model)),this.ensureSubviews(t),this.resetCallback()}boardChange(e,t){if(t!==this.collection.board.get("id"))return this.collection.remove(e),r.refreshIfInitialized(this.$el)}addModel(){return super.addModel(...arguments),this.resetCallback()}removeSubview(){super.removeSubview(...arguments),r.refreshListCardSortable()}insertSubview(e){super.insertSubview(...arguments),e.$el.find(".ui-sortable").length>0?r.refreshIfInitialized(this.$el):r.refreshListCardSortable()}},i.initClass(),i=i)},"./app/scripts/views/list/list-menu-view.js":function(e,t,n){let i;const a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/lib/confirm.js"),s=n("./app/scripts/views/list/list-bulk-move-cards-view.js"),o=n("./app/scripts/views/list/list-copy-view.js"),l=n("./app/scripts/views/list/list-move-view.js"),c=n("./app/scripts/views/list/list-set-limit-view.js"),d=n("./app/scripts/views/list/list-sort-view.js"),u=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),p=n("./app/scripts/views/internal/plugins/plugin-runner.js"),m=n("./app/scripts/views/plugin/plugin-view.js"),h=n("./app/scripts/views/lib/pop-over.js"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),{ButlerListMenuSection:b}=n("./app/src/components/Butler/index.ts"),{renderComponent:v}=n("./app/src/components/ComponentWrapper/index.ts"),f=n("./app/scripts/lib/util/index.js"),_=n("./app/scripts/views/templates/list_menu.js"),k=n("./packages/react-dom-wrapper/index.ts"),y=n("./node_modules/underscore/underscore.js"),{sendPluginUIEvent:E}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{Analytics:w}=n("./packages/atlassian-analytics/index.ts"),C=n("./packages/config/index.ts").listLimitsPowerUpId;e.exports=(i=class extends m{static initClass(){this.prototype.viewTitleKey="list actions",this.prototype.events={"click .js-add-card":"addCard","click .js-move-list":"moveList","click .js-copy-list":"copyList","click .js-list-subscribe":"toggleSubscribe","click .js-move-cards":"moveCards","click .js-archive-cards":"archiveCards","mouseenter .js-sort-cards":"preloadSortBy","click .js-sort-cards":"sortBy","click .js-close-list":"closeList","click .js-plugin-list-action":"runPluginAction","click .js-set-list-limit":"setListLimit"}}initialize(){var e,t,n;return this.makeDebouncedMethods("render"),w.sendScreenEvent({name:"listMenuInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}}),this.listenTo(this.model,"change:subscribed",this.renderDebounced),this.retain(this.options.pluginActions)}remove(){this.removeButlerSection(),super.remove(...arguments)}render(){return this.pluginActions=y.chain(this.options.pluginActions).filter((e=>y.isString(e.text)&&e.text.length&&y.isFunction(e.callback))).map((e=>y.extend(e,{icon:u.fromId(e.idPlugin).getIconUrl(),name:u.fromId(e.idPlugin).getName()}))).sortBy("text").value(),this.$el.html(_({editable:this.model.editable(),hasSortableCards:this.model.cardList.length>1,subscribed:this.model.get("subscribed"),canCopyList:!this.model.isOverLimit("lists","totalPerBoard")&&!this.model.isOverLimit("lists","openPerBoard"),pluginActions:this.pluginActions,listLimitsEnabled:this.model.getBoard().isListLimitsPowerUpEnabled(),isTemplate:this.model.getBoard().isTemplate()})),this.renderButlerSection(),this}addCard(e){var t,n,i;f.stop(e),h.hide(),this.model.getBoard().composer.save({list:this.model,index:0,vis:!0}),w.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"addCardMenuItem",source:"listMenuInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}})}moveList(e){var t,n,i;f.stop(e),w.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}}),h.pushView({view:new l({model:this.model,modelCache:this.modelCache})})}copyList(e){var t,n,i;f.stop(e),w.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"copyListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}}),h.pushView({view:new o({model:this.model,modelCache:this.modelCache})})}toggleSubscribe(e){var t,n,i,a,r,s;f.preventDefault(e),this.model.get("subscribed")?(this.model.subscribe(!1),w.sendTrackEvent({action:"unsubscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}})):(this.model.subscribe(!0),w.sendTrackEvent({action:"subscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(a=this.model.getBoard())||void 0===a?void 0:a.id)||""},organization:{id:(null===(r=this.model.getBoard())||void 0===r||null===(s=r.getOrganization())||void 0===s?void 0:s.id)||""}}}))}moveCards(e){var t,n,i;f.stop(e),w.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}}),h.pushView({view:new s({model:this.model,modelCache:this.modelCache})})}archiveCards(e){var t,n,i;f.stop(e),w.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"archiveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}}),r.pushView("archive all cards",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:()=>{h.hide();const e=y.clone(this.model.cardList.models);for(const t of Array.from(e))t.set({closed:!0});return this.model.run("archiveAllCards",{},this.listViewListen)}})}loadPluginSorters(e){return p.all({command:"list-sorters",board:this.model.getBoard(),list:this.model,timeout:e}).catch((()=>[])).then((e=>y.chain(e).groupBy("idPlugin").map(((e,t)=>e.slice(0,5))).flatten().value()))}preloadSortBy(e){if(null==this.pluginSortersPromise)return this.pluginSortersPromise=this.loadPluginSorters(500).then((e=>(this.pluginSortersPromise=null,this.pluginListSorters=e,this.pluginListSortersExpiry=Date.now()+5e3,e)))}sortBy(e){var t,n,i;f.stop(e),w.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"sortListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}});let a=[];return null!=this.pluginListSorters&&this.pluginListSortersExpiry>Date.now()?({pluginListSorters:a}=this):a=null!=this.pluginSortersPromise?this.pluginSortersPromise:this.loadPluginSorters(150),g.resolve(a).then((e=>(h.pushView({view:new d({model:this.model,modelCache:this.modelCache,pluginListSorters:e})}),this.pluginListSorters=null)))}renderButlerSection(){const e=this.$(".js-list-menu-butler-section")[0];var t,n,i;e&&v(a.createElement(b,{listName:this.model.get("name"),idList:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrganization:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}),e)}removeButlerSection(){const e=this.$(".js-list-menu-butler-section")[0];e&&k.unmountComponentAtNode(e)}setListLimit(e){return f.stop(e),E({idPlugin:C,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),h.pushView({view:new c({model:this.model,modelCache:this.modelCache})})}runPluginAction(e){f.stop(e);const t=this.pluginActions[this.$(e.target).closest(".js-plugin-list-action").data("index")],{idPlugin:n}=t;return E({idPlugin:n,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),"function"==typeof t.callback?t.callback({el:this.el,list:this.model}):void 0}closeList(e){var t,n,i;f.stop(e);const{model:a}=this;return w.sendTrackEvent({action:"archived",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(t=this.model.getBoard())||void 0===t?void 0:t.id)||""},organization:{id:(null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id)||""}}}),h.hide(),a.close(),!1}},i.initClass(),i=i)},"./app/scripts/views/list/list-move-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),{Analytics:r}=n("./packages/atlassian-analytics/index.ts"),{Auth:s}=n("./app/scripts/db/auth.js"),{ModelLoader:o}=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/network/payloads.ts").default,{maybeDisplayLimitsErrorOnCardAdd:c}=n("./app/scripts/views/card/card-limits-error.js"),d=n("./app/scripts/views/label/label-limits-error-view.js"),u=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),h=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/templates/popover_move_list.js"),{l:b}=n("./app/scripts/lib/localize.js"),{showFlag:v}=n("./packages/nachos/experimental.ts");class f extends m{static initClass(){this.prototype.viewTitleKey="move list",this.prototype.tagName="form",this.prototype.events={"change .js-select-list-pos":"renderValues","change .js-select-board":"updateBoardData","click .js-commit-position":"commitChange",submit:"commitChange"}}initialize(){var e,t,n;r.sendScreenEvent({name:"moveListInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}})}render(){const{model:e}=this,t={};let n=this.model.getBoard();const i=this.model.getBoard().getEnterprise();var a,r;n.isGuest(s.me())&&n.get("enterpriseOwned")?(t.hasEnterprise=!0,t.enterpriseName=null!=i?i.get("displayName"):void 0,t.restrictToCurrentBoard=!0,t.organizations=[{displayName:(a=n.getOrganization(),r=e=>e.get("displayName"),(null!=a?r(a):void 0)||b("member boards.boards")),boards:[h.extend(n.toJSON(),{selected:!0})]}]):null!=i?(t.hasEnterprise=!0,n=null==this.model.getBoard().getMembershipFor(s.me())?n:null,t.organizations=s.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),n),t.enterpriseName=i.get("displayName")):(n=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?n:null,t.organizations=s.me().getOpenBoardsByOrg(!0,n));for(const n of Array.from(t.organizations))for(const t of Array.from(n.boards))t.id===e.get("idBoard")&&(t.selected=!0);return this.$el.html(g(t)),this.updateBoardData(),this}renderValues(){const e=i(this.el),t=e.find(".js-select-board option:selected").val(),n=parseInt(e.find(".js-select-list-pos option:selected").text(),10),a=this.modelCache.get("Board",t).get("name");e.find(".js-board-value").text(a),e.find(".js-pos-value").text(String(n))}updateBoardData(){const e=i(this.el),t=e.find(".js-select-board").find("option:selected").val();if(t===this.model.getBoard().id){this._boardData=this.model.getBoard();for(const e of Array.from(this._boardData.listList.models))e.cardCount=this._boardData.listList.get(e.id).openCards().length;this.updateListList()}else{const n=e.find(".select-list,.select-position");n.attr("disabled","disabled"),o.loadBoardData(t,l.listsMinimal).then((()=>(this._boardData=this.modelCache.get("Board",t),this.updateListList(),n.removeAttr("disabled")))).done()}}updateListList(){let e,t;const{model:n}=this,a=this.$(".js-select-list-pos");a.empty();const r=this._boardData.listList.models,s=this._boardData.id===this.model.getBoard().id;s?(t=h.indexOf(r,this.model),e=r.length):(t=-1,e=r.length+1);for(let r=0,s=e,o=0<=s;o?r<s:r>s;o?r++:r--){const e=String(r+1),s=r===t?b("current position",{index:e}):e,o=this._boardData.listList.calcPos(r,n),l=i("<option>").val(o).text(s).appendTo(a);r===t&&l.attr("selected","selected")}const o=this.$(".js-commit-position"),l=this.$(".js-list-limit-exceeded");if(s)o.toggleClass("disabled",!1).prop("disabled",!1),l.toggleClass("hide",!0);else{const e=this._boardData.isOverLimit("lists","totalPerBoard")||this._boardData.isOverLimit("lists","openPerBoard");o.toggleClass("disabled",e).prop("disabled",e),l.toggleClass("hide",!e)}return this.renderValues()}commitChange(e){p.stop(e);const t=this.$(".js-select-list-pos"),n=parseInt(t.find("option:selected").val(),10),s=this.$(".js-select-board option:selected").val();this.model.getBoard().composer.save("vis",!1);const o=this.model.getBoard().id,l=this.model.get("pos");var m,h,g;if(s===o)this.model.update({pos:n}),r.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",containers:{list:{id:this.model.id||""},board:{id:(null===(m=this.model.getBoard())||void 0===m?void 0:m.id)||""},organization:{id:(null===(h=this.model.getBoard())||void 0===h||null===(g=h.getOrganization())||void 0===g?void 0:g.id)||""}}});else if(null!=s&&null!=n){var f,_;if(this.model.cardList.length>0){let t,n=t=!1;this.model.cardList.forEach((function(e){return n=n||e.attachmentList.length>0,t=t||e.checklistList.length>0}));const a={$elem:i(e.target),hasChecklists:t,hasAttachments:n,destinationBoard:this._boardData};if(c(a))return}if(this.model.cardList.filter((e=>e.getLabels().length>0))&&this._boardData.isOverLimit("labels","perBoard"))return void u.pushView(new d);const t=e=>{const n=null!=e?e.message:void 0;if(n&&this.model.set({idBoard:o,pos:l},t),"BOARD_TOO_MANY_CUSTOM_FIELDS"===n)a.show("too many custom fields","error","movelist",8e3);else if("CUSTOM_FIELD_TOO_MANY_OPTIONS"===n)a.show("too many custom options","error","movelist",8e3);else if("unauthorized board permission requested"===n){const e=b("alerts.cannot move list to observer board");v({id:"movelist",title:e,appearance:"error",isAutoDismiss:!0,msTimeout:8e3})}};this.model.update({idBoard:s,pos:n},t),r.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",attributes:{boardSourceId:o},containers:{list:{id:this.model.id||""},board:{id:s||""},organization:{id:(null===(f=this.model.getBoard())||void 0===f||null===(_=f.getOrganization())||void 0===_?void 0:_.id)||""}}})}u.hide()}}f.initClass(),e.exports=f},"./app/scripts/views/list/list-set-limit-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/pop-over.js"),a=n("./app/scripts/views/templates/popover_set_list_limit.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),{Analytics:o}=n("./packages/atlassian-analytics/index.ts"),l=e=>null===e||!isNaN(e)&&e>=0&&e<=5e3;class c extends s{static initClass(){this.prototype.viewTitleKey="set list limit",this.prototype.tagName="form",this.prototype.events={"click .js-submit":"submit",submit:"submit","click .js-remove-limit":"removeLimit","keyup .js-list-limit-input":"limitChanged"}}initialize(){var e,t,n;o.sendScreenEvent({name:"listLimitInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}})}getValue(){const e=this.$(".js-list-limit-input").val();return e.length?parseInt(e,10):null}limitChanged(e){const t=this.getValue(),n=l(t);return this.$(".js-list-limit-input").toggleClass("is-invalid",!n),this.$(".js-submit").attr("disabled",!n)}submit(e){r.stop(e);const t=this.getValue();var n,a,s;if(l(t))return o.sendTrackEvent({action:"updated",actionSubject:"listLimit",source:"listLimitInlineDialog",attributes:{value:t},containers:{list:{id:this.model.id},board:{id:null===(n=this.model.getBoard())||void 0===n?void 0:n.id},organization:{id:null===(a=this.model.getBoard())||void 0===a||null===(s=a.getOrganization())||void 0===s?void 0:s.id}}}),this.model.setSoftLimit(t),i.hide()}removeLimit(e){var t,n,a;return r.stop(e),o.sendTrackEvent({action:"removed",actionSubject:"listLimit",source:"listLimitInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(a=n.getOrganization())||void 0===a?void 0:a.id}}}),this.model.setSoftLimit(null),i.hide()}render(){const{model:e}=this,t={limit:e.get("softLimit")};return this.$el.html(a(t)),this}}c.initClass(),e.exports=c},"./app/scripts/views/list/list-sort-view.js":function(e,t,n){let i;const a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/lib/alerts.js"),{Analytics:s}=n("./packages/atlassian-analytics/index.ts"),o=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),l=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),c=n("./app/scripts/views/plugin/plugin-view.js"),d=n("./app/scripts/views/lib/pop-over.js"),u=n("./node_modules/bluebird/js/browser/bluebird.js"),p=n("./app/scripts/views/templates/list_sort.js"),m=n("./app/scripts/lib/util/index.js"),{l:h}=n("./app/scripts/lib/localize.js"),{sendPluginUIEvent:g}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),b=n("./packages/config/index.ts").customFieldsId,v=({list:e,posBefore:t,posAfter:n})=>Array.from(e).map(((i,a)=>({card:i,pos:t+(a+1)*(n-t)/(e.length+1)}))),f=function(e,t){let n=e.length-1;return a.flatten((()=>{const i=[];for(;n>=0;){const a=n;for(n--;n>=0&&t[e[n].id]>t[e[a].id];)n--;i.push(v({list:e.slice(n+1,a),posBefore:n>=0?t[e[n].id]:0,posAfter:t[e[a].id]}))}return i})())},_=function(e,t){let n=0;return a.flatten((()=>{const i=[];for(;n<e.length;){const a=n;for(n++;n<e.length&&t[e[n].id]<t[e[a].id];)n++;i.push(v({list:e.slice(a+1,n),posBefore:t[e[a].id],posAfter:n<e.length?t[e[n].id]:t[e[a].id]+m.spacing*(n-a)}))}return i})())};e.exports=(i=class extends c{static initClass(){this.prototype.viewTitleKey="sort list",this.prototype.events={"click .js-sort-by-due-date":"sortByDueDate","click .js-sort-newest-first":"sortNewestFirst","click .js-sort-oldest-first":"sortOldestFirst","click .js-sort-by-card-name":"sortByCardName","click .js-plugin-list-sort-action":"sortByPluginSort"}}initialize(){var e,t,n;return s.sendScreenEvent({name:"sortListInlineDialog",containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}}),this.retain(this.options.pluginListSorters)}render(){let e=a.chain(this.options.pluginListSorters).filter((e=>a.isString(e.text)&&e.text.length&&a.isFunction(e.callback))).map((e=>a.extend(e,{image:o.fromId(e.idPlugin).getIconUrl(),name:o.fromId(e.idPlugin).getName()}))).value();return e=e.concat(this.getCustomFieldSorts()),this.model.getBoard().isPowerUpEnabled("voting")&&e.push({callback:this.sortByVotes(),text:h("templates.list_sort.most-votes"),image:n("./resources/images/powerups/voting-icon.svg"),name:h("power ups.voting.name")}),this.pluginListSorters=a.sortBy(e,"text"),this.$el.html(p({canSortByDueDate:this.model.cardList.any((e=>e.get("due"))),pluginListSorters:this.pluginListSorters})),this}getCustomFieldSorts(){return this.model.getBoard().isCustomFieldsEnabled()?a.chain(this.model.getBoard().customFieldList.models).filter((e=>e.isSortable()&&e.visible())).map((e=>"number"===e.get("type")?[{callback:this.sortByCustomField(e.id),text:h("templates.list_sort.field-ascending",{field:e.get("name")}),image:o.fromId(b).getIconUrl(),name:h("view title.custom fields")},{callback:this.sortByCustomField(e.id,!0),text:h("templates.list_sort.field-descending",{field:e.get("name")}),image:o.fromId(b).getIconUrl(),name:h("view title.custom fields")}]:{callback:this.sortByCustomField(e.id),text:e.get("name"),image:o.fromId(b).getIconUrl(),name:h("view title.custom fields")})).flatten().value():[]}sortByDueDate(e){var t,n,i;return m.stop(e),d.hide(),s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by due date"},containers:{list:{id:this.model.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),this.applySort((()=>this.model.cardList.sortBy((function(e){const t=e.get("due"),n=e.get("dueComplete");return[t?n?"1":"0":"2",null!=t?t:""].join(":")}))))}sortNewestFirst(e){var t,n,i;return m.stop(e),d.hide(),s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by newest first"},containers:{list:{id:this.model.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),this.applySort((()=>this.model.cardList.sortBy((e=>e.id))),{reverse:!0})}sortOldestFirst(e){var t,n,i;return m.stop(e),d.hide(),s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by oldest first"},containers:{list:{id:this.model.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),this.applySort((()=>this.model.cardList.sortBy((e=>e.id))))}sortByCardName(e){var t,n,i;return m.stop(e),d.hide(),s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by card name"},containers:{list:{id:this.model.id},board:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.id},organization:{id:null===(n=this.model.getBoard())||void 0===n||null===(i=n.getOrganization())||void 0===i?void 0:i.id}}}),this.applySort((()=>{const e=this.model.cardList.comparator;return this.model.cardList.comparator=(e,t)=>e.get("name").localeCompare(t.get("name")),this.model.cardList.sort(),this.model.cardList.comparator=e,this.model.cardList.models}))}sortByCustomField(e,t){return()=>{var n,i,r;s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by custom fields"},containers:{list:{id:this.model.id},board:{id:null===(n=this.model.getBoard())||void 0===n?void 0:n.id},organization:{id:null===(i=this.model.getBoard())||void 0===i||null===(r=i.getOrganization())||void 0===r?void 0:r.id}}});const o=[],l=[];a.forEach(this.model.cardList.models,(function(t){const n=t.customFieldItemList.find((t=>t.get("idCustomField")===e));return null==n||n.isEmpty()?l.push(t.id):o.push({id:t.id,value:n.getParsedValue()})}));let c=a.chain(o).sortBy((e=>e.value)).map((e=>e.id)).value();return t&&(c=c.reverse()),c=c.concat(l),c=a.chain(c).map(((e,t)=>[e,t])).object().value(),this.applySort((()=>this.model.cardList.sortBy((e=>c[e.id]))))}}sortByVotes(){return()=>{var e,t,n;return s.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by votes"},containers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},organization:{id:null===(t=this.model.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}}),this.applySort((()=>this.model.cardList.sortBy((e=>-1*e.get("badges").votes))))}}sortByPluginSort(e){m.stop(e);const t=this.$(e.target).closest(".js-plugin-list-sort-action").data("index"),n=this.pluginListSorters[t];return n.idPlugin?(g({idPlugin:n.idPlugin,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListSorter",source:"listMenuInlineDialog"}}),r.show("sorting list","warning","listsort"),n.callback({options:{cards:l.cards(this.model.cardList.models,["all"])}}).catch((()=>({}))).then((e=>{const t=null!=e?e.sortedIds:void 0,n=this.model.cardList.models;if(null==t||!a.all(t,(e=>a.isString(e)&&/^[a-f0-9]{24}$/.test(e)))||!a.all(n,(e=>Array.from(t).includes(e.id))))return r.hide("listsort"),r.show("invalid sort order returned","warning","listsort",5e3),void d.hide();const i=a.chain(t).map(((e,t)=>[e,t])).object().value();return this.applySort((()=>this.model.cardList.sortBy((e=>i[e.id]))))})),d.hide()):(n.callback(),d.hide())}applySort(e,t){if(null==t&&(t={}),this.model.cardList.length<=1)return;r.show("sorting list","warning","listsort");const n=e();t.reverse&&n.reverse();const i=a.chain(n).map((e=>[e.id,e.get("pos")])).object().value(),s=a.chain(function(e,t,n){const i=[],a=e<t,r=n?a?t+1:t-1:t;for(let t=e;a?t<r:t>r;a?t++:t--)i.push(t);return i}(0,10,!0)).map((e=>Math.round((n.length-1)*e/10))).uniq().map((e=>[...Array.from(f(n.slice(0,+e+1||void 0),i)),...Array.from(_(n.slice(e),i))])).sortBy((e=>e.length)).first().value();for(const{card:e,pos:t}of Array.from(s))e.set("pos",t);return u.using(this.modelCache.getLock(),(()=>function(e,{fx:t,updatesPerMinute:n,concurrency:i}){const a=i*(6e4/n);return u.map(e,(function(e){const n=Date.now();return u.resolve(t(e)).then((function(){const e=a-(Date.now()-n);if(e>0)return u.delay(e)}))}),{concurrency:i})}(s,{fx:({card:e,pos:t})=>u.fromNode((t=>e.update("pos",e.get("pos"),t))),updatesPerMinute:300,concurrency:5}))).then((function(){return r.hide("listsort"),r.show("list sorted","info","listsort",3e3)}))}},i.initClass(),i=i)},"./app/scripts/views/list/list-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./packages/jquery/index.js"),o=n("./app/scripts/views/lib/alerts.js"),{Auth:l}=n("./app/scripts/db/auth.js"),c=n("./packages/browser/index.ts"),d=n("./app/scripts/views/card-composer/card-composer-inline-view.js"),{maybeDisplayLimitsErrorOnCardAdd:u,canAddCard:p}=n("./app/scripts/views/card/card-limits-error.js"),m=n("./app/scripts/views/card/card-list-view.js"),{Controller:h}=n("./app/scripts/controller/index.js");n("./app/scripts/views/internal/data-transfer/drag-drop-events.js");const g=n("./app/scripts/views/lib/drag-sort.js"),b=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/list/list-menu-view.js"),f=n("./app/scripts/views/lib/pop-over.js"),{trelloClipboard:_}=n("./app/scripts/lib/trello-clipboard.js"),{parseTrelloUrl:k}=n("./app/scripts/lib/util/url/parse-trello-url.js"),y=n("./node_modules/url-parse/index.js"),E=n("./app/scripts/views/internal/plugins/plugin-runner.js"),w=n("./node_modules/bluebird/js/browser/bluebird.js"),C=n("./app/scripts/views/internal/paste-input.js"),T=n("./app/scripts/lib/util/index.js"),O=n("./node_modules/underscore/underscore.js"),j=n("./app/scripts/views/templates/list.js"),A=n("./app/scripts/lib/localize-count.js"),x=n("./app/scripts/views/internal/warn-if-file-too-large.js"),N=n("./app/scripts/views/internal/pasted-file-name.js"),{getKey:S,Key:I}=n("./packages/keybindings/index.ts"),{l:D}=n("./app/scripts/lib/localize.js"),B=n("./node_modules/effing/lib/index.js"),{ninvoke:P}=n("./app/scripts/lib/util/ninvoke.js"),{removeAllRanges:F}=n("./app/scripts/lib/util/removeAllRanges.js"),{sendPluginTrackEvent:L}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{idCache:M}=n("./packages/shortlinks/index.ts"),{ModelLoader:R}=n("./app/scripts/db/model-loader.js"),V=n("./node_modules/react/index.js"),U=n("./packages/react-dom-wrapper/index.ts"),{renderComponent:z}=n("./app/src/components/ComponentWrapper/index.ts"),{CardTemplatesButton:H}=n("./app/src/components/CardTemplatesPopover/index.ts"),{LazyVideoRecordButton:W,isLoomIntegrationEnabled:Y}=n("./app/src/components/VideoRecordButton/index.ts"),{getSeparatorClassName:K}=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts"),{Analytics:G}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:$}=n("./packages/feature-flag-client/index.ts"),{objectResolverClient:q}=n("./app/scripts/network/object-resolver-client/index.ts");class X extends b{static initClass(){this.prototype.className="js-list list-wrapper",this.prototype.events={"mouseenter .js-open-list-menu":"preloadMenu","click .js-open-list-menu":"openMenu","mousedown .list-cards":"eventStopPropagation","click .js-open-card-composer":"openCardComposer","keydown  .js-list-name-input":"keyDownEvent","blur     .js-list-name-input":"stopEditing","click    .js-editing-target":"startEditing","focus    .js-list-name-input":"startEditing",movelist:"moveList",sortreceive:"sortReceive",sortcommit:"sortCommit","dd-drop:files":"dropFiles","dd-drop:text":"dropText","dd-drop:url":"dropUrl",mouseenter:"mouseenter",mouseleave:"mouseleave",mousemove:"mousemove","pasteinput:text":"dropText","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"}}initialize(){var e;super.initialize(...arguments),this.isLoomIntegrationEnabled=Y(null===(e=this.model.getBoard())||void 0===e?void 0:e.get("idEnterprise")),this.fEditingName=!1,this.makeDebouncedMethods("render","toggleComposerLink","renderComposer","renderCardCount","renderName","renderListLimit"),this.isLoomIntegrationEnabled||this.makeDebouncedMethods("renderAddButton"),this.listenTo(this.model,{"change:limits":this.renderLimits,"change:name":this.renderNameDebounced,"change:subscribed":this.renderSubscribed,"change:softLimit":this.renderListLimit,"change:id":()=>{this.renderCardTemplateButton(),this.isLoomIntegrationEnabled&&this.renderCardRecordButton()}}),this.listenTo(this.model.cardList,{"add remove change:idList change:closed reset"(){return this.renderCardCountDebounced(),this.isLoomIntegrationEnabled||this.renderAddButtonDebounced(),this.renderListLimitDebounced()}}),this.listenTo(this.model.getBoard().boardPluginList,"add remove",(()=>this.renderListLimitDebounced())),this.listenTo(this.model.getBoard(),"permChange",this.renderEditable),this.listenTo(this.model.getBoard().composer,{"change:list change:index change:vis":this.renderComposerDebounced,"change:list change:vis"(){return this.toggleComposerLinkDebounced()}}),this.listenTo(this.model.getBoard(),{"change:prefs.isTemplate":this.renderDebounced}),this.cardListView=this.collectionSubview(m,this.model.cardList,{className:"list-cards u-fancy-scrollbar u-clearfix js-list-cards",deferCards:this.options.deferCards}),s(window).on("resize.".concat(this.uniqueId()),B(this,"hackFlexboxForSadBrowsers"));for(const e of["mouseEnterCardView","mouseLeaveCardView","mouseMoveCardView"])(e=>{this.listenTo(this.cardListView,e,(function(t){return this.trigger(e,t)}))})(e)}renderLimits(){const e=!p({destinationList:this.model});return this.cardListView.$el.toggleClass("card-limits-full",e),this}render(){return this.cardListView.$el.detach(),this.$el.html(j({name:this.model.get("name"),subscribed:this.model.get("subscribed"),loggedIn:l.isLoggedIn(),editable:this.model.editable(),isTemplate:this.model.isTemplate(),canRecordVideo:this.isLoomIntegrationEnabled})),this.cardListView.$el.insertAfter(this.$(".js-list-header")),this.cardListView.render(),this.cardListView.$el.toggleClass("js-sortable",this.model.editable()),this.renderLimits(),this.renderListLimit(),this.toggleComposerLinkDebounced(),this.renderComposerDebounced(),this.renderCardCount(),this.renderEditable(),this.isLoomIntegrationEnabled||this.renderAddButton(),this.renderCardTemplateButton(),this.isLoomIntegrationEnabled&&this.renderCardRecordButton(),this.hackFlexboxForSadBrowsers(),O.defer((()=>this.$(".js-list-name-input").autosize({append:!1}))),this}remove(){return s(window).off(".".concat(this.uniqueId())),this.removeCardTemplateButton(),this.isLoomIntegrationEnabled&&this.removeCardRecordButton(),super.remove(...arguments)}renderName(){return this.$(".js-list-name-assist").text(this.model.get("name")),this.fEditingName||this.$(".js-list-name-input").val(this.model.get("name")).trigger("autosize.resize",!1),this}renderSubscribed(){var e,t;return this.$(".js-list-subscribed").toggleClass("hide",!(null!==(e=this.model.get("subscribed"))&&void 0!==e&&e)),this.$(".js-list-header").toggleClass("is-subscribe-shown",null!==(t=this.model.get("subscribed"))&&void 0!==t&&t),this.$(".js-list-name-input").trigger("autosize.resize",!1),this}renderEditable(){const e=this.model.editable();return this.$(".js-list-cards").toggleClass("js-sortable",e),e?this.$(".js-list-name-input").removeAttr("disabled"):this.$(".js-list-name-input").attr("disabled","disabled"),this.$(".js-open-card-composer").toggleClass("hide",!e),g.refreshListCardSortable(),this}hackFlexboxForSadBrowsers(){["explorer-10","explorer-11"].includes(c.browserVersionStr)&&this.defer((()=>{const e=this.$(".list-header").outerHeight(),t=this.$(".open-card-composer").outerHeight(),n=s("#board").height()-e-t-20;return this.$(".list-cards").css({"max-height":n})}))}saveListName(e){const t=this.$(".js-list-name-input"),n=this.model.get("name");let i=t.val();i=i.replace(/\s+/g," ").trim(),i!==n&&(i.length>16384||0!==i.trim().length&&this.model.update("name",i))}keyDownEvent(e){if(S(e)===I.Enter)return T.stop(e),void this.stopEditing();S(e)!==I.Escape||this.stopEditing()}startEditing(e){T.stop(e),this.fEditingName||!this.model.editable()||g.sorting||(this.fEditingName=!0,this.$(".js-editing-target").addClass("is-hidden"),O.defer((()=>this.$(".js-list-name-input").focus().select().addClass("is-editing"))))}stopEditing(e){if(this.fEditingName){this.$(".js-editing-target").removeClass("is-hidden");const e=this.$(".js-list-name-input").removeClass("is-editing");e.is(":focus")&&e.blur(),F(),this.fEditingName=!1,this.saveListName(),this.renderNameDebounced()}}toggleComposerLink(){return this.$(".js-open-card-composer").toggleClass("hide",this.composerOpen()||!this.model.editable()),this.$(".js-card-composer-container").toggleClass("hide",this.composerOpen()||!this.model.editable())}composerOpen(){var e;const t=null===(e=this.model.getBoard())||void 0===e?void 0:e.composer;return null!=t&&t.get("vis")&&t.get("list")===this.model}renderComposer(){if(this.composerOpen()){const{composer:e}=this.model.getBoard(),t=h.getCurrentBoardView().subview(d,e);this.insertComposerAtIndex(e.get("index"),t),t.scrollIntoView(),O.debounce(t.delegateEvents(),150)}return this}insertComposerAtIndex(e,t){if(0===e)this.$(".list-cards").prepend(t.render().el);else{let n=e-1;const i=this.$(".list-card").not(".js-composer");n>=i.length&&(n=i.length-1),i.eq(n).after(t.render().el)}}renderCardCount(){return this.$(".js-num-cards").text(A("cards",this.model.openCards().length))}openCardComposer(e){var t,n;T.stop(e),f.hide();const i=this.model.getBoard(),a={$elem:s(e.target),destinationBoard:i,destinationList:this.model};u(a)||(i.composer.save({list:this.model,index:this.model.openCards().length,vis:!0}),G.sendClickedButtonEvent({buttonName:"addAnotherCardButton",source:"listFooter",containers:{board:{id:null==i?void 0:i.id},list:{id:null===(t=this.model)||void 0===t?void 0:t.id},organization:{id:null==i||null===(n=i.getOrganization())||void 0===n?void 0:n.id}}}))}triggerOnItem(e,t,n){T.stopPropagation(e),this.defer((()=>t.item.trigger(n,[t,this])))}sortReceive(e,t){this.triggerOnItem(e,t,"moveto")}sortCommit(e,t){this.triggerOnItem(e,t,"movein")}loadPluginActions(e,t){return E.all({timeout:t,command:"list-actions",el:e,board:this.model.getBoard(),list:this.model}).catch((()=>[])).then((e=>O.chain(e).groupBy("idPlugin").map(((e,t)=>e.slice(0,3))).flatten().value()))}preloadMenu(e){if(!g.sorting&&null==this.pluginActionsPromise)return this.pluginActionsPromise=this.loadPluginActions(e.currentTarget,500).then((e=>(this.pluginActionsPromise=null,this.pluginActions=e,this.pluginActionsExpiry=Date.now()+5e3,e)))}openMenu(e){if(!g.sorting){var t,n,i,a,r,s;T.preventDefault(e),G.sendClickedButtonEvent({buttonName:"listMenuButton",source:"listHeader",containers:{board:{id:null===(t=this.model)||void 0===t||null===(n=t.getBoard())||void 0===n?void 0:n.id},list:{id:null===(i=this.model)||void 0===i?void 0:i.id},organization:{id:null===(a=this.model)||void 0===a||null===(r=a.getBoard())||void 0===r||null===(s=r.getOrganization())||void 0===s?void 0:s.id}}});let o=[];return null!=this.pluginActions&&this.pluginActionsExpiry>Date.now()?({pluginActions:o}=this):o=null!=this.pluginActionsPromise?this.pluginActionsPromise:this.loadPluginActions(e.currentTarget,150),w.resolve(o).then((t=>(f.toggle({elem:e.currentTarget,view:new v({model:this.model,modelCache:this.modelCache,pluginActions:t})}),this.pluginActions=null))),!1}}moveList(e,t){T.stop(e);const n=t.item.parent().children().index(t.item);this.model.move(n)}eventStopPropagation(e){T.stopPropagation(e)}scrollToCard(e){const t=this.cardListView.viewForModel(e);T.scrollElementIntoView(this.$(".js-list-cards")[0],t.el,{vertical:!0,animated:!0})}mouseenter(e){return this.trigger("mouseEnterListView"),C.addHandler(this,{scope:"list"})}mouseleave(e){return this.trigger("mouseLeaveListView"),C.removeHandler(this,{scope:"list"})}mousemove(e){return this.trigger("mouseMoveListView")}dropText(e){if(!this.model.editable())return;const t=this.model.getBoard(),n={$elem:s(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(u(n))return;const i=e.detail,a=G.startTask({taskName:"create-card/paste-text",source:"cardFromClipboard"});return P(this.model,"uploadText",i,a).then((e=>{G.sendTrackEvent({action:"created",actionSubject:"card",source:"cardFromClipboard",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id},card:{id:e.id}},attributes:{taskId:a}}),G.taskSucceeded({taskName:"create-card/paste-text",traceId:a,source:"cardFromClipboard"})})).catch((e=>{throw G.taskFailed({taskName:"create-card/paste-text",traceId:a,source:"cardFromClipboard",error:e})}))}dropUrl(e){if(!this.model.editable())return;const t=this.model.getBoard(),n={$elem:s(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(u(n))return;e.stopPropagation();const i=e.detail;if(t.attachmentUrlRestricted(i))return;const a=k(i);"card"===a.type?this.handlePastedCardUrl(a.shortLink,i):this.createCardFromUrl({url:i})}handlePastedCardUrl(e,t){let n="";return w.try((()=>{let t;const n=null!=(t=M.getId("Card",e))?t:e,i=this.modelCache.get("Card",n);return null!=i?i:R.loadCardData(n)})).then((i=>w.try((()=>{var e;const t=i.getBoard();return null!=t&&null!==(e=t.get("memberships"))&&void 0!==e&&e.length?t:R.loadBoardMinimal(this.get("idBoard"))})).then((i=>{let a;const r=_.isCut(t)&&i.editable(),s=!r,c=r?"moveCard":"copyCard";if(s&&(n=G.startTask({taskName:"create-card/paste-url",source:"powerUpCardFromTrelloUrl"})),i.get("enterpriseOwned")){var d,u;if(i.isGuest(l.me())&&i.get("id")!==this.model.getBoard().get("id"))return o.show(["can only copy within board",{boardName:i.get("name")}],"error","trello-clipboard",5e3),void(s&&G.taskAborted({taskName:"create-card/paste-url",traceId:n,error:new Error("can only copy within board"),source:"powerUpCardFromTrelloUrl"}));if((null===(d=i.getOrganization())||void 0===d?void 0:d.get("idEnterprise"))!==(null===(u=this.model.getBoard().getOrganization())||void 0===u?void 0:u.get("idEnterprise")))return o.show(["can only copy within enterprise",{enterpriseName:i.getEnterprise().get("displayName")}],"error","trello-clipboard",5e3),void(s&&G.taskAborted({taskName:"create-card/paste-url",traceId:n,error:new Error("can only copy within enterprise"),source:"powerUpCardFromTrelloUrl"}))}if(this.trigger(c,{shortLink:e,idList:this.model.id,traceId:n}),s&&(G.sendTrackEvent({action:"created",actionSubject:"card",source:"powerUpCardFromTrelloUrl",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id}},attributes:{taskId:n}}),G.taskSucceeded({taskName:"create-card/paste-url",traceId:n,source:"powerUpCardFromTrelloUrl"})),a=l.me()){const e="pasteAlert-".concat(c);if(!a.isDismissed(e))return a.dismiss(e)}})))).catch((e=>(n&&G.taskFailed({taskName:"create-card/paste-url",traceId:n,source:"powerUpCardFromTrelloUrl",error:e}),this.createCardFromUrl({url:t}))))}createCardFromUrl({url:e,analyticsTaskName:t="create-card/paste-url",analyticsSource:n="powerUpCardFromUrl"}){var i,r,s,o,l;const c={board:{id:null===(i=this.model.getBoard())||void 0===i?void 0:i.id},list:{id:this.model.id},enterprise:{id:null===(r=this.model.getBoard())||void 0===r?void 0:r.get("idEnterprise")},organization:{id:null===(s=this.model)||void 0===s||null===(o=s.getBoard())||void 0===o||null===(l=o.getOrganization())||void 0===l?void 0:l.id}};return new w(((i,r)=>{const s=G.startTask({taskName:t,source:n,containers:c});let o;const l=y(e);return null!=(o=l.host)?E.one({timeout:2e3,command:"card-from-url",list:this.model,board:this.model.getBoard(),options:{url:e}}).catch(E.Error.NotHandled,(()=>({}))).then((async i=>{const r=D("loading from domain",{domain:o}),l=O.pick(i,"name","desc");let d;if($.get("wildcard.link-cards",!1)){if(!(l&&Object.keys(l).length>0)){await q.resolveUrl(e)&&(d=P(this.model.cardList,"create",{name:e,pos:this.model.bottomCardPos()},{traceId:s}))}}d||(d=P(this.model,"uploadUrl",e,l,r,s));try{const e=await d;if(null!=i?i.idPlugin:void 0)return L({idPlugin:i.idPlugin,idBoard:this.model.getBoard().id,idCard:e.id,event:{action:"created",actionSubject:"card",source:"powerUpCardFromUrl",attributes:{taskId:s}}});G.sendTrackEvent({action:"created",actionSubject:"card",source:n,containers:a(a({},c),{},{card:{id:e.id}}),attributes:{taskId:s}}),G.taskSucceeded({taskName:t,traceId:s,source:n,containers:a(a({},c),{},{card:{id:e.id}})})}catch(e){throw G.taskFailed({taskName:t,traceId:s,source:n,containers:c,error:e})}})).done((()=>i())):i()}))}dropFiles(e){if(!this.model.editable())return;const t=this.model.getBoard();if(t.attachmentTypeRestricted("computer"))return;const n={$elem:s(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(u(n))return;const i=e.detail;return x(this.model.getBoard(),i)?void 0:w.resolve(i).each((e=>{const t=e.name||N(),n=G.startTask({taskName:"create-card/paste-file",source:"cardFromClipboard"});return P(this.model,"upload",e,t,n).then((e=>{e?(G.sendTrackEvent({action:"created",actionSubject:"card",source:"cardFromClipboard",containers:{board:{id:this.model.getBoard().id},list:{id:this.model.id},card:{id:e.id}},attributes:{taskId:n}}),G.taskSucceeded({taskName:"create-card/paste-file",traceId:n,source:"cardFromClipboard"})):G.taskAborted({taskName:"create-card/paste-file",traceId:n,source:"cardFromClipboard"})}),(e=>{throw G.taskFailed({taskName:"create-card/paste-file",traceId:n,source:"cardFromClipboard",error:e})}))})).catch((function(){})).done()}renderAddButton(){const e=0===this.model.cardList.length;return this.$(".js-add-a-card").toggleClass("hide",!e),this.$(".js-add-another-card").toggleClass("hide",e)}renderListLimit(){const e=this.$(".js-list-content"),t=this.$(".js-list-limit-badge"),n=this.$(".js-list-header");if(this.model.getBoard().isListLimitsPowerUpEnabled()){const i=this.model.get("softLimit");if(null!=i){const a=this.model.cardList.filter((e=>!K(e.get("name")))).length,r=a>i;return t.text("".concat(a," / ").concat(i)),n.addClass("is-list-limit-shown"),t.removeClass("hide"),e.toggleClass("exceeds-list-limit",r),t.toggleClass("mod-warning",r)}return e.removeClass("exceeds-list-limit"),t.addClass("hide"),n.removeClass("is-list-limit-shown")}return e.removeClass("exceeds-list-limit"),t.addClass("hide"),n.removeClass("is-list-limit-shown")}createCardFromTemplate(e,t,n){null==n&&(n=[]);const i=G.startTask({taskName:"create-card/template",source:"createCardFromTemplateInlineDialog"});return new w(((a,r)=>{const s=this.model.cardList.createWithTracing({name:e,idCardSource:t,keepFromSource:n.join(",")},{traceId:i,error:(e,t)=>(this.model.cardList.remove(s),G.taskFailed({taskName:"create-card/template",traceId:i,source:"createCardFromTemplateInlineDialog",error:t}),r()),success:e=>{var n,r,s,o,l,c;return G.sendTrackEvent({action:"created",actionSubject:"card",source:"createCardFromTemplateInlineDialog",attributes:{cardSourceId:t,taskId:i},containers:{card:{id:e.id},board:{id:null===(n=this.model)||void 0===n||null===(r=n.getBoard())||void 0===r?void 0:r.id},list:{id:null===(s=this.model)||void 0===s?void 0:s.id},organization:{id:null===(o=this.model)||void 0===o||null===(l=o.getBoard())||void 0===l||null===(c=l.getOrganization())||void 0===c?void 0:c.id}}}),G.taskSucceeded({taskName:"create-card/template",traceId:i,source:"createCardFromTemplateInlineDialog"}),a((()=>this.cardListView.scrollToCardView(e)))}});return this.model.getBoard().filter.addNewCard(s)}))}renderCardTemplateButton(){return null!=this.model.id&&z(V.createElement(H,{idList:this.model.id,idBoard:this.model.getBoard().id,createCard:(e,t,n)=>this.createCardFromTemplate(e,t,n)}),this.$(".js-card-templates-button")[0]),this}removeCardTemplateButton(){if(this.$(".js-card-templates-button").length)return U.unmountComponentAtNode(this.$(".js-card-templates-button")[0])}renderCardRecordButton(){var e,t,n,i,a;null!=this.model.id&&this.$(".js-card-record-button").length&&z(V.createElement(W,{id:"list-record-".concat(this.model.id),insert:e=>this.createCardFromUrl({url:e,analyticsTaskName:"create-card/record-video",analyticsSource:"videoRecordButton"}),analyticsSource:"listFooter",analyticsContainers:{list:{id:this.model.id},board:{id:null===(e=this.model.getBoard())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.getBoard())||void 0===t?void 0:t.get("idEnterprise")},organization:{id:null===(n=this.model)||void 0===n||null===(i=n.getBoard())||void 0===i||null===(a=i.getOrganization())||void 0===a?void 0:a.id}},iconColor:"quiet",showTooltip:!0}),this.$(".js-card-record-button")[0]);return this}removeCardRecordButton(){if(this.$(".js-card-record-button").length)return U.unmountComponentAtNode(this.$(".js-card-record-button")[0])}}X.initClass(),e.exports=X},"./app/scripts/views/member-menu-profile/activity-member-menu-view.js":function(e,t,n){const i=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js");e.exports=class extends i{renderMenu(){}}},"./app/scripts/views/member-menu-profile/board-member-menu-view.js":function(e,t,n){let i;const a=n("./node_modules/react/index.js"),{renderComponent:r}=n("./app/src/components/ComponentWrapper/index.ts"),s=n("./app/scripts/views/member/add-to-team-popover-view.js"),{Analytics:o,tracingCallback:l}=n("./packages/atlassian-analytics/index.ts"),c=n("./app/scripts/views/lib/alerts.js"),{Auth:d}=n("./app/scripts/db/auth.js"),u=n("./app/scripts/views/member/change-role-popover-view.js"),p=n("./app/scripts/views/lib/confirm.js"),{Controller:m}=n("./app/scripts/controller/index.js"),{featureFlagClient:h}=n("./packages/feature-flag-client/index.ts"),g=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),b=n("./app/scripts/views/lib/pop-over.js"),v=n("./app/scripts/lib/util/index.js"),f=n("./packages/jquery/index.js"),_=n("./node_modules/underscore/underscore.js"),{l:k}=n("./app/scripts/lib/localize.js"),{sendErrorEvent:y}=n("./packages/error-reporting/index.ts"),E=n("./app/scripts/views/internal/templates.js"),{maybeDisplayOrgMemberLimitsError:w}=n("./app/scripts/views/organization/member-limits-error.js"),{dontUpsell:C}=n("./packages/browser/index.ts"),{navigate:T}=n("./app/scripts/controller/navigate.js"),{FacePileLinkButton:O}=n("./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx");e.exports=(i=class extends g{static initClass(){this.prototype.className="board-member-menu",this.prototype.events={"click .js-remove-member":"removeMember","click .js-add-to-team":"addMemberToTeam","click .js-add-to-team a":"addMemberToTeamUpgrade","click .js-change-role":"changeRole","click .js-view-member-activity":"viewMemberActivity"}}initialize(){return this.board=this.options.board,this.org=this.board.getOrganization(),this.listenTo(this.board,"change:prefs",this.render),this.org&&this.listenTo(this.org,"change:products",this.render),super.initialize(...arguments)}addMemberToTeamUpgrade(e){if(e.stopPropagation(),!C())return e.preventDefault(),T(e.target.pathname,{trigger:!0})}renderMenu(){const e=_.extend(this.model.toJSON(),"function"==typeof this.board.premiumFeatures?this.board.premiumFeatures():void 0,this.model.getMembershipData(this.board)),t=this.board.getOrganization();e.boardProfileUrl=m.getMemberBoardProfileUrl(this.model.get("username"),this.board.id);const i=this.board.getMemberType(this.model,{ignoreEntAdminStatus:!0});return e.canInviteMemberToTeam=t&&this.canInviteMemberToTeam(t),e.isGhost="virtual"===i,e.type=k(["member types",i]),e.isTemplate=this.board.isTemplate(),e.isFreeTeam=t&&!t.isPremium(),e.orgBillingUrl=(null!=t?t.get("name"):void 0)&&(null!=t?t.getBillingUrl():void 0),e.orgId=null!=t?t.get("id"):void 0,["superadmin","deactivated"].includes(i)&&(e.canChangeRole=!1),this.$el.append(E.fillMenu(n("./app/scripts/views/templates/member_on_board_menu.js"),e,{editable:this.board.editable(),owned:this.board.owned()})),this.renderUpsellLinkButton(null!=t?t.get("id"):void 0),this}renderUpsellLinkButton(e){const t=this.$(".for-more-roles-react-component")[0];if(e&&t&&h.get("btg.upgrade-prompt-audit",!1))return r(a.createElement(O,{orgId:e}),t)}viewMemberActivity(){return b.hide()}canInviteMemberToTeam(e){if(e.hasActiveMembership(this.model))return!1;const t=d.me(),n=e.ownedByMember(t),i=e.belongsToRealEnterprise(),a=e.get("idEnterprise"),r=(s=t.get("idEnterprisesAdmin"),o=e=>e.indexOf(a),(null!=s?o(s):void 0)>=0);var s,o;return n||i&&r}changeRole(e){v.stop(e),b.pushView({view:new u({model:this.model,parent:this.board,modelCache:this.modelCache})})}removeMember(e,t){v.stop(e);const n=d.me();return p.pushView(this.model.removeMembershipConfirmationKey(this.board),{confirmBtnClass:"nch-button nch-button--danger",fxConfirm:e=>{const t=o.startTask({taskName:"edit-board/members/remove",source:"boardMemberInlineDialog"});return this.board.removeMemberWithTracing(this.model,t,l({taskName:"edit-board/members/remove",source:"boardMemberInlineDialog",traceId:t},((e,i)=>{i&&o.sendTrackEvent({action:this.model===n?"left":"removed",actionSubject:this.model===n?"board":"member",source:"boardMemberInlineDialog",containers:{board:{id:this.board.id}},attributes:{taskId:t}})}))),b.hide()}})}showError(e){y(new Error("Unknown server error message '".concat(e,"'")));const t=k(["server error","unknown"]);return c.showLiteralText(t,"error","addToTeam",5e3)}addMemberToTeam(e,t){v.stop(e);const n=this.board.getOrganization(),i=n.belongsToRealEnterprise(),a=n.isBusinessClass(),r=n.isStandard();if(i||a||r)b.pushView({view:new s({isBC:a,isStandard:r,isEnterprise:i,model:this.model,org:n})});else{if(w(f(e.target),n,this.model))return;n.addMember(this.model).then((()=>b.hide())).catch((e=>(this.showError(e.message),b.hide())))}}},i.initClass(),i=i)},"./app/scripts/views/member-menu-profile/card-member-menu-view.js":function(e,t,n){const{Analytics:i,tracingCallback:a}=n("./packages/atlassian-analytics/index.ts");let r;const s=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/internal/templates.js");e.exports=(r=class extends s{static initClass(){this.prototype.events={"click .js-remove-member":"removeMember"}}initialize(){super.initialize(...arguments),this.card=this.options.card}renderMenu(){return this.$el.append(l.fillMenu(n("./app/scripts/views/templates/member_on_card_menu.js"),this.model.toJSON(),{editable:this.card.editable()})),this}removeMember(e){o.hide();const t=this.model.id,n="cardMemberMenuInlineDialog",r=i.startTask({taskName:"edit-card/idMembers",source:n});this.card.removeMemberWithTracing(t,r,a({taskName:"edit-card/idMembers",traceId:r,source:n},((e,t)=>{t&&i.sendUpdatedCardFieldEvent({field:"idMembers",source:n,containers:{card:{id:this.card.id},board:{id:this.card.get("idBoard")},list:{id:this.card.get("idList")}},attributes:{taskId:r}})})))}},r.initClass(),r=r)},"./app/scripts/views/member-menu-profile/large-avatar-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/templates/member_large_avatar.js");class r extends i{static initClass(){this.prototype.displayType="mod-avdetail"}getViewTitle(){return this.model.get("fullName")}render(){const e=this.model.toJSON();return this.$el.html(a(e)),this}}r.initClass(),e.exports=r},"./app/scripts/views/member-menu-profile/member-mini-profile-view.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),a=n("./app/scripts/views/member-menu-profile/large-avatar-view.js"),{ModelLoader:r}=n("./app/scripts/db/model-loader.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/templates/mini_profile.js"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts");class p extends l{static initClass(){this.prototype.viewTitleKey="member",this.prototype.displayType="mod-mini-profile"}initialize(){super.initialize(...arguments),this.listenTo(this.model,"change change:avatarUrl change:avatarSource",this.frameDebounce(this.render))}delegateEvents(e){return super.delegateEvents(c.extend({"click .js-profile":"showProfile","click .js-view-large":"viewLarge"},e||this.events))}render(){var e,t;const n=this.model.toJSON();return n.isMe=i.isMe(this.model),n.showEmail=null!=n.email&&!n.isMe,n.isDeactivated=null===(e=this.options)||void 0===e||null===(t=e.board)||void 0===t?void 0:t.isDeactivated(this.model),null!=n.email||"ghost"!==this.model.get("memberType")||this.loaded||this.loadEmail(),this.$el.html(d(n)),this.renderMenu(),this}renderMenu(){}loadEmail(){return r.loadMemberEmail(this.model.id).then((()=>this.loaded=!0)).done()}showProfile(){u.sendClickedLinkEvent({linkName:"fullNameProfileLink",source:"miniProfileInlineDialog"})}viewLarge(e){o.stop(e),u.sendUIEvent({action:"clicked",actionSubject:"avatar",actionSubjectId:"miniProfileAvatar",source:"miniProfileInlineDialog"}),s.pushView({elem:this.$(e.target),view:new a({model:this.model,modelCache:this.modelCache})})}}p.initClass(),e.exports=p},"./app/scripts/views/member-menu-profile/member-on-board-view.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),a=n("./app/scripts/views/member-menu-profile/board-member-menu-view.js"),r=n("./app/scripts/views/lib/drag-sort.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),c=n("./app/scripts/lib/assert/index.js"),d=n("./app/scripts/views/templates/member.js");class u extends l{static initClass(){this.prototype.tagName="a",this.prototype.className="member js-member",this.prototype.viewTitleKey="change permissions",this.prototype.attributes={tabindex:0},this.prototype.zIndex=0,this.prototype.events={click:"showMenu",keydown:"showMenu"}}initialize({board:e,notClickable:t,small:n,hideBadges:i,zIndex:a}){this.board=e,this.notClickable=t,this.small=n,this.hideBadges=i,this.zIndex=a,c(null!=this.model,"You cannot have a deleted member as a board member!"),this.listenTo(this.model,"change",this.render),this.listenTo(this.board,"change:memberships",this.render)}render(){const e=this.model.toJSON();var t,n;return e.isBoardAdmin=(e=>{const t=e.getMembershipFor(this.model);return"admin"===(null!=t?t.memberType:void 0)})(this.board)||(t=this.board.getOrganization(),n=e=>e.isPremOrgAdmin(this.model),null!=t?n(t):void 0),e.isGhost="ghost"===this.model.get("memberType"),e.isDeactivated=this.board.isDeactivated(this.model),e.hideBadges=this.hideBadges,this.$el.html(d(e)).css("z-index",this.zIndex),this.model.isFeatureEnabled("crown")&&this.$el.addClass("has-crown"),this.small&&this.$el.addClass("m-member-mod-24"),this.notClickable&&this.$el.addClass("m-member-mod-no-click"),this.$el.toggleClass("member-deactivated js-member-deactivated",e.isDeactivated),this.$el.toggleClass("member-virtual-invitee","ghost"===e.memberType&&(null==e.idMemberReferrer||e.idMemberReferrer===i.me().id)),this.$el.toggleClass("long-initials",(null!=e.initials?e.initials.length:void 0)>2),e.isGhost&&this.$el.addClass("member-virtual"),this.$el.data("id",this.model.id),this}showMenu(e){if(r.sorting||this.notClickable)return;if("keydown"===e.type){if(o.stopPropagation(e)," "!==e.key&&"Enter"!==e.key)return}else o.stop(e);const t=this.options.pushView?"pushView":"toggle";s[t]({elem:e.currentTarget,view:new a({board:this.board,model:this.model,modelCache:this.modelCache})})}}u.initClass(),e.exports=u},"./app/scripts/views/member/add-to-team-popover-view.js":function(e,t,n){const i=n("./app/scripts/views/lib/alerts.js"),a=n("./app/scripts/views/lib/pop-over.js"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./packages/jquery/index.js"),l=n("./app/scripts/views/templates/popover_add_to_team.js"),{l:c}=n("./app/scripts/lib/localize.js"),d=n("./app/scripts/lib/localize-server-error.js"),{maybeDisplayOrgMemberLimitsError:u}=n("./app/scripts/views/organization/member-limits-error.js");class p extends s{static initClass(){this.prototype.viewTitleKey="add to team",this.prototype.events={"click .js-add-to-team":"addToTeam"}}render(){const e=c(["products",this.options.isStandard?"standard":this.options.isBC?"bc":"enterprise"]);return this.$el.html(l({teamType:e})),this}showError(e){const t=d(e);return i.showLiteralText(t,"error","addToTeam",5e3)}addToTeam(e){if(r.preventDefault(e),this.$(".js-add-to-team").attr("disabled",!0).addClass("disabled"),!u(o(e.target),this.options.org,this.model))return this.options.isOrgView?this.options.org.addMembers(this.model).then((e=>(e[e._categories.ADDED]&&(null!=this.options.showAlert?this.options.showAlert:this.options.showAlert=!1)&&i.show("added to team","confirm","addToTeam",3e3),a.hide()))):this.options.org.addMember(this.model).then((()=>{if(null!=this.options.showAlert?this.options.showAlert:this.options.showAlert=!1)return i.show("added to team","confirm","addToTeam",3e3)})).catch((e=>this.showError(e.message))).finally((()=>a.hide()))}}p.initClass(),e.exports=p},"./app/scripts/views/member/change-role-popover-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{showFlag:a}=n("./packages/nachos/experimental.ts"),{Auth:r}=n("./app/scripts/db/auth.js"),s=n("./app/scripts/views/lib/confirm.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/views/internal/templates.js"),{l:u}=n("./app/scripts/lib/localize.js"),{Analytics:p}=n("./packages/atlassian-analytics/index.ts");class m extends c{static initClass(){this.prototype.viewTitleKey="change permissions",this.prototype.events={"click .js-make-admin":"makeAdmin","click .js-make-member":"makeMember","click .js-make-observer":"makeObserver"}}initialize(){this.parent=this.options.parent,this.listenTo(this.parent,"change:memberships",this.render)}render(){const e=this.model.getMembershipData(this.parent);e.showObserver=this.parent.hasObservers(),e.canMakeAdmin=this.model.get("confirmed");const t=(()=>{if("Organization"===this.parent.typeName)return"org roles";if("Board"===this.parent.typeName)return"board roles";throw new Error("A fragile abstraction has broken")})();for(const n of Array.from(this.parent.getAvailableRoles()))e["roleText_".concat(n)]=u([t,n,"text"]);return null==e.roleText_admin&&(e.roleText_admin=e.roleText_superadmin),this.$el.html(d.fill(n("./app/scripts/views/templates/popover_change_roles.js"),e)),this}apiChangeRole(e,t){this.$el.find("ul a").addClass("disabled");const n=this.getMemberType();this.parent.changeMemberRole(this.model,{type:e},t).then((()=>{p.taskSucceeded({taskName:"edit-board/members/role",source:"changeBoardMemberRoleInlineDialog",traceId:t})})).catch((e=>{p.taskFailed({taskName:"edit-board/members/role",source:"changeBoardMemberRoleInlineDialog",traceId:t,error:e}),"Guest cannot be granted admin privileges on enterprise board"===e.message&&(this.parent.setOnMembership(this.model,{memberType:n}),a({id:"change-role-error",title:u(["board permissions","title error"]),description:u(["board permissions","Elevate guest to enterprise board admin"]),isAutoDismiss:!0,appearance:"error",msTimeout:5e3}))})).done(),o.hide()}getMemberType(){return this.parent.getExplicitMemberType(this.model)}isAdminAndMe(){return"admin"===this.getMemberType()&&r.isMe(this.model)}isEnterpriseAdmin(){return e="function"==typeof this.parent.getEnterprise?this.parent.getEnterprise():void 0,t=e=>e.isAdmin(this.model),null!=e?t(e):void 0;var e,t}makeAdmin(e){if(l.stop(e),i(e.target).closest("a").hasClass("disabled"))return;if("admin"===this.getMemberType())return;const t=p.startTask({taskName:"edit-board/members/role",source:"changeBoardMemberRoleInlineDialog"});this.apiChangeRole("admin",t)}makeMember(e){if(l.stop(e),i(e.target).closest("a").hasClass("disabled"))return;if("normal"===this.getMemberType())return;const t=p.startTask({taskName:"edit-board/members/role",source:"changeBoardMemberRoleInlineDialog"});this.isAdminAndMe()&&!this.isEnterpriseAdmin()?s.pushView("demote admin to normal member",{fxConfirm:e=>this.apiChangeRole("normal",t)}):this.apiChangeRole("normal",t)}makeObserver(e){if(l.stop(e),i(e.target).closest("a").hasClass("disabled"))return;if("observer"===this.getMemberType())return;const t=p.startTask({taskName:"edit-board/members/role",source:"changeBoardMemberRoleInlineDialog"});this.isAdminAndMe()?s.pushView("demote admin to observer",{fxConfirm:e=>this.apiChangeRole("observer",t)}):this.apiChangeRole("observer",t)}}m.initClass(),e.exports=m},"./app/scripts/views/member/member-avatar-react.js":function(e,t,n){const{naiveShouldComponentUpdate:i}=n("./app/scripts/lib/util/naive-should-component-update.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/internal/recup-with-helpers.js")("member");class s extends a.Component{static initClass(){this.prototype.displayName="MemberAvatar",this.prototype.shouldComponentUpdate=i,this.prototype.render=r.renderable((function(){const{avatarUrl:e,email:t,username:n,initials:i,isDeactivated:a,isBoardAdmin:s,isOrganizationAdmin:o,viewTitle:l}=this.props;return r.div(".autocomplete-member-avatar",(function(){const c=l;if(e){const t=[e,"30.png"].join("/"),n=[e,"50.png"].join("/");r.img({class:"member-avatar",height:"30",width:"30",src:t,srcSet:"".concat(t," 1x, ").concat(n," 2x"),alt:c,title:c})}else null!=i&&""!==i?r.span(".member-initials",{title:c},(()=>r.text(i))):null!=n?r.div(".member-icon-container",(()=>r.icon("member"))):null!=t&&r.span(".member-initials",{title:c},(()=>r.text(t[0].toUpperCase())));return a||(s&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-board")}),o&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-organization")})),r.span(".member-gold-badge",{title:r.l("this-member-has-trello-gold")})}))}))}constructor(e){super(e)}}s.initClass(),e.exports=s},"./app/scripts/views/member/member-board-profile-view.js":function(e,t,n){const{ActionList:i}=n("./app/scripts/models/collections/action-list.js"),a=n("./app/scripts/views/action/action-list-view.js"),r=n("./app/scripts/network/payloads.ts").default,s=n("./app/scripts/views/internal/view-with-actions.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/internal/templates.js"),c=n("./node_modules/underscore/underscore.js");class d extends o{static initClass(){this.prototype.events={"click .js-more-actions":"loadMoreActions"}}initialize(){return this.board=this.options.board,this.listenTo(this.board.memberList,"add remove reset",this.frameDebounce(this.render)),this.actionListView=this.collectionSubview(a,new i(this.model.getActions(this.board),{modelCache:this.modelCache}),{renderOpts:{context:this.model,readOnly:!0,source:"boardScreen"}}),this.listenTo(this.modelCache,"add:Action:".concat(this.model.id," remove:Action:").concat(this.model.id),(()=>(this.actionListView.collection.reset(this.model.getActions(this.board),{silent:!0}),this.renderActions()))),this.idModels=[this.board.id],this.nextPage=0,this.loadMoreActions()}render(){return this.$el.html(l.fill(n("./app/scripts/views/templates/board_member_profile.js"),this.model.toJSON())),this.actionListView.setElement(this.$(".list-actions")[0]),this.renderActions()}renderActions(){return this.actionListView.render(),this.$(".js-more-actions").toggle(this.hasMoreActions()),this}getActionsFilter(){return r.memberActions}}d.initClass(),c.extend(d.prototype,s),e.exports=d},"./app/scripts/views/member/member-multi-select-autocomplete-component.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./packages/jquery/index.js"),r=n("./app/scripts/views/organization/invite-member-autocomplete-avatar.js"),s=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),o=n("./node_modules/bluebird/js/browser/bluebird.js"),l=n("./node_modules/react/index.js"),c=n("./app/scripts/views/internal/recup-with-helpers.js")("org_members"),{l:d}=n("./app/scripts/lib/localize.js"),u=n("./packages/browser/index.ts").isDesktop(),{InfiniteList:p}=n("./app/src/components/InfiniteList/index.ts"),{useNonPublicIfAvailable:m}=n("./app/common/lib/util/non-public-fields-filter.ts"),{TeamTestIds:h}=n("./packages/test-ids/index.ts"),g=/([^"@\s\[\]\(\),:;<>\\]+@[-a-z0-9\.]+\.[a-z]+)/gi,b=/^@[a-z0-9_]{3,}$/;class v extends l.Component{shouldComponentUpdate(e){return e.isActive}render(){const{displayDetails:e,displayOrg:t,selectedOptions:n,activeIndex:i,searchResults:a,selectMemberOption:s}=this.props;if(!a.length)return null;const o=n.map((e=>e.id));return l.createElement(p,{itemCount:a.length,pageSize:20,awaitMore:!1,renderItem:(n,c)=>{const d=a[n],p=o.includes(d.id),m=i===n;return l.createElement(r,{onMouseDown:e=>s(e,d),displayDetails:e,displayOrg:t,activeMember:m,member:d,selected:p,isDesktop:u,key:c})}})}}let f=void 0,_=void 0;class k extends l.Component{static initClass(){f=e=>a.trim(e).toLowerCase().match(g),_=e=>a.trim(e).toLowerCase().replace(/@/g,""),this.prototype.render=c.renderable((function(){const{activeIndex:e,isActive:t,isFetching:a,isOpen:o,processingMembers:l,searchResults:p,searchText:m,error:b,showMultiBoardGuestAlert:f}=this.state,{placeholder:_,displayDetails:k,displayOrg:y,emptySearchText:E,submitText:w,children:C,extraSearchOption:T,selectedOptions:O,onRemoveMemberOption:j,fullWidthButton:A,submitAlwaysEnabled:x,hideDefaultButton:N,hideInviteLink:S,showMultiboardGuestWarning:I,isTemplate:D,showRestrictions:B}=this.props,P=m.match(g),F=O.length>0,L=i.some(O,(e=>e.blockInvite)),M=L&&y&&y.owned(),R=L&&y&&!y.owned(),V=(!F&&P||F)&&!l&&(!L||M)||x;return c.div(".multi-select-autocomplete-container",(()=>{if(c.div(".autocomplete-input-container",{class:c.classify({active:t,processing:l,"is-empty":!O.length}),onKeyDown:this.onAutocompleteKeyDown},(()=>{if(c.div(".autocomplete-selected",(()=>(O.length&&O.map(((e,t)=>c.createElement(r,{displayDetails:!1,showRestrictions:B,onRemoveClick:e=>(e.preventDefault(),j(t)),onShowMultiBoardGuestAlert:e=>this.setState({showMultiBoardGuestAlert:e}),member:e}))),c.input(".autocomplete-input",{type:"text",onBlur:this.onInputBlur,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,onFocus:this.onInputFocus,onPaste:this.onInputPaste,disabled:l,placeholder:O.length?"":_,value:m,style:{minWidth:"".concat(Math.min(8*(null!=m?m.length:void 0)+2,264),"px")},ref:this.searchInput,"data-test-id":h.AddMemberInput})))),o){if(a)return c.div(".autocomplete-search-results",(()=>c.div(".spinner.loading")));if(p.length>0)return c.div(".autocomplete-search-results",{className:null!=T?"has-extra-option":""},(()=>{if(c.div(".autocomplete-search-scroll",(()=>c.tag(v,{isActive:t,displayDetails:k,displayOrg:y,selectedOptions:O,activeIndex:e,searchResults:p,selectMemberOption:this.selectMemberOption}))),T)return c.addElement(T)}));if(null!=E)return c.div(".autocomplete-search-results.is-empty",(function(){if(c.div(".is-empty-text",{class:c.classify({"is-empty-text-mod-padding":null!=T})},(()=>c.text(E))),T)return c.addElement(T)}))}else{if(null!=b)return c.div(".autocomplete-search-results.is-empty",(()=>c.text(b.message)));if(f)return c.div(".autocomplete-search-results.is-empty",(()=>c.createElement(s,{displayOrg:y,isDesktop:u})))}})),c.addElement(C),S||(c.div(".invite-link-actions",(function(){return c.span(".invite-with-link",(function(){return c.img(".invite-with-link-icon",{src:n("./resources/images/icon-link.svg")}),c.text(d(["templates","board_member_add_multiple","invite-with-link"]))})),c.a(".action-link.js-show-invitation-link",{href:"#"},(()=>c.text(d(["templates","board_member_add_multiple","create-link"])))),c.a(".action-link.js-deactivate-link.hide.js-invitation-link-container",{href:"#"},(()=>c.text(d(["templates","board_member_add_multiple","disable-link"]))))})),c.p(".quiet.invite-with-link-description",(function(){if(!I)return D?c.text(d(["templates","board_member_add_multiple","anyone-with-link-can-join-as-template-member"])):c.text(d(["templates","board_member_add_multiple","anyone-with-link-can-join-as-board-member"]));if(c.text(d(["templates","board_member_add_multiple","guests-that-are-already-on-another-team"])),!u){c.text(" ");const e="https://help.trello.com/article/1123-multi-board-guests";return c.a({href:e,target:"_blank"},(()=>d(["templates","select_member","learn-more"])))}})),c.div(".manage-member-invitation-link.hide.js-invitation-link-container",(function(){return c.input(".js-invitation-link",{type:"text",readOnly:"readonly",placeholder:d(["templates","board_member_add_multiple","loading"])}),c.button(".nch-button.nch-button--primary.js-copy-invitation-link.js-hide-on-copy",(()=>c.text(d(["templates","board_member_add_multiple","copy"])))),c.button(".nch-button.nch-button--primary.js-copy-invitation-link.js-show-on-copy.hide",(()=>c.text(d(["templates","board_member_add_multiple","copied"])))),c.div(".js-qr-code.qr-code-inline")}))),(M||R)&&c.div(".multi-board-guest-message",(()=>c.format("invite-multi-board-guests-confirmation-message"))),!N)return c.button(".autocomplete-btn.nch-button.nch-button--primary",{class:c.classify({disabled:!V,fullWidthButton:A}),disabled:!V,onClick:this.onAutocompleteSubmit(M),"data-test-id":h.TeamInviteSubmitButton},(function(){return l?c.div(".spinner.loading"):M?c.format("invite-multi-board-guests-confirmation-button"):c.text(w)}))}))}))}constructor(e){super(e),this.delaySearchTimeout=null,this.searchForMembersPromise=null,this.isUnmounted=!1,this.searchCache={},this.searchInput=l.createRef(),this.searchInputFocusPending=null,this.updateSearchResultList=this.updateSearchResultList.bind(this),this.cancelPendingSearch=this.cancelPendingSearch.bind(this),this.searchForMembers=this.searchForMembers.bind(this),this.selectMemberOption=this.selectMemberOption.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onInputFocus=this.onInputFocus.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputPaste=this.onInputPaste.bind(this),this.onAutocompleteKeyDown=this.onAutocompleteKeyDown.bind(this),this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this),this.state={activeIndex:-1,isOpen:!1,isFetching:e.loadingOrg,processingMembers:!1,isActive:!0,isTyping:!1,searchResults:[],searchText:"",shouldFocusOnUpdate:!1,showMultiBoardGuestAlert:!1}}componentDidMount(){return this.searchInputFocusPending=setTimeout((()=>null!=this.searchInput.current?this.searchInput.current.focus():void 0),100),document.addEventListener("click",this.onDocumentClick)}componentDidUpdate(e){if(!e.loadingOrg||this.props.loadingOrg||this.state.searchText||this.setState({shouldFocusOnUpdate:!0},(()=>this.searchForMembers(this.state.searchText))),this.state.shouldFocusOnUpdate&&(this.searchInput.current.focus(),this.setState({shouldFocusOnUpdate:!1})),this.state.isActive&&document.activeElement!==this.searchInput.current)return this.setState({isOpen:!1,isActive:!1})}componentWillUnmount(){return null!=this.searchInputFocusPending&&(clearTimeout(this.searchInputFocusPending),this.searchInputFocusPending=null),this.isUnmounted=!0,this.cancelPendingSearch(),document.removeEventListener("click",this.onDocumentClick)}updateSearchResultList(e){if(!e)return;const t=this.searchCache[e];return t?this.receiveSearchResults(t):this.searchForMembers(e)}cancelPendingSearch(){var e;clearTimeout(this.delaySearchTimeout),null===(e=this.searchForMembersPromise)||void 0===e||e.cancel()}async searchForMembers(e){const{onAutocompleteSearch:t}=this.props;this.cancelPendingSearch();const n=t=>{null==t&&(t=[]),t.forEach((function(e){if(e.id){const t={avatarUrl:m(e,"avatarUrl"),fullName:m(e,"fullName"),initials:m(e,"initials")};return i.extend(e,t)}})),this.searchCache[e]=t,this.receiveSearchResults(t)};if(b.test(e)?e=_(e):g.test(e)&&(e=f(e)[0]),e.length<=2){const i=await t(e);return n(i)}this.setState({isFetching:!0,isOpen:!0});try{this.searchForMembersPromise=new o((i=>{this.delaySearchTimeout=setTimeout((async()=>{this.searchForMembersPromise=o.try((()=>t(e))).cancellable();const a=await this.searchForMembersPromise;n(a),i()}),500)})),await this.searchForMembersPromise}catch(e){e instanceof o.CancellationError?this.searchForMembersPromise||this.setState({isFetching:!1}):this.setState({isFetching:!1,error:e})}finally{this.searchForMembersPromise=null}}receiveSearchResults(e){e=i.filter(e,(e=>e.email||e.username)),this.setState({isOpen:this.state.isTyping,isFetching:!1,searchResults:e})}selectMemberOption(e,t){e.preventDefault();const{onSelectMemberOption:n,shouldFocusOnSelectMemberOption:i}=this.props;return this.cancelPendingSearch(),this.setState({searchText:"",isOpen:!1,shouldFocusOnUpdate:i||!1}),n(t)}onDocumentClick(e){if(0===a(e.target).closest(".autocomplete-search-results.is-empty, .autocomplete-option").length&&this.state.showMultiBoardGuestAlert)return this.setState({showMultiBoardGuestAlert:!1})}onInputBlur(e){if(document.activeElement!==this.searchInput.current)return g.test(e.target.value)&&this.selectMemberOption(e,i.map(f(e.target.value),(e=>({email:e})))),this.setState({isOpen:!1,isActive:!1})}onInputChange(e){const t=e.target.value;return this.setState({searchText:t,isOpen:!1,error:void 0,showMultiBoardGuestAlert:!1}),this.updateSearchResultList(t)}onInputFocus(e){return this.setState({isActive:!0})}onInputKeyDown(e){const{onRemoveMemberOption:t,selectedOptions:n}=this.props;return"Backspace"===e.key&&!e.target.value&&n.length?(t(n.length-1),this.setState({shouldFocusOnUpdate:!0})):["Enter",","," "].includes(e.key)&&g.test(e.target.value)?(e.preventDefault(),this.setState({isOpen:!1,isTyping:!1}),this.cancelPendingSearch(),this.selectMemberOption(e,i.map(f(e.target.value),(e=>({email:e}))))):"Backspace"!==e.key||e.target.value||!n.length?this.setState({isTyping:!0}):void 0}onInputPaste(e){const t=e.clipboardData.getData("Text");if(g.test(t))return this.selectMemberOption(e,i.map(f(t),(e=>({email:e}))))}onAutocompleteKeyDown(e){let t,n;const{activeIndex:i,searchResults:a}=this.state;switch(e.key){case"Enter":if(a[i]&&!a[i].joined)return this.setState({activeIndex:-1}),this.selectMemberOption(e,a[i]);break;case"ArrowRight":case"ArrowDown":return t=i===a.length-1?-1:i+1,this.setState({activeIndex:t});case"ArrowLeft":case"ArrowUp":return n=-1===i?a.length-1:i-1,this.setState({activeIndex:n});default:return null}}onAutocompleteSubmit(e){return t=>{const{searchText:n}=this.state,{onSubmit:a,submitDisabled:r}=this.props;return g.test(n)&&this.selectMemberOption(t,i.map(f(n),(e=>({email:e})))),this.setState({processingMembers:!0}),a(e).then((()=>{if(!this.isUnmounted&&!r)return this.setState({processingMembers:!1})})).catch((e=>{if(!this.isUnmounted)return this.setState({processingMembers:!1,error:e})}))}}}k.initClass(),e.exports=k},"./app/scripts/views/member/select-filterable-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),r=a.renderable((({text:e,extraText:t,mentionCount:n})=>a.li({class:"item js-member-item"},(()=>a.a({href:"#",class:"js-select-member ",title:e,autocompleteText:e},(()=>a.span(".text",{title:"card"},(()=>a.text("".concat(t," (").concat(n,")"))))))))));e.exports=class extends i{render(){return this.$el.html(r(this.options)),this}}},"./app/scripts/views/member/select-member-on-card-view.js":function(e,t,n){const i=n("./app/scripts/views/member/select-member-view.js");e.exports=class extends i{initialize(){return this.listenTo(this.options.card,"change:idMembers",this.renderActive)}renderActive(){let e;return this.$el.toggleClass("active",(e=this.model.id,Array.from(this.options.card.get("idMembers")).includes(e)))}render(){return super.render(...arguments),this.renderActive(),this}}},"./app/scripts/views/member/select-member-view.js":function(e,t,n){const i=n("./app/scripts/views/internal/view.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),r=n("./app/scripts/views/templates/member.js"),s=a.renderable((function(e){const{url:t,extraText:n,id:i,viewTitle:s,username:o,isVirtual:l,fullName:c,inactive:d,unconfirmed:u}=e;return a.a(".name.js-select-member",{href:t||"#",class:a.classify({"multi-line":n}),idMember:i,title:s,autocompleteText:o},(function(){if(a.span(".member.js-member",{class:a.classify({virtual:l})},(()=>r(e))),a.span(".full-name",{name:"".concat(c).concat(o?" (".concat(o):""),"aria-hidden":!0},(function(){if(a.text(c),a.text(" "),o)return a.span(".username",(()=>a.text("(".concat(o,")"))))})),n&&a.div(".extra-text.quiet",(()=>a.format("extratext",{extraText:n}))),a.icon("check",{class:"checked-icon","aria-label":a.l("added-to-card")}),a.icon("forward",{class:"light option js-open-option"}),d&&a.span(".quiet.sub-name",(()=>a.format("inactive-account"))),u)return a.span(".quiet.sub-name",(()=>a.format("unconfirmed-user")))}))}));class o extends i{static initClass(){this.prototype.tagName="li",this.prototype.className="item js-member-item"}initialize(){}render(){const e=this.model.toJSON();return"ghost"===this.model.get("memberType")&&(e.isVirtual=!0),e.unconfirmed=this.options.showUnconfirmed&&!e.isVirtual&&!e.confirmed,e.inactive=this.options.showInactive&&!e.active,e.isKnownMember=this.options.isKnownMember,e.extraText=this.options.extraText,e.disabled=this.options.disabled,this.options.linkName?e.url="/".concat(this.model.get("username")):delete e.url,this.el.innerHTML=s(e),this.$el.toggleClass("active",Boolean(e.isActive)).toggleClass("unconfirmed",Boolean(e.unconfirmed)).toggleClass("inactive",Boolean(e.inactive)).toggleClass("js-autoselect",Boolean(e.isKnownMember)).toggleClass("disabled",Boolean(e.disabled)),this.$(".js-member").data("id",this.model.id),this}}o.initClass(),e.exports=o},"./app/scripts/views/organization/create-org-view.js":function(e,t,n){const{Auth:i}=n("./app/scripts/db/auth.js"),{Board:a}=n("./app/scripts/models/board.js"),{Controller:r}=n("./app/scripts/controller/index.js"),{ModelLoader:s}=n("./app/scripts/db/model-loader.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./node_modules/bluebird/js/browser/bluebird.js"),{maybeDisplayOrgMemberLimitsError:c}=n("./app/scripts/views/organization/member-limits-error.js"),d=n("./app/scripts/lib/util/index.js"),u=n("./app/scripts/views/internal/view.js"),p=n("./app/scripts/views/internal/templates.js"),{isDesktop:m}=n("./packages/browser/index.ts"),{track:h,trackUe:g,Noun:b,Verb:v}=n("./packages/analytics/index.ts"),{TeamTypeSelect:f}=n("./app/src/components/TeamTypeSelect/index.ts"),{renderComponent:_}=n("./app/src/components/ComponentWrapper/index.ts"),k=n("./node_modules/react/index.js"),y=n("./packages/jquery/index.js"),{navigate:E}=n("./app/scripts/controller/navigate.js");class w extends u{static initClass(){this.prototype.viewTitleKey="create organization",this.prototype.events={"click .js-save":"submit","submit form":"submit","click .js-business-class":"clickBusinessClassMore","click .js-enterprise-learn-more":"clickEnterpriseLearnMore","input .js-display-name"(){return this.updateSubmitButton()}}}constructor(e){super(e),this.onChangeTeamType=this.onChangeTeamType.bind(this),this.renderTeamTypeSelect=this.renderTeamTypeSelect.bind(this)}initialize({createOpts:e,trackingOpts:t}){this.createOpts=e,this.trackingOpts=t,null==this.trackingOpts&&(this.trackingOpts={category:null,method:null,context:{}}),null==this.createOpts&&(this.createOpts={isBusinessClass:!1,boardToAddToOrg:!1,isEnterprise:!1});const[,n]=Array.from((i.me().get("email")||"").split("@"));return this.emailDomain=n||"",this.teamTypeValue="",this}getValue(e){return t=this.$("[name=".concat(e,"]")).val(),n=e=>e.trim(),null!=t?n(t):void 0;var t,n}render(){let e,t;var a;return this.createOpts.isEnterprise?(e=n("./app/scripts/views/templates/org_create_enterprise.js"),t={enterprises:i.me().enterpriseList,dontUpsell:m()}):(e=n("./app/scripts/views/templates/org_create.js"),t={dontUpsell:m(),emailDomain:(a=this.emailDomain,a?"(".concat(a,")"):""),boardToAddToOrg:this.createOpts.boardToAddToOrg,memberCount:null!=this.model.memberList?this.model.memberList.length:void 0,isPrivateTemplate:this.createOpts.isPrivateTemplate}),this.$el.html(p.fill(e,t)),this.updateSubmitButton(),this.renderTeamTypeSelect(),this}updateSubmitButton(){const e=0===this.getValue("displayName").length||""===this.teamTypeValue;return this.$(".js-save").prop("disabled",e)}submit(e){if(d.stop(e),c(y(e.target),null,i.me()))return;const t={};this.$(".js-save").prop("disabled",!0).addClass("disabled");for(const e of["displayName","desc","enterprise"])t[e]=this.getValue(e);""!==this.teamTypeValue&&(t.teamType=this.teamTypeValue),i.me().organizationList.create(t,{modelCache:this.modelCache,silent:!0,success:e=>(this.createOpts.boardToAddToOrg&&(this.createOpts.boardToAddToOrg.update({idOrganization:e.id}),this.createOpts.isPrivateTemplate&&this.model.setPref("isTemplate",!1).save()),s.loadOrganizationMembersMinimal(e.id).then((()=>{if(this.$(".js-add-members").prop("checked")){const e=this.model.getOrganization();return l.map(this.model.memberList.models,(function(t){if(!e.isMember(t))return e.changeMemberRole(t,{type:"normal"})}),{concurrency:3})}})).then((()=>{const t=this.createOpts.context?this.createOpts.context:{},n=Object.assign(t,{teamId:e.id});this.model instanceof a&&(n.boardId=this.model.get("id")),this.createOpts.isBusinessClass?(E("/".concat(e.get("name"),"/billing"),{trigger:!0}),h("New Team","Create Business Class Team",void 0,e.id),g(this.trackingOpts.category,"adds","business class team","","",this.trackingOpts.method,n)):this.createOpts.isEnterprise?(E("/".concat(e.get("name"),"/account"),{trigger:!0}),h("New Team","Create Enterprise Team",void 0,e.id),g(this.trackingOpts.category,"adds","enterprise team","","",this.trackingOpts.method,n)):(r.organizationBoardsView(e.get("name")),h("New Team","Create Team",void 0,e.id),g(this.trackingOpts.category,"adds","team","","",this.trackingOpts.method,n)),o.hide()})).done())})}clickBusinessClassMore(){return h("New Org","Click Business Class Link")}clickEnterpriseLearnMore(){return g({category:b.BOARD_HEADER,verb:v.CLICKS,directObj:b.FREE_TEAM_LIMIT_BLOCKED_POPOVER_ENTERPRISE_LINK,context:{domainName:this.emailDomain,context:m()?"desktop":"web"}})}onChangeTeamType(e){return this.teamTypeValue=e,this.updateSubmitButton()}renderTeamTypeSelect(){return this.whenIdle("org_view_select_".concat(this.cid),(()=>{const e=k.createElement(f,{onChange:this.onChangeTeamType}),t=this.$(".js-team-type-select")[0];return _(e,t)}))}}w.initClass(),e.exports=w},"./app/scripts/views/organization/invite-member-autocomplete-avatar.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/member/member-avatar-react.js"),r=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),s=n("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),{trackUe:o}=n("./packages/analytics/index.ts"),{debounce:l}=n("./node_modules/underscore/underscore.js"),{TeamTestIds:c}=n("./packages/test-ids/index.ts"),{BoardInviteRestrictValues:d}=n("./app/scripts/views/organization/constants.js"),u="joined",p="invited",m="blocked",h="org-restrict-org",g="org-restrict-managed",b="org-restrict-managed-or-org";class v extends i.Component{static initClass(){this.prototype.displayName="AutocompleteMemberAvatar",this.prototype.render=s.renderable((function(){let e;const{member:t,onRemoveClick:n,displayDetails:i,displayOrg:o,displayUsername:l,activeMember:d,isDesktop:u}=this.props,{active:p,username:m,email:h,confirmed:g,fullName:b,idOrganizations:v,wouldBecomeBillableGuest:f,hasError:_,blockInvite:k}=t,y=this.getDisabledReason(),E=this.isClickable();return l?e="".concat(b," (").concat(m,")"):(e=b||h,e===m&&(e="@".concat(e))),s.div(".autocomplete-option",{onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOver,class:s.classify({disabled:!E,active:d&&E,"has-links":f&&!y,"has-error":_||k}),"data-test-id":c.TeamInviteeOption},(()=>{if(s.div(".member-container",(()=>{if(i&&s.div(".member",{class:s.classify({"member-deactivated":t.activityBlocked})},(()=>s.createElement(a,this.props.member))),s.div(".member-info",(function(){if(s.div(".full-name",(()=>s.text(e))),null!=o&&i&&v&&Array.from(v).includes(o.id)&&s.span(".quiet.sub-name",{style:{marginRight:4}},(()=>s.text(o.get("displayName")))),i&&y&&s.span(".quiet.sub-name",(()=>s.format(y))),i&&!y){if(!1===g)return s.span(".quiet.sub-name",(()=>s.format("unconfirmed-user")));if(!1===p)return s.span(".quiet.sub-name",(()=>s.format("inactive-account")))}})),n)return s.a(".icon-sm .icon-close",{onClick:this.onRemoveClick,href:"#"})})),this.showMultiBoardGuestAlert())return s.div(".multi-board-guest-autocomplete-alert",(()=>s.createElement(r,{displayOrg:o,isDesktop:u})))}))}))}constructor(e){super(e),this.onRemoveClick=this.onRemoveClick.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOver=l(this.onMouseOver.bind(this)),this.state={mgbAlertSeen:!1}}getDisabledReason(){if(!this.props.showRestrictions)return null;let e;const{displayOrg:t,member:n}=this.props;if(n.joined)return null!=n.memberType==="ghost"?p:u;if(n.activityBlocked||n.isDeactivated)return m;if(t&&(e=t.getPref("boardInviteRestrict"))){const i=null!=n.idOrganizations?n.idOrganizations.some((e=>e===t.get("id"))):void 0,a=null!=n.idEnterprise&&n.idEnterprise===t.get("idEnterprise");if(e===d.ORG)return!i&&h;if(e===d.MANAGED)return!a&&g;if(e===d.ORG_OR_MANAGED)return!(i||a)&&b}}showMultiBoardGuestAlert(){const{onRemoveClick:e,member:t}=this.props;return!e&&t.wouldBecomeBillableGuest&&null==this.getDisabledReason()}isClickable(){if(!this.props.showRestrictions)return!0;const e=null!=this.props.displayOrg?this.props.displayOrg.getAvailableLicenseCount():void 0;return!this.getDisabledReason()&&!this.props.selected&&!(f(null!=this.props?this.props.member:void 0,(e=>e.wouldBecomeBillableGuest))&&(!(null!=this.props.displayOrg?this.props.displayOrg.owned():void 0)||(null!=this.props?this.props.isDesktop:void 0)))&&(f(null!=this.props?this.props.member:void 0,(e=>e.wouldBecomeBillableGuest))&&e>0||!f(null!=this.props?this.props.member:void 0,(e=>e.wouldBecomeBillableGuest)))}onMouseDown(e){const{onShowMultiBoardGuestAlert:t,member:n}=this.props,i=-1!==e.target.className.indexOf("icon-close");return null!=t&&n.blockInvite&&!i&&t(!0),this.isClickable()?(null!=this.props?this.props.onMouseDown:void 0)?this.props.onMouseDown(e):void 0:e.preventDefault()}onMouseOver(e){if(!this.state.mgbAlertSeen&&this.showMultiBoardGuestAlert())return this.setState({mgbAlertSeen:!0}),o("invite to board","shows","mbg alert","","","by hovering over the guest in the dropdown",{organizationid:null!=this.props.displayOrg?this.props.displayOrg.id:void 0,memberid:this.props.member.id})}onRemoveClick(e){const{onRemoveClick:t,onShowMultiBoardGuestAlert:n,member:i}=this.props;return i.blockInvite&&null!=n&&n(!1),t(e)}}function f(e,t){return null!=e?t(e):void 0}v.initClass(),e.exports=v},"./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js":function(e,t,n){const{naiveShouldComponentUpdate:i}=n("./app/scripts/lib/util/naive-should-component-update.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),s=n("./app/scripts/lib/localize-count.js"),{trackUe:o}=n("./packages/analytics/index.ts");class l extends a.Component{static initClass(){this.prototype.displayName="AutoCompleteMultiBoardGuestAlert",this.prototype.shouldComponentUpdate=i,this.prototype.render=r.renderable((function(){const{displayOrg:e,isDesktop:t}=this.props,n=null!=e?e.owned():void 0,i=null!=e?e.get("url"):void 0;return r.div({onMouseDown:this.onMouseDown.bind(this)},(()=>{if(n&&e&&!t)e.getAvailableLicenseCount()>0?r.format("multi-board-guest-alert-as-admin"):r.format("multi-board-guest-alert-as-admin-no-seats");else if(t)r.format("multi-board-guest-alert-desktop");else if(null!=e){const t=e.adminList.map((e=>e.get("fullName")||e.get("username")));if(1===t.length)r.format("multi-board-guest-alert-as-member-with-1-admin",{admin1:t[0]});else if(2===t.length)r.format("multi-board-guest-alert-as-member-with-2-admins",{admin1:t[0],admin2:t[1]});else if(3===t.length)r.format("multi-board-guest-alert-as-member-with-3-admins",{admin1:t[0],admin2:t[1],admin3:t[2]});else{const e=s("others",t.length-3);r.format("multi-board-guest-alert-as-member-with-more-admins",{admin1:t[0],admin2:t[1],admin3:t[2],others:e,othersUrl:"".concat(i,"/members")})}}else r.format("multi-board-guest-alert-as-guest");if(!t){r.text(" ");const t="https://help.trello.com/article/1123-multi-board-guests";return r.a({href:t,target:"_blank",onMouseDown:n=>(window.open(t,"_blank"),o("invite to board","clicks","mbg learn more link","","","by clicking on learn more link",{organizationid:e.id}),n.preventDefault(),n.stopPropagation())},(()=>r.format("learn-more")))}}))}))}constructor(e){super(e)}onMouseDown(e){if(e.target.classList.contains("stop-propagation")&&(e.preventDefault(),e.target.href))return window.open(e.target.href,"_blank")}}l.initClass(),e.exports=l},"./app/scripts/views/organization/member-limits-error.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),{Auth:a}=n("./app/scripts/db/auth.js"),r=n("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayOrgMemberLimitsError:function(e,t,n){const s=(null!=t?t.isOverLimit("orgs","totalMembersPerOrg"):void 0)?{message:"members exceeds total per org limit",params:{orgName:t.get("name"),orgId:t.get("id")}}:(null!=n?n.isOverLimit("orgs","totalPerMember"):void 0)?a.isMe(n)?{message:"your orgs exceed total per member limit"}:{message:"orgs exceeds total per member limit",params:{memberName:n.get("name")}}:void 0;return null!=s&&(r(i.extend({trackingArea:"orgMemberLimit",elem:e},s)),!0)}}},"./app/scripts/views/plugin/plugin-badge-view.js":function(e,t,n){const i=n("./app/scripts/views/plugin/plugin-view.js"),a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/internal/teacup-with-helpers.js")(),s=n("./node_modules/xtend/immutable.js"),{IconQuietColor:o}=n("./packages/nachos/tokens.ts"),l=r.renderable((function({icon:e,text:t,iconColor:n,iconColorClass:i}){if(null!=e&&r.span(".badge-icon.icon-sm.plugin-icon".concat(i),{style:r.stylify({"background-image":r.urlify(r.addRecolorParam(e,"?color=".concat(n)))})}),t)return r.span(".badge-text",(()=>r.text(t)))})),c={blue:"plugin-color-blue",green:"plugin-color-green",orange:"plugin-color-orange",red:"plugin-color-red",yellow:"plugin-color-yellow",purple:"plugin-color-purple",pink:"plugin-color-pink",sky:"plugin-color-sky",lime:"plugin-color-lime","light-gray":"plugin-color-light-gray"},d=a.values(c).join(" ");class u extends i{static initClass(){this.prototype.tagName="div",this.prototype.className="badge"}initialize({pluginBadge:e}){this.pluginBadge=e}renderBadge(e){return this.$el.html(l(e)),this.$el}render(){const e=this.pluginBadge,t=(n=e.color,c[n]);var n;const i=null!=t&&"light-gray"!==e.color,a=i?"fff":o.substr(1).toLowerCase();let r=i?".mod-invert":".mod-quiet";!1===e.monochrome&&(r=".mod-reset");const l=this.renderBadge(s(e,{iconColor:a,iconColorClass:r}));return l.removeClass(d),null!=t&&l.addClass(t),this}updateBadge(e){if(!a.isEqual(this.pluginBadge,e))return this.pluginBadge=e,this.render(e)}}u.initClass(),e.exports=u},"./app/scripts/views/plugin/plugin-badges-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),r=n("./app/scripts/lib/plugins/plugin-validators.js"),s=n("./app/scripts/views/plugin/plugin-badge-view.js"),o=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),l=n("./app/scripts/views/internal/plugins/plugin-runner.js"),c=n("./app/scripts/views/plugin/plugin-view.js"),d=n("./node_modules/bluebird/js/browser/bluebird.js"),{DropboxPluginId:u,DropboxClaimedHosts:p}=n("./app/scripts/data/dropbox.js"),{sendPluginViewedComponentEvent:m}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{trackUe:h}=n("./packages/analytics/index.ts"),g=n("./node_modules/underscore/underscore.js");let b=n("./resources/images/dropbox-mark.svg");b.startsWith("https://")||(b=window.location.origin+b);const v={};let f=null,_={};e.exports=(i=class extends c{static initClass(){this.prototype.tagName="span",this.prototype.badgeView=s,this.prototype.vigor=this.VIGOR.NONE}isDetailView(){return!1}runnerOptions(){return{command:"card-badges",board:this.model.getBoard(),card:this.model,timeout:1e4,options:{attachments:o.attachments(this.model.attachmentList.models,["id","name","url"])}}}_cacheKey(){const{command:e,board:t,card:n}=this.runnerOptions();return[e,null==t?void 0:t.id,null==n?void 0:n.id].join(":")}requestBadges(){const e=this.callback((e=>{var t;const n=g.filter(e,r.isValidBadge);if(!(this.isDetailView()||null!==(t=this.model.getBoard())&&void 0!==t&&t.isPluginEnabled(u))){const e=this.model.attachmentList.filter((e=>p.includes(function(e){try{return new URL(e).host}catch(t){return e}}(e.get("url"))))).length;e>0&&n.push({icon:b,text:e,idPlugin:u})}const i=(this.latestRun||0)+1;this.latestRun=i;const a=[],s=()=>this.latestRun===i,o=()=>{if(s())return this.renderResolvedBadges(a),v[this._cacheKey()]=a.map((e=>g.omit(e,"callback")))};return this.cancelOnRemove(d.map(n,((e,t)=>{if(this.retain(e),null!=e.dynamic){const n=()=>{const i=e.dynamic().cancellable().then((e=>{if(!r.isValidBadge(e))return a[t]=void 0,void o();if(a[t]=e,o(),e.refresh&&s()){let t=Math.max(10,e.refresh);return t+=2*Math.random()-1,this.setTimeout(n,1e3*t)}})).catch(l.Error.NotHandled,(()=>null));return this.cancelOnRemove(i),i};return n()}return a[t]=e}))).cancellable().then((()=>o())).catch(d.CancellationError,(function(){}))}));return l.all(this.runnerOptions()).then(e)}renderOnce(){var e;let t;null!=(t=v[this._cacheKey()])&&this.renderResolvedBadges(t);const n=null===(e=this.model.getBoard())||void 0===e?void 0:e.id;return n&&n!==f&&(f=n,_={}),this.whenIdle("plugin_badges_render_".concat(this.cid),(()=>{const e=this.runnerOptions();this.latestRun=0;const t=this.debounce((()=>this.requestBadges()),500);this.listenTo(this.model,"change:dateLastActivity",t),this.listenTo(this.model.attachmentList,"add remove reset change",t);const n=a(e.board,e.card);return this.subscribe(n,g.after(2,(e=>t()))),this.waitForId(this.model,(()=>this.requestBadges()))})),this}trackBadges(e){if(!_[e])return _[e]=!0,h("board view","views","Power-Up","","","card-badges",e),m({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}renderResolvedBadges(e){const t=this.isDetailView(),n=g.filter(e,(e=>r.isRenderableBadge(e,t))).map(((e,t)=>{this.trackBadges(e.idPlugin);const n=this.subview(this.badgeView,this.model,{pluginBadge:e},t);return n.updateBadge(e),n}));return this.ensureSubviews(n)}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-board-view.js":function(e,t,n){const{importWithRetry:i}=n("./packages/use-lazy-component/index.ts"),a=n("./node_modules/react/index.js"),{Auth:r}=n("./app/scripts/db/auth.js"),s=n("./app/scripts/views/internal/plugins/plugin-runner.js"),{ModelLoader:o}=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/plugin/plugin-header-buttons-view.js"),{Controller:c}=n("./app/scripts/controller/index.js"),d=n("./app/scripts/views/lib/dialog.js"),{Analytics:u}=n("./packages/atlassian-analytics/index.ts"),{featureFlagClient:p,seesVersionedVariation:m}=n("./packages/feature-flag-client/index.ts"),{PremiumFeature:h}=n("./packages/product-features/index.ts"),g=n("./app/scripts/lib/window-size.js"),b=n("./app/scripts/views/directory/directory-view.js"),v=n("./app/scripts/views/lib/pop-over.js"),{sendPluginUIEvent:f,sendPluginScreenEvent:_}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),{LegacyPowerUps:k}=n("./app/scripts/data/legacy-power-ups.js"),{Noun:y,Verb:E,track:w,trackUe:C}=n("./packages/analytics/index.ts"),{renderComponent:T}=n("./app/src/components/ComponentWrapper/index.ts"),{CalendarBoardButton:O}=n("./app/scripts/views/board/calendar-board-button.tsx"),j=n("./app/scripts/views/board-menu/card-filter-view.js"),{navigate:A}=n("./app/scripts/controller/navigate.js"),{isUrl:x}=n("./app/gamma/src/util/url.ts"),N=n("./app/scripts/views/plugin/plugin-view-view.js"),{BUTLER_POWER_UP_ID:S}=n("./app/scripts/data/butler-id.js"),I=n("./packages/config/index.ts").customFieldsId,D=n("./packages/config/index.ts").mapPowerUpId,B=k.calendar;e.exports.reloadCustomFields=function(){if(this.model.isPluginEnabled(I))return setTimeout((()=>o.loadCustomFields(this.model.id)),1e3)},e.exports.renderPluginButtons=function(){return null!=this.pluginHeaderButtonsView?this.pluginHeaderButtonsView.requestButtonsDebounced():this.pluginHeaderButtonsView=this.subview(l,this.model),this.appendSubview(this.pluginHeaderButtonsView,this.$(".js-plugin-header-btns")),this},e.exports.renderBoardHeaderCalendar=function(e){null==e&&(e={});const t=this.$(".js-calendar-board-btn");if(!t.length)return;const n=this.model.isPowerUpEnabled("calendar");return t.toggleClass("hide",!n),n?T(a.createElement(O,{backgroundBrightness:this.model.get("prefs").backgroundBrightness,onClick:()=>(f({idPlugin:k.calendar,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),this.toggleCalendar())}),t[0]):void 0},e.exports.navigateToBoard=function(){const e=c.getBoardUrl(this.model.id);return A(e,{trigger:!0})},e.exports.closeDetailView=function(){d.hide(!0),this.closeCalendar(!1),this.closeDirectory(!1),this.closeMap(!1),this.closeButler(!1),this.closeSingleBoardView(),this.closePowerUpView(!1)},e.exports.clickCloseDirectory=function(){return this.directoryView&&u.sendClickedButtonEvent({buttonName:"boardDirectoryCloseButton",attributes:{boardId:this.model.id,organizationId:this.model.get("idOrganization")},source:this.directoryView.activeEventSource()}),this.toggleDirectory()},e.exports.toggleDirectory=function(){return this.directoryView?this.directoryReturnCard?(this.closeDirectory(!1),c.showCardDetail(this.directoryReturnCard),this.directoryReturnCard=null):this.navigateToBoard():this.navigateToDirectory()},e.exports.navigateToDirectory=function(e){const t=c.getBoardUrl(this.model.id,"power-ups");if(A(t,{trigger:!0}),this.directoryReturnCard=e,!g.fExtraLarge)return this.sidebarView.hideSidebar()},e.exports.showDirectory=function(e,t,n,i){return this.$("#board").addClass("hide"),this.directoryView=new b({model:this.model,modelCache:this.modelCache,section:e,category:t,idPlugin:n,isEnabling:i,boardView:this}),this.$(".board-canvas").append(this.directoryView.render().el)},e.exports.closeDirectory=function(e){null==e&&(e=!0),null!=this.directoryView&&(this.directoryView.remove(),this.directoryView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleCalendar=function(){return this.calendarView?this.calendarReturnCard?(this.closeCalendar(!1),c.showCardDetail(this.calendarReturnCard),this.calendarReturnCard=null):this.navigateToBoardEvent():this.navigateToCalendarEvent()},e.exports.dismissFeedback=function(){r.me().setPluginDataByKey(B,"private","dismissedFeedback",!0),this.$(".calendar-header-toolbar-feedback").addClass("hide")},e.exports.navigateToCalendarEvent=function(){return w("Board Header","Open Calendar View via Header"),C("board view","opens","Power-Up","","","board-button",k.calendar),_({idPlugin:k.calendar,idBoard:this.model.id,screenName:"calendarViewScreen"}),this.navigateToCalendar()},e.exports.navigateToCalendar=function(e){this.calendarReturnCard=e;const t=c.getBoardUrl(this.model.id,"calendar");return A(t,{trigger:!0})},e.exports.navigateToBoardEvent=function(){return this.navigateToBoard()},e.exports.isShowingCalendar=function(){return null!=this.calendarView},e.exports.showCalendar=function(e){if(this.model.isPowerUpEnabled("calendar")&&!this.isShowingCalendar())return this.$(".calendar-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),i((()=>n.e(51).then(n.t.bind(null,"./app/scripts/views/calendar/calendar-controller-view.js",7)))).then((e=>e.default)).then((t=>(this.calendarView=new t({model:this.model,modelCache:this.modelCache}),this.$(".board-canvas").append(this.calendarView.render(e).el),this.calendarView.addedToDOM(),this.renderBoardViewsButtonDebounced())))},e.exports.closeCalendar=function(e){null==e&&(e=!0),null!=this.calendarView&&(this.calendarView.remove(),this.calendarView=null,e&&this.navigateToBoard(),this.$(".calendar-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.renderBoardViewsButtonDebounced(),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleFilter=function(e){var t,n;return u.sendClickedButtonEvent({buttonName:"viewsCardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}}),v.isVisible?this.closeFilter():this.showFilter(e)},e.exports.showFilter=function(e){const t=new j({model:this.model.filter,modelCache:this.modelCache});return v.show({elem:this.$(".js-header-filter-btn"),view:t,isFilterPopover:!0,clearFilter:()=>{t.clearFilter()},alignRight:!0}),this.renderBoardViewsButtonDebounced()},e.exports.closeFilter=function(){v.hide(),this.renderBoardViewsButtonDebounced()},e.exports.toggleMap=function(){return f({idPlugin:D,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),this.mapView?this.mapReturnCard?(this.closeMap(!1),c.showCardDetail(this.mapReturnCard),this.mapReturnCard=null):this.navigateToBoardEvent():this.navigateToMapEvent()},e.exports.navigateToMapEvent=function(){return C("board view","opens","Power-Up","","","board-button",D),C(y.BOARD,E.OPENS,y.BOARD_MAP,"","","by clicking the map button",{idBoard:this.model.id}),this.navigateToMap()},e.exports.navigateToMap=function(e,t){this.mapCenterTo=e,this.mapReturnCard=t;const n=c.getBoardUrl(this.model.id,"map");return A(n,{trigger:!0})},e.exports.showMap=function({mapCenterTo:e,zoom:t}){if(this.model.isMapPowerUpEnabled()&&null==this.mapView)return this.$(".js-map-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),i((()=>n.e(115).then(n.t.bind(null,"./app/scripts/views/map/map-view.js",7)))).then((e=>e.default)).then((n=>(this.mapView=new n({model:this.model,modelCache:this.modelCache,mapCenterTo:this.mapCenterTo||e,zoom:t}),this.$(".board-canvas").append(this.mapView.render().el),this.renderBoardViewsButtonDebounced())))},e.exports.closeMap=function(e){null==e&&(e=!0),null!=this.mapView&&(this.mapView.remove(),this.mapView=null,e&&this.navigateToBoard(),this.$(".js-map-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced())},e.exports.renderBoardHeaderMap=function(){if(!this.model.isMapCore())return this.model.isMapPowerUpEnabled()?this.$(".js-map-btn").removeClass("hide"):this.$(".js-map-btn").addClass("hide"),this;this.$(".js-map-btn").addClass("hide")},e.exports.showDashboard=async function(){this.$("#board").addClass("hide");const e=this.model,t=m("wildcard.board-dashboard-view","stable"),r=e.isFeatureEnabled(h.Views);if(t&&r){const{BoardDashboardView:t}=await i((()=>n.e(38).then(n.bind(null,"./app/src/components/BoardDashboardView/index.ts"))));T(a.createElement(t,{idBoard:e.id,navigateToBoardView:this.navigateToBoard.bind(this)}),this.$(".js-board-view-container").get(0))}else this.navigateToBoard()},e.exports.showPowerUpView=async function({idPlugin:e,viewKey:t}){if(!this.model.isPluginEnabled(e))return;const n=(await s.one({plugin:e,command:"board-views",board:this.model})).find((e=>e.key===t));if(!n)return console.warn("Power-Up View not found."),void this.navigateToBoard();this.pluginView=new N({model:this.model,content:n}),this.$("#board").addClass("hide"),this.$(".board-canvas").append(this.pluginView.render().el),this.renderBoardViewsButtonDebounced()},e.exports.closePowerUpView=function(e){null==e&&(e=!0),null!=this.pluginView&&(this.pluginView.remove(),this.pluginView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleButler=function(e){return this.butlerView||null==e?this.navigateToBoardEvent():(this.butlerUrl=e,void this.showButler())},e.exports.navigateToButler=function(){const e=c.getBoardUrl(this.model.id,"butler");return A(e,{trigger:!0})},e.exports.navigateToButlerView=function({tab:e,edit:t,log:n,newCommand:i,newIcon:a,newLabel:r}={}){const s={};i&&(s.c=i,t="new",a&&(s.i=a),r&&(s.l=r));const o=P(this.model.id,{tab:e,edit:t,log:n}),l=i?"?".concat(new URLSearchParams(s).toString()):"";A("".concat(o).concat(l),{trigger:!0})};const P=function(e,{tab:t=null,edit:n=null,log:i=null}={}){const a=[];t&&a.push(t),n&&"new"===n&&t?a.push("new"):n?a.push("edit",n):i&&a.push("log",i);return c.getBoardUrl(e,"butler",a)};e.exports.isButlerViewActive=function(){return!!this.butlerView},e.exports.toggleButlerView=function(){if(this.butlerView)return this.closeButler();const e=P(this.model.id);return A(e,{trigger:!0})},e.exports.setButlerView=function(e){if(x(e))return this.$("#board").addClass("hide"),i((()=>n.e(50).then(n.t.bind(null,"./app/scripts/views/butler/butler-view.js",7)))).then((({default:t})=>{this.butlerView&&this.butlerView.remove(),this.butlerView=new t({butlerUrl:e}),this.$(".board-canvas").append(this.butlerView.render().el)}));this.navigateToBoard()},e.exports.showButlerView=function({butlerTab:e,butlerCmdEdit:t,butlerCmdLog:n,newCommand:i,newIcon:a,newLabel:r}={}){null==this.butlerView&&(this.model.editable()?s.one({plugin:S,command:"show-settings",board:this.model,options:{butlerTab:e,butlerCmdEdit:t,butlerCmdLog:n,newCommand:i,newIcon:a,newLabel:r}}).then((e=>{if(this.model.canShowButlerUI())return this.setButlerView(e);this.closeButler(),this.navigateToBoard()})):this.navigateToBoardEvent())},e.exports.showButler=function({butlerTab:e,butlerCmdEdit:t,butlerCmdLog:a,newCommand:r,newIcon:o,newLabel:l}={}){if(p.get("workflowers.new-butler-board-button",!1))return this.showButlerView({butlerTab:e,butlerCmdEdit:t,butlerCmdLog:a,newCommand:r,newIcon:o,newLabel:l});if(null==this.butlerView){if(this.model.editable())return null==this.butlerUrl||null!=e||null!=t||null!=a?(this.$("#board").addClass("hide"),void s.one({plugin:S,command:"show-settings",board:this.model,options:{butlerTab:e,butlerCmdEdit:t,butlerCmdLog:a,newCommand:r,newIcon:o,newLabel:l}}).then((()=>{if(this.model.canShowButlerUI())return this.showButler();this.closeButler(),this.navigateToBoard()}))):(this.$("#board").addClass("hide"),i((()=>n.e(50).then(n.t.bind(null,"./app/scripts/views/butler/butler-view.js",7)))).then((e=>e.default)).then((e=>(this.butlerView&&this.butlerView.remove(),this.butlerView=new e({butlerUrl:this.butlerUrl}),this.$(".board-canvas").append(this.butlerView.render().el)))));this.navigateToBoardEvent()}},e.exports.closeButler=function(e){null==e&&(e=!0),null!=this.butlerView&&(this.butlerView.remove(),this.butlerView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))}},"./app/scripts/views/plugin/plugin-button-view.js":function(e,t,n){let i;const a=n("./app/scripts/lib/plugins/plugin-validators.js"),r=n("./app/scripts/views/plugin/plugin-view.js"),s=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js");e.exports=(i=class extends r{static initClass(){this.prototype.events={click(e){if(o.stopPropagation(e),"function"==typeof this.trackClick&&this.trackClick(this.pluginButton),null!=this.pluginButton.callback){const t=e.target.closest(".button-link")||e.target.closest(".board-header-btn")||e.target.closest("a")||e.target;return this.isPopOverShowing(t)?s.hide():this.pluginButton.callback({el:t}).done()}}}}tagName(){return null!=this.options.pluginButton.url?"a":"span"}attributes(){const{url:e,target:t}=this.options.pluginButton;if(e&&a.isValidUrlForIframe(e))return{href:e,target:null!=t?t:e,rel:"noreferrer nofollow noopener"}}initialize({pluginButton:e}){return this.pluginButton=e,this.retain(this.pluginButton)}template(){throw Error("no template specified")}isPopOverShowing(e){return s.contains(e)||s.toggledBy(e)}renderOnce(){return this.$el.html(this.template(this.pluginButton)),this}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-buttons-view.js":function(e,t,n){let i;const a=n("./node_modules/underscore/underscore.js"),{Auth:r}=n("./app/scripts/db/auth.js"),s=n("./app/scripts/views/internal/plugins/plugin-runner.js"),o=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),l=n("./app/scripts/views/plugin/plugin-view.js");e.exports=(i=class extends l{static initClass(){this.prototype.buttonsSelector=".js-button-list",this.prototype.buttonView=null,this.prototype.vigor=this.VIGOR.NONE}initialize(){return this.requestButtonsDebounced=a.debounce((()=>this.requestButtons()),500)}hideContainer(e){return null==e||0===e.length}renderContainer(){return this.$el}runnerOptions(){throw Error("runnerOptions not specified")}renderButtons(e){const t=this.renderContainer(e);this.$el.toggleClass("hide",this.hideContainer(e)),this.removeSubviews();const n=a.sortBy(e,"text").map(((e,t)=>null!=e.view?this.subview(e.view,this.model,{},t):this.subview(this.buttonView,this.model,{pluginButton:e},t)));return this.appendSubviews(n,t)}requestButtons(){return s.all(this.runnerOptions()).then((e=>(e=a.filter(e,(e=>{if(a.isArray(e)||!a.isObject(e)||null==e||!e.text)return!1;if(null==e.condition)return this.model.editable();switch(e.condition){case"admin":return"Card"===this.model.typeName?this.model.getBoard().owned():"Board"===this.model.typeName&&this.model.owned();case"edit":return this.model.editable();case"readOnly":return!this.model.editable();case"signedIn":return r.isLoggedIn();case"signedOut":return!r.isLoggedIn();case"always":return!0;default:return!1}})),this.renderButtons(e)))).catch((()=>"undefined"!=typeof console&&null!==console?console.warn("Failed to request Power-Up buttons."):void 0))}renderOnce(){const e=this.runnerOptions();return this.subscribe(o(e.board,e.card),this.requestButtonsDebounced),this}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-header-button-view.js":function(e,t,n){let i;const a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/plugin/plugin-button-view.js"),s=n("./app/scripts/views/internal/teacup-with-helpers.js")(),{track:o,trackUe:l}=n("./packages/analytics/index.ts"),{sendPluginUIEvent:c}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),d=s.renderable((function({icon:e,text:t,monochrome:n}){const i="light"===this.model.get("prefs").backgroundBrightness,r=(()=>{if(a.isString(e)){const t=i?"000":"fff";return s.addRecolorParam(e,"?color=".concat(t))}return i&&a.isString(null==e?void 0:e.light)?e.light:!i&&a.isString(null==e?void 0:e.dark)?e.dark:void 0})(),o=a.isString(e)||!1!==n;null!=r&&s.span(".board-header-btn-icon.icon-sm.plugin-icon",{class:s.classify({recolorable:o,"mod-reset":!1===n,"mod-invert":o&&!i}),style:s.stylify({"background-image":s.urlify(r)})}),s.span(".board-header-btn-text",(()=>s.text(t)))}));e.exports=(i=class extends r{static initClass(){this.prototype.template=d}className(){var e;return null!=(null===(e=this.options.pluginButton)||void 0===e?void 0:e.icon)?"board-header-btn":"board-header-btn board-header-btn-without-icon"}trackClick(e){return o("Board Header","Board Plugin Button",e.text),l("board view","opens","Power-Up","","","board-button",e.idPlugin),c({idPlugin:e.idPlugin,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}})}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-header-buttons-view.js":function(e,t,n){let i;const a=n("./app/scripts/views/plugin/plugin-buttons-view.js"),r=n("./app/scripts/views/plugin/plugin-header-button-view.js");e.exports=(i=class extends a{static initClass(){this.prototype.tagName="span",this.prototype.className="board-header-plugin-btns",this.prototype.buttonView=r}runnerOptions(){return{command:"board-buttons",timeout:1e4,board:this.model}}},i.initClass(),i=i)},"./app/scripts/views/plugin/plugin-view-view.js":function(e,t,n){let i;const a=n("./node_modules/hearsay/lib/index.js"),r=(n("./node_modules/bluebird/js/browser/bluebird.js"),n("./app/scripts/views/plugin/plugin-view.js")),{sandboxParams:s}=n("./app/scripts/data/plugin-iframe-sandbox.js"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")(),l=o.renderable((function({content:e}){o.iframe(".plugin-iframe",{allow:"microphone; camera",sandbox:s,src:e.url}),o.div(".plugin-iframe-popover-overlay")}));e.exports=(i=class extends r{static initClass(){this.prototype.className="plugin-view js-plugin-iframe-container"}initialize({content:e}){return this.content=e,this.filterSlot=new a.Slot(null),this.listenTo(this.model.filter,"change",(()=>{this.filterSlot.set(new Date)})),this.retain(this.content)}renderOnce(){return this.$el.html(l({content:this.content})),this.initIFrames(this.model,void 0,this.filterSlot),this}},i.initClass(),i=i)},"./app/scripts/views/power-ups/calendar-settings-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),{Auth:r}=n("./app/scripts/db/auth.js"),s=n("./app/scripts/lib/util/index.js"),o=n("./app/scripts/views/internal/view.js"),l=n("./app/scripts/views/templates/power_ups_calendar_prefs.js");class c extends o{static initClass(){this.prototype.viewTitleKey="calendar settings",this.prototype.events={"click .js-calendar-pref-feed:not(.disabled)":"selectFeedEnabled","click .js-calendar-feed-url:not(:disabled)":"focusInput","click .js-regen-calendar-url:not(.disabled)":"generateNewFeedURL"}}initialize(){return this.generating=!1,this.listenTo(this.model,{"change:prefs":this.render,"change:myPrefs.calendarKey":this.generationComplete})}generationComplete(){return this.generating=!1,this.render()}generateNewFeedURL(e){return s.stop(e),this.generating=!0,this.model.generateCalendarKey(),this.render()}render(){const{prefs:e}=this.model.toJSON({prefs:!0}),t=this.model.getPref("calendarKey"),n="https://".concat(location.host,"/calendar/")+"".concat(r.me().id,"/").concat(this.model.id,"/").concat(t,".ics");return t||(this.generating=!0,this.model.generateCalendarKey()),this.$el.html(l({isEnabled:e.calendarFeedEnabled,isGenerated:null!=t&&!this.generating,url:n,canChange:this.model.editable()})),this}focusInput(e){return this.$(".js-calendar-feed-url").focus().select()}selectFeedEnabled(e){s.stop(e);const t="enabled"===i(e.target).closest("a").attr("name"),n=a.startTask({taskName:"edit-plugin/calendar",source:"calendarSettingsInlineDialog"}),r=this.model.getPref("calendarFeedEnabled");return this.model.setPrefWithTracing("calendarFeedEnabled",t,{taskName:"edit-plugin/calendar",source:"calendarSettingsInlineDialog",traceId:n,next:e=>{var i,s;e||a.sendUpdatedBoardFieldEvent({field:"calendarFeedEnabledPref",source:"calendarSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(i=this.model)||void 0===i||null===(s=i.getOrganization())||void 0===s?void 0:s.id}},attributes:{taskId:n,change:r!==t,previous:r}})}})}}c.initClass(),e.exports=c},"./app/scripts/views/power-ups/card-aging-settings-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/views/templates/power_ups_card_aging_prefs.js");class l extends s{static initClass(){this.prototype.viewTitleKey="card aging settings",this.prototype.events={"click .js-select:not(.disabled)":"selectMode"}}initialize(){return this.listenTo(this.model,{"change:prefs":this.render})}render(){return this.$el.html(o({agingMode:this.model.getPref("cardAging"),canChange:this.model.editable()})),this}selectMode(e){r.stop(e);const t=a.startTask({taskName:"edit-plugin/cardAging",source:"cardAgingSettingsInlineDialog"}),n=i(e.target).closest(".js-select").attr("name"),s=this.model.getPref("cardAging");return this.model.setPrefWithTracing("cardAging",n,{taskName:"edit-plugin/cardAging",source:"cardAgingSettingsInlineDialog",traceId:t,next:(e,i)=>{i&&a.sendUpdatedBoardFieldEvent({field:"cardAgingPref",value:n,source:"cardAgingSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")},enterprise:{id:this.model.get("idEnterprise")}},attributes:{taskId:t,previous:s}})}})}}l.initClass(),e.exports=l},"./app/scripts/views/power-ups/voting-settings-view.js":function(e,t,n){const i=n("./packages/jquery/index.js"),{Analytics:a}=n("./packages/atlassian-analytics/index.ts"),r=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/internal/view.js"),o=n("./app/scripts/views/templates/power_ups_voting_prefs.js");class l extends s{static initClass(){this.prototype.viewTitleKey="voting settings",this.prototype.events={"click .js-voting-select:not(.disabled)":"selectPerm","click .js-vote-count-select:not(.disabled)":"hideVotes"}}initialize(){return this.listenTo(this.model,{"change:prefs":this.render})}render(){var e;return this.$el.html(o({canChange:this.model.editable(),canSetObservers:null===(e=this.model.getOrganization())||void 0===e?void 0:e.isFeatureEnabled("observers"),canSetOrganization:this.model.hasOrganization(),canSetPublic:this.model.isPublic(),votingMode:this.model.getPref("voting"),hideVotes:this.model.getPref("hideVotes")})),this}selectPerm(e){r.stop(e);const t=a.startTask({taskName:"edit-plugin/voting",source:"votingSettingsInlineDialog"}),n=i(e.target).closest(".js-voting-select").attr("name");this.model.setPrefWithTracing("voting",n,{taskName:"edit-plugin/voting",source:"votingSettingsInlineDialog",traceId:t,next:(e,i)=>{var r;i&&a.sendUpdatedBoardFieldEvent({field:"votingPref",value:n,source:"votingSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(r=this.model.getOrganization())||void 0===r?void 0:r.id}},attributes:{previous:this.model.getPref("voting"),taskId:t}})}})}hideVotes(e){r.stop(e);const t=a.startTask({taskName:"edit-plugin/voting",source:"votingSettingsInlineDialog"});this.model.setPrefWithTracing("hideVotes",!this.model.getPref("hideVotes"),{taskName:"edit-board/voting",source:"votingSettingsInlineDialog",traceId:t,next:(e,n)=>{var i;n&&a.sendUpdatedBoardFieldEvent({field:"hideVotesPref",value:this.model.getPref("hideVotes"),source:"votingSettingsInlineDialog",attributes:{taskId:t},containers:{board:{id:this.model.id},organization:{id:null===(i=this.model.getOrganization())||void 0===i?void 0:i.id}}})}})}}l.initClass(),e.exports=l},"./app/scripts/views/reactions/reaction-icon.js":function(e,t,n){const i=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions");class r extends i.Component{static initClass(){this.prototype.displayName="ReactionIcon",this.prototype.render=a.renderable((function(){const{disabled:e,withBorder:t,active:n,onClick:i}=this.props;return a.span({class:a.classify({"reactions-add":!0,"is-disabled":e,"mod-with-border":t,"is-active":n}),onClick:i},(()=>a.icon("add-reaction",{class:a.classify({"reactions-add-icon":!0}),title:a.l("add-reaction")})))}))}}r.initClass(),e.exports=r},"./app/scripts/views/reactions/reaction-piles.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/lib/alerts.js"),{Auth:r}=n("./app/scripts/db/auth.js"),{l:s}=n("./app/scripts/lib/localize.js"),{ModelCache:o}=n("./app/scripts/db/model-cache.js"),l=n("./app/scripts/views/internal/model-cache-listener.js"),c=n("./app/scripts/views/lib/pop-over.js"),d=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),{trackUe:u}=n("./packages/analytics/index.ts"),p=n("./app/scripts/views/lib/tooltip.js"),{Emoji:m}=n("./app/src/components/Emoji/Emoji.tsx"),h=n("./node_modules/react/index.js"),g=n("./app/scripts/views/reactions/reaction-icon.js"),b=n("./app/scripts/views/reactions/reaction-selector.js"),v=n("./app/scripts/views/reactions/reaction-tooltip.js"),f=n("./app/scripts/lib/util/index.js"),_=n("./node_modules/underscore/underscore.js"),{Analytics:k}=n("./packages/atlassian-analytics/index.ts"),{shouldFireConfetti:y}=n("./app/scripts/views/card/should-fire-confetti.ts"),E=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;class w extends h.Component{static initClass(){this.prototype.displayName="ReactionPiles",this.prototype.render=d.renderable((function(){const{canReact:e,renderReactIconWithBorder:t}=this.props,n=this.mapReactionListToPiles();return d.div(".reaction-piles",{class:d.classify({"reaction-piles-empty":!n.length,disabled:!e})},(()=>{for(const{reaction:e,count:t,mine:i}of Array.from(n))d.div(".reaction-pile-item",{class:d.classify({"my-reaction":i}),"data-reaction":e},(()=>(d.addElement(h.createElement(m,{emoji:e,onClick:this.handleEmojiClick,onOver:this.handleEmojiOver,onLeave:this.hideReactionTooltip})),d.span(".reaction-pile-count",(function(){return d.text(t>99?"99+":t)})))));return n.length||t?this.renderReactIcon():this.renderInlineReactIcon()}))}))}constructor(e){super(e),this.state={reactionSelectorOpen:!1,reactionList:this.props.reactionList},this.toggleReaction=this.toggleReaction.bind(this),this.showReactionTooltip=this.showReactionTooltip.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleEmojiOver=this.handleEmojiOver.bind(this),this.openReactionSelector=this.openReactionSelector.bind(this),this.renderInlineReactIcon=this.renderInlineReactIcon.bind(this),this._listen()}_listen(){return this._alertEvent("uniqueReactionLimit","unique-reaction-limit-exceeded"),this._alertEvent("totalReactionLimit","total-reaction-limit-exceeded"),this._alertEvent("addReactionError","add-reaction-error"),this._alertEvent("removeReactionError","remove-reaction-error"),this.props.modelListener(this.props.reactionList,"add remove reset",(()=>(this.props.onReactionChanged&&this.props.onReactionChanged(),this.setState({reactionList:this.props.reactionList})))),this.props.modelListener(this.props.reactionList,"add remove reset",(()=>this.setState({reactionList:this.props.reactionList})))}_alertEvent(e,t){return this.props.modelListener(this.props.reactionList,e,(e=>{const n=e?d.l(t,{number:e.disableAt,heart:"❤"}):d.l(t);a.showLiteralText(n,"error","reaction-piles",3e3)}))}trackWithData(e,t,n,i,a){const{category:r}=this.props.trackingContext,s=JSON.stringify(_.omit(this.props.trackingContext,"category"));return u(r,e,t,n,i,a,s)}toggleReaction(e,t){if(f.stop(t),!this.props.canReact)return;if(y(e.native)){const n=e.unified.toUpperCase();this.props.reactionList.findMyReaction(n)||E({angle:_.random(55,125),spread:_.random(50,70),particleCount:_.random(40,75),origin:{x:t.pageX/window.innerWidth,y:t.pageY/window.innerHeight}})}return this.props.reactionList.toggleReaction(this.props.actionId,e,(t=>{var n,i,a,r,s,o,l,c,d,u,p,m;t?k.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null===(n=this.props)||void 0===n||null===(i=n.trackingContext)||void 0===i?void 0:i.cardId},list:{id:null===(a=this.props)||void 0===a||null===(r=a.trackingContext)||void 0===r?void 0:r.listId},board:{id:null===(s=this.props)||void 0===s||null===(o=s.trackingContext)||void 0===o?void 0:o.boardId}},attributes:{addedTo:"comment",fromPile:!0}}):k.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null===(l=this.props)||void 0===l||null===(c=l.trackingContext)||void 0===c?void 0:c.cardId},list:{id:null===(d=this.props)||void 0===d||null===(u=d.trackingContext)||void 0===u?void 0:u.listId},board:{id:null===(p=this.props)||void 0===p||null===(m=p.trackingContext)||void 0===m?void 0:m.boardId}},attributes:{removedFrom:"comment",fromPile:!0}});return this.trackWithData(t?"adds":"removes","reaction",e.id,t?"to a comment":"from a comment","by clicking the pile")}))}showReactionTooltip(e,t){const n=i(t.currentTarget),a=e.colons;let l=!1,c=this.props.reactionList.chain().filter((e=>e.toEmojiMart().colons===a)).omit((function(e){const t=e.get("idMember")===r.myId();return t&&(l=!0),t})).map((e=>{var t;return null===(t=o.get("Member",e.get("idMember")))||void 0===t?void 0:t.get("fullName")})).compact().value();l&&(c=[s("You"),...Array.from(c)]);const d=new v({names:c,reaction:a});return p.show(d,n,!1,p.STYLE.MENU)}hideReactionTooltip(){return p.hide()}mapReactionListToPiles(){return this.props.reactionList.chain().groupBy((e=>e.toEmojiMart().colons)).pairs().map((function(...e){const[t,n]=Array.from(e[0]);return{reaction:t,count:n.length,mine:_.any(n,(e=>e.get("idMember")===r.myId()))}})).value()}handleEmojiClick(e,t){return this.hideReactionTooltip(),this.toggleReaction(e,t),this.props.onEmojiClick&&this.props.onEmojiClick(e,t)}handleEmojiOver(e,t){return this.showReactionTooltip(e,t),this.props.onEmojiOver&&this.props.onEmojiOver(e,t)}openReactionSelector(e){this.shouldSuppressTracking=!1;const t=i(e.currentTarget);f.stop(e),this.setState({reactionSelectorOpen:!0});const n="by clicking the picker button ".concat(t.parents(".inline-add-reaction").length>0?"inline":"next to reactions");if(this.state.reactionSelectorOpen){var a,r,s,o,l,d;if(this.shouldSuppressTracking=!0,c.popView(),this.setState({reactionSelectorOpen:!1}),this.sendGASEvent)k.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked picker button"},containers:{card:{id:null===(a=this.props)||void 0===a||null===(r=a.trackingContext)||void 0===r?void 0:r.cardId},list:{id:null===(s=this.props)||void 0===s||null===(o=s.trackingContext)||void 0===o?void 0:o.listId},board:{id:null===(l=this.props)||void 0===l||null===(d=l.trackingContext)||void 0===d?void 0:d.boardId}}});return void this.trackWithData("closes","reaction selector","","",n)}var u,p,m,h,g,v;this.sendGASEvent&&k.sendScreenEvent({name:"reactionSelectorInlineDialog",containers:{card:{id:null===(u=this.props)||void 0===u||null===(p=u.trackingContext)||void 0===p?void 0:p.cardId},list:{id:null===(m=this.props)||void 0===m||null===(h=m.trackingContext)||void 0===h?void 0:h.listId},board:{id:null===(g=this.props)||void 0===g||null===(v=g.trackingContext)||void 0===v?void 0:v.boardId}}});this.trackWithData("opens","reaction selector","","",n);const y={actionId:this.props.actionId,reactionList:this.props.reactionList,trackingContext:this.props.trackingContext,onReactionClick:(e,t)=>(f.stop(e),this.shouldSuppressTracking=!0,this.setState({reactionSelectorOpen:!1}),c.popView())};return c.show({elem:i(e.currentTarget),hideHeader:!0,displayType:"mod-reaction-selector",view:new b(y),showImmediately:!0,hidden:()=>_.defer((()=>{if(this.setState({reactionSelectorOpen:!1}),!this.shouldSuppressTracking){var e,t,n,i,a,r;if(this.sendGASEvent)k.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked outside the inline dialog"},containers:{card:{id:null===(e=this.props)||void 0===e||null===(t=e.trackingContext)||void 0===t?void 0:t.cardId},list:{id:null===(n=this.props)||void 0===n||null===(i=n.trackingContext)||void 0===i?void 0:i.listId},board:{id:null===(a=this.props)||void 0===a||null===(r=a.trackingContext)||void 0===r?void 0:r.boardId}}});return this.trackWithData("closes","reaction selector","","","by clicking outside")}}))})}renderReactIcon(){return d.div(".reaction-pile-selector",(()=>d.createElement(g,{disabled:!this.props.canReact,withBorder:!0,onClick:this.openReactionSelector,active:this.state.reactionSelectorOpen})))}renderInlineReactIcon(){return d.span(".inline-add-reaction.meta-add-reaction.quiet",(()=>d.createElement(g,{disabled:!this.props.canReact,withBorder:!1,onClick:this.openReactionSelector,active:this.state.reactionSelectorOpen})))}}w.initClass(),e.exports=l(w)},"./app/scripts/views/reactions/reaction-selector.js":function(e,t,n){const i=n("./packages/jquery/index.js"),a=n("./app/scripts/views/internal/view.js"),{trackUe:r}=n("./packages/analytics/index.ts"),s=n("./node_modules/underscore/underscore.js"),o=n("./node_modules/react/index.js"),l=n("./packages/react-dom-wrapper/index.ts"),c=n("./app/scripts/views/emoji/trello-emoji-picker.js"),{Analytics:d}=n("./packages/atlassian-analytics/index.ts"),{shouldFireConfetti:u}=n("./app/scripts/views/card/should-fire-confetti.ts"),p=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;e.exports=class extends a{constructor(e){super(e),this.trackWithData=this.trackWithData.bind(this),this.handleReactionClick=this.handleReactionClick.bind(this)}render(){return l.render(this.getEmojiPicker(),this.$el[0]),this.trackReactionClickEvents(),this}remove(){return l.unmountComponentAtNode(this.$el[0]),super.remove(...arguments)}trackWithData(e,t,n,i,a){const{category:o}=this.options.trackingContext,l=JSON.stringify(s.omit(this.options.trackingContext,"category"));return r(o,e,t,n,i,a,l)}trackReactionClickEvents(){const e=".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin";return i(document).off("click",e).on("click",e,(e=>{var t,n,a,r,s,o;e.stopPropagation();const l=i(e.currentTarget),c=l.is(".emoji-mart-anchor"),u=c?"reaction selector category button":l.is(".emoji-mart-skin-swatch")?"reaction selector skin tone button":l.is(".emoji-mart-skin")?"reaction selector skin tone menu":void 0;if(!u)return;const p="by clicking the ".concat(u),m=c?"reaction selector category":"reaction selector skin tone menu",h=c?l.attr("title"):l.is(".emoji-mart-skin")?"skin-tone-".concat(l.data("skin")):"";return d.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"reactionMenuIcon",source:"reactionSelectorInlineDialog",attributes:{target:u},containers:{card:{id:null===(t=this.options)||void 0===t||null===(n=t.trackingContext)||void 0===n?void 0:n.cardId},board:{id:null===(a=this.options)||void 0===a||null===(r=a.trackingContext)||void 0===r?void 0:r.boardId},list:{id:null===(s=this.options)||void 0===s||null===(o=s.trackingContext)||void 0===o?void 0:o.listId}}}),this.trackWithData("opens",m,h,"",p)})),i(document).on("input",".emoji-mart-search input",s.debounce((e=>{var t,n,i,a,r,s;return e.stopPropagation(),d.sendTrackEvent({action:"searched",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null===(t=this.options)||void 0===t||null===(n=t.trackingContext)||void 0===n?void 0:n.cardId},board:{id:null===(i=this.options)||void 0===i||null===(a=i.trackingContext)||void 0===a?void 0:a.boardId},list:{id:null===(r=this.options)||void 0===r||null===(s=r.trackingContext)||void 0===s?void 0:s.listId}}}),this.trackWithData("searches","reaction selector","","for emoji","by typing in the reaction selector search box")}),1e3))}handleReactionClick(e,t){if(u(e.native)){const n=e.unified.toUpperCase();this.options.reactionList.findMyReaction(n)||p({angle:s.random(55,125),spread:s.random(50,70),particleCount:s.random(40,75),origin:{x:t.pageX/window.innerWidth,y:t.pageY/window.innerHeight}})}return this.options.reactionList.toggleReaction(this.options.actionId,e,(t=>{var n,i,a,r,s,o,l,c,u,p,m,h;t?d.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null===(n=this.options)||void 0===n||null===(i=n.trackingContext)||void 0===i?void 0:i.cardId},list:{id:null===(a=this.options)||void 0===a||null===(r=a.trackingContext)||void 0===r?void 0:r.listId},board:{id:null===(s=this.options)||void 0===s||null===(o=s.trackingContext)||void 0===o?void 0:o.boardId}},attributes:{addedTo:"comment",emoji:e.id,fromPile:!1}}):d.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null===(l=this.options)||void 0===l||null===(c=l.trackingContext)||void 0===c?void 0:c.cardId},list:{id:null===(u=this.options)||void 0===u||null===(p=u.trackingContext)||void 0===p?void 0:p.listId},board:{id:null===(m=this.options)||void 0===m||null===(h=m.trackingContext)||void 0===h?void 0:h.boardId}},attributes:{removedFrom:"comment",emoji:e.id,fromPile:!1}});return this.trackWithData(t?"adds":"removes","reaction",e.id,t?"to a comment":"from a comment","by picking a reaction")})),this.options.onReactionClick&&this.options.onReactionClick(t,e)}getEmojiPicker(){return o.createElement(c,{onClick:this.handleReactionClick})}willBePopped(){return i(".js-open-reactions").removeClass("active"),i(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),i(document).off("input",".emoji-mart-search input")}}},"./app/scripts/views/reactions/reaction-tooltip.js":function(e,t,n){const{l:i}=n("./app/scripts/lib/localize.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("reactions"),r=n("./app/scripts/views/internal/view.js"),s=n("./node_modules/joinn/lib/joinn.js"),o=e=>a.render((()=>a.span(".reaction-fullname",(()=>a.text(e))))),l=e=>a.render((()=>a.strong((()=>a.text(e))))),c=a.renderable((function({names:e,reaction:t}){var n;const r=(null===(n=e)||void 0===n?void 0:n[0])===i("You")&&1===e.length;return e=e.map(o),a.div(".reaction-tooltip",(function(){return""!==e&&null==t?a.raw(s(e,", "," ".concat(a.l("and")," "))):r?a.raw(a.l("reaction-tooltip-you",{reaction:l(t)},{raw:!0})):1===e.length?a.raw(a.l("reaction-tooltip",{name:e[0],reaction:l(t)},{raw:!0})):e.length>1?a.raw(a.l("reaction-tooltip-plural",{names:s(e,", "," ".concat(a.l("and")," ")),reaction:l(t)},{raw:!0})):a.raw(l(t))}))}));e.exports=class extends r{renderOnce(){let{names:e}=this.options;const{reaction:t}=this.options;return null==e&&(e=[]),this.$el.append(c({names:e,reaction:t})),this}}},"./app/scripts/views/stickers/sticker-edit-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./packages/jquery/index.js"),o=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/stickers/sticker-view.js"),c=n("./app/scripts/lib/util/index.js"),d=n("./node_modules/underscore/underscore.js"),{Analytics:u,tracingCallback:p}=n("./packages/atlassian-analytics/index.ts");e.exports=function(){class e extends l{static initClass(){this.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave",mousedown:"editSticker","mousedown .js-remove-sticker":"removeSticker","mousedown .js-rotate-sticker":"startRotate","mousedown .js-move-sticker":"startMove"},this.editTraceId=null}initialize(){return this.listenTo(this.model,"stopEditing",this.stopEditing),this.listenTo(this.model,"startEditing",this.editSticker),this.listenTo(this.model,"disableEditing",this.disableEditing),this.listenTo(this.model,"enableEditing",this.enableEditing)}showEditControls(){return!0}disableEditing(){return this.$el.addClass("editing-disabled")}enableEditing(){return this.$el.removeClass("editing-disabled")}endCurrentEdit(){return s(document).off(".stickerrotate .stickermove .stickerautomove"),this.$el.removeClass("moving rotating"),s(".quick-card-editor").removeClass("invalid dragging")}stopEditing(e){if(c.stop(e),this.isEditing())return this.endCurrentEdit(),this.$el.removeClass("editing"),s(".quick-card-editor").removeClass("quick-card-editor-editing-stickers"),Array.from(this.model.collection.models).map((e=>e.trigger("enableEditing")))}isEditing(){return this.$el.is(".moving, .rotating, .editing")}isEditingDisabled(){return this.$el.is(".editing-disabled")}isMovingOrRotating(){return this.$el.is(".moving, .rotating")}saveStickerAttrs({position:e,rotation:t}){const n=e=>Math.round(100*e)/100,i={zIndex:this.model.collection.nextZIndex(this.model)};if(e){const e=this.$el.closest(".list-card").find(".js-card-stickers"),t=e.width(),a=e.height();i.left=n(parseFloat(this.$el.css("left"))/t*100),i.top=n(parseFloat(this.$el.css("top"))/a*100)}if(t){const e=c.getElemTransformMatrix(this.$el.find(".sticker-image"));i.rotate=n(c.getMatrixDegrees(e)%360)}this.model.update(a(a({},i),{},{traceId:this.editTraceId}),p({taskName:"edit-card/stickers",traceId:this.editTraceId,source:"stickerEditView",attributes:{action:t?"rotated":e?"moved":"edited"}},((n,i)=>{if(i){var a;const n=null===(a=this.options)||void 0===a?void 0:a.card;u.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerEditView",attributes:{taskId:this.editTraceId,action:t?"rotated":e?"moved":"edited"},containers:{card:{id:null==n?void 0:n.id},board:{id:null==n?void 0:n.get("idBoard")},list:{id:null==n?void 0:n.get("idList")}}})}})))}mouseenter(e){this.isEditingDisabled()||this.isEditing()||this.isMovingOrRotating()||this.$el.addClass("hover")}mouseleave(e){this.$el.removeClass("hover")}editSticker(e){let t;if(null!=e&&1!==e.which)return;if(c.stop(e),null!=e&&"mousedown"===e.type){const{pageX:n,pageY:i}=e,a=()=>(s(document).off(".stickerautomove"),clearTimeout(t));s(document).on("mousemove.stickerautomove",(e=>{if(Math.pow(e.pageX-n,2)+Math.pow(e.pageY-i,2)>25)return a(),this.startMove(e)})),s(document).on("mouseup.stickerautomove",a),t=this.setTimeout(a,1e3)}const n=d.clone(this.model.collection.models);for(const e of Array.from(n))e!==this.model&&(e.trigger("stopEditing"),e.trigger("disableEditing"));this.defer((()=>(o.hide(),this.$el.addClass("editing"),s(".quick-card-editor").addClass("quick-card-editor-editing-stickers"))))}startRotate(e){if(!this.isEditing())return;c.preventDefault(e),this.editTraceId=u.startTask({taskName:"edit-card/stickers",source:"stickerEditView",attributes:{action:"rotated"}});const t=this.$el.offset().left+this.$el.width()/2,n=this.$el.offset().top+this.$el.height()/2,i=e.pageX,a=e.pageY;let r=0;const o=c.getElemTransformMatrix(this.$el.find(".sticker-image"));null!=o&&(r=c.getMatrixDegrees(o));let l=!1;return s(document).on("mousemove.stickerrotate",(e=>{l||(this.$el.removeClass("hover").addClass("rotating"),s(".quick-card-editor").addClass("dragging"),l=!0);const o=e.pageX,d=e.pageY,u=o-t,p=d-n,m=c.getDegrees(a-n,i-t),h=c.getDegrees(p,u),g=r+(h-m);this.$el.find(".sticker-image").css({transform:"rotate(".concat(g,"deg)"),"-webkit-transform":"rotate(".concat(g,"deg)")})})),s(document).on("mouseup.stickerrotate",(()=>l?(this.saveStickerAttrs({rotation:!0}),this.endCurrentEdit()):s(document).off(".stickerrotate"))),!1}startMove(e){let t,n;if(!this.isEditing())return;c.stop(e),this.editTraceId=u.startTask({taskName:"edit-card/stickers",source:"stickerEditView",attributes:{action:"moved"}});const i=this.$el.closest(".list-card").find(".js-card-stickers"),{left:a,top:r}=i.offset(),o=this.$el.width(),l=this.$el.height(),d={left:-40,right:i.width()-10,top:-40,bottom:i.height()-10};null!=e?(t=this.$el.offset().left+this.$el.width()/2-e.pageX,n=this.$el.offset().top+this.$el.height()/2-e.pageY):(t=0,n=0);let p=!1;return s(document).on("mousemove.stickermove",(e=>{p||(this.$el.removeClass("hover").addClass("moving"),s(".quick-card-editor").addClass("dragging"),p=!0);let i=e.pageX-a-o/2+t,c=e.pageY-r-l/2+n,u=!0;return i>d.right&&(i=d.right,u=!1),i<d.left&&(i=d.left,u=!1),c>d.bottom&&(c=d.bottom,u=!1),c<d.top&&(c=d.top,u=!1),s(".quick-card-editor").toggleClass("invalid",!u),this.$el.css({left:i,top:c})})),s(document).on("mouseup.stickermove",(()=>p?(this.saveStickerAttrs({position:!0}),this.endCurrentEdit()):s(document).off(".stickermove"))),!1}removeSticker(e){if(this.isEditing()){const e=d.once((()=>{this.stopEditing(),this.model.destroyWithTracing({traceId:this.editTraceId},p({taskName:"edit-card/stickers",traceId:this.editTraceId,source:"stickerEditView",attributes:{action:"removed"}},((e,t)=>{if(t){var n;const e=null===(n=this.options)||void 0===n?void 0:n.card;u.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerEditView",attributes:{taskId:this.editTraceId,action:"removed"},containers:{card:{id:null==e?void 0:e.id},board:{id:null==e?void 0:e.get("idBoard")},list:{id:null==e?void 0:e.get("idList")}}})}}))),this.$el.remove()}));this.$el.one("transitionEnd webkitTransitionEnd",e),this.setTimeout(e,100),this.$el.addClass("fade-out")}}}return e.initClass(),e}()},"./app/scripts/views/stickers/sticker-view.js":function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=n("./packages/browser/index.ts"),o=n("./app/scripts/lib/util/index.js"),l=n("./app/scripts/views/internal/view.js"),{stickerSize:c}=n("./app/scripts/data/sticker-size.js"),{stickerClip:d}=n("./app/scripts/lib/util/sticker-clip.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_on_card"),p=n("./node_modules/bluebird/js/browser/bluebird.js"),{track:m}=n("./packages/analytics/index.ts"),{Analytics:h,tracingCallback:g}=n("./packages/atlassian-analytics/index.ts"),b=s.supportsFancyPeel(),v=u.renderable((function({url:e,rotate:t,image:i,showEditControls:a,showRemoveUI:r,isGiphySticker:s}){return r?(u.div({class:u.classify({"sticker-removing":!0,"giphy-sticker":s})},(function(){return u.div(".sticker-removing-highlight",{style:"transform: rotate(".concat(t,"deg)")}),b?(u.img(".sticker-remove-image.sticker-removing-residue",{src:n("./resources/images/stickers/residue.png"),style:"--sticker-rotation: ".concat(t,"deg; mask-image: ").concat(u.urlify(e),"; -webkit-mask-image: ").concat(u.urlify(e),";")}),u.img(".sticker-remove-image.sticker-removing-shadow",{src:e,style:"--sticker-rotation: ".concat(t,"deg")}),u.img(".sticker-remove-image.sticker-removing-fixed",{src:e,style:"--sticker-rotation: ".concat(t,"deg;")}),u.img(".sticker-remove-image.sticker-removing-peel",{src:e,style:"--sticker-rotation: ".concat(t,"deg")})):u.img(".sticker-remove-image.sticker-removing-fixed",{src:e,style:"transform: rotate(".concat(t,"deg)")})})),u.span(".sticker-control-btn.remove-btn.js-remove-sticker",{style:"display: none"},(()=>u.format("remove")))):(u.img({class:u.classify({"sticker-image":!0,"giphy-sticker":s}),src:e,style:"-webkit-transform: rotate(".concat(t,"deg);transform: rotate(").concat(t,"deg);"),alt:i}),a?u.div(".sticker-controls",(function(){return u.span(".sticker-control-btn.rotate-btn.js-rotate-sticker",(()=>u.format("rotate"))),u.span(".sticker-control-btn.move-btn.js-move-sticker",(()=>u.format("move"))),u.span(".sticker-control-btn.remove-btn.js-remove-sticker",(()=>u.format("remove")))})):void 0)})),f=function(e,t){null==t&&(t={});const n=e.getBoundingClientRect(),{left:i}=n,{top:a}=n,r=t.fixedWidth?i+t.fixedWidth():n.right,s=t.fixedHeight?a+t.fixedHeight():n.bottom;return{left:i,top:a,bottom:s,right:r,width:r-i,height:s-a,x:i+(r-i)/2,y:a+(s-a)/2}};let _=null;class k extends l{static initClass(){this.prototype.className="sticker"}initialize(){return super.initialize(...arguments),this.listenTo(this.model,"change",this.render)}showEditControls(){return!1}events(){return this.options.canRemove?{mouseenter(e){if(!this.showRemoveUI)return this.showRemoveUI=!0,this.render()},mouseleave:"mouseLeave",mousemove:"mouseMove",mousedown(e){if(!this.$(e.target).closest(".js-remove-sticker").length)return this.removeRemove()},"left-sticker":"removeRemove","mousemove .js-remove-sticker":e=>o.stop(e),"mouseenter .js-remove-sticker"(e){return this.$el.addClass("peeling")},"mouseleave .js-remove-sticker"(e){return this.$el.removeClass("peeling")},"click .js-remove-sticker"(e){return o.stop(e),this.removeSticker()}}:{}}render(){var e,t;const n=this.model.toJSON();return n.url=null!==(e=null===(t=o.smallestPreviewBiggerThan(n.imageScaled,c))||void 0===t?void 0:t.url)&&void 0!==e?e:n.imageUrl,n.showEditControls=this.showEditControls(),n.showRemoveUI=this.showRemoveUI,this.$el.html(v(n)).css({left:"".concat(d(n.left),"%"),top:"".concat(d(n.top),"%")}),this}mouseMove(e){return e.buttons?this.removeRemove():this.showingRemove?this.clearTimeouts():this.hoverTimeout?(this.currentX=e.offsetX,this.currentY=e.offsetY):(this.$el.siblings().trigger("left-sticker"),this.currentX=this.startX=e.offsetX,this.currentY=this.startY=e.offsetY,this.hoverTimeout=this.setTimeout((()=>this.showRemove()),350))}showRemove(){if(this.showingRemove)return;this.showingRemove=!0;const e=this.currentX-this.startX,t=this.currentY-this.startY;this.$el.addClass("hover");const n=this.$(".js-remove-sticker");return p.try((()=>_||(n.css({display:"inline-block"}),new p((e=>this.requestAnimationFrame((()=>(_=f(n.get(0)),n.css({display:"none"}),e(_))))))))).then((i=>{const{left:r,top:s}=function({rect:e,containerRect:t,controlRect:n,currentX:i,currentY:r,deltaX:s,deltaY:l,interval:c}){const d=o.getPositiveDegrees(-l,s),u=e=>e-45<d&&d<e+45,p=8-n.height,m=(e.height-n.height)/2,h=e.height-8,g=8-n.width,b=(e.width-n.width)/2,v=e.width-8,f=[{left:b,top:h,avoid:u(270)},{left:b,top:p,avoid:u(90)},{left:v,top:m,avoid:u(0)||u(360)},{left:g,top:m,avoid:u(180)},{left:g,top:h,avoid:u(225)},{left:v,top:h,avoid:u(315)},{left:g,top:p,avoid:u(135)},{left:v,top:p,avoid:u(45)}].map((i=>{const r=i.left+(e.left-t.left),s=i.top+(e.top-t.top),o=r+n.width,l=s+n.height,c=(Math.min(o,t.width)-Math.max(0,r))*(Math.min(l,t.height)-Math.max(0,s));return a(a({},i),{},{visibleArea:c})})).sort(((e,t)=>t.visibleArea-e.visibleArea));return f.filter((e=>!e.avoid))[0]||f.filter((e=>e.avoid))[0]||f[0]}({rect:f(this.el),containerRect:f(this.$el.closest(".js-stickers-area").get(0),{fixedWidth:this.options.fixedWidth,fixedHeight:this.options.fixedHeight}),controlRect:i,currentX:this.currentX,currentY:this.currentY,deltaX:e,deltaY:t,interval:350});return n.css({display:"inline-block",top:s,left:r})})).done()}removeRemove(e){if(this.showingRemove)return this.showingRemove=!1,this.clearTimeouts(),this.$(".js-remove-sticker").css({display:"none"}),this.$el.removeClass("hover peeling")}mouseLeave(e){return this.clearTimeouts(),this.removeTimeout=this.setTimeout((()=>this.removeRemove()),200)}clearTimeouts(){return clearTimeout(this.hoverTimeout),this.hoverTimeout=null,clearTimeout(this.removeTimeout),this.removeTimeout=null}removeSticker(){const e=h.startTask({taskName:"edit-card/stickers",source:"stickerHoverView",attributes:{action:"removed"}});return m("Card","Sticker","Remove via Hover"),this.clearTimeouts(),this.$el.remove(),this.model.destroyWithTracing({traceId:e},g({taskName:"edit-card/stickers",traceId:e,source:"stickerHoverView",attributes:{action:"removed"}},((t,n)=>{if(n){var i;const t=null===(i=this.options)||void 0===i?void 0:i.card;h.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerHoverView",attributes:{taskId:e,action:"removed"},containers:{card:{id:null==t?void 0:t.id},list:{id:null==t?void 0:t.get("idList")},board:{id:null==t?void 0:t.get("idBoard")}}})}})))}}k.initClass(),e.exports=k},"./app/scripts/views/templates/BoardClosed.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardClosed",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),s=n("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx");const o=Object(r.forTemplate)("board_closed"),l=({name:e,deleting:t,canReopen:n,canDelete:i,isDesktop:r,isAtOrOverLimit:l,orgName:c,orgId:d,billingUrl:u,upgradePathAuditEnabled:p})=>a.a.createElement("div",{className:"big-message quiet closed-board"},a.a.createElement("h1",null,o("name-is-closed",{name:e})),t?o("deleting"):[l?a.a.createElement("p",{className:"messaging",key:"messaging"},!r&&c&&u?p?a.a.createElement(s.a,{orgId:d,teamName:c}):a.a.createElement("span",{dangerouslySetInnerHTML:{__html:o("cannot-reopen-board-limit-reached",{orgName:c,billingUrl:u})}}):o("cannot-reopen-board-limit-reached-desktop")):n||i?null:a.a.createElement("p",{className:"messaging",key:"messaging"},o("you-re-a-member-of-this-board-but-only-board-admins-are-able-to-re-open-it")),n&&!l?a.a.createElement("p",{key:"reopen"},a.a.createElement("a",{className:"js-reopen",href:"#"},o("reopen"))):null,i?a.a.createElement("p",{className:"delete-container",key:"delete"},a.a.createElement("a",{className:"quiet js-delete",href:"#"},o("permanently-delete-board"))):null])},"./app/scripts/views/templates/action.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("action"),r=n("./app/scripts/views/templates/entity.js"),s=n("./app/scripts/views/templates/member_avatar.js"),o=n("./app/scripts/views/templates/action_footer.js"),l=n("./app/scripts/views/templates/action_appCreator.ts"),c=["attachmentPreview","comment","checkList"];e.exports=a.renderable((function(e,t,n){const{entities:d,saved:u,dateLastEdited:p,date:m,url:h,appCreator:g}=e,{member:b,showReactions:v,showInlineReactionButton:f,canLinkAppCreator:_}=t,{useEmbedly:k,useCommentUnfurl:y,usePreviews:E}=n;let w=!0;return a.div(".phenom-creator",(function(){return b?a.div(".member.js-show-mem-menu",{class:a.classify({"member-deactivated":b.isDeactivated||b.activityBlocked}),idmember:b.id},(()=>s(b))):a.span(".icon-lg.icon-member")})),a.div(".phenom-desc",(function(){for(const e of Array.from(d))Array.from(c).includes(e.type)&&(w=!1,a.span(".inline-spacer",(()=>a.text(" "))),a.span(".phenom-date.quiet",(function(){if(u&&(h?a.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:m,href:h}):a.span(".date.js-hide-on-sending.past",{dt:m,href:h})),p)return a.span(".js-date-title.js-hide-on-sending.past",{dt:p},(function(){return a.text(" "),a.format("edited")}));g&&l({appCreator:g,canLinkAppCreator:_})}))),r(e,t,n);if(k&&a.div(".hide.embedly.js-embedly"),y&&a.div(".hide.unfurled-comment.comment-preview"),E)return a.div(".hide.previews.js-previews")})),v?a.div(".phenom-reactions",(function(){return a.div(".js-reaction-piles.reaction-piles-container",{class:a.classify({last:f,"reaction-piles-container-full":!f})}),o(e,t,i.extend(n,{needsDate:w}))})):o(e,t,i.extend(n,{needsDate:w}))}))},"./app/scripts/views/templates/action_appCreator.ts":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("action");e.exports=function(e){const{appCreator:t,canLinkAppCreator:n}=e,a=()=>{let e="";const i=()=>{let e="";return t.iconClass&&(e='<span class="app-creator-icon icon-sm '.concat(t.iconClass,'"></span>')),e+="<span>".concat(t.name,"</span>"),e};return e=t.idPlugin&&n?'<a class="quiet js-app-creator-link" href="#">'.concat(i(),"</a>"):i(),e};i.span((()=>{i.text(" "),i.raw("<span>".concat(i.l("via",{integrationName:a()},{raw:!0}),"</span>"))}))}},"./app/scripts/views/templates/action_footer.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("action"),a=n("./app/scripts/views/templates/action_appCreator.ts");e.exports=i.renderable((function(e,t,n){const{saved:r,dateLastEdited:s,date:o,url:l,appCreator:c}=e,{board:d,organization:u,canReply:p,canReplyAll:m,canDelete:h,canEdit:g,canAttachLink:b,canLinkAppCreator:v}=t,{showOptions:f,needsDate:_}=n;return i.div(".phenom-meta.quiet",(function(){if(_&&(r&&(l?i.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:o,href:l}):i.span(".date.js-hide-on-sending.past",{dt:o,href:l})),s&&i.span(".js-date-title.js-hide-on-sending.past",{dt:s},(function(){return i.text(" "),i.format("edited")})),c&&a({appCreator:c,canLinkAppCreator:v})),i.span({class:i.classify({"js-spinner":!0,hide:r})},(function(){return i.format("sending-ellipsis"),i.raw("&nbsp;")})),d){const{boardPLevelAltText:e,boardPLevelIconClass:n}=t;i.text(" - "),i.format("on-board-name",{url:d.url,name:d.name,boardPLevelAltText:e,boardPLevelIconClass:n})}if(u){const{orgPLevelAltText:e,orgPLevelIconClass:n}=t;i.text(" - "),i.format("on-organization-name",{url:u.url,name:u.name,orgPLevelAltText:e,orgPLevelIconClass:n})}if(f)return i.span(".js-hide-on-sending.middle",(function(){let e=!1;const t=function(){return e?i.text(" - "):e=!0};return p&&(t(),i.a({href:"#",class:m?"js-reply-to-all-action":"js-reply-to-action"},(()=>i.format("reply")))),g&&(t(),i.a(".js-edit-action",{href:"#"},(()=>i.format("edit")))),b&&(t(),i.a(".js-attach-link",{href:"#"},(()=>i.format("attach link")))),h&&(t(),i.a(".js-confirm-delete-action",{href:"#"},(()=>i.format("delete")))),i.span(".edits-warning.quiet",(function(){return t(),i.format("you-have-unsaved-edits-on-this-field")}))}))}))}))},"./app/scripts/views/templates/board.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board");e.exports=function(){return i.div(".board-main-content",(function(){i.div(".board-header.u-clearfix.js-board-header".concat(i.mustacheVar("isCollapsedWorkspaceNav")?".collapsed-workspace-nav":"")),i.div(".board-warnings.u-clearfix.js-board-warnings"),i.div(".board-canvas",(function(){i.div(".js-board-view-container")}))})),i.div(".board-menu.js-fill-board-menu")}},"./app/scripts/views/templates/board_copy.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy");e.exports=function(){return i.mustacheBlock("loading",(()=>i.div(".spinner.loading"))),i.mustacheBlockInverted("loading",(()=>i.form((function(){return i.label({for:"boardNewTitle"},(()=>i.format("title"))),i.input(".non-empty.js-autofocus",{id:"boardNewTitle",type:"text",name:"name",placeholder:i.mustacheVar("placeholder"),value:i.mustacheVar("boardNameInputValue"),dir:"auto"}),i.div({class:i.mustacheBlock("hideOrg",(()=>"hide"))},(function(){return i.div(".u-clearfix",(function(){return i.label(".u-float-left",{style:"margin-right: 8px;"},(()=>i.format("organization"))),i.mustacheBlock("canAddToOrgs",(()=>i.a(".icon-sm.icon-information.dark-hover.js-helper-add-org",{href:"#"})))})),i.mustacheBlock("hasEnterprise",(()=>i.mustacheBlock("enterpriseName",(function(){if(!i.mustacheVar("showPrivateBoardsOptionForEntBoards"))return i.p(".quiet",(()=>i.format("board-can-only-be-copied-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")})))})))),i.mustacheBlockInverted("canAddToOrgs",(()=>i.p(".quiet",{style:"margin-bottom: 16px;"},(function(){return i.format("organization-whisk-n-tsk"),i.text(" "),i.a(".js-create-org",{href:"#"},(()=>i.format("create-an-organization")))})))),i.select({name:"org-id",class:i.mustacheBlockInverted("canAddToOrgs",(()=>"hide"))},(function(){return i.mustacheBlockInverted("blockTeamlessBoardsEnabled",(()=>{if(!i.mustacheVar("hasEnterprise")||i.mustacheVar("showPrivateBoardsOptionForEntBoards"))return i.option({value:""},(()=>i.format("none")))})),i.mustacheBlock("orgs",(()=>i.optionSelected(i.mustacheVar("selectOrg"),{value:i.mustacheVar("id")},(()=>i.text(i.mustacheVar("displayName"))))))}))})),i.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(()=>i.p((function(){return i.mustacheVar("isDesktop")?i.format("board-cant-be-copied-because-of-board-limits-desktop"):i.mustacheVar("upgradePathAuditEnabled")?i.div(".copy-board-upsell-react-component"):i.format("board-cant-be-copied-because-of-board-limits")})))),i.div(".js-permissions.hide",(function(){return i.input({type:"hidden",name:"permissionLevel",value:i.mustacheVar("pLevel")}),i.p(".quiet.js-vis-display"),i.ul(".pop-over-list.js-vis-chooser.hide"),i.p(".error.u-bottom.js-no-valid-org-privs.u-clearfix.hide"),i.div(".js-confirm-public-message.hide",(function(){return i.p(i.mustacheVar("publicConfirmationText")),i.input(".pop-over-confirmation-button.nch-button.nch-button--primary.js-confirm-public",{type:"button",value:i.mustacheVar("publicConfirmationConfirm")}),i.input(".pop-over-confirmation-button.js-cancel-public",{type:"button",value:i.mustacheVar("publicConfirmationCancel")})})),i.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return i.input({type:"checkbox",id:"idKeepCards",name:"cards",checked:!0}),i.label({for:"idKeepCards"},(()=>i.format("keep-cards")))})),i.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return i.input({type:"checkbox",id:"idKeepTemplateCards",name:"templates",checked:!0}),i.label({for:"idKeepTemplateCards"},(()=>i.format("keep-template-cards")))})),i.p(".quiet",(()=>i.format("activity-and-members-will-not-be-copied"))),i.mustacheBlock("willRemovePowerUps",(()=>i.p(".quiet",(()=>i.format("power-ups-will-not-be-copied")))))})),i.input(".nch-button.nch-button--primary.wide.js-submit.disabled",{type:"submit",value:i.l("create")})}))))}},"./app/scripts/views/templates/board_copy_vis.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy_vis");e.exports=function(){return i.format("this-board-will-be-visdisplaytext",{visIconClass:i.mustacheVar("visIconClass"),visDisplayText:i.mustacheVar("visDisplayText")}),i.text(" "),i.a(".js-change-vis",{href:"#"},(()=>i.format("change")))}},"./app/scripts/views/templates/board_header.js":function(e,t,n){const i=n("./app/scripts/lib/localize-count.js"),{asNumber:a}=n("./packages/i18n/formatters.ts"),r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_header"),{featureFlagClient:s}=n("./packages/feature-flag-client/index.ts"),o=s.getTrackedVariation("board-header-filtering-experiment",!1),l=s.get("ecosystem.board-header-filter",!1),c=s.getTrackedVariation("nusku.rename-bc-premium",!1);e.exports=r.renderable((function({canRename:e,orgLogoUrl:t,orgLogoUrl2x:n,isStandard:s,hasBusinessClass:d,isBusinessClass:u,isEnterprise:p,orgDisplayName:m,name:h,orgName:g,isLoggedIn:b,isAdmin:v,isMember:f,isPrivateTeam:_,isUntitled:k,canJoin:y,canInviteMembers:E,selfJoin:w,canAssign:C,showCopyButton:T,boardCardCount:O,isPrivateTeamForEnterpriseVisibleBoard:j,isTemplate:A,starTooltipKey:x,currentBoardView:N}){const S=s?"STA":u?"BC":p?"ENT":"Free",I={"board-header-btn":!0,"mod-board-name":!0,"inline-rename-board":!0,"js-rename-board":e,"no-edit":!e,"should-rename":k&&e},D={"board-header-btn":!0,"board-header-btn-org-name":!0,"js-open-org-menu":!0,"board-header-btn-without-icon":!t},B=r.classify({"icon-sm":!0,"board-header-btn-icon":!0,"icon-calendar":"calendar"===N,"icon-map":"map"===N,"icon-list":"list"===N});return r.div(".js-board-views-btn-container",(()=>r.a(".board-header-btn",{href:"#"},r.span({class:"board-views-btn-new-pill"}),(()=>r.span({class:B})),r.span({class:"board-views-btn-text-label"}),r.span({class:"board-views-btn-dropdown-icon"})))),r.div({href:"#",class:r.classify(I)},(function(){return r.h1(".js-board-editing-target.board-header-btn-text",{dir:"auto"},(()=>r.text(h))),r.input(".board-name-input.js-board-name-input",{"aria-label":h,spellcheck:"false",dir:"auto",maxLength:512,value:h})})),A&&r.div(".board-header-btn-template-badge.js-board-template-badge"),b&&r.a(".board-header-btn.js-star-board",{href:"#",title:r.l(x),"aria-label":r.l("star-or-unstar-board")},(()=>r.icon("star",{class:"board-header-btn-icon"}))),r.div(".js-board-header-btn-org-wrapper.board-header-btn-org-wrapper",(function(){return m&&g&&(r.span(".board-header-btn-divider"),r.a({href:"/".concat(g),class:r.classify(D),data:{boardtype:S}},(function(){return t&&r.div(".board-header-btn-name-org-logo-container",(()=>r.img({class:"board-header-btn-name-org-logo",src:t,srcSet:"".concat(t," 1x, ").concat(n," 2x")}))),r.span(".board-header-btn-text",(function(){r.text(m),c||r.span(".org-label",(()=>r.text(S)))}))})),r.span(".board-header-btn-divider")),r.div(".board-header-btns.mod-left",(function(){if(!m&&!A){if(r.span(".board-header-btn-divider"),f&&_||j)return r.span(".board-header-btn.board-header-btn-without-icon.board-header-btn-text.no-edit",(()=>r.format("private-workspace"))),r.span(".board-header-btn-divider");if(!_&&!A)return r.span("#workspaces-preamble-board-header-button"),r.span(".board-header-btn-divider")}})),r.a(".board-header-btn.perms-btn.js-change-vis",{href:"#",id:"permission-level"})})),r.span(".board-header-btn-divider"),r.div(".board-header-btns.mod-left",(function(){if(r.div(".board-header-facepile.js-fill-facepile",{class:r.classify({"js-list-draggable-board-members":C})}),r.a("#member-count.board-header-btn.board-header-btn-member-count.js-open-show-all-board-members.js-fill-board-member-count",{href:"#"},(function(){})),r.span("#member-count-notifications"),E&&r.span("#workspaces-preamble-invite-button"),y&&!A)return r.a(".board-header-btn.board-header-btn-without-icon.board-header-btn-join-board.js-join-board",{href:"#",title:r.l("workspace-members-can-join-this-board")},(()=>r.span(".board-header-btn-text",(()=>r.format("join-board")))))})),r.div(".board-header-btns.mod-right",(function(){return o||l||r.a(".board-header-btn.mod-filter-indicator.hide.js-filter-cards-indicator.board-header-btn-without-icon",{href:"#"},(function(){return r.span(".board-header-btn-text",(()=>r.text(i("search-results",O)))),r.icon("close",{class:"board-header-btn-icon-close js-filter-card-clear"})})),r.a(".board-header-btn.sub-btn.hide.js-board-header-subscribed",{href:"#"},(function(){return r.icon("subscribe",{class:"board-header-btn-icon"}),r.span(".board-header-btn-text",(()=>r.format("watch")))})),r.span(".js-calendar-board-btn board-header-btn-react-container"),r.a(".board-header-btn.hide.js-map-btn",{href:"#"},(function(){return r.span(".icon-sm.icon-location.board-header-btn-icon"),r.span(".board-header-btn-text",(()=>r.format("map")))})),r.span(".js-butler-header-btns board-header-btn-react-container"),r.span(".js-plugin-header-btns"),b&&T&&!A&&r.a(".board-header-btn.js-copy-board",{href:"#"},(function(){return r.icon("board",{class:"board-header-btn-icon"}),r.span(".board-header-btn-text",(()=>r.format("copy-board")))})),l?(r.span(".board-header-btn-divider"),r.span(".js-board-header-filter-btn-container board-header-btn-react-container")):o&&r.a(".board-header-btn.js-header-filter-btn",{href:"#"},(function(){return r.icon("filter",{class:"board-header-btn-icon"}),r.span(".board-header-filter-btn-text",(()=>r.format("filter"))),r.span(".board-header-filter-count.js-filter-cards-count",(()=>r.text(a(O))))})),r.a(".board-header-btn.mod-show-menu.js-show-sidebar",{href:"#"},(function(){return r.icon("overflow-menu-horizontal",{class:"board-header-btn-icon"}),r.span(".board-header-btn-text",(()=>r.format("show-menu")))}))})),r.div("#workspaces-auto-name-alert"),r.span("#board-header-notification")}))},"./app/scripts/views/templates/board_header_permissions.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_permissions");e.exports=i.renderable((function({permIconClass:e,permText:t}){return i.span({class:i.classify({"board-header-btn-icon":!0,"icon-sm":!0,["icon-".concat(e)]:!0})}),i.span(".board-header-btn-text",(()=>i.text(t)))}))},"./app/scripts/views/templates/board_header_warnings.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_warnings");e.exports=i.renderable((function({canDismiss:e,warning:t}){const{key:n,dismiss:a}=t;return i.div(".board-warning",(function(){if(i.format(n),e)return i.span(".js-dismiss-warning.board-warning-close.icon-sm.icon-close",{"data-dismiss":a})}))}))},"./app/scripts/views/templates/board_member_profile.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_member_profile");e.exports=function(){return i.div(".window-header.u-clearfix",(function(){return i.span(".window-header-icon.icon-lg.icon-activity"),i.h2(".window-title",(function(){return i.text(i.mustacheVar("fullName")),i.span(".quiet",{style:"margin-left: 3px"},(()=>i.text("(".concat(i.mustacheVar("username"),")"))))}))})),i.div(".window-main-col.window-main-col-full",(function(){return i.div(".list-actions",(()=>i.p(".js-board-member-profile-no-activity",(()=>i.format("this-member-has-no-board-activity"))))),i.a(".show-more.js-more-actions",{href:"#"},(()=>i.format("load-more-activity")))}))}},"./app/scripts/views/templates/board_menu_email.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_email");e.exports=i.renderable((function({commentsEnabled:e,email:t,listName:n,lists:a,position:r,positionName:s}){return e?(i.label({for:"boardEmail"},(()=>i.format("your-email-address-for-this-board"))),i.input(".non-empty.js-autofocus",{id:"boardEmail",type:"text",name:"boardEmail",readonly:"readonly",placeholder:i.l("loading-ellipsis"),value:t,style:"margin: 4px 0 8px;"}),i.a(".quiet-button.js-generate-address",{href:"#"},(()=>i.format("generate-a-new-email-address"))),i.a(".quiet-button.js-send-address",{href:"#"},(()=>i.format("email-me-this-address"))),i.hr(),i.label((()=>i.format("your-emailed-cards-appear-in-ellipsis"))),i.div(".form-grid",(function(){return i.div(".button-link.setting.form-grid-child.form-grid-child-twothirds",(function(){return i.span(".label",(()=>i.format("list"))),i.span(".value.js-list-value",(()=>i.text(n))),i.label((()=>i.format("list"))),i.select(".js-select-list",(()=>(()=>{const e=[];for(const{id:t,name:n,selected:r}of Array.from(a))e.push(i.optionSelected(r,{value:t},(()=>i.text(n))));return e})()))})),i.div(".button-link.setting.form-grid-child",(function(){return i.span(".label",(()=>i.format("position"))),i.span(".value.js-pos-value",(()=>i.text(s))),i.label((()=>i.format("position"))),i.select(".js-select-position",(function(){return i.optionSelected("top"===r,{value:"top"},(()=>i.format("top"))),i.optionSelected("bottom"===r,{value:"bottom"},(()=>i.format("bottom")))}))}))})),i.hr(),i.p(".u-bottom.quiet",(()=>i.format("tip-dont-share-this-email-address-anyone-who-has-it-can-add-cards-as-you-when-composing-emails-the-card-title-goes-in-the-subject-and-the-card-description-in-the-body-more-email-formatting-tips")))):(i.p((()=>i.format("requires-comments-enabled"))),void i.p((()=>i.format("enabled-by-enabling-comments"))))}))},"./app/scripts/views/templates/board_menu_vis.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_vis");e.exports=i.renderable((function({current:e,isNewBoard:t,canChange:n,mustChange:a,hasSuperAdmins:r,hasOrg:s,orgName:o,privateRestricted:l,orgRestricted:c,enterpriseRestricted:d,publicRestricted:u,hasEnterprise:p,enterpriseName:m,isTemplate:h,isOrgPremium:g,isTeamlessOwnedBoard:b}){a&&(o?i.p(".quiet",(()=>i.format("illegal org visibility",{orgName:o}))):b&&m&&i.p(".quiet",(()=>i.format("illegal teamless visibility",{enterpriseName:m}))));const v=p&&m&&!b?"with enterprise":r?"with super admins":s?"with organization":"without organization",f={private:{iconClass:"icon-private",restricted:l,invalid:!g&&h},org:{iconClass:"icon-organization",restricted:c,invalid:t&&!s},enterprise:{iconClass:"icon-enterprise",restricted:p&&d,noEnterprise:!p,invalid:t&&!s},public:{iconClass:"icon-public",restricted:u}};return b&&(delete f.org,delete f.enterprise),(()=>{const a=[];for(const r in f){const{restricted:l,invalid:c,iconClass:d,noEnterprise:u}=f[r];a.push(i.li((function(){const a=l||c||!n||u;return i.a(".js-select",{class:i.classify({disabled:a}),href:"#",name:r},(function(){return i.span(".icon-sm.vis-icon",{class:d},(function(){})),i.check(e===r,r),i.span(".sub-name",(function(){const e=m&&!b?{enterpriseName:m,orgName:o}:o?{orgName:o}:{},a=h?"is template ":"";if(i.format(["permission subtext","".concat(a).concat(v),r],e),n&&l)return i.raw(" "),i.span(".error",(function(){return t?i.format(["illegal visibility",s?"create":"create teamless"]):i.format(["illegal visibility",s?"change":"change teamless"])}))}))}))})))}return a})()}))},"./app/scripts/views/templates/cant_add_board_to_ent.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("cant_add_board_to_ent");e.exports=()=>i.p(".quiet",(function(){return i.mustacheBlock("isEntAdmin",(()=>i.format("enterprise-displayname-does-not-allow-new-boards-you-can-change-this-on-the-enterprise-settings-page-by-clicking-on-board-creation-restrictions",{"enterprise.displayName":i.mustacheVar("enterprise.displayName"),entSettingsUrl:i.mustacheVar("entSettingsUrl")}))),i.mustacheBlockInverted("isEntAdmin",(()=>i.format("enterprise-displayname-does-not-allow-new-boards-only-an-admin-of-the-enterprise-can-change-this-setting",{"enterprise.displayName":i.mustacheVar("enterprise.displayName")})))}))},"./app/scripts/views/templates/cant_add_board_to_org.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("cant_add_board_to_org");e.exports=()=>i.p(".quiet",(function(){return i.mustacheBlock("isOrgAdmin",(()=>i.format("organization-displayname-does-not-allow-new-boards-you-can-change-this-on-the-organization-settings-page-by-clicking-on-board-creation-restrictions",{"organization.displayName":i.mustacheVar("organization.displayName"),orgSettingsUrl:i.mustacheVar("orgSettingsUrl")}))),i.mustacheBlockInverted("isOrgAdmin",(()=>i.format("organization-displayname-does-not-allow-new-boards-only-an-admin-of-the-organization-can-change-this-setting",{"organization.displayName":i.mustacheVar("organization.displayName")})))}))},"./app/scripts/views/templates/card_attach_links.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_attach_links");e.exports=i.renderable((e=>i.div(".card-attach-link-list",(()=>(()=>{const t=[];for(const{url:n,text:a,domain:r,attached:s}of Array.from(e))t.push(i.div(".card-attach-link-list-item",{class:i.classify({attached:s})},(function(){return i.div(".card-attach-link-list-item-title",(function(){return a?i.text(a):i.format("link to domain",{domain:r})})),i.div(".card-attach-link-list-item-url.quiet",(()=>i.text(n))),s?i.div(".card-attach-link-list-item-attached.quiet",(()=>i.span(".icon-lg.icon-check"))):i.button(".card-attach-link-list-item-attach.js-attach",{"data-url":n,"data-text":a},(()=>i.format("attach")))})));return t})()))))},"./app/scripts/views/templates/card_composer_inline.js":function(e,t,n){const i=n("./packages/browser/index.ts"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_composer_inline");e.exports=function(){const e=a.mustacheVar("placeholder");return a.div(".list-card.js-composer",(()=>a.div(".list-card-details.u-clearfix",(function(){return a.div(".list-card-labels.u-clearfix.js-list-card-composer-labels"),a.textarea(".list-card-composer-textarea.js-card-title",{dir:"auto",placeholder:e},(()=>a.text(["explorer-10","explorer-11"].includes(i.browserVersionStr)?e:a.mustacheVar("title")))),a.div(".list-card-members.js-list-card-composer-members")})))),a.div(".cc-controls.u-clearfix",(function(){return a.div(".cc-controls-section",(function(){return a.input(".nch-button.nch-button--primary.confirm.mod-compact.js-add-card",{type:"submit",value:a.l("add-card")}),a.a(".icon-lg.icon-close.dark-hover.js-cancel",{href:"#"})})),a.div(".cc-controls-section.mod-right",(()=>a.a(".icon-lg.icon-overflow-menu-horizontal.dark-background-hover.js-cc-menu",{href:"#"})))}))}},"./app/scripts/views/templates/card_copy.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_copy");e.exports=function(){return i.mustacheBlock("loading",(()=>i.div(".spinner.loading.js-loading-card-actions"))),i.mustacheBlockInverted("loading",(()=>i.form((function(){return i.label((()=>i.format("title"))),i.textarea(".js-autofocus",{name:"name"},(()=>i.text(i.mustacheVar("name")))),i.mustacheBlock("hasStuff",(function(){return i.label((()=>i.format("keep-ellipsis"))),i.mustacheBlock("hasChecklists",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepChecklists",type:"checkbox",name:"checklists",checked:!0}),i.label({for:"idKeepChecklists"},(()=>i.format("checklists-numchecklists",{numChecklists:i.mustacheVar("numChecklists")})))})))),i.mustacheBlock("hasLabels",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepLabels",type:"checkbox",name:"labels",checked:!0}),i.label({for:"idKeepLabels"},(()=>i.format("labels-numlabels",{numLabels:i.mustacheVar("numLabels")})))})))),i.mustacheBlock("hasMembers",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepMembers",type:"checkbox",name:"members",checked:!0}),i.label({for:"idKeepMembers"},(()=>i.format("members-nummembers",{numMembers:i.mustacheVar("numMembers")})))})))),i.mustacheBlock("hasAttachments",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepAttachments",type:"checkbox",name:"attachments",checked:!0}),i.label({for:"idKeepAttachments"},(()=>i.format("attachments-numattachments",{numAttachments:i.mustacheVar("numAttachments")})))})))),i.mustacheBlock("hasComments",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepComments",type:"checkbox",name:"comments",checked:!0}),i.label({for:"idKeepComments"},(()=>i.format("comments-numcomments",{numComments:i.mustacheVar("numComments")})))})))),i.mustacheBlock("hasStickers",(()=>i.div(".check-div.u-clearfix",(function(){return i.input({id:"idKeepStickers",type:"checkbox",name:"stickers",checked:!0}),i.label({for:"idKeepStickers"},(()=>i.format("stickers-numstickers",{numStickers:i.mustacheVar("numStickers")})))}))))})),i.label((()=>i.format("copy-to-ellipsis"))),i.mustachePartial(n("./app/scripts/views/templates/move_card_controls.js")),i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.l("create-card")})}))))}},"./app/scripts/views/templates/card_in_list.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),a=n("./app/scripts/views/templates/label.js"),r=n("./app/scripts/views/templates/member_on_card.js"),s=n("./app/scripts/views/templates/card_in_list_cover.js");e.exports=i.renderable((function({hasStickers:e,labels:t,quickEdit:n,name:o,members:l,showEditor:c,badgesHTML:d,hasCover:u,cover:p,hideCover:m,attachmentCoverUrl:h,cardRole:g}){return"board"!==g&&s({cover:p,hasCover:u,hideCover:m,hasStickers:e,attachmentCoverUrl:h}),c&&i.icon("edit",{class:"list-card-operation dark-hover js-open-quick-card-editor js-card-menu"}),"board"!==g&&i.div(".list-card-stickers-area.js-stickers-area",{class:i.classify({hide:!e})},(()=>i.div(".stickers.js-card-stickers"))),i.div(".list-card-details.js-card-details",(function(){return i.div(".list-card-labels.js-card-labels",(()=>Array.from(t).map((e=>a({name:e.name,color:e.color,extraClasses:["mod-card-front"]}))))),n?i.textarea(".list-card-edit-title.js-edit-card-title",{dir:"auto"},(()=>i.text(o))):i.span(".list-card-title.js-card-name",{dir:"auto"}),i.div(".badges",(function(){return i.span(".js-badges",(()=>i.raw(d))),i.span(".custom-field-front-badges.js-custom-field-badges"),i.span(".js-plugin-badges")})),i.div(".list-card-members.js-list-card-members",(()=>Array.from(l).map((e=>r(e)))))})),i.p(".list-card-dropzone",(()=>i.format("drop-files-to-upload"))),i.p(".list-card-dropzone-limited",(()=>i.format("too-many-attachments"))),i.p(".list-card-dropzone-restricted",(()=>i.format("attachments-restricted")))}))},"./app/scripts/views/templates/card_in_list_cover.js":function(e,t,n){const i=n("./packages/browser/index.ts"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),r=n("./app/scripts/lib/util/index.js"),{makePreviewCachable:s}=n("./app/common/lib/util/preview.ts");e.exports=a.renderable((function({cover:e,hasCover:t,hideCover:n,hasStickers:o,attachmentCoverUrl:l}){let c;if(null==e||n||!t)return a.div(".list-card-cover.js-card-cover");const{idAttachment:d,idUploadedBackground:u,color:p,scaled:m,edgeColor:h,size:g,idPlugin:b}=e;if("full"===g)return a.div(".list-card-cover.js-card-cover");if(p)return c=o?64:32,a.div(".list-card-cover.js-card-cover.color-card-cover.color-card-cover-".concat(p,".is-covered"),{style:a.stylify({height:"".concat(c,"px")})});if(d||u||b){let e;const t=i.isHighDPI()?600:300;let n=null!=(e=r.smallestPreviewBiggerThan(m,t))?e:r.biggestPreview(m);null==n&&d&&(n={url:l});const o=Math.min(n.height,260);return c=245*n.height/n.width,a.div(".list-card-cover.js-card-cover.is-covered",{style:a.stylify({height:"".concat(c<o?c:o,"px"),"background-color":null!=h?h:"transparent","background-image":'url("'.concat(s(n.url),'")'),"background-size":c<=o?"cover":"contain"})})}}))},"./app/scripts/views/templates/card_title_on_card_front.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_title_on_card_front");e.exports=i.renderable((function({idShort:e,name:t,separatorClassName:n}){return e&&i.span(".card-short-id.hide",(()=>i.format("idshort",{idShort:e}))),n?i.div(".".concat(n)):i.text(t)}))},"./app/scripts/views/templates/comment-unfurl-preview.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/plugins/plugin-validators.js"),r=n("./app/scripts/views/plugin/plugin-view.js"),s=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),o=n("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_section"),{sendPluginUIEvent:l}=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),c=o.renderable((function({icon:e,text:t,image:n,url:i,subtext:r,thumbnail:l,idPlugin:c,actions:u}){const p=s.fromId(c);o.div(".comment-unfurl.js-comment-unfurl",(function(){return o.div(".comment-unfurl-thumb",{style:o.stylify({"background-image":l?o.urlify(l):(null!=n?n.url:void 0)?o.urlify(n.url):e?o.urlify(e):a.isValidUrlForCSSImage(d(null!=p?p.icon:void 0,(e=>e.url)))?o.urlify(p.icon.url):void 0,"background-position-y":"top"===(null!=n?n.y:void 0)?"0px":void 0,"background-position-x":"left"===(null!=n?n.x:void 0)?"0px":void 0,"background-size":(()=>{if(!l&&!(null!=n?n.url:void 0))return"auto 40px";switch(null!=n?n.size:void 0){case"contain":return"contain";case"original":return"inherit";default:return"cover"}})()})}),o.div(".comment-unfurl-meta",(function(){return o.span(".comment-unfurl-title",(()=>o.text(t))),o.span(".comment-unfurl-subtext",{title:r},(()=>o.text(r))),o.div(".comment-unfurl-media",(function(){return o.div(".comment-unfurl-plugin-icon",(function(){return a.isValidUrlForImage(d(null!=p?p.icon:void 0,(e=>e.url)))&&o.img({src:p.icon.url}),o.span(".comment-unfurl-plugin-name",(()=>o.text(s.fromId(c).name)))})),o.div(".comment-unfurl-button-block",(()=>null!=u?u.map((function(e,n){return e.url?o.a({href:e.url,title:t,rel:"noopener noreferrer",target:"_blank"},(()=>e.text)):o.button(".js-comment-preview-button",{"data-index":n,title:e.text},e.text)})):void 0))}))}))}))}));function d(e,t){return null!=e?t(e):void 0}e.exports=function(){class e extends r{static initClass(){this.prototype.events={"click .js-comment-unfurl":"clickCommentUnfurl","click .js-comment-preview-button":"executeActionCallback"}}constructor(e){super(e),this.render=this.render.bind(this)}initialize({commentUnfurl:e}){return this.commentUnfurl=e,this.retain(this.commentUnfurl)}render(){return this.$el.html(c(this.commentUnfurl)),this}clickCommentUnfurl(e){return i.isFunction(this.commentUnfurl.callback)?(e.preventDefault(),this.commentUnfurl.callback({el:e.currentTarget})):"A"!==e.target.tagName?window.open(this.commentUnfurl.url):void 0}executeActionCallback(e){e.stopPropagation();const t=parseInt(this.$(e.currentTarget).attr("data-index"),10),n=this.commentUnfurl.actions[t];if(l(this.commentUnfurl.idPlugin,{action:"clicked",actionSubject:"button",source:"cardDetailScreen",actionSubjectId:"unfurlActionButton",objectType:"powerUp",objectId:this.commentUnfurl.idPlugin}),null!=n.callback)return e.preventDefault(),n.callback({el:e.currentTarget})}}return e.initClass(),e}()},"./app/scripts/views/templates/comment_edit_controls.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("comment_edit_controls");e.exports=function(){return i.div(".comment-controls.u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.confirm.mod-no-top-bottom-margin.js-save-edit",{type:"submit",value:i.l("save")}),i.a(".js-discard-comment-edits.icon-lg.icon-close.dark-hover.cancel",{"aria-label":i.l("close-label"),href:"#",role:"button"})})),i.div(".comment-controls-errors.u-clearfix",(function(){return i.div(".js-too-long-warning.hide",(()=>i.p((()=>i.format("your-comment-is-too-long"))))),i.div(".js-is-empty-warning.hide",(()=>i.p((()=>i.format("must-have-at-least-one-character")))))}))}},"./app/scripts/views/templates/comment_options.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("comment_options");e.exports=i.renderable(((e,t)=>i.div(".comment-box-options",(function(){return t&&i.div(".js-comment-record-button"),e&&i.a(".comment-box-options-item.js-comment-add-attachment",{href:"#",title:i.l("add-an-attachment-ellipsis")},(()=>i.icon("attachment"))),i.a(".comment-box-options-item.js-comment-mention-member",{href:"#",title:i.l("mention-a-member-ellipsis")},(()=>i.icon("mention"))),i.a(".comment-box-options-item.js-comment-add-emoji",{href:"#",title:i.l("add-emoji-ellipsis")},(()=>i.icon("emoji"))),i.a(".comment-box-options-item.js-comment-add-card",{href:"#",title:i.l("add-card-ellipsis")},(()=>i.icon("card")))}))))},"./app/scripts/views/templates/confirm.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("confirm");e.exports=function(){return i.p((function(){return i.mustacheVar("html")?i.raw(i.mustacheVar("html")):i.text(i.mustacheVar("text"))})),i.input(".js-confirm.full",{type:"submit",class:i.mustacheVar("confirmBtnClass"),value:i.mustacheVar("confirmText"),"data-test-id":i.mustacheVar("confirmBtnTestId")}),i.mustacheBlock("cancelText",(()=>i.input(".js-cancel.full",{type:"submit",value:i.mustacheVar("cancelText")})))}},"./app/scripts/views/templates/date_picker.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("date_picker");e.exports=i.renderable((function({upsellEnabled:e,canChangePowerUps:t,canEnableAdditionalPowerUps:n,customReminderSettings:a,selectedReminderSetting:r}){return i.div(".datepicker-select.u-clearfix",(function(){return i.div(".datepicker-select-date",(()=>i.label(".datepicker-select-label",(function(){return i.format("date"),i.input(".datepicker-select-input.js-dpicker-date-input.js-autofocus",{type:"text",placeholder:i.l("enter-date"),tabindex:101})})))),i.div(".datepicker-select-time",(()=>i.label(".datepicker-select-label",(function(){return i.format("time"),i.input(".datepicker-select-input.js-dpicker-time-input",{type:"text",placeholder:i.l("enter-time"),tabindex:102})}))))})),i.div(".pickers.js-dpicker-cal"),a&&(i.label((()=>i.format("set-reminder"))),i.select(".js-custom-reminder",(()=>(()=>{const e=[];for(const t of Array.from(a)){const n=t.value===r;e.push(i.optionSelected(n,{value:t.value},(()=>i.text(t.text))))}return e})())),i.div(".reminder-clarification",(()=>i.format("reminder-clarification")))),i.div(".datepicker-confirm-btns",(function(){return i.input(".nch-button.nch-button--primary.wide.confirm",{type:"submit",value:i.l("save"),tabindex:103}),i.button(".nch-button.nch-button--danger.remove-date.js-remove-date",{type:"button",tabindex:104},(()=>i.format("remove")))})),i.div(".js-enable-cal.hide",(function(){return i.hr(),n?(i.p((()=>i.a(".quiet-button.mod-with-image.js-enable-calendar-powerup",{href:"#"},(()=>i.icon("power-up","enable-the-calendar-power-up",{class:"quiet-button-icon"}))))),i.p(".u-bottom.quiet",(()=>i.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")))):e?i.p(".u-bottom.quiet",(function(){return i.format("upgrade-to-business-class-to-enable-the-calendar-power-up"),i.text(" "),i.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")})):void 0})),i.div(".js-cal-enabled.hide",(function(){return i.hr(),i.p(".helper",(function(){return t?i.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar-to-change-calendar-settings-click-power-ups-in-the-board-menu"):i.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar")}))}))}))},"./app/scripts/views/templates/embedly.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("embedly");e.exports=()=>i.div({class:"embed embed-".concat(i.mustacheVar("type")," embed-provider-").concat(i.mustacheVar("provider_name"))},(function(){return i.mustacheBlockInverted("type_photo",(function(){return i.mustacheBlock("requireHttps",(()=>i.raw(i.mustacheVar("htmlHttps")))),i.mustacheBlockInverted("requireHttps",(()=>i.raw(i.mustacheVar("html"))))})),i.mustacheBlock("type_photo",(()=>i.a({href:i.mustacheVar("originalUrl"),target:"_blank"},(()=>i.img({src:i.mustacheVar("url")})))))}))},"./app/scripts/views/templates/entity.js":function(e,t,n){const{makePreviewCachable:i}=n("./app/common/lib/util/preview.ts"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("entity"),r=n("./app/scripts/views/templates/comment_edit_controls.js"),s=n("./app/scripts/views/templates/comment_options.js"),o=n("./app/scripts/views/attachment/helpers.js");e.exports=a.renderable((function(e,t,n){let l,c,d,u,p,m,h,g,b,v,f,_,k,y,E,w,C,T,O,j,A,x;const{type:N,text:S}=e;switch(N){case"text":case"list":case"checklist":case"plugin":case"date":return a.text(S);case"card":return({url:b,nameHtml:v}=e),v?a.span(".js-friendly-links-for-link-card",(()=>a.raw(v))):a.a(".action-card",{href:b},(()=>a.text(S)));case"board":return({url:b}=e),a.a({href:b},(()=>a.text(S)));case"organization":return({url:b}=e),a.a({href:b},S||a.l("an-organization"));case"checkItem":return({nameHtml:v}=e),v?a.span(".js-friendly-links",(()=>a.raw(v))):a.text(S);case"comment":return({textHtml:f}=e),({canEdit:_,canRecordVideo:k,canViewVideo:y}=t),({truncateComment:E,extremeTruncation:w}=n),a.div(".comment-container",(function(){const e={"action-comment":!0,"can-edit":_,"can-view-video":y,markeddown:!0,"js-comment":!0,"is-truncated":E,"extreme-truncation":w};return a.div({class:a.classify(e),dir:"auto"},(function(){if(E&&a.div(".action-comment-fade-button.js-expand-comment"),a.div(".current-comment.js-friendly-links.js-open-card",(()=>a.raw(f))),_)return a.div(".comment-box.mod-editing-comment",(function(){return a.textarea(".comment-box-input.js-text",{"aria-label":a.l("comment-box-label")},(()=>a.text(S))),r(),s(!0,k)}))}))}));case"customField":case"customFieldItem":return a.text(S);case"label":return({color:C}=e),T={"card-label":!0},T[C+"-label"]=!0,O=S||"".concat(C," label (default)"),a.span({class:a.classify(T),title:O},(function(){return S?a.text(S):a.raw("&nbsp;")}));case"attachment":return({link:p,url:b,isTrello:u,id:c,isFriendly:d}=e),p||d?o.isViewerable(b)?a.a(".js-open-attachment-viewer",{href:b,"data-idattachment":c},(()=>a.text(S))):u?a.a(".js-friendly-links",{href:b},(()=>a.text(S))):a.a(".js-friendly-links",{href:b,target:"_blank",rel:"noopener noreferrer"},(()=>a.text(S))):a.span(".attachment-deleted",(()=>a.text(S)));case"attachmentPreview":if(({previewUrlForRes:h,originalUrl:m,id:c}=e),({showCompactAttachmentPreview:j}=n),h){T={"js-open-attachment-viewer":!j,"js-open-card":j,"js-friendly-links":!0};const e={"attachment-image-preview":!0,"mod-compact-image-preview":j};return a.a({class:a.classify(T),href:m,target:"_blank","data-idattachment":c},(()=>a.img({class:a.classify(e),src:i(h)})))}return a.raw("&nbsp;");case"member":return({id:c,avatarUrl:l,username:g}=e),a.span(".inline-member.js-show-mem-menu",{idMember:c},(function(){return l&&(O="".concat(S," (").concat(g,")"),a.img(".inline-member-av",{src:[l,"30.png"].join("/"),alt:O,title:O})),a.span(".u-font-weight-bold",(()=>a.text(S)))}));case"relDate":return({date:A,current:x}=e),a.span(".rel-date",{dt:A,text:S},(()=>a.text(x)))}}))},"./app/scripts/views/templates/filter_cards.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("filter_cards");e.exports=function(){return i.input(".js-input.js-autofocus",{type:"text",attr:"title",value:i.mustacheVar("title"),style:"margin-bottom: 0;"}),i.div(".js-filter-search-results")}},"./app/scripts/views/templates/filter_cards_search_results.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("filter_cards_search_results"),{featureFlagClient:a}=n("./packages/feature-flag-client/index.ts"),r=a.getTrackedVariation("board-header-filtering-experiment",!1);e.exports=function(){if(i.mustacheBlock("showHelper",(()=>i.p(".quiet",{style:"padding: 10px 8px 2px; margin-bottom: 0;"},(()=>i.format("type-to-search-by-term-label-member-or-due-time"))))),i.mustacheBlock("showLabels",(function(){return i.hr(),i.ul({class:"label-list".concat(i.mustacheBlock("limitLabels",(()=>" limited")))},(function(){return i.mustacheBlock("labels",(()=>i.li({class:"label-list-item".concat(i.mustacheBlock("isActive",(()=>" is-active")))},(()=>i.a(".label-list-item-link.js-toggle-label-filter",{href:"#","data-name":i.mustacheVar("color"),"data-idlabel":i.mustacheVar("id")},(function(){return i.div(".label-list-item-link-label",(()=>i.span({class:"card-label mod-square card-label-".concat(i.mustacheVar("color"))}))),i.mustacheBlock("name",(()=>i.span(".label-list-item-link-name",(()=>i.text(i.mustacheVar("name")))))),i.mustacheBlockInverted("name",(()=>i.span(".label-list-item-link-name.mod-quiet",(()=>i.format("color-label-default",{color:i.mustacheVar("defaultColorName")}))))),i.icon("check",{class:"label-list-item-link-icon"})})))))),i.mustacheBlock("limitLabels",(()=>i.li(".label-list-item.js-show-all-labels-elem",(()=>i.a(".label-list-item-link.js-show-all-labels",{href:"#"},(()=>i.span(".label-list-item-link-name.mod-quiet",(()=>i.format("show-all-labels-remaininglabels-hidden",{remainingLabels:i.mustacheVar("remainingLabels")})))))))))}))})),i.mustacheBlock("showMembers",(function(){return i.hr(),i.ul({class:"pop-over-member-list checkable js-mem-list".concat(i.mustacheBlock("limitMembers",(()=>" limited")))},(()=>i.mustacheBlock("members",(()=>i.mustachePartial(n("./app/scripts/views/templates/select_member.js")))))),i.mustacheBlock("limitMembers",(()=>i.ul(".pop-over-member-list",(()=>i.li(".item",(()=>i.a(".name.quiet.js-show-all-members",{href:"#",style:"padding-left: 42px; font-weight: normal; margin-top: 4px;"},(()=>i.format("show-all-members-remainingmembers-hidden",{remainingMembers:i.mustacheVar("remainingMembers")})))))))))})),i.mustacheBlock("showDueTimes",(function(){return i.hr(),i.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(()=>i.mustacheBlock("dueOptions",(()=>i.li({class:"item ".concat(i.mustacheBlock("isActive",(()=>" active")))},(()=>i.a(".js-due-filter",{href:"#",time:i.mustacheVar("time"),style:"padding-left: 40px;"},(function(){return i.text(i.mustacheVar("desc")),i.icon("check")}))))))))})),i.mustacheBlock("showMatchMode",(function(){return i.hr(),i.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(()=>i.mustacheBlock("modes",(()=>i.li({class:"item ".concat(i.mustacheBlock("isActive",(()=>" active")))},(()=>i.a(".js-mode-filter",{href:"#",mode:i.mustacheVar("mode"),style:"padding-left: 40px;"},(function(){return i.text(i.mustacheVar("desc")),i.icon("check")}))))))))})),!r)return i.hr(),i.ul(".pop-over-list.inset.normal-weight",(()=>i.li((()=>i.a({href:"#",class:"js-clear-all".concat(i.mustacheBlockInverted("isFiltering",(()=>" disabled"))),style:"padding-left: 40px;"},(()=>i.format("clear-search")))))))}},"./app/scripts/views/templates/invite_add_name.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("invite_add_name");e.exports=i.renderable((function({email:e,fullName:t,canAddAsObserver:n,modelType:a,isLoading:r,isOrgAdmin:s,wouldBecomeBillableGuest:o,availableLicenseCount:l,error:c,isDesktop:d}){r&&i.div(".spinner.loading"),c&&i.div(".error",(()=>i.text(c)));const u=s&&!d;if(o&&i.div(".card-back-billable-guests-alert.js-billable-guests-alert",{class:i.classify({"as-admin":u,"as-non-admin":!u})}),!r&&!c&&(!o||u)&&!(o&&l<1))return i.p(".quiet",(function(){if("Board"===a)return i.format("click-send-below");if("Organization"===a)return i.format("we dont know that person…team",{email:e});throw new Error("Expected either Board or Organization as modelType; got ".concat(a))})),i.p(".error.hide.js-name-error",(()=>i.format("full name too short"))),i.p(".error.hide.js-name-error-url",(()=>i.format("full name must not contain a url"))),i.form(".js-email-data",(function(){return i.label((()=>i.format("full-name"))),i.input(".js-autofocus.js-full-name",{type:"text",value:t}),i.input(".js-email",{type:"hidden",value:e}),n&&i.span(".check-div.quiet.u-clearfix",(function(){return i.input({type:"checkbox",id:"addAsObserver"}),i.label({for:"addAsObserver"},(()=>i.format("include-this-member-as-a-view-only-observer")))})),i.input(".wide.nch-button.nch-button--primary.js-send-email-invite",{type:"submit",value:i.l("send")})}))}))},"./app/scripts/views/templates/invitee-orientation.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("invitee_orientation");e.exports=i.renderable((function({visibleMembersCount:e,maxVisible:t,firstMemberFullName:n,boardName:a,inviterAvatarUrl:r,inviterFullName:s,inviterUsername:o,inviterInitials:l}){return i.div(".invitee-orientation-message-container.arrow",(function(){return i.a(".js-close-orientation.pop-over-header-close-btn.close-invitee-orientation.icon-sm.icon-close",{href:"#"}),i.h1((()=>i.format("welcome-to-trello-wave"))),i.div((function(){return i.div(".orientation-header",(function(){return i.div(".board-header-facepile.invitee-orientation-facepile.js-invitee-orientation-facepile"),i.div(".orientation-facepile-text",(function(){if(e>0)return i.b((function(){return i.text(n),i.raw("&nbsp;")})),1===e?i.format("is-also-here"):2===e?i.format("one-other-is-here"):i.format("count-others-are-here",{count:e-1})}))})),i.div(".invitee-orientation-text.u-clearfix",(function(){return i.p((()=>i.format("main-message",{boardName:a}))),i.p((()=>i.format("that-s-all")))}))}))})),i.div(".invitee-orientation-avatar-container",(function(){return r?i.img(".invitee-orientation-avatar",{src:[r,"50.png"].join("/"),alt:s,title:"".concat(s," (").concat(o,")")}):i.div(".invitee-orientation-initials-wrapper",(()=>i.span(".invitee-orientation-initials",(()=>i.text(l)))))}))}))},"./app/scripts/views/templates/label.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("label");e.exports=i.renderable((function({color:e,name:t,extraClasses:n}){const a={"card-label":!0};if(e&&(a["card-label-".concat(e)]=!0),n)for(const e of Array.from(n))a[e]=!0;return i.span({class:i.classify(a),title:null!=t?t:"".concat(e," label (default)")},(()=>i.span({class:"label-text"},(function(){return t?i.text(t):i.raw("&nbsp;")}))))}))},"./app/scripts/views/templates/label_edit_component.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("label_edit_component");e.exports=function(){return i.label({for:"labelName"},(()=>i.format("name"))),i.input(".js-autofocus.js-label-name",{id:"labelName",type:"text",name:"name",value:i.mustacheVar("label.name")}),i.label((()=>i.format("select-a-color"))),i.div(".u-clearfix",(()=>i.mustacheBlock("colors",(()=>i.span({class:"card-label mod-edit-label mod-clickable card-label-".concat(i.mustacheVar("color")," palette-color js-palette-color"),"data-color":i.mustacheVar("color")},(()=>i.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(i.mustacheBlockInverted("selected",(()=>"hide"))," js-palette-select")}))))))),i.div(".edit-labels-no-color-section.u-clearfix",(function(){return i.div(".edit-labels-no-color-section-color",(()=>i.span({class:"card-label mod-edit-label mod-clickable card-label-null palette-color js-palette-color","data-color":null},(()=>i.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(i.mustacheBlockInverted("noColor",(()=>"hide"))," js-palette-select")}))))),i.div(".edit-labels-no-color-section-text",(function(){return i.p(".u-bottom",(()=>i.format("no-color"))),i.p(".u-bottom.quiet",(()=>i.format("this-wont-show-up-on-the-front-of-cards")))}))})),i.div(".u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.mustacheVar("submitText")}),i.div(".u-float-right.js-accessory-view-holder")}))}},"./app/scripts/views/templates/label_limit_exceeded.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("label_limit_exceeded");e.exports=()=>i.span({class:"error"},(()=>i.format("board-label-limit-exceeded")))},"./app/scripts/views/templates/list.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("list");e.exports=i.renderable((({name:e,subscribed:t,loggedIn:n,editable:a,isTemplate:r,canRecordVideo:s})=>i.div(".list.js-list-content",(function(){const o={"list-header":!0,"js-list-header":!0,"u-clearfix":!0,"is-menu-shown":n,"is-subscribe-shown":t};return i.div({class:i.classify(o)},(function(){return i.div(".list-header-target.js-editing-target"),i.h2(".list-header-name-assist.js-list-name-assist",{dir:"auto"},e),i.textarea({class:i.classify({"list-header-name":!0,"mod-list-name":!0,"js-list-name-input":!0}),"aria-label":e,spellcheck:"false",dir:"auto",maxLength:512},e),i.div(".list-header-extras",(function(){const e={"list-header-extras-subscribe":!0,"js-list-subscribed":!0};if(t||(e.hide=!0),i.span({class:i.classify(e)},(()=>i.span(".icon-sm.icon-subscribe.mod-quiet"))),i.span(".list-header-extras-limit-badge.js-list-limit-badge.hide"),n&&!r||n&&r&&a)return i.a(".list-header-extras-menu.dark-hover.js-open-list-menu.icon-sm.icon-overflow-menu-horizontal",{href:"#","aria-label":i.l("list-actions-ellipsis")},(()=>i.div()))})),i.p(".list-header-num-cards.hide.js-num-cards")})),i.div(".card-composer-container.js-card-composer-container",(function(){return i.a(".open-card-composer.js-open-card-composer",{href:"#"},(function(){if(i.icon("add"),i.span(".js-add-a-card",(()=>i.format("add-a-card"))),!s)return i.span(".js-add-another-card.hide",(()=>i.format("add-another-card")))})),s&&i.div(".js-card-record-button.dark-background-hover"),i.div(".js-card-templates-button.card-templates-button-container.dark-background-hover")}))}))))},"./app/scripts/views/templates/list_add.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_add");e.exports=i.renderable((function({tooManyTotalLists:e,tooManyOpenLists:t,isFirstList:n}){const a=e||t;return i.form((function(){if(i.a({href:"#",class:i.classify({"open-add-list js-open-add-list":!a,"too-many-lists":a})},(()=>i.span(".placeholder",(function(){return e?i.format("you-have-too-many-lists"):t?i.format("you-have-too-many-open-lists"):(i.icon("add"),n?i.format("add-a-list"):i.format("add-another-list"))})))),!a){const e=i.l("enter-list-title-ellipsis"),t=i.l("add-list");return i.input(".list-name-input",{type:"text",name:"name",placeholder:e,autocomplete:"off",dir:"auto",maxLength:512}),i.div(".list-add-controls.u-clearfix",(function(){return i.input(".nch-button.nch-button--primary.mod-list-add-button.js-save-edit",{type:"submit",value:t}),i.a(".icon-lg.icon-close.dark-hover.js-cancel-edit",{href:"#","aria-label":i.l("cancel-edit-list")})}))}}))}))},"./app/scripts/views/templates/list_bulk_card_move.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_bulk_card_move");e.exports=()=>i.form((()=>i.ul(".pop-over-list",(()=>i.mustacheBlock("lists",(()=>i.li((()=>i.a({href:"#",class:"js-select-list highlight-icon ".concat(i.mustacheBlock("current",(()=>" disabled"))),name:i.mustacheVar("id")},(function(){return i.text(i.mustacheVar("name")),i.mustacheBlock("current",(function(){return i.text(" "),i.format("current")}))}))))))))))},"./app/scripts/views/templates/list_copy.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_copy");e.exports=i.renderable((({canCopyOpen:e,canCopyTotal:t,name:n})=>i.div((function(){const a=e&&t;return i.label((()=>i.format("name"))),i.textarea(".js-autofocus",{name:"name"},(()=>i.text(n))),i.span(".js-limit-exceeded.error",{class:i.classify({hide:a})},(()=>i.format(e?"total-limit-exceeded":"open-limit-exceeded"))),i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.l("create-list"),disabled:!a})}))))},"./app/scripts/views/templates/list_menu.js":function(e,t,n){const i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_menu");e.exports=a.renderable((function({editable:e,subscribed:t,canCopyList:n,hasSortableCards:r,pluginActions:s,listLimitsEnabled:o,isTemplate:l}){if(a.ul(".pop-over-list",(function(){if(e&&(a.li((()=>a.a(".js-add-card",{href:"#"},(()=>a.format("add-card-ellipsis"))))),n&&a.li((()=>a.a(".js-copy-list",{href:"#"},(()=>a.format("copy-list-ellipsis"))))),a.li((()=>a.a(".js-move-list",{href:"#"},(()=>a.format("move-list-ellipsis")))))),!l)return a.li((()=>a.a(".highlight-icon.js-list-subscribe",{href:"#"},(()=>a.check(t,"watch")))))})),e)return r&&(a.hr(),a.ul(".pop-over-list",(()=>a.li((()=>a.a(".js-sort-cards",{href:"#"},(()=>a.format("sort-by")))))))),a.div(".js-list-menu-butler-section"),(null!=s?s.length:void 0)>0&&(a.hr(),a.ul(".pop-over-list",(()=>s.map(((e,t)=>a.li((function(){if(i.isFunction(e.callback))return a.a(".plugin-list-action.js-plugin-list-action",{href:"#","data-index":t,title:e.text},(function(){return a.span((()=>a.text(e.text))),a.img({src:e.icon,title:e.name,height:"18px",width:"18px"})}))}))))))),o&&(a.hr(),a.ul(".pop-over-list",(()=>a.li((()=>a.a(".js-set-list-limit",{href:"#"},(()=>a.format("set-list-limit")))))))),a.hr(),a.ul(".pop-over-list",(function(){return a.li((()=>a.a(".js-move-cards",{href:"#"},(()=>a.format("move-all-cards-in-this-list-ellipsis"))))),a.li((()=>a.a(".js-archive-cards",{href:"#"},(()=>a.format("archive-all-cards-in-this-list-ellipsis")))))})),a.hr(),a.ul(".pop-over-list",(()=>a.li((()=>a.a(".js-close-list",{href:"#"},(()=>a.format("archive-this-list")))))))}))},"./app/scripts/views/templates/list_sort.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_sort");e.exports=i.renderable((({canSortByDueDate:e,pluginListSorters:t})=>i.ul(".pop-over-list",(function(){if(i.li((()=>i.a(".js-sort-newest-first",{href:"#"},(()=>i.format("sort-newest-first"))))),i.li((()=>i.a(".js-sort-oldest-first",{href:"#"},(()=>i.format("sort-oldest-first"))))),i.li((()=>i.a(".js-sort-by-card-name",{href:"#"},(()=>i.format("sort-by-card-name"))))),e&&i.li((()=>i.a(".js-sort-by-due-date",{href:"#"},(()=>i.format("due-date"))))),(null!=t?t.length:void 0)>0)return i.hr(),t.map(((e,t)=>i.li((()=>i.a(".plugin-list-action.js-plugin-list-sort-action",{"data-index":t,href:"#",title:e.text},(function(){return i.span((()=>i.text(e.text))),null!=e.icon?i.icon(e.icon):null!=e.image?i.img({src:e.image,title:e.name,height:"18px",width:"18px"}):void 0}))))))}))))},"./app/scripts/views/templates/member.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=i.renderable((function({id:e,avatarUrl:t,viewTitle:n,initials:a,isDeactivated:r,isBoardAdmin:s,isOrganizationAdmin:o,hideBadges:l}){if(t?i.img(".member-avatar",{height:"30",width:"30",src:[t,"30.png"].join("/"),srcset:[[t,"30.png 1x"].join("/"),[t,"50.png 2x"].join("/")].join(", "),alt:n,title:n}):a?i.span(".member-initials",{title:n,"aria-label":n},(()=>i.text(a))):i.div(".member-icon-container",(()=>i.icon("member"))),e&&i.span("#".concat(e,"-avatar")),r||l||(s&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-board"),"aria-label":i.l("this-member-is-an-admin-of-this-board")}),o&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-organization"),"aria-label":i.l("this-member-is-an-admin-of-this-organization")})),!l)return i.span(".member-gold-badge",{title:i.l("this-member-has-trello-gold"),"aria-label":i.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_avatar.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=i.renderable((function({avatarUrl:e,viewTitle:t,initials:n,isDeactivated:a,isBoardAdmin:r,isOrganizationAdmin:s}){const o=t;if(e){const t=[e,"30.png"].join("/"),n=[e,"50.png"].join("/");i.img({class:"member-avatar",height:"30",width:"30",src:t,srcset:"".concat(t," 1x, ").concat(n," 2x"),alt:o,title:o})}else n?i.span(".member-initials",{title:o,"aria-label":o},(()=>i.text(n))):i.div(".member-icon-container",(()=>i.icon("member")));return a||(r&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-board")}),s&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-organization")})),i.span(".member-gold-badge",{title:i.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_large_avatar.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_large_avatar");e.exports=i.renderable((function({avatarUrl:e,viewTitle:t,avatarSource:n}){const a=t;let r="";return"atlassianAccount"===n&&(r="pop-over-atlassian-account-avatar"),i.img({src:[e,"original.png"].join("/"),class:r,alt:a,title:a})}))},"./app/scripts/views/templates/member_on_board_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_board_menu"),{featureFlagClient:a}=n("./packages/feature-flag-client/index.ts"),{dontUpsell:r}=n("./packages/browser/index.ts");e.exports=function(){return i.li((function(){if(i.mustacheVar("canInviteMemberToTeam")){const e=i.mustacheVar("isFreeTeam"),t=r()?"/business-class":i.mustacheVar("orgBillingUrl");e?i.div({class:"js-add-to-team pop-over-list-item",role:"button",tabIndex:"0"},(function(){return i.format("add-to-team-as-admin"),a.get("btg.upgrade-prompt-audit",!1)&&!r()?i.div({class:"for-more-roles-react-component"}):i.small(".add-to-team-upgrade-bc",(function(){return r()?i.format("for-more-roles-non-cta",{link:t}):i.format("for-more-roles",{link:t})}))})):i.a({class:"js-add-to-team",href:"#"},(()=>i.format("add-to-team")))}return i.mustacheBlock("type",(()=>i.a({class:i.mustacheBlock("canChangeRole",(()=>"js-change-role"))+i.mustacheBlockInverted("canChangeRole",(()=>"disabled")),href:"#"},(()=>i.format("change-permissions-ellipsis-type",{type:i.mustacheVar("type")}))))),i.mustacheBlockInverted("type",(()=>i.a({class:i.mustacheBlock("canChangeRole",(()=>"js-change-role"))+i.mustacheBlockInverted("canChangeRole",(()=>"disabled")),href:"#"},(()=>i.format("change-permissions-ellipsis")))))})),i.mustacheVar("isTemplate")||i.li((()=>i.a({class:"js-view-member-activity",href:i.mustacheVar("boardProfileUrl")},(()=>i.format("view-member-s-board-activity"))))),i.mustacheBlock("canRemove",(()=>i.li((()=>i.a(".js-remove-member",(function(){return i.mustacheBlock("isMe",(()=>i.format("leave-board-ellipsis"))),i.mustacheBlockInverted("isMe",(()=>i.format("remove-from-board-ellipsis")))})))))),i.mustacheBlockInverted("canRemove",(()=>i.mustacheBlock("isMe",(()=>i.mustacheBlock("isMoreThanOneMember",(()=>i.mustacheBlock("memberIsAdmin",(()=>i.li((function(){return i.hr(),i.p(".quiet.u-bottom",(()=>i.format("you-can-t-leave-because-you-are-the-only-admin-to-make-another-user-an-admin-click-their-avatar-select-change-permissions-ellipsis-and-select-admin")))})))))))))),i.mustacheBlock("isGhost",(()=>i.li((function(){return i.hr(),i.p(".quiet.u-bottom",(()=>i.format("this-user-will-be-able-to-access-this-board-once-they-sign-up-with-trello-and-confirm-their-email-address")))}))))}},"./app/scripts/views/templates/member_on_card.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card"),a=n("./app/scripts/views/templates/member.js");e.exports=i.renderable((({avatarUrl:e,fullName:t,id:n,initials:r,isDeactivated:s,isBoardAdmin:o,isOrganizationAdmin:l,isVirtual:c,username:d,viewTitle:u,activityBlocked:p})=>i.div(".member.js-member-on-card-menu",{class:i.classify({"member-deactivated":s||p,"member-virtual":c,"long-initials":(null!=r?r.length:void 0)>2}),"data-idmem":n},(()=>a({avatarUrl:e,fullName:t,initials:r,isDeactivated:s,isBoardAdmin:o,isOrganizationAdmin:l,username:d,viewTitle:u})))))},"./app/scripts/views/templates/member_on_card_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card_menu");e.exports=()=>i.mustacheBlock("__ed",(()=>i.li((()=>i.a(".js-remove-member",(()=>i.format("remove-from-card")))))))},"./app/scripts/views/templates/mini_profile.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("mini_profile");e.exports=i.renderable((({avatarUrl:e,viewTitle:t,fullName:n,username:a,initials:r,bio:s,email:o,showEmail:l,isMe:c,isDeactivated:d,activityBlocked:u})=>i.div(".mini-profile",(function(){return i.div(".mini-profile-member.member-large",{class:i.classify({"member-deactivated":d||u})},(function(){e&&i.a(".av-btn.js-view-large",{href:"#"});const n=t;return e?i.img(".member-avatar",{height:"50",width:"50",src:[e,"50.png"].join("/"),alt:n,title:n}):r?i.span(".member-initials",{title:n},(()=>i.text(r))):i.div(".member-icon-container",(()=>i.icon("member")))})),i.div(".mini-profile-info",(function(){if(i.h3(".mini-profile-info-title",(()=>i.a(".mini-profile-info-title-link.js-profile",{href:"/".concat(a)},(()=>i.text(n))))),i.p(".quiet.u-bottom",(()=>i.format("at-username",{username:a}))),s&&i.p(".mini-profile-info-bio.quiet",(()=>i.text(s))),l&&i.p(".u-bottom.quiet",(()=>i.text(o))),c)return i.p(".u-bottom",(function(){const e="/".concat(a,"/profile");return i.a(".quiet",{href:e},(()=>i.format("edit-profile-info")))}))}))}))))},"./app/scripts/views/templates/move_card_controls.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("move_card_controls"),{SelectTestIds:a}=n("./packages/test-ids/index.ts");e.exports=function(){return i.mustacheBlockInverted("hideBoard",(function(){return i.div(".form-grid",(function(){return i.div(".form-grid-child.form-grid-child-full",{class:i.classify({hide:!i.mustacheVar("restrictToCurrentBoard")})},(function(){return i.label((()=>i.format("board"))),i.p((()=>i.mustacheBlock("organizations",(()=>i.mustacheBlock("boards",(()=>i.text(i.mustacheVar("name"))))))))})),i.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:i.classify({hide:i.mustacheVar("restrictToCurrentBoard")})},(function(){return i.span(".label",(()=>i.format("board"))),i.span(".value.js-board-value"),i.label((()=>i.format("board"))),i.select(".js-select-board",{"data-test-id":a.MoveBoardSelect},(()=>i.mustacheBlock("organizations",(()=>i.optgroup({label:i.mustacheVar("displayName")},(()=>i.mustacheBlock("boards",(()=>i.optionSelected(i.mustacheVar("selected"),{value:i.mustacheVar("id")},(function(){return i.text(i.mustacheVar("name")),i.mustacheBlock("selected",(function(){return i.text(" "),i.format("current")}))}))))))))))}))})),i.mustacheBlock("hasEnterprise",(()=>i.mustacheBlock("enterpriseName",(function(){return i.mustacheBlock("isMove",(()=>i.p(".quiet",(()=>i.format("card-can-only-be-moved-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")}))))),i.mustacheBlock("isCopy",(()=>i.p(".quiet",(()=>i.format("card-can-only-be-copied-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")})))))}))))})),i.div(".form-grid",(function(){return i.div(".button-link.setting.form-grid-child.form-grid-child-threequarters",(function(){return i.span(".label",(()=>i.format("list"))),i.span(".value.js-list-value"),i.label((()=>i.format("list"))),i.select(".js-select-list")})),i.div(".button-link.setting.form-grid-child",(function(){return i.span(".label",(()=>i.format("position"))),i.span(".value.js-pos-value"),i.label((()=>i.format("position"))),i.select(".js-select-position")}))}))}},"./app/scripts/views/templates/org_create.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("org_create");e.exports=function(){i.form((function(){return i.p(".error",{style:"display:none"}),i.label({for:"org-display-name"},(()=>i.format("name"))),i.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:i.mustacheVar("displayName"),dir:"auto",maxLength:100}),i.div(".js-team-type-select.create-org-team-type-select"),i.mustacheVar("teamVerticalSelectionEnabled")||(i.label({for:"org-desc"},(()=>i.format("description-optional"))),i.textarea({id:"org-desc",name:"desc",dir:"auto"},(()=>i.text(i.mustacheVar("desc"))))),i.mustacheVar("boardToAddToOrg")&&i.mustacheVar("memberCount")>1&&i.div(".check-div",(function(){return i.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),i.label({for:"addMembers",class:"create-team-add-members"},(()=>i.format("add-the-members-of-this-board-to-the-team")))})),i.input(".nch-button.nch-button--primary.wide.js-save",{type:"submit",value:i.l("create")})})),i.hr(),i.mustacheVar("isPrivateTemplate")&&i.p(".create-org-template-alert-notice",(()=>i.format("moving-a-template"))),i.p(".quiet",(()=>i.format("a-team-is-a-group-of-boards-and-people")))}},"./app/scripts/views/templates/org_create_enterprise.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("org_create");e.exports=function(){return i.form((function(){return i.p(".error",{style:"display:none"}),i.label({for:"org-display-name"},(()=>i.format("name"))),i.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:i.mustacheVar("displayName"),dir:"auto",maxLength:100}),i.div(".js-team-type-select"),i.div((function(){return 1===i.mustacheVar("enterprises").length?(i.input({type:"hidden",name:"enterprise",value:i.mustacheVar("enterprises").first().id}),i.label((()=>i.text("Enterprise"))),i.p((()=>i.text(i.mustacheVar("enterprises").first().get("displayName"))))):(i.label({for:"ent-select"},(()=>i.text("Enterprise"))),i.select({id:"ent-select",name:"enterprise"},(()=>i.mustacheVar("enterprises").forEach((e=>i.option({value:e.id},(()=>i.text(e.get("displayName")))))))))})),i.mustacheVar("boardToAddToOrg")&&i.mustacheVar("memberCount")>1&&i.div(".check-div",(function(){return i.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),i.label({for:"addMembers",class:"create-team-add-members"},(()=>i.format("add-the-members-of-this-board-to-the-team")))})),i.input(".nch-button.nch-button--primary.wide.js-save",{type:"submit",value:i.l("create")})})),i.hr(),i.p(".quiet.u-bottom",(()=>i.format("a-team-is-a-group-of-boards-and-people-owned")))}},"./app/scripts/views/templates/popover_add_list.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_add_list");e.exports=i.renderable((function({tooManyTotalLists:e,tooManyOpenLists:t}){if(e)i.p((()=>i.format("you-have-too-many-lists-on-this-board")));else{if(!t)return i.form((function(){return i.div(".form-grid",(function(){return i.div(".form-grid-child.form-grid-child-threequarters",(function(){return i.label({for:"list-name"},(()=>i.format("name"))),i.input(".js-list-name.js-autofocus",{type:"text",id:"list-name",value:i.l("default-list-name"),style:"margin-bottom: 0;"})})),i.div(".form-grid-child",(()=>i.div(".button-link.setting",{style:"margin-top: 4px;"},(function(){return i.span(".label",(()=>i.format("position"))),i.span(".value.js-pos-value"),i.label((()=>i.format("position"))),i.select(".js-select-list-pos")}))))})),i.input(".nch-button.nch-button--primary.wide.js-add-list",{type:"submit",value:i.l("add")})}));i.p((()=>i.format("you-have-too-many-open-lists-on-this-board")))}}))},"./app/scripts/views/templates/popover_add_to_team.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_add_to_team");e.exports=i.renderable((function({teamType:e}){return i.p(".u-text-align-center",{style:"padding: 3px 0"},(()=>i.format("add to team-disclaimer",{teamType:e}))),i.button(".button-link.primary.u-width-100.js-add-to-team",(()=>i.format("add to team-confirm")))}))},"./app/scripts/views/templates/popover_auto_mentioner.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_auto_mentioner");e.exports=function(){return i.mustacheBlock("button",(()=>i.input(".js-filter-mentionables.js-autofocus",{type:"text",placeholder:i.l("search-members-ellipsis")}))),i.p(".quiet.js-empty-list.hide",{style:"padding: 8px 8px 0;"},(()=>i.format("no-matching-members"))),i.ul(".pop-over-member-list.js-available-members")}},"./app/scripts/views/templates/popover_board_header_all_members.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_board_header_all_members");e.exports=i.renderable((function(e,t){const n=[{key:"members",jsClass:"js-list-members"},{key:"team-members",jsClass:"js-list-team-members"},{key:"recently-joined",jsClass:"js-list-recently-joined-members"},{key:"invited",jsClass:"js-list-invited-members"},{key:"guests",jsClass:"js-list-guests"},{key:"observers",jsClass:"js-list-observers"},{key:"deactivated",jsClass:"js-deactivated-members"}];return i.div(".board-header-popover.js-all-members",(function(){return i.div(".org-members-actions-search"),i.div(".board-members-search-container",(()=>i.input(".board-members-search.js-search-board-member.js-autofocus.js-heading",{type:"text",placeholder:i.l("search-board-members")})))})),i.div(".board-header-popover.js-all-members",(()=>(()=>{const t=[];for(const{key:a,jsClass:r}of Array.from(n))t.push(i.div(".board-menu-member-section.".concat(r),(function(){return i.div(".board-menu-member-section-header.js-heading",(()=>i.format(a))),i.div(".u-clearfix.js-list",{class:i.classify({"js-list-draggable-board-members":e.canAssign})})})));return t})())),i.div(".js-invite-no-results.hide",(()=>i.p(".board-member-no-results.empty",(function(){return t?i.format("no-results"):(i.format("not-a-member"),e.showInviteLink?i.a(".invite-to-board-link.js-invite-to-board-link",{href:"#",target:"_blank"},(()=>i.format("invite-to-board"))):void 0)}))))}))},"./app/scripts/views/templates/popover_board_header_org_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_board_header_org_menu");e.exports=i.renderable((({blockTeamlessBoardsEnabled:e,canChangeOrg:t,setOrgNull:n,name:a,products:r,isOrgMember:s,upsellEnabled:o,upgradePathAuditEnabled:l})=>i.ul(".pop-over-list",(function(){if(t&&(e?i.li((()=>i.a(".js-change-org",{href:"#"},(function(){i.format("change-organization-ellipsis")})))):i.li((()=>i.a(".js-change-org",{href:"#"},(function(){if(n&&i.format("remove-from-organization"),!n)return i.format("change-organization-ellipsis")}))))),i.li((()=>i.a(".js-view-org",{href:"/".concat(a)},(()=>i.format("view-organization-page"))))),!r.length&&s&&o)return i.li(".divide",(()=>l?i.div({id:"upgrade-path-react-component"}):i.a(".js-upgrade-to-bc",{href:"/".concat(a,"/billing")},(()=>i.format("upgrade-to-business-class")))))}))))},"./app/scripts/views/templates/popover_change_board_org.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_board_org"),{BoardHeaderTestIds:a}=n("./packages/test-ids/index.ts");e.exports=i.renderable((({orgs:e,allowsSelfJoin:t,hasOrg:n,idOrganization:r,isMemberOfBoardOrg:s,isPrivate:o,isDesktop:l,isTemplate:c,addToTeam:d,hasEnterprise:u,enterpriseName:p,showPrivateBoardsOptionForEntBoards:m,blockTeamlessBoardsEnabled:h})=>i.form((function(){return i.label({"data-test-id":a.ChangeTeamSelectLabel},(function(){return c?i.format("this-template-is-part-of"):i.format("this-board-is-part-of")})),i.select(".js-org",(function(){return h||u&&!m?h&&r&&!s&&i.optionSelected(!0,{value:r},(()=>i.format("private-workspace"))):i.optionSelected(!e,{value:""},(()=>i.format("personal-boards-no-team"))),Array.from(e).map((e=>i.optionSelected(e.select,{value:e.id},(()=>i.text(e.displayName)))))})),u&&!m&&i.div(".quiet",(()=>i.format("board-can-only-be-moved-to-teams-within-org",{enterpriseName:p}))),i.div(".template-alert-notice.js-template-alert",(()=>i.format("moving-a-template"))),i.div(".spinner.loading.js-loading.hide"),i.div(".js-loaded.hide",(function(){return i.div(".js-billable-guests-warning.move-board-to-org.hide"),i.div(".js-permissions.hide",(function(){if(o&&i.div(".check-div.js-check-div",(function(){return i.input(".js-make-org-visible",{type:"checkbox",checked:!n,id:"orgVisible"}),i.label({for:"orgVisible"},(()=>i.format("make-board-visible-to-organization")))})),!t&&!c)return i.div(".check-div.js-check-div",(function(){return i.input(".js-make-org-joinable",{type:"checkbox",checked:!0,id:"orgJoinable"}),i.label({for:"orgJoinable"},(()=>i.format("allow-any-org-member-to-join-this-board")))}))})),i.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(()=>i.p((function(){return l?i.format("board-cant-be-moved-because-of-board-limits-desktop"):i.format("board-cant-be-moved-because-of-board-limits")})))),i.input(".js-submit.wide.nch-button.nch-button--primary.disabled",{type:"submit",value:d?i.l("add"):i.l("change")}),i.a({href:"#",class:"js-new-org right-of-button-link"},(()=>i.format("create-team")))}))}))))},"./app/scripts/views/templates/popover_change_labels.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_labels");e.exports=function(){return i.input(".js-autofocus.js-label-search",{type:"text",placeholder:i.l("search-labels-ellipsis"),value:i.mustacheVar("searchInit"),autocomplete:"off"}),i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")})),i.ul(".edit-labels-pop-over.js-suggested-labels-list",(function(){}))})),i.div(".pop-over-section",(function(){return i.h4((()=>i.format("labels"))),i.ul(".edit-labels-pop-over.js-labels-list"),i.mustacheBlock("__ed",(()=>i.div((function(){return i.button(".button.full.js-add-label",(()=>i.format("create-a-new-label"))),i.button(".button.full.hide.js-show-more",(()=>i.format("show-more-labels"))),i.hr(),i.button(".button.full.js-toggle-color-blind-mode",(function(){return i.mustacheBlock("isColorBlindEnabled",(()=>i.format("disable-color-blind-friendly-mode-no-punc"))),i.mustacheBlockInverted("isColorBlindEnabled",(()=>i.format("enable-color-blind-friendly-mode-no-punc")))}))}))))}))}},"./app/scripts/views/templates/popover_change_roles.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_roles");e.exports=function(){return i.ul(".pop-over-list",(function(){return i.li((()=>i.a({class:i.mustacheBlock("canMakeAdmin",(()=>"js-make-admin highlight-icon"))+i.mustacheBlockInverted("canMakeAdmin",(()=>" disabled"))},(function(){return i.check(i.mustacheVar("memberIsAdmin"),"admin"),i.span(".sub-name",(()=>i.text(i.mustacheVar("roleText_admin"))))})))),i.li((()=>i.a({class:i.mustacheBlock("canMakeMember",(()=>"highlight-icon js-make-member "))+i.mustacheBlockInverted("canMakeMember",(()=>" disabled"))},(function(){return i.check(i.mustacheVar("memberIsNormal"),"normal"),i.span(".sub-name",(()=>i.text(i.mustacheVar("roleText_normal"))))})))),i.mustacheBlock("showObserver",(()=>i.li((()=>i.a({class:i.mustacheBlock("canMakeObserver",(()=>"highlight-icon js-make-observer "))+i.mustacheBlockInverted("canMakeObserver",(()=>" disabled"))},(function(){return i.format("observer"),i.icon("business-class"),i.mustacheBlock("memberIsObserver",(()=>i.icon("check"))),i.span(".sub-name",(()=>i.text(i.mustacheVar("roleText_observer"))))}))))))})),i.mustacheBlockInverted("isMoreThanOneAdmin",(()=>i.mustacheBlock("memberIsAdmin",(function(){return i.hr(),i.p(".quiet.u-bottom",(()=>i.format("you-can-t-change-roles-because-there-must-be-at-least-one-admin")))}))))}},"./app/scripts/views/templates/popover_confirmation_public_boards.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_confirmation_public_boards");e.exports=i.renderable((({isTemplate:e})=>i.div(".public-board-confirmation-popover",(function(){return i.div(".public-board-confirmation-popover-title",(function(){return e?(i.span((()=>i.format("public-template-confirmation-description"))),i.button(".js-submit.wide.nch-button.nch-button--primary.full.make-public-confirmation-button",(()=>i.format("public-template-confirm")))):(i.span((()=>i.format("public-board-confirmation-description"))),i.button(".js-submit.wide.nch-button.nch-button--primary.full.make-public-confirmation-button",(()=>i.format("confirm"))))})),i.hr(),i.div(".public-board-confirmation-popover-invitation-link",(()=>i.p((function(){return i.format("looking-for-invite-link"),i.a(".js-action-link.looking-for-invite-link",{href:"#",target:"_blank"},(function(){return e?i.format("invite-to-template-link"):i.format("invite-to-board-link")})),i.format("option")}))))}))))},"./app/scripts/views/templates/popover_emoji_completer.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_completer");e.exports=i.renderable((function({input:e,button:t,upsellEnabled:n}){return t&&i.input(".js-filter-emoji.js-autofocus",{type:"text",placeholder:i.l("search-for-emoji-ellipsis")}),i.div(".js-results.input-emoji-results",(function(){if(i.ul(".pop-over-emoji-list.js-available-emoji"),n)return i.hr(),i.ul(".pop-over-list",(()=>i.li((()=>i.a(".js-upload-emoji",{href:"#","data-emojiname":""},(()=>i.format("upload-emoji")))))))})),i.div(".js-no-results.hide.input-emoji-no-results",(function(){if(n)return i.p(".u-bottom.js-no-matching-emoji-helper"),i.a(".nch-button.nch-button--primary.nch-button--fullwidth.js-upload-emoji.my-4",{href:"#","data-emojiname":""})}))}))},"./app/scripts/views/templates/popover_emoji_uploader.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader");e.exports=function(){return i.mustacheBlockInverted("canUpload",(function(){return i.div(".warning",(function(){return i.mustacheBlockInverted("hasBCGold",(()=>i.p(".u-bottom",(()=>i.format("you-can-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")))))})),i.hr()})),i.form({action:"/1/member/".concat(i.mustacheVar("id"),"/customEmoji"),method:"post",enctype:"multipart/form-data"},(function(){return i.input({type:"hidden",name:"token",value:""}),i.input({type:"hidden",name:"format",value:"http"}),i.label({for:"emojiImage"},(()=>i.format("upload-image"))),i.input(".js-upload-emoji-file.upload-emoji",{id:"emojiImage",type:"file",name:"file",tabindex:"-1",accept:"image/*"}),i.label({for:"emojiName"},(()=>i.format("emoji-name"))),i.input(".js-emoji-name",{id:"emojiName",type:"text",name:"name",value:i.mustacheVar("emojiName")}),i.p(".quiet",(()=>i.format("the-name-will-default-to-the-name-of-the-uploaded-file-you-can-change-it-here-though"))),i.p(".warning.hide.js-invalid-name",(()=>i.format("the-emoji-name-can-only-contain-letters-numbers-and-underscores"))),i.div(".js-emoji-preview",{style:"margin-bottom: 12px;"},(function(){return i.p({style:"margin-bottom: 4px;"},(()=>i.strong((()=>i.format("preview"))))),i.span(".js-emoji-preview-name",(()=>i.text(i.mustacheVar("emojiName")))),i.text(" → "),i.img(".js-emoji-preview.emoji")})),i.input(".nch-button.nch-button--primary.wide.js-upload-emoji",{type:"submit",value:i.l("create-custom-emoji")}),i.div(".error.hide",(()=>i.format("upload-failed")))})),i.mustacheBlock("canUpload",(()=>i.mustacheBlock("showTeamUpsell",(function(){return i.hr(),i.p(".u-bottom",(()=>i.format("you-can-also-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")))}))))}},"./app/scripts/views/templates/popover_filter_pos_results.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_filter_pos_results");e.exports=()=>i.ul(".pop-over-list.navigable.normal-weight.js-pos-results",(function(){return[["js-select-pos-keyword",i.mustacheVar("keywordList")],["js-select-pos-pos",i.mustacheVar("indexList")],["js-select-pos-list",i.mustacheVar("listList")]].forEach((function(...e){const[t,n]=Array.from(e[0]);return n.forEach((e=>i.li((()=>i.a({href:"#",name:e.value,class:t},(()=>i.format("position-in-list",{index:e.indexString,listName:e.listName})))))))}))}))},"./app/scripts/views/templates/popover_helper_new_board_add_org.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_helper_new_board_add_org");e.exports=function(){return i.p((()=>i.format("an-organization-is-a-collection-of-members-and-boards-they-make-sharing-and-working-within-a-group-even-easier"))),i.a(".button.js-create-org",{href:"#"},(()=>i.format("create-an-organization")))}},"./app/scripts/views/templates/popover_limit_exceeded.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_limit_exceeded");e.exports=i.renderable((e=>i.div(".error.js-limit-exceeded",{style:"margin: 12px 0 6px;"},(function(){return"perCard"===e?i.format("attachments-per-card-exceeded"):"perBoard"===e?i.format("attachments-per-board-exceeded"):void 0}))))},"./app/scripts/views/templates/popover_member_searcher.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_member_searcher");e.exports=function(){return i.mustacheBlock("showSearch",(()=>i.input(".js-filter-members.js-autofocus",{type:"text",placeholder:i.l("search-members-ellipsis")}))),i.ul(".pop-over-member-list.checkable.js-members-list")}},"./app/scripts/views/templates/popover_move_card.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_card");e.exports=function(){const e=i.mustacheVar("suggestions");return e.length>0&&i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")}));for(const t of Array.from(e))i.a(".button-link.js-suggested-move",{class:i.classify({"flip-icon":"left"===t.direction}),"data-id":t.id,"data-position":t.position,href:"#"},(function(){return i.icon("move"),i.text(t.name)}))})),i.div(".pop-over-section",(function(){return i.h4((()=>i.format("select-destination"))),i.mustachePartial(n("./app/scripts/views/templates/move_card_controls.js")),i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.l("move")})}))}},"./app/scripts/views/templates/popover_move_list.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_list");e.exports=i.renderable((function({organizations:e,hasEnterprise:t,enterpriseName:n,restrictToCurrentBoard:a}){return i.div(".form-grid",(function(){return i.div(".form-grid-child.form-grid-child-full",{class:i.classify({hide:!a})},(function(){return i.label((()=>i.format("board"))),i.p((()=>i.text(e[0].boards[0].name)))})),i.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:i.classify({hide:a})},(function(){return i.span(".label",(()=>i.format("board"))),i.span(".value.js-board-value"),i.label((()=>i.format("board"))),i.select(".js-select-board",(()=>Array.from(e).map((e=>i.optgroup({label:e.displayName},(()=>Array.from(e.boards).map((e=>i.optionSelected(e.selected,{value:e.id},(function(){if(i.text(e.name),e.selected)return i.text(" "),i.format("current")}))))))))))}))})),t&&n&&i.p(".quiet",(()=>i.format("list-can-only-be-moved-to-teams-within-org",{enterpriseName:n}))),i.div(".form-grid",(()=>i.div(".button-link.setting.form-grid-child.form-grid-child-full",(function(){return i.span(".label",(()=>i.format("position"))),i.span(".value.js-pos-value"),i.label((()=>i.format("position"))),i.select(".js-select-list-pos")})))),i.input(".nch-button.nch-button--primary.wide.js-commit-position",{type:"submit",value:i.l("move")}),i.p((()=>i.span(".error.hide.js-list-limit-exceeded",(()=>i.format("too many lists")))))}))},"./app/scripts/views/templates/popover_reopen_board.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_reopen_board");e.exports=i.renderable((function(){return i.div(".js-billable-guests-alert"),i.input(".nch-button.nch-button--primary.full.js-confirm-reopen",{type:"submit",value:i.l("confirm")})}))},"./app/scripts/views/templates/popover_select_members.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_select_members");e.exports=i.renderable((function({canInviteMembers:e,includeOrgMembers:t}){const n=function(e){return i.h4((()=>i.format(e))),i.div(".js-loading",(()=>i.p(".empty",{style:"padding: 24px 6px"},(()=>i.format("loading"))))),i.div(".js-no-results.hide",(()=>i.p(".empty",{style:"padding: 24px 6px"},(()=>i.format("no-results"))))),i.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")};return i.input(".js-search-mem.js-autofocus",{type:"text",placeholder:i.l("search-members")}),i.div(".pop-over-section.js-suggestions",(function(){i.h4((function(){return i.icon("sparkle"),i.format("suggested")})),i.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")})),i.div(".pop-over-section.js-board-members",(()=>n("board-members"))),t&&(i.div(".pop-over-section.js-org-members",(()=>n("team-members"))),i.div(".js-show-org-members",(()=>i.a(".subtle.button.full",{href:"#",style:"margin-top: 8px;"},(()=>i.format("show-team-members")))))),i.div(".js-invite-no-results.hide",(()=>i.p(".empty",{style:"padding: 24px 6px"},(function(){return e?i.l("not-a-member"):i.l("no-results")})))),i.div(".js-invite-results.hide"),i.div(".js-invite-error.hide",(()=>i.p(".error",{style:"margin: 16px 8px 6px;"})))}))},"./app/scripts/views/templates/popover_selector_menu.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_selector_menu");e.exports=i.renderable((({isTemplate:e})=>i.ul(".pop-over-list",(function(){return e||i.li((()=>i.a(".js-mem-selector",{href:"#"},(()=>i.format("members-ellipsis"))))),i.li((()=>i.a(".js-label-selector",{href:"#"},(()=>i.format("labels-ellipsis"))))),i.li((()=>i.a(".js-pos-selector",{href:"#"},(()=>i.format("position-ellipsis")))))}))))},"./app/scripts/views/templates/popover_set_list_limit.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_set_list_limit");e.exports=i.renderable((({limit:e})=>i.div((function(){return i.label((function(){return i.format("maximum-cards"),i.input(".set-list-limit.js-autofocus.js-list-limit-input",{name:"list-limit",min:0,max:5e3,placeholder:i.l("no-limit-set"),type:"number",value:e})})),i.p(".quiet",(()=>i.format("highlight-this-list-if-the-number-of-cards-in-it-passes-this-limit"))),i.div(".set-list-limit-buttons",(function(){return i.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:i.l("save")}),i.button(".nch-button.nch-button--danger.js-remove-limit",{type:"button"},(()=>i.format("remove")))}))}))))},"./app/scripts/views/templates/popover_trello_completer.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_trello_completer");e.exports=i.renderable((function(){return i.label((function(){return i.format("card-or-board-to-add"),i.input(".js-search.js-autofocus",{type:"text",placeholder:i.l("search-for-a-card-or-board-ellipsis")})})),i.div(".js-loading",(()=>i.span(".loading.spinner"))),i.div(".pop-over-section.js-card-results.hide",(function(){return i.h4(".pop-over-section-heading",(()=>i.format("cards"))),i.ul(".pop-over-list.navigable.js-card-list"),i.div(".empty.js-no-card-results.hide",{style:"padding: 24px 6px"},(()=>i.p(".u-bottom",(()=>i.format("no-results")))))})),i.div(".pop-over-section.js-board-results.hide",(function(){return i.h4(".pop-over-section-heading",(()=>i.format("boards"))),i.ul(".pop-over-list.navigable.js-board-list"),i.div(".empty.js-no-board-results.hide",{style:"padding: 24px 6px"},(()=>i.p(".u-bottom",(()=>i.format("no-results")))))}))}))},"./app/scripts/views/templates/power_ups_calendar_prefs.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_calendar_prefs");e.exports=i.renderable((function({isEnabled:e,isGenerated:t,url:n,canChange:a}){return i.p((()=>i.format("sync-this-trello-boards-calendar-with-your-personal-calendar"))),e?(i.hr(),i.strong((()=>i.format("icalendar-feed"))),i.div(".icalendar-url",(function(){return i.input(".full.js-calendar-feed-url",{type:"text",value:t?n:i.l("generating")}),i.a(".button.js-regen-calendar-url",{href:"#",class:i.classify({disabled:!t})},(()=>i.span(".icon-sm.icon-refresh.dark-hover")))})),i.div(".u-text-align-center",(()=>i.a(".js-select.js-calendar-pref-feed",{href:"#",class:i.classify({disabled:!a}),name:"disabled"},(()=>i.span(".name",(()=>i.format("disable-sync")))))))):i.div(".u-text-align-center",(()=>i.a(".js-select.js-calendar-pref-feed",{href:"#",class:i.classify({disabled:!a}),name:"enabled"},(()=>i.span(".name",(()=>i.format("enable-sync")))))))}))},"./app/scripts/views/templates/power_ups_card_aging_prefs.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_card_aging_prefs");e.exports=i.renderable((function({agingMode:e,canChange:t}){return i.h2((()=>i.format("how-do-you-want-the-aged-cards-to-look"))),i.ul(".pop-over-list",(function(){return i.li((()=>i.a(".js-select",{href:"#",class:i.classify({disabled:!t}),name:"regular"},(function(){return i.span(".name",(()=>i.format("regular-mode"))),"regular"===e&&i.icon("check"),i.span(".sub-name",(()=>i.format("older-cards-become-more-transparent")))})))),i.li((()=>i.a(".js-select",{href:"#",class:i.classify({disabled:!t}),name:"pirate"},(function(){return i.span(".name",(()=>i.format("pirate-mode"))),"pirate"===e&&i.icon("check"),i.span(".sub-name",(()=>i.format("older-cards-crackle-and-tear")))}))))}))}))},"./app/scripts/views/templates/power_ups_voting_prefs.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_voting_prefs");e.exports=i.renderable((function({canChange:e,canSetObservers:t,canSetOrganization:n,canSetPublic:a,votingMode:r,hideVotes:s}){return i.h4((()=>i.format("who-is-allowed-to-vote-on-cards"))),i.ul(".pop-over-list",(function(){return i.li((()=>i.a(".js-voting-select",{href:"#",class:i.classify({disabled:!e}),name:"members"},(function(){return i.span(".name",(()=>i.format("members"))),"members"===r&&i.icon("check"),i.span(".sub-name",(()=>i.format("admins-and-board-members-can-vote")))})))),i.li((()=>i.a(".js-voting-select",{href:"#",class:i.classify({disabled:!e||!t}),name:"observers"},(function(){return i.span(".name",(()=>i.format("members-and-observers"))),"observers"===r&&i.icon("check"),i.span(".sub-name",(()=>i.format("admins-board-members-and-observers-can-vote")))})))),i.li((()=>i.a(".js-voting-select",{href:"#",class:i.classify({disabled:!e||!n}),name:"org"},(function(){return i.span(".name",(()=>i.format("organization-members"))),"org"===r&&i.icon("check"),i.span(".sub-name",(()=>i.format("admins-board-members-observers-and-team-members-can-vote")))})))),i.li((()=>i.a(".js-voting-select",{href:"#",class:i.classify({disabled:!e||!a}),name:"public"},(function(){return i.span(".name",(()=>i.format("public-members"))),"public"===r&&i.icon("check"),i.span(".sub-name",(()=>i.format("any-trello-user-can-vote")))}))))})),i.tag("hr"),i.h4((()=>i.format("hide-vote-counts"))),i.ul(".pop-over-list",(()=>i.li((()=>i.a(".js-vote-count-select",{href:"#",class:i.classify({disabled:!e}),name:"hideVoteCount"},(function(){return i.span(".name",(()=>i.format("hide-vote-counts-except-mine"))),s&&i.icon("check"),i.span(".sub-name",(()=>i.format("hide-vote-counts-except-mine-explain")))}))))))}))},"./app/scripts/views/templates/quick_card_editor.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("quick_card_editor"),a=n("./app/scripts/views/templates/card_in_list.js");e.exports=function(){const e=i.mustacheVar("cardUrl"),t=i.mustacheVar("isTemplate"),n=i.mustacheVar("isCardTemplate"),r=i.mustacheVar("cardRole");return i.span(".icon-lg.icon-close.quick-card-editor-close-icon.js-close-editor"),i.div(".quick-card-editor-card",{style:"top: ".concat(i.mustacheVar("top"),"px; left: ").concat(i.mustacheVar("left"),"px; width: ").concat(i.mustacheVar("width"),"px;")},(function(){return i.div(".list-card.list-card-quick-edit.js-stop",{style:"width: ".concat(i.mustacheVar("width"),"px;")},(()=>a(i.mustacheVar(".")))),i.input(".nch-button.nch-button--primary.wide.js-save-edits",{type:"submit",value:i.l("save")}),i.div({class:"quick-card-editor-buttons".concat(i.mustacheBlock("leftButtons",(()=>" quick-card-editor-buttons-left")))},(function(){r||(i.a(".quick-card-editor-buttons-item",{href:e},(function(){return i.icon("card",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("open-card")))})),i.a(".quick-card-editor-buttons-item.js-edit-labels",{href:"#"},(function(){return i.icon("label",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("edit-labels")))}))),t||r||i.a(".quick-card-editor-buttons-item.js-edit-members",{href:"#"},(function(){return i.icon("member",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("change-members")))})),r||i.a(".quick-card-editor-buttons-item.js-edit-cover",{href:"#"},(function(){return i.icon("card-cover",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("change-cover")))})),i.a(".quick-card-editor-buttons-item.js-move-card",{href:"#"},(function(){return i.icon("move",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("move")))})),i.a(".quick-card-editor-buttons-item.js-copy-card",{href:"#"},(function(){return i.icon("card",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("copy")))})),n||r||i.a(".quick-card-editor-buttons-item.js-edit-due-date",{href:"#"},(function(){return i.icon("clock",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(()=>i.format("edit-dates")))})),i.mustacheBlockInverted("closed",(()=>i.a(".quick-card-editor-buttons-item.js-archive",{href:"#"},(function(){return i.icon("archive",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return n?i.format("hide-from-list"):i.format("archive")}))})))),i.div("#convert-card-role-button-react-root",{class:i.mustacheBlock("leftButtons",(()=>"left-side-react-root"))})}))}))}},"./app/scripts/views/templates/select_board.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_board");e.exports=i.renderable((({name:e,id:t,closed:n,orgName:a})=>i.li(".item",(()=>i.a(".name.js-select-board",{href:"#",title:e,"data-id":t},(function(){if(i.span(".item-name",(function(){if(i.text(e),n)return i.text(" "),i.span(".quiet",(()=>i.format("archived")))})),a)return i.span(".sub-name",(()=>i.format("in-orgname",{orgName:a})))}))))))},"./app/scripts/views/templates/select_card.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_card");e.exports=i.renderable((({name:e,id:t,closed:n,boardName:a})=>i.li(".item",(()=>i.a(".name.js-select-card",{href:"#",title:e,"data-id":t},(function(){if(i.span(".item-name",(function(){if(i.text(e),n)return i.text(" "),i.span(".quiet",(()=>i.format("archived")))})),a)return i.span(".sub-name",(()=>i.format("in-boardname",{boardName:a})))}))))))},"./app/scripts/views/templates/select_emoji.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_emoji");e.exports=()=>i.li(".item",(()=>i.a(".name.js-select-emoji",{href:"#",title:i.mustacheVar("name")},(function(){return i.mustacheBlock("isEmojiMart",(()=>{i.mustacheBlock("html",(()=>i.raw(i.mustacheVar("html")))),i.mustacheBlock("image",(()=>i.img(".emoji",{src:i.mustacheVar("image")})))})),i.mustacheBlockInverted("isEmojiMart",(()=>i.img(".emoji",{src:i.mustacheVar("image")}))),i.span(".emoji-name",{name:i.mustacheVar("name")},(()=>i.text(i.mustacheVar("name"))))}))))},"./app/scripts/views/templates/select_labels.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_labels");e.exports=()=>i.mustacheBlock("labels",(()=>i.li((function(){return i.mustacheBlock("__ed",(()=>i.a(".card-label-edit-button.icon-sm.icon-edit.js-edit-label",{href:"#","data-idlabel":i.mustacheVar("id")}))),i.span({class:"card-label mod-selectable card-label-".concat(i.mustacheVar("color")," ").concat(i.mustacheBlock("isActive",(()=>"active"))," js-select-label"),"data-idlabel":i.mustacheVar("id"),"data-color":i.mustacheVar("color")},(function(){return i.mustacheBlock("name",(()=>i.text(i.mustacheVar("name")))),i.icon("check",{class:"card-label-selectable-icon light"})}))}))))},"./app/scripts/views/templates/select_member.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),a=n("./app/scripts/views/templates/member.js");e.exports=()=>i.li({class:"item".concat(i.mustacheBlock("isActive",(()=>" active"))).concat(i.mustacheBlock("unconfirmed",(()=>" unconfirmed"))).concat(i.mustacheBlock("inactive",(()=>" inactive"))).concat(i.mustacheBlock("isKnownMember",(()=>" js-autoselect"))," js-member-item").concat(i.mustacheBlock("disabled",(()=>" disabled")))},(()=>i.a({href:i.mustacheBlock("url",(()=>i.mustacheVar("url")))+i.mustacheBlockInverted("url",(()=>"#")),class:"name js-select-member ".concat(i.mustacheBlock("extraText",(()=>"multi-line"))),idMember:i.mustacheVar("id"),title:i.mustacheVar("viewTitle"),autocompleteText:i.mustacheVar("username")},(function(){return i.span({class:"member js-member".concat(i.mustacheBlock("isVirtual",(()=>" virtual"))).concat(i.mustacheBlock("activityBlocked",(()=>" member-deactivated"))).concat(i.mustacheBlock("isDeactivated",(()=>" member-deactivated")))},(()=>a(i.mustacheVar(".")))),i.span(".full-name",{name:i.mustacheVar("fullName")+i.mustacheBlock("username",(()=>" (".concat(i.mustacheVar("username"),")"))),"aria-hidden":!0},(function(){return i.text(i.mustacheVar("fullName")),i.text(" "),i.mustacheBlock("username",(()=>i.span(".username",(()=>i.text("(".concat(i.mustacheVar("username"),")"))))))})),i.mustacheBlock("extraText",(()=>i.div(".extra-text.quiet",(()=>i.format("extratext",{extraText:i.mustacheVar("extraText")}))))),i.icon("check",{class:"checked-icon","aria-label":i.l("added-to-card")}),i.icon("forward",{class:"light option js-open-option"}),i.mustacheBlock("inactive",(()=>i.span(".quiet.sub-name",(()=>i.format("inactive-account"))))),i.mustacheBlock("unconfirmed",(()=>i.span(".quiet.sub-name",(()=>i.format("unconfirmed-user")))))}))))},"./app/scripts/views/templates/tooltip_content.js":function(e,t,n){const i=n("./app/scripts/views/internal/teacup-with-helpers.js")("tooltip_content");e.exports=function(){const e=i.mustacheVar("closeable"),t=e?[".tooltip-content-closeable"]:[];return i.div(t.join("")+".tooltip-content.js-tooltip-content",(function(){return e&&i.icon("close",{class:"tooltip-close-button js-tooltip-close-button"}),i.raw(i.mustacheVar("tooltipHtml"))}))}},"./app/src/components/BillableGuestsAlert/InlineLink.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/react/index.js"),a=n.n(i);class r extends a.a.Component{render(){const{text:e,href:t="#",onClick:n=(()=>{})}=this.props;return a.a.createElement("a",{onClick:n,href:t,rel:"noopener noreferrer",target:"_blank"},e)}}},"./app/src/components/BillableGuestsAlert/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BillableGuestsAlert",(function(){return o}));var i=n("./packages/i18n/index.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),s=n("./app/src/components/BillableGuestsAlert/InlineLink.tsx");class o extends r.a.Component{render(){const{adminNames:e,newBillableGuestsCount:t,availableLicenseCount:n,orgName:a,isOrgAdmin:o,orgUrl:l,onCountClick:c,isReopen:d,isDesktop:u}=this.props,p=Object(i.forNamespace)(d?"re-open billable guests alert":"add to team billable guests alert"),m=Object(i.localizeCount)("others",e.length-3),h=r.a.createElement(s.a,{key:"othersLink",href:"".concat(l,"/members"),text:m}),g=p("learn more"),b=r.a.createElement(s.a,{key:"learnMoreLink",href:"https://help.trello.com/article/1123-multi-board-guests",text:g}),v=r.a.createElement("strong",{key:"team"},a),f=r.a.createElement(s.a,{key:"boardMembersCount",onClick:c,text:Object(i.localizeCount)("board members",t)}),_=Object(i.localizeCount)("board members already guests on team",t,{count:f,team:v});if(u)return d?Object(i.localizeCount)("billable guests alert re-open desktop",t,{boardMembersOnTeam:_,learnMoreLink:b}):Object(i.localizeCount)("billable guests alert move desktop",t,{boardMembersOnTeam:_,learnMoreLink:b});if(o){const e=d?"":" add to team";return t>n?Object(i.localizeCount)("text as admin max bcpo licenses reached".concat(e),t,{boardMembersOnTeam:_,learnMoreLink:b}):Object(i.localizeCount)("text as admin".concat(e),t,{boardMembersOnTeam:_,learnMoreLink:b})}return 1===e.length?p("text with 1 admin",{boardMembersOnTeam:_,learnMoreLink:b,admin1:r.a.createElement("strong",{key:"admin1"},e[0])}):2===e.length?p("text with 2 admin",{boardMembersOnTeam:_,learnMoreLink:b,admin1:r.a.createElement("strong",{key:"admin1"},e[0]),admin2:r.a.createElement("strong",{key:"admin2"},e[1])}):3===e.length?p("text with 3 admin",{boardMembersOnTeam:_,learnMoreLink:b,admin1:r.a.createElement("strong",{key:"admin1"},e[0]),admin2:r.a.createElement("strong",{key:"admin2"},e[1]),admin3:r.a.createElement("strong",{key:"admin3"},e[2])}):e.length>3?p("text with more admins",{boardMembersOnTeam:_,learnMoreLink:b,othersLink:h,admin1:r.a.createElement("strong",{key:"admin1"},e[0]),admin2:r.a.createElement("strong",{key:"admin2"},e[1]),admin3:r.a.createElement("strong",{key:"admin3"},e[2])}):void 0}}},"./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamBillingStatements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accountType"},value:{kind:"EnumValue",value:"organizations"}},{kind:"Argument",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};n.loc.source={body:"query TeamBillingStatements($orgId: ID!) {\n  statements(accountType: organizations, accountId: $orgId) @client {\n    date\n    amount\n    item\n    statementUrl\n    statementToken\n    translationKey\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.TeamBillingStatements=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"TeamBillingStatements")},"./app/src/components/BoardCalendarView/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SingleBoardCalendarView",(function(){return d}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts"),s=n("./app/scripts/debug/constants.ts"),o=n("./app/src/components/BoardDashboardView/PermissionsContext.tsx"),l=n("./app/src/components/BoardViewContext/SingleBoardViewProvider.tsx"),c=n("./app/src/components/ErrorBoundary/index.ts");const d=({idBoard:e,navigateToCard:t,closeView:d})=>{const u=Object(r.useLazyComponent)((()=>n.e(52).then(n.bind(null,"./app/src/components/BoardCalendarView/CalendarView.tsx"))),{namedImport:"CalendarView"});return a.a.createElement(c.ErrorBoundary,{tags:{ownershipArea:"trello-ecosystem",feature:s.Feature.CalendarView}},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(o.b,{idBoard:e},a.a.createElement(l.a,{idBoard:e,navigateToCard:t,closeView:d,includeChecklistItems:!0},a.a.createElement(u,null)))))}},"./app/src/components/BoardDashboardView/PermissionsContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/boards/index.ts"),s=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={context:{operationName:"PermissionsContext"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PermissionsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selfJoin"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"deactivated"}},{kind:"Field",name:{kind:"Name",value:"unconfirmed"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterprise"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"deactivated"}},{kind:"Field",name:{kind:"Name",value:"unconfirmed"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"idPremOrgsAdmin"}}]}}]}}]};const p=Object(i.createContext)({canEdit:()=>!1}),m=({idBoard:e,children:t})=>{const{data:n}=function(e){const t=l(l({},d),e);return s.a(u,t)}({variables:{idBoard:e}}),o=Object(i.useCallback)((()=>{var e;return!(null==n||!n.board||null==n||!n.member)&&Object(r.a)(n.member,n.board,n.board.organization||null,null===(e=n.board.organization)||void 0===e?void 0:e.enterprise)}),[n]);return a.a.createElement(p.Provider,{value:{canEdit:o}},t)}},"./app/src/components/BoardHeaderFilter/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardHeaderFilterButton",(function(){return we}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/popover.ts"),s=n("./packages/i18n/index.ts"),o=n("./packages/keybindings/index.ts"),l=n("./packages/nachos/icons/filter.tsx"),c=n("./packages/nachos/icons/close.tsx"),d=n("./packages/nachos/button.ts"),u=n("./packages/atlassian-analytics/index.ts"),p=n("./packages/session-cookie/index.ts"),m=n("./packages/nachos/spinner.ts"),h=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={context:{operationName:"BoardFilterData"}},_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardFilterData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"activityBlocked"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}}]}}]}}]}}]};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={context:{operationName:"BoardFilterMember"}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardFilterMember"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"}}]}}]}}]}}]};var T=n("./node_modules/classnames/index.js"),O=n.n(T),j=n("./packages/nachos/icons/check.tsx"),A=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),x=n.n(A),N=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Labels/LabelItem.less"),S={insert:"head",singleton:!1},I=(x()(N.a,S),N.a.locals||{});const D=({id:e,name:t,color:n,toggleLabel:i,isActive:r,isColorBlind:s,trackFilterItemClick:o})=>a.a.createElement("li",{className:O()(I.labelListItem,r&&I.isActive)},a.a.createElement("a",{className:O()(I.labelListItemLink),role:"button",onClick:function(){o({type:"label",id:e}),i(e)}},a.a.createElement("div",{className:O()(I.labelListItemLinkLabel,s?"body-color-blind-mode-enabled":"",s?"body-new-color-blind-mode-patterns":"")},a.a.createElement("span",{className:"card-label mod-square card-label-".concat(n)})),a.a.createElement("span",{className:O()(I.labelListItemLinkName,!t&&I.modQuiet)},t||"".concat(n," label (default)")),r&&a.a.createElement(j.a,{size:"small",dangerous_className:I.labelListItemLinkIcon})));var B=n("./app/common/lib/util/satisfies-filter.ts"),P=n("./app/scripts/db/model-cache.js");const F=Object(s.forTemplate)("filter_cards_search_results"),L=Object(s.forNamespace)("filtering"),M=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"];function R(e){const t=M.indexOf(e||"");return t>=0?t:1/0}function V(e,t){const n=R(e.color)-R(t.color);return 0===n||isNaN(n)?e.name.localeCompare(t.name):n}const U=({idBoard:e,labels:t,labelsFilter:n,isColorBlind:r,trackFilterItemClick:s})=>{const[o,l]=Object(i.useState)(!1);function c(t){const n=P.ModelCache.get("Board",e),i=null==n?void 0:n.filter;null==i||i.toggleIdLabel(t)}function d(){l(!0)}const u=Object(i.useMemo)((()=>[...t].sort(V)),[t]);Object(i.useEffect)((()=>{u.slice(5).some((({name:e,color:t})=>n.isEnabled(t,e)))&&d()}),[u,n]);const p=o?u:u.slice(0,5),m=[a.a.createElement(D,{key:"none",id:"none",name:L(B.NO_LABELS),color:"grey",toggleLabel:c,isActive:n.isEnabled(B.NO_LABELS,B.NO_LABELS),isColorBlind:r,trackFilterItemClick:s}),...p.map((({id:e,name:t,color:i})=>a.a.createElement(D,{key:e,id:e,name:t,color:i||"",toggleLabel:c,isActive:n.isEnabled(i,t),isColorBlind:r,trackFilterItemClick:s})))],h=Math.max(u.length-5,0);return a.a.createElement("ul",null,m,!o&&u.length>5&&a.a.createElement("li",{className:O()(I.labelListItem,"showAllLabels")},a.a.createElement("a",{className:I.labelListItemLink,onClick:d,role:"button"},a.a.createElement("span",{className:O()(I.labelListItemLinkName,I.modQuiet)},F("show-all-labels-remaininglabels-hidden",{remainingLabels:h})))))};var z=n("./app/scripts/lib/util/index.js"),H=n.n(z),W=n("./app/scripts/db/auth.js"),Y=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Members/MemberItem.less"),K={insert:"head",singleton:!1},G=(x()(Y.a,K),Y.a.locals||{});const $=Object(s.forTemplate)("select_member"),q=Object(s.forNamespace)("filtering"),X=({id:e,activityBlocked:t,avatarUrl:n,confirmed:i,fullName:r,username:s,initials:o,toggleMember:l,isActive:c,trackFilterItemClick:d})=>{const u=e===B.ID_NONE?"".concat(q("no members")):"".concat(r," (").concat(s,")");return a.a.createElement("li",{className:O()(G.memberListItem,c&&G.isActive)},a.a.createElement("a",{className:O()(G.memberListItemLink),role:"button",onClick:function(){d({type:"member",id:e}),l(e)},title:u},a.a.createElement("span",{className:O()(G.memberListItemLinkAvatar,t&&"member-deactivated","member")},n?a.a.createElement("img",{className:"member-avatar",src:n?"".concat(n,"/30.png"):"",srcSet:[n?"".concat(n,"/30.png 1x"):"",n?"".concat(n,"/50.png 2x"):""].join(", "),alt:u,title:u,height:"30",width:"30"}):a.a.createElement("span",{className:"member-initials"},o)),a.a.createElement("span",{className:"full-name"},u),c&&a.a.createElement(j.a,{size:"small",dangerous_className:G.memberListItemLinkIcon}),!i&&a.a.createElement("span",{className:"quiet sub-name"},$("unconfirmed-user"))))},Q=["id"];function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ee=Object(s.forTemplate)("filter_cards_search_results"),te=({idBoard:e,members:t,membersFilter:n,trackFilterItemClick:r})=>{const[s,o]=Object(i.useState)(!1);function l(t){const n=P.ModelCache.get("Board",e),i=null==n?void 0:n.filter;null==i||i.toggleMember(t)}function c(){o(!0)}const d=Object(i.useMemo)((()=>H.a.sortMembers([...t],W.Auth.me())),[t]);Object(i.useEffect)((()=>{d.slice(5).some((({id:e})=>n.isEnabled(e)))&&c()}),[d,n]);const u=s?d:d.slice(0,5),p=[a.a.createElement(X,{key:B.ID_NONE,id:B.ID_NONE,activityBlocked:!1,avatarUrl:"",confirmed:!0,initials:"?",fullName:"",username:"",toggleMember:l,isActive:n.isEnabled(B.ID_NONE),trackFilterItemClick:r}),...u.map((e=>{let{id:t}=e,i=Z(e,Q);return a.a.createElement(X,J({key:t,id:t,toggleMember:l,isActive:n.isEnabled(t),trackFilterItemClick:r},i))}))],m=Math.max(d.length-5,0);return a.a.createElement("ul",null,p,!s&&d.length>5&&a.a.createElement("li",{className:O()(G.memberListItem,"showAllMembers")},a.a.createElement("a",{className:G.memberListItemLink,onClick:c,role:"button"},a.a.createElement("span",{className:O()(G.memberListItemLinkName,G.modQuiet)},ee("show-all-members-remainingmembers-hidden",{remainingMembers:m})))))};var ne=n("./app/src/components/ViewFilters/types.ts"),ie=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Mode/ModeList.less"),ae={insert:"head",singleton:!1},re=(x()(ie.a,ae),ie.a.locals||{});const se=Object(s.forNamespace)("filter mode"),oe=({idBoard:e,filterMode:t,trackFilterItemClick:n})=>{const i=[ne.a.Or,ne.a.And].map((i=>{const r=i===ne.a.And?"and":"or",s=t===i;return a.a.createElement("li",{key:i,className:O()(re.modeListItem,s&&re.isActive)},a.a.createElement("a",{className:re.modeListItemLink,onClick:()=>function(t){const i=P.ModelCache.get("Board",e),a=null==i?void 0:i.filter;if(a){const e=t===ne.a.And?"and":"or";n({type:"mode"}),a.set("mode",e)}}(i),role:"button"},a.a.createElement("span",null,se(r)),s&&a.a.createElement(j.a,{size:"small",dangerous_className:re.modeListItemLinkIcon})))}));return a.a.createElement("ul",null,i)};var le=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Due/DueList.less"),ce={insert:"head",singleton:!1},de=(x()(le.a,ce),le.a.locals||{});const ue=Object(s.forNamespace)("due date filter"),pe=["day","week","month","overdue","notdue","complete","incomplete"],me=({idBoard:e,dueFilter:t,trackFilterItemClick:n})=>{const i=pe.map((i=>{const r=t.toBoardString()===i;return a.a.createElement("li",{key:i,className:O()(de.dueListItem,r&&de.isActive)},a.a.createElement("a",{className:de.dueListItemLink,onClick:()=>function(t){const i=P.ModelCache.get("Board",e),a=null==i?void 0:i.filter;if(a){n({type:"date"});let e=t;a.get("due")===t&&(e=null),a.set("due",e)}}(i),role:"button"},a.a.createElement("span",null,ue(i)),r&&a.a.createElement(j.a,{size:"small",dangerous_className:de.dueListItemLinkIcon})))}));return a.a.createElement("ul",null,i)};var he=n("./app/src/components/ViewFilters/index.ts");const ge=Object(s.forTemplate)("filter_cards_search_results"),be=({idBoard:e,idOrganization:t,idEnterprise:n})=>{var r,s;const{data:o,loading:l,error:c}=function(e){const t=b(b({},f),e);return h.a(_,t)}({variables:{idBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{data:d}=function(e){const t=y(y({},w),e);return h.a(C,t)}({variables:{memberId:p.memberId||"me"}});function g(i){u.Analytics.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:e},organization:{id:t},enterprise:{id:n}},attributes:i})}Object(i.useEffect)((()=>{u.Analytics.sendScreenEvent({name:"viewsCardFilterInlineDialog",containers:{board:{id:e},organization:{id:t},enterprise:{id:n}}})}),[e,n,t]);const v=Object(he.h)(e,!0),k=Object(i.useMemo)((()=>Object(he.g)(v)),[v]);if(c)return a.a.createElement("div",{className:"filterErrorWrapper"},"Uh oh, an error occurred!");if(l||null==o||!o.board)return a.a.createElement(m.a,{centered:!0});const E=o.board,T=(null==d||null===(r=d.member)||void 0===r||null===(s=r.prefs)||void 0===s?void 0:s.colorBlind)||!1;return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",autoFocus:!0,style:{width:"100%",margin:"0"}}),a.a.createElement("p",{className:"quiet",style:{padding:"10px 8px 2px",marginBottom:"0px"}},ge("type-to-search-by-term-label-member-or-due-time")),a.a.createElement("hr",null),a.a.createElement(U,{idBoard:e,labels:E.labels,labelsFilter:k.labels,isColorBlind:T,trackFilterItemClick:g}),a.a.createElement("hr",null),a.a.createElement(te,{idBoard:e,members:E.members,membersFilter:k.members,trackFilterItemClick:g}),a.a.createElement("hr",null),a.a.createElement(me,{idBoard:e,dueFilter:k.due,trackFilterItemClick:g}),a.a.createElement("hr",null),a.a.createElement(oe,{idBoard:e,filterMode:k.mode,trackFilterItemClick:g}))};var ve=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/BoardHeaderFilterButton.less"),fe={insert:"head",singleton:!1},_e=(x()(ve.a,fe),ve.a.locals||{}),ke=n("./packages/nachos/src/components/Popover/Popover.tsx");function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const Ee=Object(s.forTemplate)("board_header"),we=({backgroundBrightness:e,idBoard:t,idOrganization:n,idEnterprise:s,clearFilters:u,isFiltering:p,cardCount:m})=>{const{toggle:h,triggerRef:g,popoverProps:b}=Object(r.e)();return Object(i.useEffect)((()=>(Object(o.registerShortcut)(h,{scope:o.Scope.BoardView,key:o.Key.f}),()=>{Object(o.unregisterShortcut)(h)})),[h]),a.a.createElement(a.a.Fragment,null,a.a.createElement(d.Button,{className:O()(_e.boardHeaderFilterBtn,p()&&_e.boardHeaderFilterBtnActive),appearance:"dark"===e?"transparent":"transparent-dark",iconBefore:a.a.createElement(l.a,null),ref:g,onClick:h},a.a.createElement("span",{className:_e.boardHeaderFilterSection},a.a.createElement("span",{className:_e.boardHeaderFilterBtnText},Ee("filter")),p()&&a.a.createElement("span",{className:_e.boardHeaderFilterCount},m)),p()&&a.a.createElement("span",{role:"button",onClick:function(e){e.stopPropagation(),u()},className:_e.boardHeaderClearFilter},a.a.createElement(c.a,null))),a.a.createElement(r.b,ye({},b,{title:Ee("filter-cards"),dangerous_disableHideOnUrlSearchParamsChange:!0,dontOverlapAnchorElement:!0}),a.a.createElement(ke.c,{maxHeight:500,noBottomPadding:!0},a.a.createElement(be,{idBoard:t,idOrganization:n,idEnterprise:s})),a.a.createElement("div",{className:_e.clearFilterWrapper},a.a.createElement(d.Button,{onClick:u,isDisabled:!p(),iconBefore:a.a.createElement(c.a,null),appearance:"primary",shouldFitContainer:!0},Ee("clear-filter")))))}},"./app/src/components/BoardSidebarLoadingError/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardSidebarLoadingError",(function(){return g}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),s=n("./packages/nachos/button.ts"),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{});const p=Object(r.forTemplate)("error"),m=Object(r.forNamespace)("view title"),h=Object(r.forTemplate)("connect_failed");class g extends a.a.Component{constructor(...e){var t,n,i;super(...e),i=()=>window.location.reload(),(n="reloadPage")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){return a.a.createElement("div",{className:u.errorMessage},a.a.createElement("div",{className:"board-menu-header-content"},a.a.createElement("h3",{className:"board-menu-header-title js-board-menu-title-text"},m("menu"))),a.a.createElement("hr",{className:"board-menu-header-divider"}),a.a.createElement("h4",null,p("menu-loading-error")),a.a.createElement("p",null,p("reload-call-to-action")),a.a.createElement(s.Button,{appearance:"primary",onClick:this.reloadPage},h("reload-page")))}}},"./app/src/components/BoardViewContext/BoardViewContext.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),a=n.n(i);let r;!function(e){e.SINGLE_BOARD="single-board",e.MULTI_BOARD="multi-board"}(r||(r={}));const s=a.a.createContext({boardsData:{boards:void 0,isLoading:!1,error:void 0},cardsData:{cards:[],isLoading:!1,isLoadingInitial:!1,loadMore:()=>{},canLoadMore:!1,isLoadingMore:!1},navigateToCard:()=>{},getLinkToCardProps:(e,t)=>({href:e,onClick:e=>{null==t||t(e)}}),viewSource:r.MULTI_BOARD})},"./app/src/components/BoardViewContext/SingleBoardViewProvider.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/BoardViewContext/BoardViewContext.ts"),s=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={context:{operationName:"SingleBoardData"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SingleBoardData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"calendarFeedEnabled"}}]}},{kind:"Field",name:{kind:"Name",value:"myPrefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"calendarKey"}}]}},{kind:"Field",name:{kind:"Name",value:"boardPlugins"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idPlugin"}}]}},{kind:"Field",name:{kind:"Name",value:"customFields"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"options"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"value"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"due"}},{kind:"Field",name:{kind:"Name",value:"dueComplete"}},{kind:"Field",name:{kind:"Name",value:"dueReminder"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idShort"}},{kind:"Field",name:{kind:"Name",value:"customFieldItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idCustomField"}},{kind:"Field",name:{kind:"Name",value:"idValue"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"checkItemsChecked"}}]}},{kind:"Field",name:{kind:"Name",value:"checklists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"checkItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"due"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"pos"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"lists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"pos"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatarSource"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}}]}}]}}]}}]};var p=n("./node_modules/underscore/underscore.js"),m=n.n(p),h=n("./app/src/components/ViewFilters/index.ts"),g=n("./packages/feature-flag-client/index.ts");const b=({idBoard:e,navigateToCard:t=(()=>{}),closeView:n,includeChecklistItems:o,children:c})=>{const b=Object(h.j)(e),{data:v,loading:f,error:_}=function(e){const t=l(l({},d),e);return s.a(u,t)}({variables:{idBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[k,y]=Object(i.useMemo)((()=>{var e,t;const n=g.featureFlagClient.get("ecosystem.views-filtering",!1),i=b.isFiltering(),a=null==v||null===(e=v.board)||void 0===e?void 0:e.boardPlugins,r=m.a.memoize((e=>{var t,n,i;return null==v||null===(t=v.board)||void 0===t||null===(n=t.lists)||void 0===n||null===(i=n.find((t=>t.id===e)))||void 0===i?void 0:i.closed})),s=(null==v||null===(t=v.board)||void 0===t?void 0:t.cards.filter((e=>!e.closed&&!e.isTemplate&&!r(e.idList))))||[];return[n&&i?s.filter((e=>{var t;return b.checkFilterableCard(e,(null==v||null===(t=v.board)||void 0===t?void 0:t.customFields)||[],Object(h.f)(a||[]))})):s,o?s.flatMap((e=>e.checklists.flatMap((t=>t.checkItems.filter((e=>e.due&&(!n||!i||b.checkAdvancedChecklistItem(e)))).map((n=>({item:n,checklist:Object(p.omit)(t,"checkitems"),card:Object(p.omit)(e,"checklists")}))))))):[]]}),[null==v?void 0:v.board,b,o]),E=Object(i.useMemo)((()=>({boards:[Object(p.omit)(null==v?void 0:v.board,"cards")],isLoading:f,error:_})),[null==v?void 0:v.board,_,f]),w=Object(i.useMemo)((()=>({cards:k||[],isLoading:f,isLoadingInitial:f,error:_,loadMore:()=>{},canLoadMore:!1,isLoadingMore:!1,setSortBy:()=>{}})),[f,_,k]),C=Object(i.useMemo)((()=>({checklistItems:y||[]})),[y]),T=Object(i.useCallback)(((e,n)=>({onClick:n=>{n.preventDefault(),t(e)}})),[t]),O=Object(i.useMemo)((()=>({boardsData:E,cardsData:w,checklistItemData:C,navigateToCard:t,getLinkToCardProps:T,closeView:n,idBoard:e,viewSource:r.b.SINGLE_BOARD})),[E,w,C,n,T,e,t]);return a.a.createElement(r.a.Provider,{value:O},c)}},"./app/src/components/BoardViewsButton/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardViewsButton",(function(){return Qe}));var i=n("./packages/atlassian-analytics/index.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),s=n("./node_modules/classnames/index.js"),o=n.n(s),l=n("./packages/i18n/index.ts"),c=n("./app/src/components/UpgradePrompts/index.ts"),d=n("./packages/nachos/tooltip.ts"),u=n("./packages/nachos/icons/business-class.tsx"),p=n("./packages/feature-flag-client/index.ts"),m=n("./app/src/components/Lozenge/index.ts"),h=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),g=n.n(h),b=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopover.less"),v={insert:"head",singleton:!1},f=(g()(b.a,v),b.a.locals||{}),_=n("./app/src/components/RouterLink/RouterLink.tsx"),k=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/WorkspaceViewsLink.less"),y={insert:"head",singleton:!1},E=(g()(k.a,y),k.a.locals||{}),w=n("./packages/nachos/icons/table.tsx"),C=n("./packages/nachos/icons/external-link.tsx"),T=n("./packages/browser/index.ts");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=Object(l.forTemplate)("board-views"),x=({idBoard:e,hidePopover:t,paidStatus:n,isBeta:s=!1,analyticsLinkName:o,testId:l,linkName:c,href:d})=>{const u=Object(a.useCallback)(((n,a)=>{i.Analytics.sendClickedLinkEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({linkName:o,source:"boardViewsInlineDialog",containers:{board:{id:e}}},a&&{attributes:a})),t()}),[o,t,e]),p=Object(a.useCallback)((()=>{u(o,{isFreeTeam:"free"===n,isStandardTeam:"standard"===n})}),[u,n,o]);return r.a.createElement("div",{className:E.teamTableCell},r.a.createElement(_.b,{className:E.linkTile,href:d,target:Object(T.isDesktop)()?void 0:"_blank",onClick:p,testId:l},r.a.createElement("div",{className:E.tableThumbnail},r.a.createElement("div",{className:E.beforeIcon},r.a.createElement(w.TableIcon,{size:"small"}))),r.a.createElement("div",{className:E.linkDescription},r.a.createElement("div",{className:"linkText"},c)),r.a.createElement("div",{className:E.informationalIcons},s&&r.a.createElement("div",{className:E.betaLozenge},r.a.createElement(m.a,{color:"blue"},A("beta"))),r.a.createElement("div",{className:E.linkIcon},r.a.createElement(C.a,{size:"medium"})))))};var N=n("./packages/nachos/spinner.ts"),S=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/PowerUpViewOptions.less"),I={insert:"head",singleton:!1},D=(g()(S.a,I),S.a.locals||{});function B({option:e,selected:t}){const n=r.a.createElement("img",{className:D.icon,src:e.icon,alt:e.name}),i=Object(a.useCallback)((()=>e.navigateTo()),[e]);return r.a.createElement("div",{className:o()({"pop-over-list-item":!0,current:t}),role:"button",onClick:i},n," ",e.name,r.a.createElement("span",{className:"sub-name"},e.description))}const P=({isLoading:e,viewOptions:t,currentView:n})=>e?r.a.createElement(N.a,{small:!0}):r.a.createElement("ul",{className:"pop-over-list"},t.map((e=>r.a.createElement("li",{key:e.name},r.a.createElement(B,{option:e,selected:(null==n?void 0:n.idPlugin)===e.idPlugin&&(null==n?void 0:n.key)===e.key})))));var F=n("./packages/test-ids/index.ts");const L=Object(l.forTemplate)("board-views"),M=Object(l.forNamespace)("upgrade prompt"),R=({showTooltip:e,children:t})=>e?r.a.createElement(d.a,{tag:"li",content:L("limit-upsell"),delay:100},t):r.a.createElement("li",null,t);function V({option:e,selected:t,clearFilters:n,orgName:i,onClickUpsell:s}){const l=L(e.name),d=L(e.descriptionString),h=r.a.createElement(e.icon,{size:"small"}),g=r.a.createElement(m.a,{color:"blue"},L("beta")),b=Object(p.useFeatureFlag)("ecosystem.views-filtering",!1),v=i?"/".concat(i,"/billing"):"/select-team-to-upgrade",f=r.a.createElement(c.UpgradePromptPill,{ctaLink:v,icon:r.a.createElement(u.BusinessClassIcon,null),cta:M("upgrade team"),ctaOnClick:s}),_=Object(a.useCallback)((()=>{e.showUpsell||(e.track(),e.navigateTo(),(b||"timeline"!==e.name&&"calendar-view"!==e.name)&&"dashboard"!==e.name||n())}),[n,b,e]);return r.a.createElement("div",{className:o()({"pop-over-list-item":!0,current:t}),role:"button",onClick:_},h," ",l," ",e.isBeta&&g," ",e.showUpsell&&f,r.a.createElement("span",{className:"sub-name","data-test-id":e.showUpsell?e.testId+"-upsell":e.testId},d))}const U=({idBoard:e,shortLink:t,orgName:s,idOrg:o,isOrgPrivate:l,paidStatus:c,shouldShowTeamTableLink:d,hidePopover:u,currentView:m,viewOptions:h,clearFilters:g,isLoadingPowerUpViews:b,powerUpViewOptions:v,currentPowerUpView:_,hasViewsFeature:k})=>{const{Controller:y}=n("./app/scripts/controller/index.js");Object(a.useEffect)((()=>{i.Analytics.sendScreenEvent({name:"boardViewsInlineDialog",containers:{board:{id:e},organization:{id:o}}})}),[e,o]);const E=Object(a.useCallback)((()=>{i.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePill",source:"boardViewsInlineDialog",containers:{board:{id:e}}})}),[e]),w=h.map((e=>{if(e.isVisible)return r.a.createElement(R,{key:e.name,showTooltip:e.showUpsell||!1},r.a.createElement(V,{option:e,selected:m===e.name,onClickUpsell:E,clearFilters:g,orgName:s}))})),C=v.length>0,T=Object(p.useSeesVersionedVariation)("remarkable.default-views","alpha"),O=k&&T&&s,j=d&&s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"pop-over-list"},w),C?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:f.lineSeparator}),r.a.createElement(P,{currentView:_,isLoading:b,viewOptions:v})):null,(O||j)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:f.lineSeparator})),O&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{idBoard:e,hidePopover:u,paidStatus:c,analyticsLinkName:"organizationMyWorkViewLink",testId:F.BoardHeaderTestIds.TeamTableMyWorkOption,linkName:L("my-work"),href:y.getWorkspaceDefaultMyWorkViewUrl(s)})),j&&(T?r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{idBoard:e,hidePopover:u,paidStatus:c,analyticsLinkName:"organizationCustomViewLink",testId:F.BoardHeaderTestIds.TeamTableCustomViewOption,linkName:L("custom-view"),href:y.getWorkspaceDefaultCustomViewUrl(s)+"?idBoards=".concat(t)})):r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{idBoard:e,hidePopover:u,paidStatus:c,analyticsLinkName:"teamBoardTableViewLink",testId:F.BoardHeaderTestIds.TeamTableViewOption,linkName:L("team-table"),href:"/".concat(s,"/tables?idBoards=").concat(t)}))))};var z=n("./packages/nachos/popover.ts"),H=n("./packages/session-cookie/index.ts"),W=n("./app/src/router/index.ts"),Y=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less"),K={insert:"head",singleton:!1},G=(g()(Y.a,K),Y.a.locals||{}),$=n("./packages/nachos/icons/close.tsx"),q=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/VisualizeInNewWaysCallout.less"),X={insert:"head",singleton:!1},Q=(g()(q.a,X),q.a.locals||{});const J=Object(l.forTemplate)("board-views"),Z=n("./resources/images/views/BoardViewsButtonCalloutImage.svg"),ee=({idBoard:e,idOrg:t})=>{const n=Object(a.useCallback)((()=>{i.Analytics.sendClickedLinkEvent({linkName:"viewsLandingPageLink",source:"boardViewSwitcherCalloutOverlay",containers:{board:{id:e},organization:{id:t}}})}),[e,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:Q.trelloViewsImage,alt:"TrelloViews",src:Z}),r.a.createElement("p",{className:Q.calloutHeaderText},J("visualize-your-work-in-new-ways")),r.a.createElement("p",{className:Q.calloutContentText},J("get-a-brand-new-perspective")," ",r.a.createElement("a",{href:"https://trello.com/views",target:"_blank",onClick:n},J("learn-more"))))},te=()=>null;let ne;!function(e){e.VisualizeInNewWays="VisualizeInNewWays",e.TableView="TableView",e.None="None"}(ne||(ne={}));const ie=({onClose:e,idBoard:t,idOrg:n,callout:s=ne.None})=>{if(Object(a.useEffect)((()=>{s!==ne.None&&i.Analytics.sendViewedComponentEvent({componentType:"overlay",componentName:"boardViewSwitcherCalloutOverlay",containers:{board:{id:t},organization:{id:n}},attributes:{calloutName:s},source:"boardScreen"})}),[t,n,s]),s===ne.None)return null;let o=null;switch(s){case ne.TableView:o=r.a.createElement(te,null);break;case ne.VisualizeInNewWays:o=r.a.createElement(ee,{idBoard:t,idOrg:n})}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:G.boardViewsCalloutPointer}),r.a.createElement("div",{className:G.boardViewsCallout,"data-test-id":F.BoardHeaderTestIds.BoardViewsSwitcherCallout},o,r.a.createElement("div",{className:G.calloutCloseButtonWrapper,onClick:e,"data-test-id":F.BoardHeaderTestIds.BoardViewsSwitcherCalloutClose,role:"button"},r.a.createElement($.a,{dangerous_className:G.calloutCloseButton,size:"small"}))))};var ae=n("./node_modules/react-transition-group/esm/CSSTransition.js"),re=n("./packages/nachos/icons/down.tsx"),se=n("./packages/nachos/icons/list.tsx"),oe=n("./packages/nachos/button.ts"),le=n("./packages/storage/index.ts"),ce=n("./packages/product-features/index.ts"),de=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const he={context:{operationName:"BoardViewsPopoverUpsell"}},ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsPopoverUpsell"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}}]}}]}}]};var be=n("./app/src/components/FreeTrial/index.ts");const ve=({orgId:e})=>{const t=Object(p.useFeatureFlag)("nusku.views-switcher-upsell",!1,{sendExposureEvent:!0}),{data:n}=function(e){const t=pe(pe({},he),e);return de.a(ge,t)}({variables:{orgId:e},skip:!e}),i=null==n?void 0:n.organization,a=Boolean(i&&!i.products[0]),r=Boolean(i&&ce.ProductFeatures.isStandardProduct(i.products[0])),{isEligible:s,startFreeTrial:o,isAdmin:l}=Object(be.useFreeTrialEligibilityRules)(e),c=!r&&a&&s?"freetrial":r||a&&!s?"upgrade":null,d=Boolean(i&&t&&c),u=Object(p.useFeatureFlag)("nusku.views-switcher-upsell-default-open",!1,{sendExposureEvent:!0});return{activateFreeTrial:()=>o({redirect:!1},"boardViewsInlineDialog"),isUpsellEnabled:d,step:c,isAdmin:l,isUpsellDefaultOpenEnabled:Boolean(u&&d)}};var fe=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less"),_e={insert:"head",singleton:!1},ke=(g()(fe.a,_e),fe.a.locals||{});const ye=Object(l.forTemplate)("views_prompt"),Ee=(e,t)=>ye([e,t]),we=(e,t)=>ye(["upsell-trial-prompt","views-list",e,t]),Ce=({isAdmin:e,isUpgrade:t,activateFreeTrial:s,hidePopover:o,orgId:l,boardId:c,orgName:d})=>{Object(a.useEffect)((()=>{i.Analytics.sendScreenEvent({name:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:c},organization:{id:l}},attributes:{promptType:t?"upgrade":"freeTrial"}})}),[c,l,t]);const u=[{image:"timeline",content:{name:we("timeline","name"),description:we("timeline","description")}},{image:"table",content:{name:we("table","name"),description:we("table","description")}},{image:"calendar",content:{name:we("calendar","name"),description:we("calendar","description")}},{image:"dashboard",content:{name:we("dashboard","name"),description:we("dashboard","description")}},{image:"map",content:{name:we("map","name"),description:we("map","description")}}];return r.a.createElement("div",{className:ke.container,"data-test-id":F.BoardHeaderTestIds.BoardViewsSwitcherUpsellPrompt},r.a.createElement("section",{className:ke.header},r.a.createElement("div",{className:ke.promptHeader},t&&!Object(T.dontUpsell)()?Ee("bc-trial-prompt","admin-upgrade-bc-header"):Ee("upsell-trial-prompt","header")),r.a.createElement("article",{className:ke.promptDescription},Ee("upsell-trial-prompt","description"))),r.a.createElement("section",{className:ke.content},r.a.createElement("ul",null,u.map((({content:{name:e,description:t},image:i})=>r.a.createElement("li",{className:ke.view,key:e},r.a.createElement("img",{className:ke.viewIcon,alt:"".concat(e," view"),src:n("./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$")("./".concat(i,".svg"))}),r.a.createElement("div",null,r.a.createElement("div",{className:ke.viewName},e),r.a.createElement("div",{className:ke.viewDescription},t))))))),r.a.createElement("section",{className:ke.ctaSection},!Object(T.dontUpsell)()&&r.a.createElement(r.a.Fragment,null,t&&!e?r.a.createElement("p",null,Ee("bc-trial-prompt","contact-team-admin")):r.a.createElement(oe.Button,{appearance:"primary",size:"fullwidth","data-test-id":t?F.BoardHeaderTestIds.UpsellPromptUpgradeBCButton:F.BoardHeaderTestIds.UpsellPromptStartFreeTrialButton,onClick:()=>{return e=t,o(),i.Analytics.sendClickedButtonEvent({buttonName:e?"upgradeToBCButton":"startFreeTrialButton",source:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:c},organization:{id:l}}}),void(e?window.open("/".concat(d,"/billing"),"_blank"):s());var e}},t?Ee("bc-trial-prompt","upgrade-button"):Ee("upsell-trial-prompt","button"))),r.a.createElement(_.b,{"data-test-id":F.BoardHeaderTestIds.UpsellPromptLearnMoreLink,className:ke.link,href:"/business-class",target:"_blank",onClick:()=>{i.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:c},organization:{id:l}}})}},t&&!Object(T.dontUpsell)()?Ee("bc-trial-prompt","link"):Ee("upsell-trial-prompt","link"))))},Te=({orgId:e,boardId:t,orgName:n,hidePopover:i,isStandardOrFreeTeamBoardGuest:a})=>{const{activateFreeTrial:s,step:o,isAdmin:l}=ve({orgId:e}),c="upgrade"===o||a;return r.a.createElement(Ce,{orgName:n,isUpgrade:c,isAdmin:l,activateFreeTrial:s,hidePopover:i,orgId:e,boardId:t})};var Oe=n("./app/src/components/ViewsGenerics/index.ts"),je=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less"),Ae={insert:"head",singleton:!1},xe=(g()(je.a,Ae),je.a.locals||{}),Ne=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Be={context:{operationName:"BoardViewsButtonDismissOneTimeMessage"}},Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BoardViewsButtonDismissOneTimeMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Re={context:{operationName:"BoardViewsButtonMember"}},Ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsButtonMember"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var Ue=n("./packages/router/index.ts"),ze=n("./app/src/router/pathnameToRouteContext.ts");function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=Object(l.forTemplate)("board-views"),$e=Object(l.forTemplate)("views_prompt");var qe;!function(e){e[e.BoardViews=0]="BoardViews"}(qe||(qe={}));const Xe=({icon:e,name:t})=>r.a.createElement("img",{className:xe.pluginIcon,src:e,alt:t}),Qe=({isTeamMember:e,hasViewsFeature:t,orgName:n,isOrgPrivate:s,paidStatus:o,isStandardOrFreeTeamBoardGuest:l,shouldShowTeamTableLink:c,idBoard:d,idOrg:u,shortLink:p,preloadPlugins:h,viewOptions:g,clearFilters:b,backgroundBrightness:v,isLoadingPowerUpViews:f,powerUpViewOptions:_,setIframePopoverOverlayVisibility:k})=>{var y;const{data:E,refetch:w,loading:C}=function(e){const t=Le(Le({},Re),e);return de.a(Ve,t)}({variables:{memberId:H.memberId||""}}),T=null==E||null===(y=E.member)||void 0===y?void 0:y.oneTimeMessagesDismissed,{isUpsellEnabled:O,isUpsellDefaultOpenEnabled:j}=ve({orgId:u}),A="light"===v?"dark":"light",x=Object(Ue.useLocation)(),N=Object(a.useMemo)((()=>Object(ze.a)("".concat(x.pathname).concat(x.search))),[x]),S=N.routePath.split("/"),I=S[4]||"board";let D,B,P,L,M,R={};if("power-up"===I){D=S[5],B=S[7],B&&B.includes("?")&&(B=B.split("?")[0]);const e=_.find((e=>e.idPlugin===D&&e.key===B));e?(L=e.name,M=Xe,R={name:e.name,icon:e.icon}):(L=Ge("board"),P=se.ListIcon)}else{const e=I.split("?")[0],t=g.find((t=>t.name===e&&t.isVisible));L=Ge(t?e.toString():"board"),P=t?t.icon:se.ListIcon}const[V]=function(e){const t=Ie(Ie({},Be),e);return Ne.a(Pe,t)}(),Y=Object(a.useCallback)((e=>{V({variables:{messageId:e,memberId:H.memberId},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:null==T?void 0:T.concat([e]),__typename:"Member"}},update:(e,t)=>{var n,i,a;const r=e.readQuery({query:Ve,variables:{memberId:H.memberId||""}});if(null==r||!r.member)return;const s=new Set([...(null==r||null===(n=r.member)||void 0===n?void 0:n.oneTimeMessagesDismissed)||[],...(null==t||null===(i=t.data)||void 0===i||null===(a=i.addOneTimeMessagesDismissed)||void 0===a?void 0:a.oneTimeMessagesDismissed)||T]);e.writeQuery({query:Ve,data:Ye(Ye({},r),{},{member:Ye(Ye({},r.member),{},{oneTimeMessagesDismissed:[...s]})})})}})}),[V,T]),K=e=>"".concat(e,"-views-switcher-new-pill"),G=!!e&&c,$=Object(a.useMemo)((()=>[...g.filter((e=>e.isVisible&&!e.isGA&&!(null!=T&&T.includes(K(e.name))))).map((e=>e.name)),...null!=T&&T.includes(K("team-table"))||!G?[]:["team-table"]]),[T,G,g]),q=e=>{const t=e.routePath.split("/"),n="b"===t[1],i=e.routeName===W.RouteNames.BOARD,a=t.length<5;return n&&i&&a},[X,Q]=Object(a.useState)(!1),[J,Z]=Object(a.useState)(j&&q(N)&&!(null!=T&&T.includes("views-switcher-callout"))&&!(null!=T&&T.includes("nusku.views-switcher-upsell-default-open"))),[ee,te]=Object(a.useState)(ne.None),[ce,ue]=Object(a.useState)(!1);Object(a.useEffect)((()=>{Q(!C&&!ce&&T&&t&&q(N)&&$.length>0)}),[t,C,T,N,$.length,ce]),Object(a.useEffect)((()=>{!C&&!ce&&X&&!j&&q(N)&&!(null!=T&&T.includes("views-switcher-callout"))&&!(null!=T&&T.includes("nusku.views-switcher-upsell-default-open"))&&te(ne.VisualizeInNewWays)}),[j,C,T,N,X,ce]);const pe=Object(a.useCallback)((()=>{i.Analytics.sendClosedComponentEvent({componentName:"boardViewsInlineDialog",componentType:"inlineDialog",source:"boardScreen",containers:{organization:{id:u},board:{id:d}}}),k(!1),J&&(Y("nusku.views-switcher-upsell-default-open"),Z(!1))}),[d,u,k,J]),{show:me,toggle:he,hide:ge,popoverProps:be,triggerRef:fe}=Object(z.e)({initialScreen:qe.BoardViews,onHide:pe,onShow:()=>k(!0)});Object(a.useEffect)((()=>{J&&me()}),[J,me]),Object(a.useEffect)((()=>{try{const e="views-switcher-callout-".concat(p);if(ee!==ne.None||J)le.TrelloStorage.unset(e),i.Analytics.sendOperationalEvent({action:"unset",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(i.formatContainers)({idBoard:p})});else if(!le.TrelloStorage.get(e)){const t=Date.now();le.TrelloStorage.set(e,t),i.Analytics.sendOperationalEvent({action:"set",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(i.formatContainers)({idBoard:p}),attributes:{currentTime:t}})}}catch(e){i.Analytics.sendOperationalEvent({action:"errored",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(i.formatContainers)({idBoard:p}),attributes:{message:null==e?void 0:e.message,name:null==e?void 0:e.name}})}}),[ee,J,p]),Object(a.useEffect)((()=>{Object(Oe.getViewsUpsellFlag)("remarkable.org-table-view-free-team-upsell",!1)}),[]);const _e=Object(a.useCallback)((()=>{ee===ne.VisualizeInNewWays&&Y("views-switcher-callout"),te(ne.None)}),[Y,ee]),ke=Object(a.useCallback)((()=>{X&&(Q(!1),$.forEach((e=>{Y(K(e))})),w())}),[Y,w,X,$]),ye=Object(a.useCallback)((()=>{_e(),he(),ke(),ue(!0),i.Analytics.sendClickedButtonEvent({buttonName:"boardViewsButton",containers:{board:{id:d},organization:{id:u}},attributes:{hasNewPill:X},source:"boardScreen"})}),[_e,ke,d,u,X,he]);if("board"!==g[0].name)return null;return g.reduce(((e,t)=>t.isVisible?e+1:e),0)>1||G||l?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.Button,{title:Ge("board-views"),ref:fe,className:xe.boardViewsButton,appearance:"dark"===v?"transparent":"transparent-dark",testId:F.BoardHeaderTestIds.BoardViewsSwitcherButton,onClick:ye,onMouseOver:h,onFocus:h,iconBefore:r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{in:!!X,timeout:150,unmountOnExit:!0,classNames:{exit:xe.newPillExit,exitActive:xe.newPillExitActive}},r.a.createElement("span",{className:xe.boardViewsNewLozenge,"data-test-id":F.BoardHeaderTestIds.BoardViewsSwitcherNewPill},r.a.createElement(m.a,{color:"green"},Ge("new")))),P&&r.a.createElement(P,{dangerous_className:xe.icon,size:"small",block:!0,color:A}),M&&r.a.createElement(M,R)),iconAfter:r.a.createElement(re.DownIcon,{dangerous_className:xe.icon,size:"small",block:!0,color:A})},r.a.createElement("span",{className:xe.boardViewsLabel},L),r.a.createElement(ie,{onClose:_e,idBoard:d,idOrg:u,callout:ee})),r.a.createElement(z.b,He({},be,{size:O||l?"large":"medium",noVerticalPadding:!0}),r.a.createElement(z.d,{id:qe.BoardViews,title:O||l?$e("views-prompt-header"):null},O||l?r.a.createElement(Te,{orgName:n,orgId:u,boardId:d,hidePopover:ge,isStandardOrFreeTeamBoardGuest:l}):r.a.createElement(U,{idBoard:d,shortLink:p,orgName:n,idOrg:u,paidStatus:o,isOrgPrivate:s,shouldShowTeamTableLink:G,hidePopover:ge,currentView:I,viewOptions:g,clearFilters:b,isLoadingPowerUpViews:f,powerUpViewOptions:_,currentPowerUpView:{idPlugin:D,key:B},hasViewsFeature:t})))):null}},"./app/src/components/BusinessClassTeamOnboardingPupPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LazyTeamOnboardingPupPopover",(function(){return s})),n.d(t,"LazyTeamOnboardingPupTooltip",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts");const s=e=>{const t=Object(r.useLazyComponent)((()=>n.e(199).then(n.bind(null,"./app/src/components/BusinessClassTeamOnboardingPupPopover/TeamOnboardingPupPopover.tsx"))),{namedImport:"TeamOnboardingPupPopover"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))},o=e=>{const t=Object(r.useLazyComponent)((()=>n.e(200).then(n.bind(null,"./app/src/components/BusinessClassTeamOnboardingPupPopover/TeamOnboardingPupTooltip.tsx"))),{namedImport:"TeamOnboardingPupTooltip"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))}},"./app/src/components/Butler/Buttons/ButlerBoardButtons.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ButlerBoardButtons",(function(){return A}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./packages/nachos/button.ts"),l=n("./packages/use-lazy-component/index.ts"),c=n("./packages/nachos/popover.ts"),d=n("./packages/feature-flag-client/index.ts"),u=n("./app/scripts/controller/index.js"),p=n("./app/src/components/Butler/showButlerDirectory.ts"),m=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=n.n(m),g=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerBoardButtons.less"),b={insert:"head",singleton:!1},v=(h()(g.a,b),g.a.locals||{}),f=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),_=n("./app/src/components/Butler/getButlerName.ts"),k=n("./app/src/components/Butler/useHasButlerAccess.ts"),y=n("./app/scripts/data/butler-id.js"),E=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O={context:{operationName:"ButlerPluginData"}},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ButlerPluginData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"}}]}},{kind:"Field",name:{kind:"Name",value:"pluginData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idPlugin"}},{kind:"Field",name:{kind:"Name",value:"value"}},{kind:"Field",name:{kind:"Name",value:"scope"}},{kind:"Field",name:{kind:"Name",value:"access"}}]}}]}}]}}]};const A=({idBoard:e})=>{var t,r;const{data:m}=function(e){const t=C(C({},O),e);return E.a(j,t)}({variables:{idBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),h=Object(d.useFeatureFlag)("workflowers.butler-popover-menu",!1),g=a.a.useMemo((()=>(e=>{var t;const n=null==e||null===(t=e.board)||void 0===t?void 0:t.pluginData.find((({access:e,idPlugin:t})=>t===y.BUTLER_POWER_UP_ID&&"private"===e));if(n)try{const e=JSON.parse(n.value);return(null==e?void 0:e.suggestions)||{}}catch(e){return{}}return{}})(m)),[m]),b="light"===(null==m||null===(t=m.board)||void 0===t||null===(r=t.prefs)||void 0===r?void 0:r.backgroundBrightness),w=Object(k.a)(e),T=Object(l.useLazyComponent)((()=>n.e(42).then(n.bind(null,"./app/src/components/Butler/Buttons/ButlerBoardButtonPopover.tsx"))),{namedImport:"ButlerBoardButtonPopover"}),{popoverProps:A,triggerRef:x,toggle:N,push:S,pop:I,hide:D}=Object(c.e)();return w?a.a.createElement(a.a.Fragment,null,a.a.createElement(o.Button,{className:v.butlerBoardButton,appearance:b?"transparent-dark":"transparent",onClick:()=>{Object(f.sendPluginUIEvent)({idPlugin:y.BUTLER_POWER_UP_ID,idBoard:e,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}});const t=u.Controller.getCurrentBoardView();u.Controller.showingAutomaticReports()?null==t||t.closeAutomaticReports():!h||null!=t&&t.isButlerViewActive()?Object(p.e)():N()},ref:x,tabIndex:0},a.a.createElement("span",{className:s()("icon-sm","recolorable",v.boardButtonIcon),style:{backgroundImage:"url(".concat("automation"===Object(_.getButlerKey)()?"".concat(n(b?"./resources/images/butler/automation-dark.svg":"./resources/images/butler/automation-light.svg")):"".concat(n(b?"./resources/images/butler/butler-bell-icon-dark.svg":"./resources/images/butler/butler-bell-icon-light.svg")),")")}}),a.a.createElement("span",null,(()=>{if(g){const e=g.counts||{},t=Object.values(e).reduce(((e,t)=>e+t),0);if(t>1)return"".concat(Object(_.getButlerName)()," (").concat(t," Tips)");if(t>0)return"".concat(Object(_.getButlerName)()," (").concat(t," Tip)")}return"".concat(Object(_.getButlerName)())})())),a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(T,{idBoard:e,popoverProps:A,push:S,pop:I,hide:D}))):null}},"./app/src/components/Butler/Buttons/ButlerCardButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./packages/atlassian-analytics/index.ts"),l=n("./packages/i18n/index.ts"),c=n("./packages/nachos/tooltip.ts"),d=n("./app/scripts/db/auth.js"),u=n("./app/scripts/views/lib/dialog.js"),p=n.n(u),m=n("./app/src/components/Butler/CommandMetadata/index.ts"),h=n("./app/src/components/Butler/formatButlerCommand.ts"),g=n("./app/src/components/Butler/parseButlerCommand.ts"),b=n("./node_modules/moment/moment.js"),v=n.n(b),f=n("./app/scripts/data/stickers.js");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends Error{constructor(e,t){super("Unable to localize key: ".concat(e)),_(this,"keyPath",void 0),_(this,"substitutions",void 0),this.name="LocalizeButlerCommandError",this.keyPath=e,this.substitutions=t}}const y=f.Stickers.standard,E=Object(l.forNamespace)("labels");let w;const C=["key"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e){return e[0].toLocaleLowerCase()+e.slice(1)}function N(e){return 1===e.length?e[0]:2===e.length?Object(h.a)("a and b",{a:e[0],b:e[1]}):e.reduce(((t,n,i)=>i<e.length-1?Object(h.a)("a enumeration comma b",{a:t,b:n}):Object(h.a)("a serial comma b",{a:t,b:n})))}function S(e,t){if(Array.isArray(t))return N(t.map((t=>S(e,t))));if(e.startsWith("*"))return void 0!==t?((e,t)=>{switch(e){case"color":return E(t);case"date":{const{month:e=1,day:n=1,year:i}=t;return v()({month:e-1,day:n,year:i}).format(Object(b.localeData)().longDateFormat(i?"LL":"LLLL"))}case"month":return Object(b.localeData)().months()[t-1];case"ordinal":return Object(b.localeData)().ordinal(t);case"sticker":return w||(w=y.stickers.map((({image:e})=>e))),w[t];case"time":{const{HOUR:e,MINUTES:n,AM:i,PM:a}=t,r="".concat(e,":").concat(null!=n?n:0," ").concat(i||a).trimEnd();return v()(r,"h:m a").format(Object(b.localeData)().longDateFormat("LT"))}case"weekday":return Object(b.localeData)().weekdays()[t];default:throw new k("*".concat(e),{value:String(t)})}})(e.toLowerCase().slice(1),t):"";switch(typeof t){case"number":return String(t);case"string":if(e.startsWith("$"))return t.replace(/\\"/g,'"');if(e.startsWith("@"))return"@".concat(t);{const e=Object(h.a)(t);if(!e)throw new k(t);return e}case"object":return I(t);case"undefined":default:return""}}function I(e){let{key:t}=e,n=A(e,C);const i=Object.entries(n).reduce(((e,[t,n])=>(e[t.toLowerCase().replace(/^[*$@]/,"")]=S(t,n),e)),{}),a=Object(h.a)(t,i);if(!a||"string"!=typeof a)throw new k(t,i);return a.trim()}const D=e=>{const t="string"==typeof e?Object(g.c)(e):e;if(!t)return null;const n=Object(g.a)(t);if(!n)return null;try{const e=(e=>{const t=N(e.actions.map(((e,t)=>{const n=I(e).trim();return t>0?x(n):n})));if(e.trigger){const n=I(e.trigger);return Object(h.a)("a comma b",{a:n,b:x(t)})}return t})(n);return o.Analytics.sendOperationalEvent({actionSubject:"butlerLocalization",actionSubjectId:"localizeButlerCommand",action:"succeeded",source:"@atlassian/butler-command-parser",attributes:Object(m.h)(t)}),e}catch(e){return e instanceof k&&o.Analytics.sendOperationalEvent({actionSubject:"butlerLocalization",actionSubjectId:"localizeButlerCommand",action:"failed",source:"@atlassian/butler-command-parser",attributes:O(O({},Object(m.h)(t)),{},{keyPath:e.keyPath,substitutions:e.substitutions})}),null}};var B=n("./packages/config/index.ts"),P=n("./packages/session-cookie/index.ts"),F=n("./app/src/components/Butler/showButlerAlert.ts");var L=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),M=n.n(L),R=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less"),V={insert:"head",singleton:!1},U=(M()(R.a,V),R.a.locals||{});const z=Object(l.forNamespace)("butler"),H=({button:e,idCard:t,idBoard:n,idOrganization:r,cardButtonCallback:l,isTooltipEnabled:u,isDisabled:m,runButton:h=!0})=>{const[g,b]=Object(i.useState)(!1),[v,f]=Object(i.useState)(),_=u||m,k=async(i=!1)=>{if(!h)return void l({idButton:e.id});if(g||m)return;o.Analytics.sendClickedButtonEvent({buttonName:"butlerCardButton",source:"cardDetailScreen",containers:Object(o.formatContainers)({idCard:t,idBoard:n,idOrganization:r}),attributes:{close:!!e.close,section:"butlerCardButtons",isOwner:d.Auth.isMe(e.idMemberOwner),viaKeypress:i}}),b(!0),e.close&&p.a.hide(!0);const a=await async function({idButton:e,idBoard:t,idCard:n}){try{const i=await fetch("/1/boards/".concat(t,"/butlerButtons/").concat(e,"/runs"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Trello-Client-Version":B.clientVersion},body:JSON.stringify({idCard:n,token:P.token})});if(!i.ok){if(504===i.status)return F.a.GatewayTimeout;const e=await i.text();if("CANT_PARSE_COMMAND"===e)return F.a.InvalidCommand;if("MEMBER_NOT_CONFIRMED"===e)return F.a.Unauthorized;try{if("Command quota exceeded"===JSON.parse(e).message)return F.a.PowerupUsageExceeded}catch(e){}return F.a.RunButtonError}}catch(e){return F.a.NetworkError}return F.a.Success}({idButton:e.id,idBoard:n,idCard:t});b(!1),l({idButton:e.id,alert:a})},y=()=>a.a.createElement("a",{key:e.id,className:s()("button-link",{disabled:m||g}),onClick:()=>k(),role:"button",tabIndex:0,title:_?void 0:e.label},a.a.createElement("span",{className:s()("icon-sm","plugin-icon",U.icon,{spinner:g}),style:{backgroundImage:g?"":"url(".concat(e.image,")")}}),e.label),E=Object(i.useCallback)((()=>{if(void 0!==v)return;const t=D(e.cmd);f(t),o.Analytics.sendTrackEvent({actionSubject:"tooltip",actionSubjectId:"butlerButtonTooltip",action:"shown",source:"cardDetailScreen",attributes:{isLocalized:!!t,isOwner:d.Auth.isMe(e.idMemberOwner)}})}),[e,v,f]);return Object(i.useEffect)((()=>{m?f(z("only members can execute")):void 0!==v&&f(void 0)}),[e.cmd,m]),_?a.a.createElement(c.a,{component:c.b,content:a.a.createElement("div",{className:U.tooltip},a.a.createElement("div",{className:U.tooltipLabel},e.label),v&&a.a.createElement("div",{className:U.tooltipContent},v)),onShow:E,position:"right-start"},y()):y()}},"./app/src/components/Butler/Buttons/useButlerButtons.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("./node_modules/react/index.js"),a=n("./app/scripts/init/useSocketSubscription.ts"),r=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={context:{operationName:"ButlerButtons"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ButlerButtons"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"butlerButtonLimit"}},{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"butlerButtonOverrides"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idButton"}},{kind:"Field",name:{kind:"Name",value:"overrides"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}}}]},{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cmd"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"}},{kind:"Field",name:{kind:"Name",value:"close"}}]}}]}}]}}]};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>{if(!e||!t)return null!=e?e:[];const n=e.map((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)));return null==t||t.forEach((({idButton:e,overrides:t})=>{const i=n.find((({id:t})=>t===e));i&&"boolean"==typeof(null==t?void 0:t.enabled)&&(i.enabled=t.enabled)})),n},h=({type:e,idBoard:t,idOrganization:n})=>{var s,l;const u=!n;Object(a.a)("Board",t),Object(a.a)("Organization",n,u);const[p,h]=Object(i.useState)([]),{data:g}=function(e){const t=o(o({},c),e);return r.a(d,t)}({variables:{idBoard:t,idOrganization:n,skipOrganization:u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});return Object(i.useEffect)((()=>{g&&h(((e,{member:t,board:n,organization:i})=>{var a,r;return n?[m(null!==(a=null==i?void 0:i.sharedButlerButtons)&&void 0!==a?a:[],n.butlerButtonOverrides),m(null!==(r=null==i?void 0:i.privateButlerButtons)&&void 0!==r?r:[],n.butlerButtonOverrides),m(n.sharedButlerButtons,n.butlerButtonOverrides),m(n.privateButlerButtons,n.butlerButtonOverrides)].flatMap((n=>n.filter((t=>t.enabled&&t.type===e)).sort(((e,t)=>e.pos-t.pos)).sort(((e,n)=>e.idMemberOwner===(null==t?void 0:t.id)&&n.idMemberOwner!==(null==t?void 0:t.id)?-1:e.idMemberOwner!==(null==t?void 0:t.id)&&n.idMemberOwner===(null==t?void 0:t.id)?1:0)))).slice(0,n.butlerButtonLimit).sort(((e,t)=>e.label.localeCompare(t.label))):[]})(e,g))}),[e,g]),{buttons:p,limit:Math.max(null!==(s=null==g||null===(l=g.board)||void 0===l?void 0:l.butlerButtonLimit)&&void 0!==s?s:20,20)}}},"./app/src/components/Butler/CommandEditors/index.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return ut})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return tt})),n.d(t,"f",(function(){return Z}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/atlassian-analytics/index.ts"),s=n("./packages/feature-flag-client/index.ts"),o=n("./app/src/components/Butler/CommandMetadata/index.ts");const l=e=>{const t={type:e,[e]:{}};switch(t.type){case"MOVE_CARD_ACTION":case"COPY_CARD_ACTION":t[t.type].DESTINATION={POSITION_TOP:"top"};break;case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":t[t.type]=!0;break;case"REMOVE_FROM_CARD_ACTION":t[t.type].REMOVE_ALL_MEMBERS=!0;break;case"JOIN_CARD_ACTION":t[t.type]=!0;break;case"ADD_START_DATE_ACTION":t[t.type].START_DATE={IN_X_FROM_TODAY:{X_WORKING_DAYS:3}};break;case"ADD_DUE_DATE_ACTION":t[t.type].DUE_DATE={IN_X_FROM_TODAY:{X_WORKING_DAYS:3}};break;case"SORT_LIST_ACTION":t[t.type]={SORT_ASCENDING:!0,SORT_BY_DUE_DATE:!0};break;case"ADD_LABEL_ACTION":t[t.type].LABEL={}}return t};var c=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=n.n(c),u=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/AvailableActions.less"),p={insert:"head",singleton:!1},m=(d()(u.a,p),u.a.locals||{});const h=(e,t)=>{const n=Object(o.j)(e.TRIGGER),a=Object(i.useMemo)((()=>{var t;return new Set(null===(t=e.ACTION)||void 0===t?void 0:t.map((({type:e})=>e)))}),[e.ACTION.length]),r=Object(s.useFeatureFlag)("workflowers.bob-element-blocklist",[]);return Object(i.useMemo)((()=>{const e=new Set;function i(t){e.add(t)}var s;("card-button"===t&&i(o.b.Card),n)&&(null===(s=n.providedContext)||void 0===s||s.forEach(i));return a.forEach((e=>{var t,n;null===(t=o.a[e])||void 0===t||null===(n=t.providedContext)||void 0===n||n.forEach(i)})),Object.entries(o.a).reduce(((t,[n,i])=>{var a,s;const{requiredContext:o}=i;return null!==(a=!(null!=r&&r.includes(n)))&&void 0!==a&&!a||null!==(s=null==o?void 0:o.every(e.has.bind(e)))&&void 0!==s&&!s||t.push(n),t}),[])}),[n,a,r,t])},g=({command:e,commandType:t,onSelectAction:n})=>{Object(i.useEffect)((()=>{r.Analytics.sendScreenEvent({name:"addButlerActionInlineDialog",attributes:{commandType:t}})}),[t]);const s=h(e,t);return a.a.createElement(a.a.Fragment,null,s.flatMap((e=>{const i=Object(o.d)(e);if(!i)return null;const s=Object(o.g)(e);return a.a.createElement("div",{key:"butler-actions-list-".concat(e),className:m.actionOption,onClick:()=>(e=>{r.Analytics.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"butlerActionMenuItem",source:"addButlerActionInlineDialog",attributes:{actionType:e,commandType:t}});const i=l(e);n(i)})(e),role:"button",style:{cursor:"pointer"},tabIndex:0},a.a.createElement(s,{dangerous_className:m.actionOptionIcon}),i)})))};var b=n("./node_modules/classnames/index.js"),v=n.n(b),f=n("./node_modules/immer/dist/immer.esm.js"),_=n("./packages/nachos/button.ts"),k=n("./packages/nachos/icons/close.tsx"),y=n("./packages/i18n/index.ts"),E=n("./app/src/components/CloseButton/index.ts"),w=n("./app/src/components/Butler/formatButlerCommand.ts"),C=n("./packages/nachos/src/components/Select/Select.tsx"),T=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less"),O={insert:"head",singleton:!1},j=(d()(T.a,O),T.a.locals||{});const A=["width"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const S=Object(y.forNamespace)(["butler","command editor"]),I=e=>{let{width:t}=e,n=N(e,A);return a.a.createElement(C.a,x({appearance:"subtle",containerClassName:j.select,containerStyle:{width:t},spacing:"compact",noOptionsMessage:()=>S("no options")},n))};var D=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L={context:{operationName:"ActionDestination"}},M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionDestination"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"initialIdBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"initialBoard"},name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"initialIdBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]};const R=({id:e,name:t})=>({label:t,value:e}),V=({initialIdBoard:e,selectedBoardName:t,skip:n=!1})=>{const[a,r]=Object(i.useState)(t?void 0:e),{data:s,loading:o}=function(e){const t=P(P({},L),e);return D.a(M,t)}({variables:{idBoard:a||e,initialIdBoard:e},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:n}),{boards:l,lists:c}=Object(i.useMemo)((()=>{var t,n;if(null==s||!s.board||null==s||!s.member)return{boards:[],lists:[]};const i=s.member.boards.map(R);return!i.some((({value:t})=>t===e))&&s.initialBoard&&(i.push(R(s.initialBoard)),i.sort(((e,t)=>e.label.localeCompare(t.label)))),{boards:i,lists:null!==(t=null===(n=s.board.lists)||void 0===n?void 0:n.map(R))&&void 0!==t?t:[]}}),[e,s]);return Object(i.useEffect)((()=>{var e,n;void 0===a&&t&&l.length&&r(null!==(e=null===(n=l.find((({label:e})=>e===t)))||void 0===n?void 0:n.value)&&void 0!==e?e:null)}),[a,t,l]),{idBoard:a,boards:l,lists:c,loading:o,selectBoard:r}},U=[{label:Object(w.a)("top"),value:"top"},{label:Object(w.a)("bottom"),value:"bottom"}],z=({action:e,update:t,idBoard:n})=>{var r,s;const{idBoard:o,boards:l,lists:c,loading:d,selectBoard:u}=V({initialIdBoard:n,selectedBoardName:e.COPY_CARD_ACTION.DESTINATION.$BOARD});return Object(i.useEffect)((()=>{if(!e.COPY_CARD_ACTION.DESTINATION.$BOARD&&o){const e=l.find((({value:e})=>e===o));e&&t((t=>{t.COPY_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[e,t,l,o]),a.a.createElement(a.a.Fragment,null,Object(w.a)("copy_card_action",{position:a.a.createElement(I,{width:"120px",key:"copy-card-action-position",onChange:({value:e})=>{t((t=>{"top"===e?(t.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=e,t.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(t.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=e,t.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:U,value:e.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM?U[1]:U[0]}),list:Object(w.a)("of the list",{title:a.a.createElement(I,{key:"copy-card-action-list",width:"180px",isLoading:d,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.COPY_CARD_ACTION.DESTINATION.$LIST=e}))},options:c,placeholder:Object(w.a)("list name"),value:null!==(r=e.COPY_CARD_ACTION.DESTINATION.$LIST)&&void 0!==r?r:null})}),board:Object(w.a)("on board",{title:a.a.createElement(I,{key:"copy-card-action-board",width:"240px",isLoading:d,isSearchable:!0,onChange:({label:e,value:n})=>{t((t=>{t.COPY_CARD_ACTION.DESTINATION.$BOARD!==e&&(t.COPY_CARD_ACTION.DESTINATION.$BOARD=e,t.COPY_CARD_ACTION.DESTINATION.$LIST=void 0)})),u(n)},options:l,placeholder:Object(w.a)("board name"),value:null!==(s=e.COPY_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==s?s:null})}),comments:null}))},H=({action:e,update:t,idBoard:n})=>{var r,s;const{idBoard:o,boards:l,lists:c,loading:d,selectBoard:u}=V({initialIdBoard:n,selectedBoardName:e.MOVE_CARD_ACTION.DESTINATION.$BOARD});return Object(i.useEffect)((()=>{if(!e.MOVE_CARD_ACTION.DESTINATION.$BOARD&&o){const e=l.find((({value:e})=>e===o));e&&t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[e,t,l,o]),a.a.createElement(a.a.Fragment,null,Object(w.a)("move_card_action",{position:a.a.createElement(I,{key:"move-card-action-position",width:"120px",onChange:({value:e})=>{t((t=>{"top"===e?(t.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=e,t.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(t.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=e,t.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:U,value:e.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM?U[1]:U[0]}),list:Object(w.a)("of the list",{title:a.a.createElement(I,{key:"move-card-action-list",width:"180px",isLoading:d,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$LIST=e}))},options:c,placeholder:Object(w.a)("list name"),value:null!==(r=e.MOVE_CARD_ACTION.DESTINATION.$LIST)&&void 0!==r?r:null})}),board:Object(w.a)("on board",{title:a.a.createElement(I,{key:"move-card-action-board",width:"240px",isLoading:d,isSearchable:!0,onChange:({label:e,value:n})=>{t((t=>{t.MOVE_CARD_ACTION.DESTINATION.$BOARD!==e&&(t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e,t.MOVE_CARD_ACTION.DESTINATION.$LIST=void 0)})),u(n)},options:l,placeholder:Object(w.a)("board name"),value:null!==(s=e.MOVE_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==s?s:null})})}))},W=[{label:Object(w.a)("complete"),value:"MARK_DUE_COMPLETE_ACTION"},{label:Object(w.a)("incomplete"),value:"UNMARK_DUE_COMPLETE_ACTION"}],Y=({action:e,update:t})=>a.a.createElement(a.a.Fragment,null,Object(w.a)("mark_due_date_complete_action",{field:a.a.createElement(I,{width:"150px",key:"mark-due-date-action-type",onChange:({value:e})=>{t((t=>{t.type=e,"MARK_DUE_COMPLETE_ACTION"===e?(delete t.UNMARK_DUE_COMPLETE_ACTION,t.MARK_DUE_COMPLETE_ACTION=!0):(delete t.MARK_DUE_COMPLETE_ACTION,t.UNMARK_DUE_COMPLETE_ACTION=!0)}))},options:W,value:W.find((({value:t})=>t===e.type))})}));function K(e){const t=Object.keys(e).find((t=>"number"==typeof e[t]));if(!t)return null;return{propName:t,value:e[t]}}function G(e){const t=e.IN_X_FROM_TODAY?K(e.IN_X_FROM_TODAY):K(e),{value:n,propName:i}=t||{};return{time:n,timeframe:i}}function $({time:e,timeframe:t}){if("number"==typeof e&&t){if("IN_MINUTES"===t||"IN_HOURS"===t)return{[t]:e};if(t)return{IN_X_FROM_TODAY:{[t]:e}}}return{}}const q=(e={})=>{const{POSITION_TOP:t,POSITION_BOTTOM:n,$LIST:i}=e;return!(!t&&!n||!i)},X=(e={})=>(Array.isArray(e)?e:[e]).every((e=>!!e.COLOR||!!e.$TITLE)),Q=(e,t)=>{const n=t.filter((t=>!!e[t]));return 1===n.length?n[0]:null},J=e=>{switch(e.type){case"MOVE_CARD_ACTION":return q(e.MOVE_CARD_ACTION.DESTINATION);case"COPY_CARD_ACTION":return q(e.COPY_CARD_ACTION.DESTINATION);case"REMOVE_FROM_CARD_ACTION":{const t=e.REMOVE_FROM_CARD_ACTION,n=Q(t,["LABEL","REMOVE_ALL_CHECKLISTS","REMOVE_ALL_MEMBERS","REMOVE_ALL_STICKERS","REMOVE_ALL_LABELS","REMOVE_COVER","REMOVE_DUE_DATE","REMOVE_START_DATE"]);return!!n&&(t.LABEL?X(t.LABEL):!0===t[n])}case"ADD_START_DATE_ACTION":case"ADD_DUE_DATE_ACTION":{const t="ADD_DUE_DATE_ACTION"===e.type?e.ADD_DUE_DATE_ACTION.DUE_DATE:e.ADD_START_DATE_ACTION.START_DATE;if(!t)return!1;const{time:n,timeframe:i}=G(t);return!!i&&"number"==typeof n&&!Number.isNaN(n)}case"SORT_LIST_ACTION":{const t=e.SORT_LIST_ACTION,n=Q(t,["SORT_BY_AGE","SORT_BY_CUSTOM_FIELD","SORT_BY_DATE_IN_TITLE","SORT_BY_DUE_DATE","SORT_BY_LABEL","SORT_BY_START_DATE","SORT_BY_TIME_IN_LIST","SORT_BY_TITLE","SORT_BY_VOTES"]);return!!n&&(t.SORT_BY_LABEL?X(t.SORT_BY_LABEL.SORT_LABEL):t.SORT_BY_CUSTOM_FIELD?((e={})=>!!e.$NAME)(t.SORT_BY_CUSTOM_FIELD):!0===t[n])}case"ADD_LABEL_ACTION":return X(e.ADD_LABEL_ACTION.LABEL);case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":case"JOIN_CARD_ACTION":return!0;default:return!1}},Z=e=>!!e.ACTION.length&&e.ACTION.every(J);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ie={context:{operationName:"ActionLabel"}},ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}}]}}]}}]}}]};const re=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],se=e=>re.indexOf(e),oe=({idBoard:e,onChange:t,value:n,width:r})=>{const{data:s,loading:o}=function(e){const t=te(te({},ie),e);return D.a(ae,t)}({variables:{idBoard:e}}),l=Object(i.useMemo)((()=>{var e,t,n;return null!==(e=[...null!==(t=null==s||null===(n=s.board)||void 0===n?void 0:n.labels)&&void 0!==t?t:[]].sort(((e,t)=>{const{color:n,name:i=""}=e,{color:a,name:r=""}=t,s=i.localeCompare(r);return n&&a?se(n)-se(a)||s:!n&&a?1:n&&!a?-1:s})).map((e=>{var t;return{label:a.a.createElement("span",{className:v()({[j.colorLabel]:!0,[j["colorLabel--".concat(e.color)]]:!!e.color})},e.name),value:{COLOR:null!==(t=e.color)&&void 0!==t?t:null,$TITLE:e.name}}})))&&void 0!==e?e:[]}),[s]),c=Object(i.useMemo)((()=>{if(X(n))return l.find((({value:{COLOR:e,$TITLE:t}})=>e===n.COLOR&&t===n.$TITLE))}),[l,n]);Object(i.useEffect)((()=>{!X(n)&&l.length&&t(l[0].value)}),[n,l,t]);const d=o?Object(w.a)("loading"):Object(w.a)("label");return a.a.createElement(I,{key:"labelSelector",isLoading:o,placeholder:d,onChange:({value:e})=>{t(e)},options:l,value:c,width:r||"250px"})},le=[{label:Object(w.a)("the label"),value:"LABEL"},{label:Object(w.a)("all labels"),value:"REMOVE_ALL_LABELS"},{label:Object(w.a)("the due date"),value:"REMOVE_DUE_DATE"},{label:Object(w.a)("the start date"),value:"REMOVE_START_DATE"},{label:Object(w.a)("all checklists"),value:"REMOVE_ALL_CHECKLISTS"},{label:Object(w.a)("all members"),value:"REMOVE_ALL_MEMBERS"},{label:Object(w.a)("all stickers"),value:"REMOVE_ALL_STICKERS"},{label:Object(w.a)("the cover"),value:"REMOVE_COVER"}],ce=({action:e,update:t,idBoard:n})=>a.a.createElement(a.a.Fragment,null,Object(w.a)("remove_from_card_action",{fields:a.a.createElement(a.a.Fragment,{key:"remove-fields"},a.a.createElement(I,{key:"selector",onChange:({value:e})=>{t((t=>{t.REMOVE_FROM_CARD_ACTION="LABEL"!==e?{[e]:!0}:{LABEL:{}}}))},options:le,value:le.find((t=>t.value===Object.keys(e.REMOVE_FROM_CARD_ACTION)[0])),width:"140px"}),e.REMOVE_FROM_CARD_ACTION.LABEL&&a.a.createElement(oe,{key:"labelSelector",idBoard:n,value:Array.isArray(e.REMOVE_FROM_CARD_ACTION.LABEL)?e.REMOVE_FROM_CARD_ACTION.LABEL[0]:e.REMOVE_FROM_CARD_ACTION.LABEL,onChange:e=>{t((t=>{t.REMOVE_FROM_CARD_ACTION.LABEL=e}))}})),location:Object(w.a)("the card")})),de=()=>a.a.createElement(a.a.Fragment,null,Object(w.a)("join_card_action"));var ue=n("./packages/nachos/src/components/Textfield/Textfield.tsx"),pe=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less"),me={insert:"head",singleton:!1},he=(d()(pe.a,me),pe.a.locals||{});const ge=["width"];function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const fe=e=>{let{width:t}=e,n=ve(e,ge);return a.a.createElement(ue.a,be({className:he.commandText,appearance:"borderless",spacing:"compact",style:{width:t}},n))},_e=[{label:Object(w.a)("due date"),value:"ADD_DUE_DATE_ACTION"},{label:Object(w.a)("start date"),value:"ADD_START_DATE_ACTION"}],ke=[{label:Object(w.a)("minutes"),value:"IN_MINUTES"},{label:Object(w.a)("hours"),value:"IN_HOURS"},{label:Object(w.a)("days"),value:"X_DAYS"},{label:Object(w.a)("working days"),value:"X_WORKING_DAYS"},{label:Object(w.a)("weeks"),value:"X_WEEKS"},{label:Object(w.a)("months"),value:"X_MONTHS"}],ye=({update:e,action:t})=>{const{time:n,timeframe:i}=(e=>G("ADD_START_DATE_ACTION"===e.type?e.ADD_START_DATE_ACTION.START_DATE:e.ADD_DUE_DATE_ACTION.DUE_DATE))(t);return a.a.createElement(a.a.Fragment,null,Object(w.a)("add_date_action",{date_type:a.a.createElement(I,{key:"dateValueSelection",width:"160px",onChange:({value:t})=>{e((e=>{e.type=t;const a=$({time:n,timeframe:i});"ADD_DUE_DATE_ACTION"===t?(delete e.ADD_START_DATE_ACTION,e.ADD_DUE_DATE_ACTION={DUE_DATE:a}):(delete e.ADD_DUE_DATE_ACTION,e.ADD_START_DATE_ACTION={START_DATE:a})}))},options:_e,value:_e.find((({value:e})=>e===t.type))}),date:a.a.createElement(a.a.Fragment,{key:"add_due_date_date"},Object(w.a)("x time frame later",{x:a.a.createElement(fe,{key:"timeSelector",type:"number",onChange:n=>{e((e=>{const a=$({time:Math.max(0,parseInt(n.target.value,10))||0,timeframe:i});"ADD_DUE_DATE_ACTION"===t.type?e.ADD_DUE_DATE_ACTION={DUE_DATE:a}:e.ADD_START_DATE_ACTION={START_DATE:a}}))},value:n,width:"40px"}),time_frame:a.a.createElement(I,{key:"timeframeSelector",onChange:i=>{e((e=>{const a=$({time:n,timeframe:i.value});"ADD_DUE_DATE_ACTION"===t.type?e.ADD_DUE_DATE_ACTION={DUE_DATE:a}:e.ADD_START_DATE_ACTION={START_DATE:a}}))},options:ke,value:ke.find((e=>e.value===i)),width:"180px"})})),time:void 0}))},Ee=["SORT_ASCENDING","SORT_DESCENDING"];function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const je=[{label:Object(w.a)("age"),value:"SORT_BY_AGE"},{label:Object(w.a)("start date"),value:"SORT_BY_START_DATE"},{label:Object(w.a)("due date"),value:"SORT_BY_DUE_DATE"},{label:Object(w.a)("the label"),value:"SORT_BY_LABEL"},{label:Object(w.a)("time in list"),value:"SORT_BY_TIME_IN_LIST"},{label:Object(w.a)("name"),value:"SORT_BY_TITLE"},{label:Object(w.a)("votes"),value:"SORT_BY_VOTES"}],Ae=[{label:Object(w.a)("ascending"),value:"SORT_ASCENDING"},{label:Object(w.a)("descending"),value:"SORT_DESCENDING"}],xe=({action:e,update:t,idBoard:n})=>{const r=!!e.SORT_LIST_ACTION.$LIST,{lists:s,loading:o}=V({initialIdBoard:n,skip:!r}),l=Object(i.useMemo)((()=>je.find((({value:t})=>!!e.SORT_LIST_ACTION[t]))),[e]),c=e.SORT_LIST_ACTION.SORT_ASCENDING?Ae[0]:Ae[1];return a.a.createElement(a.a.Fragment,null,Object(w.a)("sort_list_action",{list:Object(w.a)("the list",{title:r?a.a.createElement(I,{key:"sort-list-list",width:"180px",isLoading:o,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.SORT_LIST_ACTION.$LIST=e}))},options:s,placeholder:Object(w.a)("list name"),value:e.SORT_LIST_ACTION.$LIST}):void 0}),field:a.a.createElement(a.a.Fragment,{key:"sort-list-field"},a.a.createElement(I,{key:"sort-list-field-select",onChange:({value:e})=>{(null==l?void 0:l.value)!==e&&t((t=>{const{$LIST:n,SORT_ASCENDING:i,SORT_DESCENDING:a}=t.SORT_LIST_ACTION;t.SORT_LIST_ACTION={$LIST:n,SORT_ASCENDING:i,SORT_DESCENDING:a,[e]:"SORT_BY_LABEL"!==e||{SORT_LABEL:{}}}}))},options:je,value:l,width:"180px"}),(()=>{if(!e.SORT_LIST_ACTION.SORT_BY_LABEL)return null;const{SORT_LABEL:i}=e.SORT_LIST_ACTION.SORT_BY_LABEL,r=Array.isArray(i)?i[0]:i;return a.a.createElement(oe,{key:"sort-list-by-label-selector",idBoard:n,value:r,onChange:e=>{t((t=>{t.SORT_LIST_ACTION.SORT_BY_LABEL={SORT_LABEL:e}}))}})})()),direction:a.a.createElement(I,{key:"sort-list-direction",onChange:({value:e})=>{t((t=>{const n=t.SORT_LIST_ACTION,{SORT_ASCENDING:i,SORT_DESCENDING:a}=n,r=Oe(n,Ee);t.SORT_LIST_ACTION=Ce(Ce({},r),{},{[e]:!0})}))},options:Ae,value:c,width:"150px"}),secondary_sort:void 0}))},Ne=({action:e,update:t,idBoard:n})=>a.a.createElement(a.a.Fragment,null,Object(w.a)("add_label_action",{label:a.a.createElement(a.a.Fragment,{key:"add-label-label"},Object(w.a)("the label",{color:a.a.createElement(oe,{key:"labelSelector",idBoard:n,width:"190px",value:e.ADD_LABEL_ACTION.LABEL,onChange:e=>{t((t=>{t.ADD_LABEL_ACTION.LABEL=e}))}}),title:void 0})),target:Object(w.a)("the card")})),Se=["action","index"];function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Be=({trigger:e,update:t,idBoard:n})=>{var i;const{lists:r,loading:s}=V({initialIdBoard:n});return a.a.createElement(a.a.Fragment,null,Object(w.a)("when_card_is_added_into_list_trigger",{list:a.a.createElement(I,{key:"when-card-into-list-trigger-list",width:"180px",isLoading:s,isSearchable:!0,onChange:({label:e})=>{t((t=>{t.WHEN.CARD_INTO_LIST.$LIST=e}))},options:r,placeholder:Object(w.a)("list name"),value:null!==(i=e.CARD_INTO_LIST.$LIST)&&void 0!==i?i:null})}))};var Pe=n("./node_modules/moment/moment.js"),Fe=n.n(Pe),Le=n("./packages/nachos/textfield.ts"),Me=n("./packages/keybindings/index.ts");const Re=["timestamp","onChange","placeholder","isDisabled"];function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ze=Object(y.forTemplate)("views"),He="LT",We=a.a.forwardRef(((e,t)=>{let{timestamp:n,onChange:r,placeholder:s,isDisabled:o}=e,l=Ue(e,Re);const[c,d]=Object(i.useState)("");Object(i.useEffect)((()=>{const e=Fe.a.localeData(),t=n?Fe()(n):Fe()(o?"":void 0),i=t.isValid(),a=i?t.format(He):e.longDateFormat(He);a!==c&&d(a),n||r(i?t.valueOf():Date.now())}),[n]);const u=Object(i.useCallback)((()=>{let e=Fe()(c,"".concat(He," A"));e.isValid()||(e=Fe()(n));const t=e.format(He);d(t);const i=e.valueOf();i!==n&&r(i),document.activeElement instanceof HTMLInputElement&&document.activeElement.blur()}),[c,r,d,n]);return a.a.createElement(Le.a,Ve({ref:t,value:c,placeholder:null!=s?s:ze("add-time"),isDisabled:o,onBlur:u,onChange:({target:{value:e}})=>{d(e)},onKeyDown:e=>{Object(Me.isSubmitEvent)(e)&&document.activeElement instanceof HTMLInputElement&&document.activeElement.blur()}},l))})),Ye=["timestamp","time","onChange","onChangeTime"];function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const $e=a.a.forwardRef(((e,t)=>{let{timestamp:n,time:r,onChange:s,onChangeTime:o}=e,l=Ge(e,Ye);const c=r?(e=>{var t;if(!e)return;const n=Fe()("".concat(e.HOUR,":").concat(null!==(t=e.MINUTES)&&void 0!==t?t:"00"," ").concat(e.AM||e.PM||""),"LT A");return n.isValid()?n.valueOf():void 0})(r):n,d=Object(i.useCallback)((e=>{if(o){const t=Fe()(e);return o({HOUR:t.hours(),MINUTES:t.minutes()})}return null==s?void 0:s(e)}),[s,o]);return a.a.createElement(We,Ke({appearance:"borderless",className:he.commandTime,onChange:d,placeholder:"",ref:t,spacing:"compact",timestamp:c},l))}));let qe;const Xe=({trigger:e,update:t})=>{var n;const r=Object(s.useFeatureFlag)("workflowers.show-automatic-reports",!1),o=(qe||(qe=Fe.a.weekdays().map(((e,t)=>({label:e,value:String(t)})))),qe),l=Object(i.useCallback)((e=>{t((t=>{t.EVERY.CERTAIN_DAYS.TIME=e}))}),[t]);return a.a.createElement(a.a.Fragment,null,Object(w.a)("certain_days_trigger",{day:a.a.createElement(I,{width:"150px",key:"certain-days-trigger-day",onChange:({value:e})=>{t((t=>{t.EVERY.CERTAIN_DAYS.DAY=Number(e)}))},options:o,defaultValue:o[1],value:o[Array.isArray(e.CERTAIN_DAYS.DAY)?e.CERTAIN_DAYS.DAY[0]:null!==(n=e.CERTAIN_DAYS.DAY)&&void 0!==n?n:0]}),time:r?Object(w.a)("at time",{time:a.a.createElement($e,{time:e.CERTAIN_DAYS.TIME,onChangeTime:l})}):void 0}))},Qe=()=>a.a.createElement(a.a.Fragment,null,Object(w.a)("every_day_trigger")),Je=["trigger"];function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const tt=e=>{let{trigger:t}=e,n=et(e,Je);if(t.EVERY)switch(t.EVERY.type){case"EVERY_DAY":return a.a.createElement(Qe,Ze({trigger:t.EVERY},n));case"CERTAIN_DAYS":return a.a.createElement(Xe,Ze({trigger:t.EVERY},n));default:return null}else if(t.WHEN)switch(t.WHEN.type){case"CARD_INTO_LIST":return a.a.createElement(Be,Ze({trigger:t.WHEN},n));default:return null}return null};var nt=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandEditor.less"),it={insert:"head",singleton:!1},at=(d()(nt.a,it),nt.a.locals||{});const rt=["command","commandType","source","onUpdateCommand","onClickAddAction"];function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const dt=Object(y.forNamespace)(["butler","command editor"]),ut=e=>{var t;let{command:n,commandType:i,source:s,onUpdateCommand:l,onClickAddAction:c}=e,d=ct(e,rt);const{TRIGGER:u,ACTION:p}=n,m=Object(o.k)(u),g=h(n,i),b=p.length<10&&g.length&&(g.length>1||(null===(t=p[0])||void 0===t?void 0:t.type)!==g[0]),y=p.length>1,w=({Icon:e,category:t,onClickRemove:n})=>a.a.createElement("div",{className:at.header},a.a.createElement("div",{className:at.category},a.a.createElement(e,{dangerous_className:at.icon}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),n?a.a.createElement(E.a,{className:at.removeButton,closeIcon:a.a.createElement(k.a,{color:"quiet",size:"xsmall"}),onClick:n}):null);return a.a.createElement("div",{className:at.grid},u&&m?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:at.sectionLabel},dt("when")),a.a.createElement("div",{className:at.trigger},w({Icon:Object(o.i)(m),category:Object(o.f)(m)}),a.a.createElement("div",{className:at.editor},tt(ot({trigger:u,update:e=>{l(Object(f.b)(n,(t=>{e(t.TRIGGER)})))}},d)))),a.a.createElement("hr",{className:v()(at.thread,at["thread--md"])}),a.a.createElement("p",{className:at.sectionLabel},dt("then")),a.a.createElement("hr",{className:v()(at.thread,at["thread--lg"])})):a.a.createElement("p",{className:at.sectionLabel},dt("actions")),p.map(((e,t)=>{const i=Object(o.g)(e.type);return a.a.createElement(a.a.Fragment,{key:"butler-command-editor-action-".concat(t)},a.a.createElement("div",{className:at.action},w({Icon:i,category:Object(o.c)(e.type),onClickRemove:y?()=>{l(Object(f.b)(n,(e=>{e.ACTION.splice(t,1)}))),r.Analytics.sendClickedButtonEvent({buttonName:"removeButlerActionButton",source:s})}:void 0}),a.a.createElement("div",{className:at.editor},(e=>{let{action:t,index:n}=e,i=De(e,Se);const r="".concat(t.type,"-").concat(n);switch(t.type){case"COPY_CARD_ACTION":return a.a.createElement(z,Ie({key:r,action:t},i));case"MOVE_CARD_ACTION":return a.a.createElement(H,Ie({key:r,action:t},i));case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":return a.a.createElement(Y,Ie({key:r,action:t},i));case"REMOVE_FROM_CARD_ACTION":return a.a.createElement(ce,Ie({key:r,action:t},i));case"JOIN_CARD_ACTION":return a.a.createElement(de,Ie({key:r,action:t},i));case"ADD_DUE_DATE_ACTION":case"ADD_START_DATE_ACTION":return a.a.createElement(ye,Ie({key:r,action:t},i));case"SORT_LIST_ACTION":return a.a.createElement(xe,Ie({key:r,action:t},i));case"ADD_LABEL_ACTION":return a.a.createElement(Ne,Ie({key:r,action:t},i));default:return null}})(ot({action:e,update:e=>{l(Object(f.b)(n,(n=>{e(n.ACTION[t])})))},index:t},d)))),b||t<p.length-1?a.a.createElement("hr",{className:v()(at.thread,at["thread--sm"])}):null)})),b?a.a.createElement(_.Button,{appearance:0===p.length?"primary":"default",className:at.addActionButton,size:"fullwidth",onClick:c},"+ ",dt("add action")):null)}},"./app/src/components/Butler/CommandMetadata/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"g",(function(){return I})),n.d(t,"i",(function(){return S})),n.d(t,"c",(function(){return B})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return L})),n.d(t,"h",(function(){return M})),n.d(t,"b",(function(){return r}));var i=n("./packages/objects/index.ts"),a=n("./packages/i18n/index.ts");let r,s;!function(e){e.Card="card",e.Checklist="checklist",e.List="list",e.Report="report"}(r||(r={})),function(e){e.Add="add",e.Archive="archive",e.Calendar="calendar",e.CardChanges="card changes",e.CardsAndLists="cards and lists",e.Checklists="checklists",e.Confetti="confetti",e.Content="content",e.Copy="copy",e.Dates="dates",e.Email="emails",e.Fields="fields",e.Labels="labels",e.Members="members",e.Move="move",e.Remove="remove",e.Sort="sort"}(s||(s={}));const o=s.Confetti,l=Object(i.a)({MOVE_CARD_ACTION:{category:s.Move,requiredContext:[r.Card]},COPY_CARD_ACTION:{category:s.Copy,requiredContext:[r.Card]},ADD_LABEL_ACTION:{category:s.Labels,requiredContext:[r.Card]},JOIN_CARD_ACTION:{category:s.Members,requiredContext:[r.Card]},ADD_DUE_DATE_ACTION:{category:s.Dates,requiredContext:[r.Card]},ADD_START_DATE_ACTION:{category:s.Dates,requiredContext:[r.Card]},MARK_DUE_COMPLETE_ACTION:{category:s.Dates,requiredContext:[r.Card]},UNMARK_DUE_COMPLETE_ACTION:{category:s.Dates,requiredContext:[r.Card]},REMOVE_FROM_CARD_ACTION:{category:s.Remove,requiredContext:[r.Card]},SORT_LIST_ACTION:{category:s.Sort}}),c=Object(a.forNamespace)(["butler","action labels"],{returnBlankForMissingStrings:!0}),d=Object(i.a)({CARD_INTO_LIST:{category:s.CardsAndLists,commandType:"rule",providedContext:[r.Card,r.List]},EVERY_DAY:{category:s.Calendar,commandType:"schedule"},CERTAIN_DAYS:{category:s.Calendar,commandType:"schedule"}}),u=e=>{var t,n;return null!==(t=null==e||null===(n=e[e.type])||void 0===n?void 0:n.type)&&void 0!==t?t:null},p=e=>{const t=u(e);var n;return t&&null!==(n=d[t])&&void 0!==n?n:null};var m=n("./packages/nachos/icons/add.tsx"),h=n("./packages/nachos/icons/archive.tsx"),g=n("./packages/nachos/icons/calendar.tsx"),b=n("./packages/nachos/icons/card.tsx"),v=n("./packages/nachos/icons/checklist.tsx"),f=n("./packages/nachos/icons/clock.tsx"),_=n("./packages/nachos/icons/comment.tsx"),k=n("./packages/nachos/icons/copy.tsx"),y=n("./packages/nachos/icons/description.tsx"),E=n("./packages/nachos/icons/filter.tsx"),w=n("./packages/nachos/icons/label.tsx"),C=n("./packages/nachos/icons/list.tsx"),T=n("./packages/nachos/icons/member.tsx"),O=n("./packages/nachos/icons/move.tsx"),j=n("./packages/nachos/icons/remove.tsx"),A=n("./packages/nachos/icons/sparkle.tsx"),x=n("./packages/nachos/icons/email.tsx");const N=Object(i.a)({[s.Add]:m.a,[s.Archive]:h.a,[s.Calendar]:g.CalendarIcon,[s.CardChanges]:b.a,[s.CardsAndLists]:C.ListIcon,[s.Checklists]:v.a,[s.Confetti]:A.a,[s.Content]:_.a,[s.Copy]:k.a,[s.Dates]:f.a,[s.Email]:x.a,[s.Fields]:y.a,[s.Labels]:w.a,[s.Members]:T.MemberIcon,[s.Move]:O.a,[s.Remove]:j.a,[s.Sort]:E.a}),S=e=>{var t,n;return N[null!==(t=null===(n=d[e])||void 0===n?void 0:n.category)&&void 0!==t?t:o]},I=e=>{var t,n;return N[null!==(t=null===(n=l[e])||void 0===n?void 0:n.category)&&void 0!==t?t:o]},D=Object(a.forNamespace)(["butler","command element categories"]),B=e=>{var t,n;return D(null!==(t=null===(n=l[e])||void 0===n?void 0:n.category)&&void 0!==t?t:o)},P=e=>{var t,n;return D(null!==(t=null===(n=d[e])||void 0===n?void 0:n.category)&&void 0!==t?t:o)},F=Object(i.a)({[s.Add]:"fas-plus",[s.Archive]:"fas-archive",[s.Checklists]:"fas-check-square",[s.Confetti]:"fas-magic",[s.Content]:"fas-comment",[s.Copy]:"fas-copy",[s.Dates]:"fas-clock",[s.Fields]:"fas-align-justify",[s.Labels]:"fas-tag",[s.Members]:"fas-user",[s.Move]:"fas-arrow-right",[s.Remove]:"fas-minus",[s.Sort]:"fas-sort-amount-down"}),L=(e,t=!1)=>{var n;const i=e&&(null===(n=l[e])||void 0===n?void 0:n.category)&&F[l[e].category]||"gears";return t?i:"https://app.butlerfortrello.com/assets/fa-5.1.1/icons/pngs/".concat(i,".png")},M=e=>({trigger:u(e.TRIGGER),actions:e.ACTION.map((({type:e})=>e))})},"./app/src/components/Butler/ListRule/listRuleDraftState.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=new(n("./packages/shared-state/index.ts").b)({})},"./app/src/components/Butler/formatButlerCommand.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./packages/i18n/index.ts");const a=Object(i.forNamespace)(["butler","command"],{shouldEscapeStrings:!1,returnBlankForMissingStrings:!0,canOmitSubstitutions:!0})},"./app/src/components/Butler/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ButlerCardButtons",(function(){return B})),n.d(t,"AutomaticReports",(function(){return P})),n.d(t,"ButlerListMenuSection",(function(){return X})),n.d(t,"showButlerDirectory",(function(){return y.d})),n.d(t,"ButlerTab",(function(){return y.b})),n.d(t,"ButlerNewCommandId",(function(){return y.a}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts"),s=n("./app/scripts/debug/constants.ts"),o=n("./app/src/components/ErrorBoundary/index.ts"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./packages/atlassian-analytics/index.ts"),u=n("./packages/feature-flag-client/index.ts"),p=n("./packages/nachos/icons/edit.tsx"),m=n("./packages/nachos/icons/information.tsx"),h=n("./packages/nachos/popover.ts"),g=n("./packages/nachos/button.ts"),b=n("./packages/i18n/index.ts"),v=n("./app/src/components/UpgradePrompts/index.ts"),f=n("./app/scripts/controller/urls.js"),_=n("./app/src/components/Butler/getButlerName.ts"),k=n("./app/src/components/Butler/showButlerAlert.ts"),y=n("./app/src/components/Butler/showButlerDirectory.ts"),E=n("./app/src/components/Butler/useHasButlerAccess.ts"),w=n("./app/src/components/Butler/Buttons/ButlerCardButton.tsx"),C=n("./app/src/components/Butler/Buttons/useButlerButtons.ts"),T=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),O=n.n(T),j=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less"),A={insert:"head",singleton:!1},x=(O()(j.a,A),j.a.locals||{});function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const{getBoardUrl:S}=f.Urls,I=Object(b.forNamespace)("butler"),D=({idCard:e,idBoard:t,idOrganization:s,isDisabled:o})=>{const{buttons:l,limit:b}=Object(C.a)({type:"card-button",idBoard:t,idOrganization:s}),{shouldDisplayUpgradePrompt:f}=Object(v.useUpgradePromptRules)(s),T=Object(r.useLazyComponent)((()=>Promise.resolve().then(n.bind(null,"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"))),{namedImport:"UpgradeSmartComponent"}),{popoverProps:O,triggerRef:j,show:A,hide:D}=Object(h.e)({onShow:()=>{d.Analytics.sendScreenEvent({name:"butlerUpsellInlineDialog",containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s})})}}),{popoverProps:B,triggerRef:P,toggle:F}=Object(h.e)({onShow:()=>{d.Analytics.sendScreenEvent({name:"aboutButlerInlineDialog",containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s}),attributes:{numCardButtons:l.length}})}}),L=Object(r.useLazyComponent)((()=>n.e(26).then(n.bind(null,"./app/src/components/Butler/Buttons/AddCardButtonPopover.tsx"))),{namedImport:"AddCardButtonPopover"}),{popoverProps:M,triggerRef:R,toggle:V,push:U,pop:z,hide:H}=Object(h.e)({onShow:()=>{d.Analytics.sendScreenEvent({name:"addButlerCardButtonInlineDialog",containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s}),attributes:{numCardButtons:l.length}})}}),W=Object(r.useLazyComponent)((()=>n.e(69).then(n.bind(null,"./app/src/components/Butler/Buttons/EditCardButtonPopover.tsx"))),{namedImport:"EditCardButtonPopover"}),{popoverProps:Y,triggerRef:K,toggle:G,push:$,pop:q,hide:X}=Object(h.e)({onShow:()=>{d.Analytics.sendScreenEvent({name:"editButlerCardButtonInlineDialog",containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s}),attributes:{numCardButtons:l.length}})}}),Q=Object(E.a)(t),J=Object(u.useFeatureFlag)("workflowers.butler-card-button-tooltips",!1,{sendExposureEvent:!0}),Z=({idButton:e,alert:n}={})=>{n===k.a.PowerupUsageExceeded&&f?A():n===k.a.RunButtonError&&e?Object(k.b)(n,{actionUrl:S(t,"butler",["log",e])}):n&&Object(k.b)(n)},ee=({source:n,butlerTab:i,butlerCmdEdit:a})=>{n&&d.Analytics.sendClickedLinkEvent({linkName:"openButlerLink",source:n,containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s})}),Object(y.d)(t,i,a)},te=Object(u.useFeatureFlag)("workflowers.butler-edit-card-button-popover",!1);return a.a.createElement("div",{className:"window-module u-clearfix",ref:j},a.a.createElement("div",{className:x.header},a.a.createElement("h3",{className:"mod-no-top-margin"},Object(_.getButlerName)()),te?a.a.createElement("a",{className:c()(["button-link",x.editIcon]),onClick:G,ref:K,role:"button",tabIndex:0},a.a.createElement(p.a,{size:"small"})):a.a.createElement("a",{className:c()(["button-link",x.editIcon]),onClick:F,ref:P,role:"button",tabIndex:0},a.a.createElement(m.a,{size:"small"}))),a.a.createElement("div",{className:"u-clearfix"},l.map((n=>a.a.createElement(w.a,{key:n.id,button:n,idCard:e,idBoard:t,idOrganization:s,cardButtonCallback:Z,isTooltipEnabled:J,isDisabled:o}))),a.a.createElement("div",null,a.a.createElement("a",{className:"button-link add-button-link",onClick:()=>((n=!1)=>{d.Analytics.sendClickedButtonEvent({buttonName:"addButlerCardButtonButton",source:"cardDetailScreen",containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s}),attributes:{numCardButtons:l.length,viaKeypress:n}}),l.length>=b?Object(k.b)(k.a.ButtonLimitMet):Q?V():Object(y.d)(t)})(),role:"button",ref:R,tabIndex:0,title:I("add button")},I("add button")))),M.isVisible?a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(L,{idCard:e,idBoard:t,idOrganization:s,popoverProps:M,push:U,pop:z,hide:H,goToButlerDirectory:(e,t)=>{ee({butlerTab:e,butlerCmdEdit:t}),H()}})):null,a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(T,{orgId:s,promptId:"butlerUpsellPopoverPromptFull",additionalProps:{popoverProps:O,goToButler:()=>{ee({source:"butlerUpsellInlineDialog"}),D()},ctaOnClick:D}})),te?a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(W,{idCard:e,idBoard:t,idOrganization:s,popoverProps:Y,push:$,pop:q,hide:X,goToButlerDirectory:(e,t)=>{ee({butlerTab:e,butlerCmdEdit:t}),X()}})):a.a.createElement(h.b,N({},B,{title:I("about butler")}),a.a.createElement("div",{className:x.aboutButlerPopoverContent},a.a.createElement("p",null,I("about butler description 1")),a.a.createElement("p",null,I("about butler description 2"))),a.a.createElement(g.Button,{appearance:"primary",size:"fullwidth",onClick:()=>ee({source:"aboutButlerInlineDialog"}),tabIndex:0},I("go to the butler directory")),a.a.createElement("div",{className:x.feedbackLinkContainer},a.a.createElement("a",{href:"https://trello.typeform.com/to/VVTrq577",target:"_blank",className:x.feedbackLink,onClick:()=>((n=!1)=>{d.Analytics.sendClickedLinkEvent({linkName:"giveFeedbackLink",source:"aboutButlerInlineDialog",containers:Object(d.formatContainers)({idCard:e,idBoard:t,idOrganization:s}),attributes:{viaKeypress:n}})})()},I("give us feedback")))))},B=e=>a.a.createElement(o.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.ButlerOnBoards}},a.a.createElement(D,e)),P=e=>{const t=Object(r.useLazyComponent)((()=>n.e(34).then(n.bind(null,"./app/src/components/Butler/Reports/AutomaticReportsView.tsx"))),{namedImport:"AutomaticReportsView"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))};var F=n("./packages/nachos/icons/external-link.tsx"),L=n("./app/scripts/views/lib/pop-over.js"),M=n.n(L),R=n("./app/src/components/ComponentWrapper/index.ts"),V=n("./app/src/components/NewFeature/index.ts"),U=n("./app/src/components/Butler/CommandEditors/index.ts"),z=n("./app/src/components/Butler/ListRule/listRuleDraftState.ts");var H=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/ListRule/ButlerListMenuSection.less"),W={insert:"head",singleton:!1},Y=(O()(H.a,W),H.a.locals||{});const K=["listName"];function G(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const $=Object(b.forTemplate)("list_menu"),q=Object(b.forNamespace)(["butler","create list rule popover"]),X=e=>{let{listName:t}=e,l=G(e,K);const u=Object(r.useLazyComponent)((()=>n.e(62).then(n.bind(null,"./app/src/components/Butler/ListRule/CreateListRulePopover.tsx"))),{namedImport:"CreateListRulePopover"}),{acknowledgeNewFeature:p}=Object(V.useNewFeature)(V.FeatureId.ButlerOnBoardsV2),{idBoard:m}=l;if(!Object(E.a)(m))return null;const h=e=>{p({explicit:!0,source:"listMenuInlineDialog"}),(({template:e,listName:t})=>{switch(e){case"when-a-card-is-added-to-the-list":return void z.a.setValue({TRIGGER:{type:"WHEN",WHEN:{type:"CARD_INTO_LIST",CARD_INTO_LIST:{$LIST:t}}},ACTION:[]});case"every-day-sort-list-by":{const e=Object(U.c)("SORT_LIST_ACTION");return e.SORT_LIST_ACTION.$LIST=t,void z.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"EVERY_DAY",EVERY_DAY:!0}},ACTION:[e]})}case"every-monday-sort-list-by":{const e=Object(U.c)("SORT_LIST_ACTION");return e.SORT_LIST_ACTION.$LIST=t,void z.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"CERTAIN_DAYS",CERTAIN_DAYS:{DAY:1}}},ACTION:[e]})}default:throw new Error("Invalid template: ".concat(e))}})({template:e,listName:t}),M.a.pushView({getViewTitle:()=>q("new rule"),reactElement:a.a.createElement(R.ComponentWrapper,{key:"butlerCreateListRulePopover"},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(o.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.ButlerOnBoards}},a.a.createElement(u,l))))}),d.Analytics.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"butlerRuleTemplateMenuItem",source:"listMenuInlineDialog",containers:Object(d.formatContainers)(l),attributes:{template:e}})};return a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",null),a.a.createElement("div",{className:Y.header},a.a.createElement("div",{className:Y.title},Object(_.getButlerName)(),a.a.createElement("span",{className:Y.newPill},a.a.createElement(V.NewPill,{featureId:V.FeatureId.ButlerOnBoardsV2,source:"listMenuInlineDialog"})))),a.a.createElement("ul",{className:c()("pop-over-list",Y.templates)},["when-a-card-is-added-to-the-list","every-day-sort-list-by","every-monday-sort-list-by"].map((e=>{const t=$(e);return a.a.createElement("li",{key:e},a.a.createElement("a",{className:Y.template,onClick:()=>h(e),role:"link",title:t,tabIndex:0},t))})),a.a.createElement("li",null,a.a.createElement("a",{className:Y.customRuleButton,onClick:async()=>{p({explicit:!0,source:"listMenuInlineDialog"}),await Object(y.d)(m,y.b.Rules,y.a),d.Analytics.sendClickedButtonEvent({buttonName:"createCustomButlerRuleButton",source:"listMenuInlineDialog",containers:Object(d.formatContainers)(l)}),M.a.hide()},role:"link",title:$("create-a-custom-rule"),tabIndex:0},a.a.createElement("span",{className:Y.customRuleLabel},$("create-a-custom-rule")),a.a.createElement("span",{className:Y.externalLinkIcon},a.a.createElement(F.a,null))))))}},"./app/src/components/Butler/parseButlerCommand.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlassian/butler-command-parser/lib/index.js"),a=n("./packages/atlassian-analytics/index.ts");const r=e=>{var t,n;return null!==(t=null===(n=Object(i.parseCommand)(e))||void 0===n?void 0:n.parse)&&void 0!==t?t:null},s=e=>{try{return Object(i.localizeCommandToButlerEnglish)(e)||null}catch(e){return null}},o=e=>{try{return Object(i.getLocalizationKeysForCommand)(e)||null}catch(e){return"LocalizationKeysError"===e.name&&a.Analytics.sendOperationalEvent({actionSubject:"butlerLocalization",actionSubjectId:"getButlerLocalizationKeys",action:"failed",source:"@atlassian/butler-command-parser",attributes:{elementType:e.elementType,unsupportedCase:e.unsupportedCase}}),null}}},"./app/src/components/Butler/showButlerAlert.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var i=n("./packages/nachos/experimental.ts"),a=n("./packages/i18n/index.ts"),r=n("./app/scripts/controller/navigate.js");const s=Object(a.forNamespace)(["butler","alert"]);let o;!function(e){e.Success="Success",e.InvalidCommand="InvalidCommand",e.PowerupUsageExceeded="PowerupUsageExceeded",e.RunButtonError="RunButtonError",e.NetworkError="NetworkError",e.ButtonLimitMet="ButtonLimitMet",e.GatewayTimeout="GatewayTimeout",e.CommandTooLong="CommandTooLong",e.CommandStorageExceeded="CommandStorageExceeded",e.SomethingWentWrong="SomethingWentWrong",e.Unauthorized="Unauthorized"}(o||(o={}));const l={[o.Success]:{appearance:"success",title:s("success")},[o.InvalidCommand]:{appearance:"error",title:s("invalid command")},[o.PowerupUsageExceeded]:{appearance:"error",title:s("usage exceeded"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"},[o.RunButtonError]:{appearance:"error",title:s("button error"),learnMoreHref:"https://help.trello.com/article/1150-opening-the-butler-usage-log"},[o.NetworkError]:{appearance:"error",title:s("network error")},[o.ButtonLimitMet]:{appearance:"error",title:s("button limit met"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"},[o.GatewayTimeout]:{appearance:"error",title:s("gateway timeout")},[o.CommandTooLong]:{appearance:"error",title:s("command too long")},[o.CommandStorageExceeded]:{appearance:"error",title:s("command storage exceeded")},[o.SomethingWentWrong]:{appearance:"error",title:s("something went wrong")},[o.Unauthorized]:{appearance:"error",title:s("unauthorized")}};function c(e,{actionUrl:t}={}){const{appearance:n,title:a,learnMoreHref:c}=l[e];let d;n&&a&&(e===o.RunButtonError&&t?d=[{content:s("go to usage log"),href:t,type:"link",onClick:e=>{e.preventDefault(),Object(r.navigate)(t,{trigger:!0})}}]:c&&(d=[{content:s("learn more"),href:c,target:"_blank",type:"link"}]),Object(i.showFlag)({id:"Butler",title:a,appearance:n,actions:d,isAutoDismiss:!0,msTimeout:5e3}))}},"./app/src/components/Butler/showButlerDirectory.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b}));var i=n("./packages/error-reporting/index.ts"),a=n("./app/scripts/data/butler-id.js"),r=n("./app/scripts/db/model-cache.js"),s=n("./app/scripts/debug/constants.ts"),o=n("./app/scripts/views/internal/plugins/plugin-runner.js"),l=n.n(o),c=n("./app/src/components/Butler/CommandMetadata/index.ts"),d=n("./packages/feature-flag-client/index.ts"),u=n("./app/scripts/controller/index.js");let p;!function(e){e.Rules="rules",e.BoardButton="board-button",e.CardButton="card-button",e.Schedule="scheduled",e.DueDate="on-date"}(p||(p={}));const m=e=>{var t;switch(null===(t=Object(c.j)(e.TRIGGER))||void 0===t?void 0:t.commandType){case"rule":return p.Rules;case"schedule":return p.Schedule;case"on-date":return p.DueDate;default:return}},h="new",g=async(e,t,n)=>{if(d.featureFlagClient.get("workflowers.new-butler-board-button",!1))return u.Controller.getCurrentBoardView().navigateToButlerView({tab:t,edit:n});const o=r.ModelCache.get("Board",e);try{await l.a.one({plugin:a.BUTLER_POWER_UP_ID,command:"show-settings",board:o,options:{butlerTab:t,butlerCmdEdit:n}})}catch(e){Object(i.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.ButlerOnBoards}})}},b=async()=>u.Controller.getCurrentBoardView().toggleButlerView()},"./app/src/components/Butler/useHasButlerAccess.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/react/index.js"),a=n("./packages/feature-flag-client/index.ts"),r=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={context:{operationName:"HasButlerAccess"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HasButlerAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"enterprise"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}}]}}]}}]}}]};const u=e=>{const t=Object(a.useFeatureFlag)("workflowers.butler-ent-admin-only-allowlist",[]),{data:n}=function(e){const t=o(o({},c),e);return r.a(d,t)}({variables:{idBoard:e}});return Object(i.useMemo)((()=>{var e,i,a,r;if(null==n||!n.board)return!1;const{idEnterprise:s}=n.board;if(!s||!t.includes(s))return!0;const o=null===(e=n.member)||void 0===e?void 0:e.id,{organization:l}=n.board;if(!o||!l)return!1;const{idAdmins:c}=null!==(i=l.enterprise)&&void 0!==i?i:{};return(null==c?void 0:c.includes(o))||"admin"===(null===(a=l.memberships)||void 0===a||null===(r=a.find((e=>e.idMember===o)))||void 0===r?void 0:r.memberType)}),[t,n])}},"./app/src/components/CardCoverChooser/SearchResultImageButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./packages/i18n/index.ts"),l=n("./packages/nachos/spinner.ts"),c=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),d=n("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),u=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=n.n(u),m=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less"),h={insert:"head",singleton:!1},g=(p()(m.a,h),m.a.locals||{}),b=n("./packages/unsplash/index.ts"),v=n("./packages/atlassian-analytics/index.ts");const f=Object(o.forTemplate)("card_cover_chooser"),_=n("./app/scripts/views/board-create/photo-attribution-component.js"),k=({cardId:e,index:t,urls:n,links:i,user:r,onSetCover:o,onSetCoverFailed:u,buttonClassName:p,onClick:m})=>{const{data:h}=Object(c.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[k,{loading:y}]=Object(d.a)({onError:u,onCompleted:()=>{o()}}),E=null==h?void 0:h.card,w={organization:{id:null==E?void 0:E.board.idOrganization},board:{id:null==E?void 0:E.board.id},card:{id:null==E?void 0:E.id}};return a.a.createElement("div",{key:t,className:g.backgroundGridItem},a.a.createElement("button",{className:s()("button",g.coverTilesItem,p),style:{backgroundImage:"url('".concat(n.thumb,"')")},onClick:t=>{m&&m(t),t.isDefaultPrevented()||(async t=>{const n=v.Analytics.startTask({taskName:"edit-card/cover",source:"cardCoverInlineDialog"});try{await k({variables:{traceId:n,cardId:e,cover:t}}),v.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.url,taskId:n},containers:w}),v.Analytics.taskSucceeded({taskName:"edit-card/cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw v.Analytics.taskFailed({taskName:"edit-card/cover",traceId:n,source:"cardCoverInlineDialog",error:e})}b.unsplashClient.trackDownload({links:i})})({url:b.unsplashClient.appendImageParameters(n.raw)})}},y?a.a.createElement("div",{className:g.upload},a.a.createElement(l.a,{wrapperClassName:g.spinnerWrapper,inline:!0,modLeft:!0,small:!0,text:f("uploading-ellipsis")})):a.a.createElement(_,{user:r,size:"small"})))}},"./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={context:{operationName:"SearchUnsplash"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchUnsplash"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"perPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unsplashPhotos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"perPage"},value:{kind:"Variable",name:{kind:"Name",value:"perPage"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"urls"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"}},{kind:"Field",name:{kind:"Name",value:"raw"}}]}},{kind:"Field",name:{kind:"Name",value:"links"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"download_location"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"links"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"html"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]};function c(e){const t=r(r({},o),e);return i.a(l,t)}},"./app/src/components/CardCoverChooser/SelectCover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"getPotentialCovers",(function(){return Xe})),n.d(t,"SelectCover",(function(){return Qe}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),s=n("./node_modules/classnames/index.js"),o=n.n(s),l=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),c=n.n(l),d=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less"),u={insert:"head",singleton:!1},p=(c()(d.a,u),d.a.locals||{}),m=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),h=n("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),g=n("./packages/atlassian-analytics/index.ts"),b=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less"),v={insert:"head",singleton:!1},f=(c()(b.a,v),b.a.locals||{});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=Object(r.forTemplate)("card_cover_chooser"),w=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],C=({cardId:e})=>{const{data:t}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[n]=Object(h.a)(),i=null==t?void 0:t.card,r=null==i?void 0:i.cover,s=null==r?void 0:r.color,l={organization:{id:null==i?void 0:i.board.idOrganization},board:{id:null==i?void 0:i.board.id},card:{id:null==i?void 0:i.id}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:f.heading},E("colors")),a.a.createElement("div",{className:f.colorTiles},w.map((t=>a.a.createElement("button",{key:t,onClick:()=>{g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverColorTile",source:"cardCoverInlineDialog",attributes:{value:t},containers:l}),(async t=>{let i={color:t,brightness:"black"===t?"dark":"light"};const a=g.Analytics.startTask({taskName:"edit-card/cover",source:"cardCoverInlineDialog"});t===s?(i=null,g.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",taskId:a},containers:l})):g.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",value:t,taskId:a},containers:l});try{await n({variables:{cardId:e,cover:i,traceId:a},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:k(k({__typename:"Card_Cover"},r),{},i?{color:t,brightness:i.brightness,idUploadedBackground:null,idAttachment:null}:{color:null,idUploadedBackground:null,idAttachment:null,scaled:null}),idAttachmentCover:null}}}),g.Analytics.taskSucceeded({taskName:"edit-card/cover",traceId:a,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:"edit-card/cover",traceId:a,source:"cardCoverInlineDialog",error:e})}})(t)},className:o()(f.colorTile,f[t],{[f.selected]:t===s})})))))};var T=n("./packages/nachos/spinner.ts"),O=n("./app/common/lib/util/preview.ts"),j=n("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),A=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less"),x={insert:"head",singleton:!1},N=(c()(A.a,x),A.a.locals||{});const S=({onClick:e,coverSize:t,coverColor:n,coverImageUrl:i,selected:r,textColor:s="dark",disabled:l})=>{const c="normal"===t,d="full"===t,u=n?N[n]:null,p=d?u:null;let m="linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))";return"light"===s&&(m="linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"),a.a.createElement("div",{role:"button",onClick:l?void 0:e,className:o()(N.miniCard,p,{[N.hasCover]:c,[N.hasFullCover]:d,[N.colorCardCover]:d&&Boolean(n),[N.imageCardCover]:d&&Boolean(i),[N.selected]:r,[N.disabled]:l}),style:{backgroundImage:d&&i?"".concat(m,", url(").concat(i,")"):void 0}},c&&a.a.createElement("div",{className:o()(N.cover,u,{[N.colorCardCover]:Boolean(n),[N.imageCardCover]:Boolean(i)}),style:{backgroundImage:i?"url(".concat(i,")"):void 0}}),a.a.createElement("div",{className:o()(N.content,{[N.light]:"light"===s})},a.a.createElement("div",{className:N.longName}),a.a.createElement("div",{className:N.shortName}),a.a.createElement("div",{className:N.badges},a.a.createElement("div",{className:N.badge}),a.a.createElement("div",{className:N.badge})),a.a.createElement("div",{className:N.avatar})))};var I=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less"),D={insert:"head",singleton:!1},B=(c()(I.a,D),I.a.locals||{});function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=Object(r.forTemplate)("card_cover_chooser"),R=({cardId:e,cover:t})=>{const{data:n}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[r]=Object(h.a)(),s=null==n?void 0:n.card,o={organization:{id:null==s?void 0:s.board.idOrganization},board:{id:null==s?void 0:s.board.id},card:{id:null==s?void 0:s.id}},l=Object(i.useCallback)((async n=>{const i=g.Analytics.startTask({taskName:"edit-card/cover",source:"cardCoverInlineDialog"});try{await r({variables:{traceId:i,cardId:e,cover:{size:n}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:F(F({__typename:"Card_Cover"},t),{},{size:n}),idAttachmentCover:null==t?void 0:t.idAttachment}}}),g.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverSize",source:"cardCoverInlineDialog",attributes:{value:n,taskId:i},containers:o}),g.Analytics.taskSucceeded({taskName:"edit-card/cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:"edit-card/cover",traceId:i,source:"cardCoverInlineDialog",error:e})}}),[e,o,t,r]),c=Object(i.useCallback)((()=>{g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"normal"},containers:o}),l("normal")}),[o,l]),d=Object(i.useCallback)((()=>{g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"full"},containers:o}),l("full")}),[o,l]),u=t&&t.scaled?Object(O.smallestPreviewBiggerThan)(t.scaled,86,64)||Object(O.biggestPreview)(t.scaled):null,p=t&&(t.idAttachment||(null==t?void 0:t.color)||(null==t?void 0:t.idUploadedBackground)||(null==t?void 0:t.idPlugin));return a.a.createElement("div",{className:B.selectSize},a.a.createElement("h4",{className:B.heading},M("size")),a.a.createElement("div",{className:B.sizeTiles},a.a.createElement(S,{onClick:c,coverSize:"normal",coverColor:null==t?void 0:t.color,coverImageUrl:null==u?void 0:u.url,selected:Boolean(p&&"normal"===(null==t?void 0:t.size)),disabled:!p}),a.a.createElement(S,{onClick:d,coverSize:"full",coverColor:null==t?void 0:t.color,coverImageUrl:null==u?void 0:u.url,selected:Boolean(p&&"full"===(null==t?void 0:t.size)),textColor:"dark"===(null==t?void 0:t.brightness)?"light":"dark",disabled:!p})))};var V=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less"),U={insert:"head",singleton:!1},z=(c()(V.a,U),V.a.locals||{});function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K=Object(r.forTemplate)("card_cover_chooser"),G=({cardId:e,cardName:t,cover:n})=>{const{data:r}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),[s]=Object(h.a)(),l=null==r?void 0:r.card,c={organization:{id:null==l?void 0:l.board.idOrganization},board:{id:null==l?void 0:l.board.id},card:{id:null==l?void 0:l.id}},d=Object(i.useCallback)((async t=>{const i=g.Analytics.startTask({taskName:"edit-card/cover",source:"cardCoverInlineDialog"});try{await s({variables:{traceId:i,cardId:e,cover:{brightness:t}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:W(W({__typename:"Card_Cover"},n),{},{brightness:t}),idAttachmentCover:null==n?void 0:n.idAttachment}}}),g.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverBrightness",source:"cardCoverInlineDialog",attributes:{value:t,taskId:i},containers:c}),g.Analytics.taskSucceeded({taskName:"edit-card/cover",traceId:i,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:"edit-card/cover",traceId:i,source:"cardCoverInlineDialog",error:e})}}),[e,c,n,s]),u=Object(i.useCallback)((()=>{d("dark"),g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"dark"},containers:c})}),[d,c]),p=Object(i.useCallback)((()=>{d("light"),g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"light"},containers:c})}),[d,c]);let b="dark";"dark"===(null==n?void 0:n.brightness)&&(b="light");const v=null==n?void 0:n.color,f=v?z[v]:null,_=n&&n.scaled?Object(O.smallestPreviewBiggerThan)(n.scaled,86,64)||Object(O.biggestPreview)(n.scaled):null,k=o()(z.textColorTile,f,{[z.colorCardCover]:f}),y={backgroundImage:null!=_&&_.url?"".concat("linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))",", url(").concat(_.url,")"):void 0},E={backgroundImage:null!=_&&_.url?"".concat("linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))",", url(").concat(_.url,")"):void 0};return a.a.createElement("div",{className:z.selectTextColor},a.a.createElement("h4",{className:z.heading},K("text-color")),a.a.createElement("div",{className:z.textColorTiles},a.a.createElement("div",{role:"button",onClick:u,className:o()(k,{[z.selected]:"light"===b}),style:y},a.a.createElement("h3",{className:o()(z.name,z.light)},t)),a.a.createElement("div",{role:"button",onClick:p,className:o()(k,{[z.selected]:"dark"===b}),style:E},a.a.createElement("h3",{className:z.name},t))))};var $=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less"),q={insert:"head",singleton:!1},X=(c()($.a,q),$.a.locals||{}),Q=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const te={context:{operationName:"UploadCover"}},ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"file"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"file"},value:{kind:"Variable",name:{kind:"Name",value:"file"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]};const ie=Object(r.forTemplate)("card_cover_chooser"),ae=({cardId:e,onFileSelected:t,onFileUploaded:n,onUploadFailed:r,hideHeading:s,className:l})=>{const{data:c}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),d=null==c?void 0:c.card,u={organization:{id:null==d?void 0:d.board.idOrganization},board:{id:null==d?void 0:d.board.id},card:{id:null==d?void 0:d.id}},[p,{loading:h,error:b}]=function(e){const t=Z(Z({},te),e);return Q.a(ne,t)}({onError:r,onCompleted:()=>{g.Analytics.sendTrackEvent({action:"uploaded",actionSubject:"cover",source:"cardCoverInlineDialog",containers:u}),n&&n()}}),[v,f]=Object(i.useState)(),_=Object(i.useRef)(null);return h?a.a.createElement(T.a,{centered:!0}):a.a.createElement("div",{className:l},!s&&a.a.createElement("h4",{className:X.heading},ie("upload")),a.a.createElement("input",{ref:_,className:X.fileInput,type:"file",accept:"image/*",onClick:()=>{f(void 0)},onChange:async n=>{const i=n.target,a=i.files&&i.files[0];if(a){f(a),t&&t();const n=g.Analytics.startTask({taskName:"create-attachment/card-cover",source:"cardCoverInlineDialog"});try{await p({variables:{traceId:n,cardId:e,file:a}}),g.Analytics.taskSucceeded({taskName:"create-attachment/card-cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:"create-attachment/card-cover",traceId:n,source:"cardCoverInlineDialog",error:e})}}}}),a.a.createElement("button",{className:o()("button",X.upload),onClick:()=>{_.current&&_.current.click(),g.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentUploadButton",source:"cardCoverInlineDialog",containers:u})}},ie("upload-a-cover-image")),b&&v?a.a.createElement("div",{className:X.error},ie("unable-to-use-file-as-card-cover",{fileName:v.name})):a.a.createElement("div",{className:X.tip},ie("tip-drag-an-image")))};var re=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less"),se={insert:"head",singleton:!1},oe=(c()(re.a,se),re.a.locals||{});function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=Object(r.forTemplate)("card_cover_chooser"),pe=({cardId:e})=>{var t;const{data:n}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"});if(null==n||!n.card)throw new Error("Failed to load card details from cache for SelectAttachmentCover.");const r=n.card,{attachments:s}=r,l=null===(t=r.cover)||void 0===t?void 0:t.idAttachment,[c,d]=Object(i.useState)(!1),[u,p]=Object(i.useState)(l),[b,v]=Object(i.useState)(!1),[f]=Object(h.a)();if(null==n||!n.card)throw new Error("Failed to load card details from cache for SelectAttachmentCover.");const _={organization:{id:null==r?void 0:r.board.idOrganization},board:{id:null==r?void 0:r.board.id},card:{id:null==r?void 0:r.id}},k=async t=>{const n=g.Analytics.startTask({taskName:"edit-card/idAttachmentCover",source:"cardCoverInlineDialog"});try{await f({variables:{traceId:n,cardId:e,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:ce(ce({__typename:"Card_Cover"},r.cover),{},t?{idAttachment:t.idAttachment,idUploadedBackground:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null==t?void 0:t.idAttachment}}}),t?g.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",value:t.idAttachment,taskId:n},containers:_}):g.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",taskId:n},containers:_}),g.Analytics.taskSucceeded({taskName:"edit-card/idAttachmentCover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:"edit-card/idAttachmentCover",traceId:n,source:"cardCoverInlineDialog",error:e})}},y=[];for(const e of s){const t=Object(O.smallestPreviewBiggerThan)(e.previews,256)||Object(O.biggestPreview)(e.previews);if(!t||!t.url)continue;const n={id:e.id,edgeColor:e.edgeColor||"transparent",thumbnailUrl:t.url,selected:l===e.id};u&&e.id===u?y.unshift(n):y.push(n)}const E=c?y:y.slice(0,6);return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:oe.heading},ue("attachments")),y.length>0&&a.a.createElement("div",{className:oe.attachmentTiles},E.map((({id:e,edgeColor:t,thumbnailUrl:n,selected:i},r)=>a.a.createElement("button",{key:e,className:o()("button",oe.attachmentTilesItem,{[oe.selected]:i}),style:{backgroundColor:t,backgroundImage:"url('".concat(n,"')"),backgroundSize:"contain"},onClick:()=>{i?k(null):(k({idAttachment:e}),v(r>5)),g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverAttachmentTile",source:"cardCoverInlineDialog",attributes:{value:e},containers:_})}})))),y.length>6&&!c&&a.a.createElement("button",{className:o()("button",oe.showMoreButton),onClick:()=>{g.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowMoreButton",source:"cardCoverInlineDialog",containers:_}),d(!0)}},ue("show-more")),c&&a.a.createElement("button",{className:o()("button",oe.showFewerButton),onClick:()=>{var e;(g.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowFewerButton",source:"cardCoverInlineDialog",containers:_}),d(!1),b)&&p(null===(e=r.cover)||void 0===e?void 0:e.idAttachment)}},ue("show-fewer")),a.a.createElement(ae,{cardId:e,className:o()(oe.uploadButton,{[oe.hasNoAttachments]:0===y.length,[oe.hasPaginatedTiles]:y.length>6}),hideHeading:!0}))};var me=n("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),he=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less"),ge={insert:"head",singleton:!1},be=(c()(he.a,ge),he.a.locals||{}),ve=n("./app/src/noop.ts");function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ye=Object(r.forTemplate)("card_cover_chooser"),Ee=({cardId:e,navigateToAddCover:t})=>{var n;const[r,s]=Object(i.useState)(null),{data:l}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),{data:c}=Object(j.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}),[d]=Object(h.a)();if(null==l||!l.card)throw new Error("Failed to load card details from cache for SelectUnsplashCover.");const u=l&&l.card,p=u?u.cover:null,b={organization:{id:null==u?void 0:u.board.idOrganization},board:{id:null==u?void 0:u.board.id},card:{id:null==u?void 0:u.id}},v=async t=>{const n=g.Analytics.startTask({taskName:"edit-card/cover",source:"cardCoverInlineDialog"});try{await d({variables:{traceId:n,cardId:e,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:e,cover:_e(_e({__typename:"Card_Cover"},u.cover),{},t?{idUploadedBackground:t.idUploadedBackground,idAttachment:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null}}}),t?g.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.idUploadedBackground,taskId:n},containers:b}):g.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",taskId:n},containers:b}),g.Analytics.taskSucceeded({taskName:"edit-card/cover",traceId:n,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:"edit-card/cover",traceId:n,source:"cardCoverInlineDialog",error:e})}},[f]=Object(i.useState)(p);Object(i.useEffect)((()=>{const e=null==p?void 0:p.idUploadedBackground,t=(null==p?void 0:p.color)||(null==p?void 0:p.idAttachment);e&&!t||s(null)}),[p,f]);let _=null,k=6;if(f&&f.idUploadedBackground&&f.scaled){const e=Object(O.smallestPreviewBiggerThan)(f.scaled,256)||Object(O.biggestPreview)(f.scaled);e&&e.url&&(_=a.a.createElement("button",{key:"firstUnsplashCoverNode",className:o()("button",be.unsplashTilesItem,{[be.selected]:p&&f.idUploadedBackground===p.idUploadedBackground}),style:{backgroundColor:(null==f?void 0:f.edgeColor)||"transparent",backgroundImage:"url('".concat(e.url,"')"),backgroundSize:"cover"},onClick:()=>{g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",containers:b}),p&&f.idUploadedBackground===p.idUploadedBackground?(v(null),s(null)):null!=f&&f.idUploadedBackground&&(v({idUploadedBackground:f.idUploadedBackground}),s(null))}}),k=5)}const y=[];if(null!=c&&null!==(n=c.unsplashPhotos)&&void 0!==n&&n.length){let t=0;for(const n of c.unsplashPhotos.slice(0,k)){const{urls:i,links:l,user:c,id:d}=n;y.unshift(a.a.createElement(me.a,{key:d,urls:i,links:l,user:c,index:t++,cardId:e,onSetCover:()=>{s(d)},onSetCoverFailed:ve.a,buttonClassName:o()(be.unsplashTilesItem,{[be.selected]:r===d}),onClick:e=>{r===d&&(e.preventDefault(),v(null)),g.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:i.raw},containers:b})}}))}}return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{className:be.heading},ye("unsplash")),a.a.createElement("div",{className:be.unsplashTiles},_,y),a.a.createElement("button",{className:o()("button",be.searchButton),onClick:()=>{g.Analytics.sendClickedButtonEvent({buttonName:"cardCoverUnsplashSearchButton",source:"cardCoverInlineDialog",containers:b}),t()}},ye("search-for-photos")))};var we=n("./packages/nachos/button.ts");function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const je={context:{operationName:"UpdateCardCoversPreference"}},Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCoversPreference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardCardCoversPref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"cardCovers"},value:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}}]}}]}}]};var xe=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less"),Ne={insert:"head",singleton:!1},Se=(c()(xe.a,Ne),xe.a.locals||{});const Ie=Object(r.forTemplate)("card_cover_chooser"),De=({idBoard:e,isAdmin:t})=>{const[n]=function(e){const t=Te(Te({},je),e);return Q.a(Ae,t)}();return t?a.a.createElement("div",null,a.a.createElement("p",{className:Se.isAdmin},Ie("card-covers-are-disbaled-on-this-board")),a.a.createElement(we.Button,{appearance:"primary",size:"fullwidth",onClick:()=>{n({variables:{boardId:e,cardCovers:!0},optimisticResponse:{__typename:"Mutation",updateBoardCardCoversPref:{__typename:"Board",id:e,prefs:{__typename:"Board_Prefs",cardCovers:!0}}}})},className:Se.enableButton},Ie("enable-card-covers"))):a.a.createElement("p",{className:Se.notAdmin},Ie("card-covers-are-disabled-on-this-board-admins-can-enable-card-covers"))};var Be=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Me={context:{operationName:"SelectPluginCover"}},Re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectPluginCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"plugins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"available"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"capabilities"}},{kind:"Field",name:{kind:"Name",value:"icon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"tags"}}]}},{kind:"Field",name:{kind:"Name",value:"boardPlugins"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idPlugin"}}]}}]}}]}}]};function Ve(e){const t=Fe(Fe({},Me),e);return Be.a(Re,t)}var Ue=n("./app/scripts/db/model-cache.js"),ze=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less"),He={insert:"head",singleton:!1},We=(c()(ze.a,He),ze.a.locals||{});const Ye=n("./app/scripts/views/internal/plugins/plugin-runner.js"),Ke=Object(r.forTemplate)("card_cover_chooser"),Ge=({cardId:e,boardId:t})=>{var n,r,s;const{data:l}=Object(m.a)({variables:{cardId:e},fetchPolicy:"cache-only"}),{data:c}=Ve({variables:{boardId:t},fetchPolicy:"cache-only"}),d=Object(i.useCallback)((async(t,n)=>{const i=Ue.ModelCache.get("Card",e),a=null==i?void 0:i.getBoard();await Ye.one({command:"card-cover",plugin:t,card:i,board:a,list:null==i?void 0:i.getList(),timeout:5e3,el:n})}),[e]),u=null==l?void 0:l.card,p=null==c?void 0:c.board,h=null!==(n=null==p?void 0:p.plugins)&&void 0!==n?n:[],g=(null!==(r=null==p?void 0:p.boardPlugins)&&void 0!==r?r:[]).map((e=>e.idPlugin)),b=h.filter((e=>g.includes(e.id)&&e.capabilities.includes("card-cover")&&e.tags.includes("plugin-cover-beta"))),v=null==u||null===(s=u.cover)||void 0===s?void 0:s.idPlugin,f=b.map((e=>{var t;return{id:e.id,title:null!==(t=e.name)&&void 0!==t?t:"",iconUrl:e.icon.url,selected:e.id===v}}));return 0===f.length?null:a.a.createElement("div",null,a.a.createElement("h4",{className:We.heading},Ke("power-ups")),a.a.createElement("div",{className:We.pluginCoverTiles},f.map((e=>a.a.createElement("button",{key:e.id,className:o()("button",We.pluginCoverTilesItem,{[We.selected]:e.id===v}),style:{backgroundImage:"url('".concat(e.iconUrl,"')"),backgroundSize:"contain"},onClick:t=>d(e.id,t.target)})))))},$e=Object(r.forTemplate)("card_cover_chooser");var qe;!function(e){e.Attachment="attachment",e.Unsplash="unsplash"}(qe||(qe={}));const Xe=(e=[],t)=>{const n=[];for(const i of e){const e=Object(O.smallestPreviewBiggerThan)(i.previews,256)||Object(O.biggestPreview)(i.previews);e&&e.url&&n.unshift({id:i.id,type:qe.Attachment,edgeColor:i.edgeColor||"transparent",thumbnailUrl:e.url,selected:t===i.id})}return n},Qe=({navigateToAddCover:e,cardId:t,boardId:n})=>{var r,s;const{data:l,error:c,loading:d}=Object(m.a)({variables:{cardId:t},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{error:u,loading:b}=Ve({variables:{boardId:n},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[v]=Object(h.a)(),[f,_]=Object(i.useState)(),[k,y]=Object(i.useState)(!1),{loading:E}=Object(j.a)({variables:{query:"",perPage:9,page:1}}),w=d||E||b,A=null==l?void 0:l.card,x=null==A?void 0:A.board,N=null==l?void 0:l.member,S=Boolean(null===(r=null==x||null===(s=x.prefs)||void 0===s?void 0:s.cardCovers)||void 0===r||r),I={organization:{id:null==A?void 0:A.board.idOrganization},board:{id:null==A?void 0:A.board.id},card:{id:null==A?void 0:A.id}};Object(i.useEffect)((()=>{A&&!k&&(g.Analytics.sendScreenEvent({name:"cardCoverInlineDialog",containers:I}),y(!0))}),[A,I,k]);const D=A&&A.idAttachmentCover?A.idAttachmentCover:null,B=A?A.cover:null,P=A&&A.attachments?Xe(A.attachments,D):[];if(Object(i.useEffect)((()=>{B&&B.idUploadedBackground&&_(B)}),[B]),!S&&N&&x){const e=()=>{var e,t,n;return!(!x.idOrganization||!N)&&(null!==(e=null===(t=N.organizations)||void 0===t||null===(n=t.find((e=>e.id===x.idOrganization)))||void 0===n?void 0:n.memberships.some((e=>e.idMember===N.id&&"admin"===e.memberType)))&&void 0!==e&&e)},t=()=>{var e,t,n,i;return!(!x.idEnterprise||!N.enterprises)&&(null!==(e=null===(t=N.enterprises)||void 0===t||null===(n=t.find((e=>e.id===x.idEnterprise)))||void 0===n||null===(i=n.idAdmins)||void 0===i?void 0:i.some((e=>e===N.id)))&&void 0!==e&&e)},n=(()=>{var e,t;return null!==(e=null===(t=x.memberships)||void 0===t?void 0:t.some((e=>e.idMember===N.id&&"admin"===e.memberType)))&&void 0!==e&&e})()||e()||t();return a.a.createElement(De,{idBoard:x.id,isAdmin:n})}const F=Boolean(B&&B.idUploadedBackground&&B.scaled),L=F?B:f;if(L&&L.idUploadedBackground&&L.scaled){const e=Object(O.smallestPreviewBiggerThan)(L.scaled,256)||Object(O.biggestPreview)(L.scaled);e&&e.url&&P.unshift({id:L.idUploadedBackground,edgeColor:L.edgeColor||"transparent",thumbnailUrl:e.url,selected:F,type:qe.Unsplash})}const M=P.some((e=>e.selected))||Boolean(null==B?void 0:B.color)||Boolean(null==B?void 0:B.idPlugin),V=!w&&!c&&"full"===(null==B?void 0:B.size)&&((null==B?void 0:B.idAttachment)||(null==B?void 0:B.idUploadedBackground)||(null==B?void 0:B.idPlugin));return w?a.a.createElement("div",null,a.a.createElement(T.a,{centered:!0})):c||u?a.a.createElement("div",null,$e("something-went-wrong")):a.a.createElement("div",null,a.a.createElement(R,{cardId:t,cover:B}),M&&a.a.createElement("button",{className:o()("button",p.remove,p.colorAndFullVersion),onClick:()=>{(async e=>{let n;const i=null==A?void 0:A.cover;i&&(i.color?n="color":i.idUploadedBackground?n="unsplash":i.idAttachment?n="attachment":i.idPlugin&&(n="plugin"));const a="attachment"===n?"edit-card/idAttachmentCover":"edit-card/cover",r=g.Analytics.startTask({taskName:a,source:"cardCoverInlineDialog"});try{await v({variables:{traceId:r,cardId:t,cover:e}}),e?g.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:e.idAttachment?"attachment":"unsplash",value:e.idAttachment||e.idUploadedBackground,taskId:r},containers:I}):g.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:n,taskId:r},containers:I}),g.Analytics.taskSucceeded({taskName:a,traceId:r,source:"cardCoverInlineDialog"})}catch(e){throw g.Analytics.taskFailed({taskName:a,traceId:r,source:"cardCoverInlineDialog",error:e})}})(null),g.Analytics.sendClickedButtonEvent({buttonName:"removeCardCoverButton",source:"cardCoverInlineDialog",containers:I})}},$e("remove-cover")),V&&a.a.createElement(G,{cardId:t,cardName:null==A?void 0:A.name,cover:B}),!(null!=B&&B.idPlugin)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{cardId:t}),a.a.createElement(pe,{cardId:t}),a.a.createElement(Ee,{cardId:t,navigateToAddCover:e}),a.a.createElement(Ge,{cardId:t,boardId:n})))}},"./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={context:{operationName:"SelectCover"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}},{kind:"Field",name:{kind:"Name",value:"idPlugin"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAdmins"}}]}},{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};function c(e){const t=r(r({},o),e);return i.a(l,t)}},"./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={context:{operationName:"UpdateCardCover"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cover"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputCover"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"cover"},value:{kind:"Variable",name:{kind:"Name",value:"cover"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}}]}}]}}]};function c(e){const t=r(r({},o),e);return i.a(l,t)}},"./app/src/components/CardFronts/BoardCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardCard",(function(){return B}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/colors/index.ts"),s=n("./node_modules/underscore/underscore.js"),o=n("./node_modules/classnames/index.js"),l=n.n(o),c=n("./packages/trello-canonical-components/index.ts"),d=n("./app/scripts/lib/util/url/parse-trello-url.js"),u=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g={context:{operationName:"GetBoard"}},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pos"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idList"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"}},{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]};var v=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),f=n.n(v),_=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/BoardCard.less"),k={insert:"head",singleton:!1},y=(f()(_.a,k),_.a.locals||{}),E=n("./app/src/components/RouterLink/RouterLink.tsx"),w=n("./app/scripts/lib/util/decaying-interval.js"),C=n("./app/src/components/CardFronts/EditCardButton.tsx"),T=n("./packages/atlassian-analytics/index.ts"),O=n("./packages/i18n/index.ts");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const{ErrorMessage:A,BoardName:x,PlaceholderBoardTile:N,ProportionalBoardLists:S,Board:I}=c.CanonicalBoard,D=Object(O.forTemplate)("board_card"),B=({boardUrl:e,openEditor:t,isEditable:n,analyticsContainers:o,inSearchResults:c,className:p,isClosed:h})=>{var v;const f=Object(d.parseTrelloUrl)(e||"").shortLink,{data:_,loading:k,refetch:O}=function(e){const t=m(m({},g),e);return u.a(b,t)}({variables:{boardId:f||""}}),B=Object(i.useCallback)((()=>{navigator.onLine&&O()}),[O]),{showEditCardButton:P,hideEditCardButton:F,shouldShowEditCardButton:L}=Object(C.b)();Object(i.useEffect)((()=>{if(!k&&null!=_&&_.board&&T.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"boardCard",source:"cardView",containers:o,attributes:{linkBoardId:_.board.id}}),f!==Object(d.parseTrelloUrl)(window.location.href).shortLink)return Object(w.startDecayingInterval)(B)}),[o,f,null==_?void 0:_.board,null==_||null===(v=_.board)||void 0===v?void 0:v.id,k,B]);const M=Object(i.useCallback)((()=>{!k&&null!=_&&_.board&&T.Analytics.sendClickedLinkEvent({linkName:"boardCard",source:"cardView",containers:o,attributes:{linkBoardId:_.board.id}})}),[o,null==_?void 0:_.board,k]);if(null!==(null==_?void 0:_.board)&&void 0!==(null==_?void 0:_.board)){const i=_.board||{},o=i.cards.reduce(((e,t)=>(e[t.idList]?e[t.idList]+=1:e[t.idList]=1,e)),{}),d=i.lists.map((e=>({id:e.id,size:o[e.id]||0})))||[];return a.a.createElement("div",{className:p,onFocus:P,onBlur:F,onMouseOver:P,onMouseOut:F},a.a.createElement(I,j({className:l()("board-background",c?y.searchCard:y.boardCard)},(e=>{let t=void 0,n=null,i=null;var a,o;if(null!=e&&(e.prefs&&e.prefs.backgroundColor&&(t=e.prefs.backgroundColor),e.prefs&&e.prefs.backgroundImage&&(i=e.prefs.backgroundImage,n=null!==(a=e.prefs)&&void 0!==a&&a.backgroundTopColor?null===(o=e.prefs)||void 0===o?void 0:o.backgroundTopColor:"dark"===e.prefs.backgroundBrightness?"#333":r.N30,e.prefs.backgroundImageScaled))){const t=Object(s.sortBy)(e.prefs.backgroundImageScaled,"width").filter((e=>e.width>248&&e.height>158));t.length>0&&(i=t[0].url)}return{bgColor:t,bgImage:i,headerBgColor:n}})(i),{numLists:5}),a.a.createElement(C.a,{onClick:t,shouldShow:n&&L}),a.a.createElement(x,null,i.name),a.a.createElement(S,{lists:d,numLists:5}),!h&&a.a.createElement(E.b,{href:e,className:y.boardLink,title:i.name,onClick:M})))}return k?a.a.createElement(N,{className:l()("board-background",c?y.searchCard:y.boardCard),numLists:5}):a.a.createElement("div",{className:p,onFocus:P,onBlur:F,onMouseOver:P,onMouseOut:F},a.a.createElement(I,{className:l()("board-background",c?y.searchCard:y.boardCard),bgColor:"rgb(213 217 223)",hasError:!0,numLists:5},a.a.createElement(C.a,{onClick:t,shouldShow:n&&L}),a.a.createElement(A,null,D("unable-to-load-board")),a.a.createElement(S,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:5})))}},"./app/src/components/CardFronts/EditCardButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/icons/edit.tsx"),s=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=n.n(s),l=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less"),c={insert:"head",singleton:!1},d=(o()(l.a,c),l.a.locals||{}),u=n("./node_modules/classnames/index.js"),p=n.n(u);const m=({onClick:e,shouldShow:t})=>a.a.createElement("button",{className:p()(d.editCardButton,t&&d.show),onClick:e},a.a.createElement(r.a,{color:"dark",size:"small"})),h=()=>{const[e,t]=Object(i.useState)(!1);return{showEditCardButton:()=>t(!0),hideEditCardButton:()=>t(!1),shouldShowEditCardButton:e}}},"./app/src/components/CardFronts/LinkCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LinkCard",(function(){return A}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/classnames/index.js"),o=n.n(s),l=n("./node_modules/@atlaskit/smart-card/dist/esm/index.js"),c=n("./packages/shared-state/index.ts"),d=n("./packages/atlassian-analytics/index.ts"),u=n("./packages/feature-flag-client/index.ts"),p=n("./node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/index.js"),m=n("./node_modules/@atlaskit/analytics-listeners/dist/esm/index.js"),h=n("./app/src/components/ErrorBoundary/index.ts"),g=n("./app/scripts/network/object-resolver-client/index.ts"),b=n("./app/scripts/network/smart-card-client/index.ts"),v=n("./app/src/components/SmartMedia/index.ts"),f=n("./app/scripts/debug/constants.ts"),_=n("./app/src/components/CardFronts/EditCardButton.tsx"),k=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),y=n.n(k),E=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less"),w={insert:"head",singleton:!1},C=(y()(E.a,w),E.a.locals||{});function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=["jira-object-provider","bitbucket-object-provider"],A=({url:e,openEditor:t,hideCover:n,locale:s="en",isEditable:k,hideActions:y,analyticsContainers:E})=>{const{showEditCardButton:w,hideEditCardButton:A,shouldShowEditCardButton:x}=Object(_.b)(),[N,S]=Object(i.useState)(!1),[I]=Object(c.c)(b.a.authorizedProviders),[D,B]=Object(i.useState)(g.objectResolverClient.isCached(e)),[P,F]=Object(i.useState)(),L=Object(v.f)(P,{source:"cardView",containers:E,attributes:{component:"linkCard"}}),M=Object(v.e)(P),R=u.featureFlagClient.get("growth.trello-link-card-to-smart-link",!1),[V,U]=Object(i.useState)(Date.now()),[z,H]=Object(i.useState)(!1);Object(i.useEffect)((()=>{var e;if(R)return;const t=null==P||null===(e=P.meta)||void 0===e?void 0:e.definitionId;z&&t&&I.has(t)&&(U(Date.now()),H(!1))}),[z,P,I,R]),Object(i.useEffect)((()=>{if(R)return;B(!1),(async()=>{const t=await g.objectResolverClient.resolveUrl(e,{sourceComponent:"link-card"});t?(F(t),B("not_found"!==t.meta.visibility),H("unauthorized"===t.meta.access),S(t.meta.key&&j.includes(t.meta.key)||j.includes(t.meta.definitionId))):B(!1)})()}),[e,F,R]);const W=Object(i.useCallback)((e=>{F(e),B("not_found"!==e.meta.visibility),S(e.meta.key&&j.includes(e.meta.key)||j.includes(e.meta.definitionId))}),[]),Y=Object(i.useCallback)((()=>{F(void 0),B(!1)}),[]),K=Object(i.useCallback)((()=>{d.Analytics.sendClickedLinkEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({linkName:"linkCard"},L))}),[L]),G=()=>a.a.createElement("a",{className:C.link,href:e,target:"_blank",onClick:K},e);return a.a.createElement("div",{className:o()({[C.smartLinkCard]:D,[C.linkCard]:!D,[C.hideCover]:n,[C.hasBadge]:N}),onFocus:w,onBlur:A,onMouseOver:w,onMouseOut:A},a.a.createElement(_.a,{onClick:t,shouldShow:k&&x}),a.a.createElement(h.ErrorBoundary,{tags:{ownershipArea:"trello-ecosystem",feature:f.Feature.LinkCard},sendCrashEvent:!1,errorHandlerComponent:G},R?a.a.createElement("a",{className:C.link,href:e,target:"_blank",onClick:e=>{e.stopPropagation(),K()}},a.a.createElement(v.a,{akSmartCardProps:{appearance:"block",inheritDimensions:!0,showActions:!y},onLinkResolved:W,onLinkUnresolved:Y,shouldRender:D,onSmartCardClick:K,analyticsContextData:L,akSmartCardProviderKey:M,plainLink:G,url:e})):D?a.a.createElement(m.b,{client:d.Analytics.dangerouslyGetAnalyticsWebClient()},a.a.createElement(p.a,{data:L},a.a.createElement(l.d,{client:b.a,key:V},a.a.createElement(r.c,{locale:s},a.a.createElement("a",{className:C.link,href:e,target:"_blank",onClick:e=>{e.stopPropagation(),K()}},a.a.createElement(l.b,{onClick:t=>{t.preventDefault(),t.stopPropagation(),window.open(e,"_blank"),K()},appearance:"block",url:e,inheritDimensions:!0,showActions:!y})))))):G()))}},"./app/src/components/CardFronts/MirrorCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"MirrorCard",(function(){return ye}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/colors/index.ts"),s=n("./node_modules/underscore/underscore.js"),o=n("./node_modules/classnames/index.js"),l=n.n(o),c=n("./packages/trello-canonical-components/index.ts"),d=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),u=n("./packages/trello-canonical-components/src/card-front/Card.tsx"),p=n("./app/scripts/lib/util/url/parse-trello-url.js"),m=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={context:{operationName:"GetCard"}},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"board"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"}},{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}}]}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"bgColor"},name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"brightness"}},{kind:"Field",name:{kind:"Name",value:"sharedSourceUrl"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"customFields"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"idModel"}},{kind:"Field",name:{kind:"Name",value:"fieldGroup"}},{kind:"Field",name:{kind:"Name",value:"pos"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"options"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idCustomField"}},{kind:"Field",name:{kind:"Name",value:"value"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"pos"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"customFieldItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idCustomField"}},{kind:"Field",name:{kind:"Name",value:"idModel"}},{kind:"Field",name:{kind:"Name",value:"modelType"}},{kind:"Field",name:{kind:"Name",value:"idValue"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"checklists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"due"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"checkItemsChecked"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"subscribed"}},{kind:"Field",name:{kind:"Name",value:"dueComplete"}},{kind:"Field",name:{kind:"Name",value:"due"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"votes"}},{kind:"Field",name:{kind:"Name",value:"viewingMemberVoted"}},{kind:"Field",name:{kind:"Name",value:"comments"}},{kind:"Field",name:{kind:"Name",value:"start"}}]}},{kind:"Field",name:{kind:"Name",value:"board"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"}},{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",alias:{kind:"Name",value:"img"},name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"rotate"}}]}}]}}]}}]};var _=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),k=n.n(_),y=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/MirrorCard.less"),E={insert:"head",singleton:!1},w=(k()(y.a,E),y.a.locals||{}),C=n("./app/scripts/lib/util/decaying-interval.js"),T=n("./app/src/components/CardFronts/EditCardButton.tsx"),O=n("./packages/atlassian-analytics/index.ts"),j=n("./app/scripts/lib/dates.js"),A=n("./packages/i18n/index.ts"),x=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/Badges.less"),N={insert:"head",singleton:!1},S=(k()(x.a,N),x.a.locals||{});const I=Object(A.forTemplate)("badge"),{CardBadges:D,AttachmentsBadge:B,CardTemplateBadge:P,ChecklistBadge:F,CommentsBadge:L,DescriptionBadge:M,DueDateBadge:R,ArchivedBadge:V,VotesBadge:U,TrelloAttachmentsBadge:z}=c.CanonicalCard,H=864e5,W=({comments:e,due:t,dueComplete:n,description:r,attachments:s,isTemplate:o,isClosed:l,votes:c,viewingMemberVoted:d,checklists:u,start:p,attachmentsByType:m})=>{var h,g;const b=((null==m||null===(h=m.trello)||void 0===h?void 0:h.board)||0)+((null==m||null===(g=m.trello)||void 0===g?void 0:g.card)||0);let v=s||0;v>0&&v>=b&&(v-=b);const{checkItems:f,checkItemsChecked:_,checkItemsEarliestDue:k}=Object(i.useMemo)((()=>{let e=0,t=0,n=null;if(u)for(let i=0;i<u.length;i++){const a=u[i];if(a){const i=a.checkItems;if(i)for(let a=0;a<i.length;a++){const r=i[a].due;e++,"complete"===i[a].state?t++:r&&(n?n&&r&&new Date(r)<n&&(n=new Date(r)):n=new Date(r))}}}return{checkItems:e,checkItemsChecked:t,checkItemsEarliestDue:n}}),[u]),y=Object(i.useMemo)((()=>{let e;if(t){const i=Date.now(),a=new Date(t).getTime();e=I(["due","later"]);const r=a-i;n?e=I(["due","complete"]):r>0&&r<=36e5?e=I(["due","less-than-hour"]):r>0&&r<=H?e=I(["due","less-than-day"]):r<0&&r+H>=0?e=I(["due","recently-overdue"]):r<0&&(e=I(["due","overdue"]))}return e}),[t,n]);return a.a.createElement(D,{className:S.badges},o&&a.a.createElement(P,{title:I("template")},I("card template badge label")),!!c&&a.a.createElement(U,{voted:d||!1,title:I("votes"),numVotes:c}),!o&&t&&a.a.createElement(R,{title:y,isComplete:n||!1,dueDate:new Date(t)},p?"".concat(j.Dates.toDateString(p)," - ").concat(j.Dates.toDateString(t)):j.Dates.toDateString(t)),!!r&&a.a.createElement(M,{title:I("description")}),!!e&&a.a.createElement(L,{title:I("comments"),numComments:e}),!!v&&a.a.createElement(B,{title:I("attachments"),numAttachments:v}),!!b&&a.a.createElement(z,{title:I("trelloattachments"),numAttachments:b}),!!f&&a.a.createElement(F,{checkItemsEarliestDue:k,title:I("checkitems"),numItems:f,numComplete:_||0}),l&&a.a.createElement(V,{title:I("archivedtitle")},I("archivedtext")))};var Y=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/CardNotFound.less"),K={insert:"head",singleton:!1},G=(k()(Y.a,K),Y.a.locals||{});const{Board:$}=c.CanonicalBoard,{Card:q,CardTitle:X,CardCover:Q}=c.CanonicalCard,J=Object(A.forTemplate)("mirror_card"),Z=({openEditor:e,isEditable:t,shouldShowEditCardButton:i})=>a.a.createElement($,{className:l()("board-background",G.cardNotFound),bgColor:r.N40},a.a.createElement(q,{className:G.cardNotFoundInner},a.a.createElement(T.a,{onClick:e,shouldShow:t&&i}),a.a.createElement(Q,{height:40,img:n("./resources/images/canonical-card/confused-taco.svg"),bgSize:"contain",bgColor:r.N30}),a.a.createElement(X,null,J("unable-to-load-mirror-card"))));var ee=n("./app/src/components/RouterLink/RouterLink.tsx"),te=n("./app/src/components/CardBacks/sortLabels.ts"),ne=n("./app/src/components/CardBacks/MemberSection.tsx"),ie=n("./app/scripts/view-models/label-state.js");function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{BoardName:le,Board:ce}=c.CanonicalBoard,{PlaceholderCard:de}=c.CanonicalBoardCard,{Card:ue,CardLabel:pe,CardLabels:me,CardTitle:he,CardStickers:ge,Sticker:be,CardCover:ve,CardMembers:fe,CardDetails:_e}=c.CanonicalCard,ke={green:r.Green400,yellow:r.Yellow400,orange:r.Orange400,red:r.Red400,purple:r.Purple400,blue:r.TrelloBlue400,sky:r.Sky400,lime:r.Lime400,pink:r.Pink400,black:r.Black,gray:null,none:null},ye=({cardUrl:e,openEditor:t,isEditable:n,analyticsContainers:o,className:c,mirrorCardUrl:h,isClosed:b})=>{var _,k,y,E,j,A,x,N,S;const I=Object(p.parseTrelloUrl)(e).shortLink,{data:D,loading:B,refetch:P}=function(e){const t=g(g({},v),e);return m.a(f,t)}({variables:{cardId:I||""}}),F=Object(i.useCallback)((()=>{navigator.onLine&&P()}),[P]),{showEditCardButton:L,hideEditCardButton:M,shouldShowEditCardButton:R}=Object(T.b)();Object(i.useEffect)((()=>{if(!B&&null!=D&&D.card&&O.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"mirrorCard",source:"cardView",containers:o,attributes:{linkBoardId:D.card.id}}),I!==Object(p.parseTrelloUrl)(window.location.href).shortLink)return Object(C.startDecayingInterval)(F)}),[o,I,null==D?void 0:D.card,null==D||null===(_=D.card)||void 0===_?void 0:_.id,B,F]);const V=Object(i.useMemo)((()=>{var e,t,n;return null!=D&&null!==(e=D.card)&&void 0!==e&&e.labels&&null!=D&&null!==(t=D.card)&&void 0!==t&&t.labels.length?Object(te.a)(null==D||null===(n=D.card)||void 0===n?void 0:n.labels):[]}),[null==D||null===(k=D.card)||void 0===k?void 0:k.labels]),U=Object(i.useMemo)((()=>{var e,t;return null!=D&&null!==(e=D.card)&&void 0!==e&&e.members?[...null==D||null===(t=D.card)||void 0===t?void 0:t.members].sort(((e,t)=>{var n,i;const a=((null===(n=e.nonPublic)||void 0===n?void 0:n.fullName)||e.fullName||"").toLocaleLowerCase(),r=((null===(i=t.nonPublic)||void 0===i?void 0:i.fullName)||t.fullName||"").toLocaleLowerCase();return a>r?-1:r>a?1:0})):[]}),[null==D||null===(y=D.card)||void 0===y?void 0:y.members]),z=Object(i.useMemo)((()=>{var e,t;return!(null==D||null===(e=D.card)||void 0===e||null===(t=e.stickers)||void 0===t||!t.length)}),[null==D||null===(E=D.card)||void 0===E||null===(j=E.stickers)||void 0===j?void 0:j.length]),H=Object(i.useMemo)((()=>{var e,t,n,i,a,r,s,o;return z&&"full"===(null==D||null===(e=D.card)||void 0===e||null===(t=e.cover)||void 0===t?void 0:t.size)?120:z&&null!=D&&null!==(n=D.card)&&void 0!==n&&null!==(i=n.cover)&&void 0!==i&&i.bgColor?64:"full"===(null==D||null===(a=D.card)||void 0===a||null===(r=a.cover)||void 0===r?void 0:r.size)||z?56:null!=D&&null!==(s=D.card)&&void 0!==s&&null!==(o=s.cover)&&void 0!==o&&o.bgColor?32:void 0}),[null==D||null===(A=D.card)||void 0===A||null===(x=A.cover)||void 0===x?void 0:x.bgColor,null==D||null===(N=D.card)||void 0===N||null===(S=N.cover)||void 0===S?void 0:S.size,z]);if(null!==(null==D?void 0:D.card)&&void 0!==(null==D?void 0:D.card)){var Y,K,G,$,q,X,Q,J,re,oe,ye,Ee;const e=D.card||{},i=D.card.board||{},o=null===(Y=D.member)||void 0===Y||null===(K=Y.prefs)||void 0===K?void 0:K.colorBlind;return a.a.createElement("div",{className:c,onFocus:L,onBlur:M,onMouseOver:L,onMouseOut:M},a.a.createElement(ce,ae({className:l()("board-background",w.mirrorCardBoard),gradientLocation:"bottom"},(e=>{let t=void 0,n=null,i=null;var a,o;if(null!=e&&(e.prefs&&e.prefs.backgroundColor&&(t=e.prefs.backgroundColor),e.prefs&&e.prefs.backgroundImage&&(i=e.prefs.backgroundImage,n=null!==(a=e.prefs)&&void 0!==a&&a.backgroundTopColor?null===(o=e.prefs)||void 0===o?void 0:o.backgroundTopColor:"dark"===e.prefs.backgroundBrightness?"#333":r.N30,e.prefs.backgroundImageScaled))){const t=Object(s.sortBy)(e.prefs.backgroundImageScaled,"width").filter((e=>e.width>248&&e.height>158));t.length>0&&(i=t[0].url)}return{bgColor:t,bgImage:i,headerBgColor:n}})(i)),a.a.createElement(ue,{colorBlind:o,className:"full"===(null===(G=e.cover)||void 0===G?void 0:G.size)?w.mirrorCardFull:w.mirrorCard,cover:se(se({},e.cover),{},{previews:null===($=e.cover)||void 0===$?void 0:$.scaled})||{}},a.a.createElement(ve,ae({},e.cover,{height:H,sharedSourceUrl:null===(q=e.cover)||void 0===q?void 0:q.sharedSourceUrl,size:(null===(X=e.cover)||void 0===X?void 0:X.size)||void 0,bgColor:ke[(null===(Q=e.cover)||void 0===Q?void 0:Q.bgColor)||"none"],previews:(null===(J=e.cover)||void 0===J?void 0:J.scaled)||void 0,colorBlind:o,pattern:o&&null!==(re=e.cover)&&void 0!==re&&re.bgColor?u.j[null===(oe=e.cover)||void 0===oe?void 0:oe.bgColor]:void 0}),!(null===(ye=e.stickers)||void 0===ye||!ye.length)&&a.a.createElement(ge,{className:null!==(Ee=e.cover)&&void 0!==Ee&&Ee.scaled?w.stickersWithImage:void 0},e.stickers.map((e=>a.a.createElement(be,ae({key:e.id},e)))))),a.a.createElement(_e,{className:w.CardDetails},!!V.length&&a.a.createElement(me,{className:w.cardLabels},V.map((e=>a.a.createElement(pe,{title:e.name,key:e.id,color:e.color,pattern:o&&e.color?d.labelColorToColorBlindPattern[e.color]:null},ie.LabelState.getShowText()?e.name||a.a.createElement(a.a.Fragment,null," "):void 0)))),a.a.createElement(he,null,a.a.createElement("span",null,e.name)),a.a.createElement(W,ae({checklists:null==e?void 0:e.checklists,isClosed:e.closed,isTemplate:e.isTemplate},null==e?void 0:e.badges)),!!U.length&&a.a.createElement(fe,{className:w.mirrorCardMemberSection},U.map((e=>a.a.createElement(ne.a,{key:e.id,member:e,size:28})))))),a.a.createElement(T.a,{onClick:t,shouldShow:n&&R}),a.a.createElement(le,{className:w.boardTitle},i.name)),!b&&h&&a.a.createElement(ee.b,{href:"/c/".concat(Object(p.parseTrelloUrl)(h).shortLink),className:w.clickSurface,title:"/c/".concat(Object(p.parseTrelloUrl)(h).shortLink)}))}return B?a.a.createElement(de,{className:w.mirrorCardLoading}):a.a.createElement("div",{className:c,onFocus:L,onBlur:M,onMouseOver:L,onMouseOut:M},a.a.createElement(Z,{isEditable:n,shouldShowEditCardButton:R,openEditor:t}))}},"./app/src/components/CardFronts/SeparatorCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"SeparatorCard",(function(){return p}));var i=n("./packages/atlassian-analytics/index.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),s=n("./app/src/components/CardFronts/EditCardButton.tsx"),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/SeparatorCard.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{});const p=({openEditor:e,isEditable:t,analyticsContainers:n})=>{const{showEditCardButton:o,hideEditCardButton:l,shouldShowEditCardButton:c}=Object(s.b)();return Object(a.useEffect)((()=>{i.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"separatorCard",source:"cardView",containers:n})}),[n]),r.a.createElement("div",{onFocus:o,onBlur:l,onMouseOver:o,onMouseOut:l},r.a.createElement("span",{className:u.separatorCardFront}),r.a.createElement(s.a,{onClick:e,shouldShow:t&&c}))}},"./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1031}};n.loc.source={body:"query CardTemplates($boardId: ID!) {\n  board(id: $boardId) @client {\n    id\n    members {\n      id\n      avatarUrl\n      initials\n    }\n    cards(filter: template) {\n      id\n      idBoard\n      shortLink\n      name\n      isTemplate\n      closed\n      idList\n      idChecklists\n      attachments {\n        id\n      }\n      stickers {\n        id\n        top\n        left\n        rotate\n        zIndex\n        image\n        imageUrl\n        imageScaled {\n          id\n          width\n          height\n          url\n          scaled\n        }\n      }\n      idLabels\n      labels {\n        id\n        name\n        color\n        idBoard\n      }\n      idMembers\n      cover {\n        scaled {\n          url\n          width\n          height\n          scaled\n        }\n        edgeColor\n        color\n        size\n        brightness\n      }\n      badges {\n        attachments\n        checkItems\n        description\n        attachmentsByType {\n          trello {\n            board\n            card\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.CardTemplates=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CardTemplates")},"./app/src/components/CardTemplatesPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CardTemplatesPopover",(function(){return ye})),n.d(t,"CreateCardFromTemplatePopover",(function(){return He})),n.d(t,"CardTemplatesButton",(function(){return ot}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={context:{operationName:"CardTemplates"}},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]}}]};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={context:{operationName:"CardTemplateMember"}},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplateMember"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"}}]}}]}}]}}]};function b(e){const t=p(p({},h),e);return r.a(g,t)}var v=n("./packages/nachos/spinner.ts"),f=n("./packages/nachos/button.ts"),_=n("./packages/nachos/tooltip.ts"),k=n("./app/gamma/src/components/canonical-components/index.tsx"),y=n("./packages/trello-canonical-components/src/card-front/Card.tsx");function E(e){const t=e.cover;return t?t.color?{url:"",color:t.color,size:t.size,brightness:t.brightness}:t.scaled&&t.edgeColor?{url:"",edgeColor:t.edgeColor,previews:t.scaled.map((e=>{const{scaled:t,height:n,url:i,width:a}=e;return{scaled:t,height:n,url:i,width:a}})),size:t.size,brightness:t.brightness}:null:null}function w(e){const{attachments:t,attachmentsByType:n,description:i,checkItems:a}=e.badges;return{attachments:t,description:i,attachmentsByType:{trello:{board:n.trello.board,card:n.trello.card}},checklistItems:a,checklistItemsChecked:0,comments:0,due:null,start:null,subscribed:!1,viewingMemberVoted:!1,votes:0,dueComplete:!1,checkItemsEarliestDue:null}}function C(e){const{labels:t}=e;return t.map((e=>{const{id:t,name:n,color:i,idBoard:a}=e;return{id:t,name:n,idBoard:a,color:i||null}}))}function T(e,t){const{idMembers:n}=e,i=[];return n.forEach((e=>{const n=t.find((t=>t.id===e));n&&i.push({avatars:n.avatarUrl?{30:"".concat(n.avatarUrl,"/30.png")}:null,initials:n.initials||"",id:n.id,enterprises:[],idPremOrgsAdmin:[]})})),i}function O(e){return e.stickers.map((e=>{const{imageScaled:t}=e,n=t.find((e=>e.url.includes("@2x")));return{id:e.id,image:e.image,imageUrl:e.imageUrl,left:e.left,top:e.top,rotate:e.rotate,zIndex:e.zIndex,imageUrl2x:n?n.url:null}}))}function j(e,t){return{cover:E(e),badges:w(e),labels:C(e),members:T(e,t),stickers:O(e)}}var A=n("./packages/i18n/index.ts"),x=n("./app/src/components/RouterLink/RouterLink.tsx"),N=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B={context:{operationName:"CreateCardTemplate"}},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"closed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCardTemplate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"listId"},value:{kind:"Variable",name:{kind:"Name",value:"listId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"closed"},value:{kind:"Variable",name:{kind:"Name",value:"closed"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]};var F=n("./packages/analytics/index.ts"),L=n("./packages/atlassian-analytics/index.ts"),M=n("./packages/nachos/icons/add.tsx"),R=n("./packages/nachos/icons/close.tsx"),V=n("./packages/keybindings/index.ts"),U=n("./node_modules/classnames/index.js"),z=n.n(U),H=n("./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql"),W=n.n(H),Y=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),K=n.n(Y),G=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less"),$={insert:"head",singleton:!1},q=(K()(G.a,$),G.a.locals||{}),X=n("./packages/test-ids/index.ts"),Q=n("./app/scripts/debug/constants.ts"),J=n("./packages/error-reporting/index.ts");function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=Object(A.forTemplate)("card-templates"),ie=Object(A.forTemplate)("card_composer_inline"),ae=({idList:e,idBoard:t,closedComponent:n,onCreate:r})=>{const[s,o]=Object(i.useState)(!1),[l,c]=Object(i.useState)(""),[d,{loading:u}]=function(e){const t=I(I({},B),e);return N.a(P,t)}();Object(V.useShortcut)((()=>{o(!1)}),{scope:V.Scope.Popover,key:V.Key.Escape,enabled:s});const p=Object(i.useCallback)((n=>d({variables:{traceId:n,listId:e,name:l.trim(),closed:!1},update(e,{data:n}){const i=n&&n.createCardTemplate;if(!i)return;const a=e.readQuery({query:W.a,variables:{boardId:t}});if(!a)return;const r=a.board,s=r&&r.cards;s&&e.writeQuery({query:W.a,variables:{boardId:t},data:{board:ee(ee({},r),{},{cards:s.concat(i)})}})}})),[d,t,e,l]),m=Object(i.useCallback)((()=>{c(""),o(!1)}),[]),h=Object(i.useCallback)((async()=>{if(0===l.trim().length)return;const e=L.Analytics.startTask({taskName:"create-card/template",source:"createCardTemplateInlineDialog"});try{const{data:t}=await p(e);if(Object(F.trackUe)({category:F.Noun.CARD_TEMPLATES,verb:F.Verb.CREATES,directObj:F.Noun.CARD_TEMPLATE,indirectObj:F.Noun.CARD_TEMPLATES_MENU,method:"by clicking the create new template button"}),m(),r&&t&&t.createCardTemplate){const e=t.createCardTemplate;r(e)}L.Analytics.taskSucceeded({taskName:"create-card/template",traceId:e,source:"createCardTemplateInlineDialog"})}catch(t){throw Object(J.sendErrorEvent)(t,{tags:{ownershipArea:"trello-remarkable",feature:Q.Feature.CardTemplates}}),L.Analytics.taskFailed({taskName:"create-card/template",traceId:e,source:"createCardTemplateInlineDialog",error:t})}}),[m,p,l,r]),g=Object(i.useCallback)((e=>{e.preventDefault(),o(!0)}),[]),b=Object(i.useCallback)((()=>{0===l.length&&m()}),[m,l.length]),v=Object(i.useCallback)((e=>{Object(V.getKey)(e)===V.Key.Enter&&(e.preventDefault(),h())}),[h]),_=Object(i.useCallback)((e=>c(e.target.value)),[]);return s?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:q.listCard},a.a.createElement("div",{className:z()(q.listCardDetails,"u-clearfix")},a.a.createElement("textarea",{value:l,className:q.templateCardComposerTextarea,dir:"auto",placeholder:ne("template-title"),autoFocus:!0,onBlur:b,onKeyDown:v,onChange:_,"data-test-id":X.CardTemplateTestIds.CreateTemplateCardComposer}))),a.a.createElement("div",{className:q.listCardButtons},a.a.createElement(f.Button,{onClick:h,className:q.addButton,appearance:"primary",isDisabled:u,isLoading:u,testId:X.CardTemplateTestIds.NewTemplateCardSubmitButton},ie("add")),a.a.createElement("a",{role:"button",className:q.closeButton,onClick:m},a.a.createElement(R.a,{dangerous_className:q.closeIcon,color:"quiet",size:"large"})))):n?n((()=>o(!0))):a.a.createElement("a",{role:"button",className:q.openTemplateCardComposer,href:"#",onClick:g},a.a.createElement(M.a,{dangerous_className:q.iconAdd,size:"small"}),a.a.createElement("span",null,ne("create-a-new-template")))};var re=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less"),se={insert:"head",singleton:!1},oe=(K()(re.a,se),re.a.locals||{}),le=n("./packages/nachos/icons/edit.tsx"),ce=n("./packages/nachos/src/components/Icon/index.ts");const de=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4H19C19.552 4 20 4.448 20 5V6H4V5C4 4.448 4.448 4 5 4H9Z",fill:"currentColor"}),a.a.createElement("path",{d:"M9 11C9 10.4477 9.44772 10 10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11Z",fill:"currentColor"}),a.a.createElement("path",{d:"M13 11C13 10.4477 13.4477 10 14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.85795 18.1534L5 7H19L18.142 18.1534C18.0619 19.1954 17.193 20 16.1479 20H7.85206C6.80699 20 5.93811 19.1954 5.85795 18.1534ZM7.85206 18L7.15975 9H16.8402L16.1479 18L7.85206 18Z",fill:"currentColor"})),ue=e=>{const{testId:t,dangerous_className:n,size:i,color:r,label:s,block:o}=e;return a.a.createElement(ce.a,{testId:t,size:i,dangerous_className:n,color:r,block:o,label:s||"TrashIcon",glyph:de})};var pe=n("./packages/shared-state/index.ts"),me=n("./app/src/components/Label/index.ts");const he=["onClick"];function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ve=Object(A.forTemplate)("card-templates"),fe=e=>{let{onClick:t}=e,n=be(e,he);return a.a.createElement("a",ge({},n,{href:"#",role:"button",onClick:Object(i.useCallback)((e=>{e.preventDefault(),t&&t(e)}),[t])}))},_e=e=>a.a.createElement("div",null,a.a.createElement("p",{className:oe.emptyStateMessage},ve("you-dont-have-any-templates")),a.a.createElement(f.Button,{onClick:e,className:oe.createNewTemplateButton,appearance:"primary",shouldFitContainer:!0,testId:X.CardTemplateTestIds.CreateNewTemplateCardButton},ve("create-a-new-template")));function ke({card:e,boardMembers:t,colorBlind:n,isEditing:r,onSelect:s,editTemplate:o,confirmDelete:l}){const{cover:c,badges:d,labels:u,members:p,stickers:m}=j(e,t),[h]=Object(pe.c)(me.a),g=Object(i.useCallback)((()=>s(e.id)),[e.id,s]),b=Object(i.useCallback)((()=>{Object(F.trackUe)({category:F.Noun.CARD_TEMPLATES,verb:F.Verb.OPENS,directObj:F.Noun.CARD_TEMPLATE,indirectObj:F.Noun.CARD_TEMPLATES_MENU,method:"by clicking the edit this template button"}),null==o||o(e.id)}),[e.id,o]),v=Object(i.useCallback)((()=>l(e.id)),[e.id,l]);return a.a.createElement("div",{className:oe.templateCardContainer},a.a.createElement(y.f,{className:oe.templateCard,onClick:g,cover:c,colorBlind:n,hasStickers:!!m.length,linkComponent:fe},a.a.createElement(k.a,{name:e.name,cover:c,badges:d,isTemplate:e.isTemplate,labels:u,expandLabels:h.showText,members:p,stickers:m,colorBlind:n})),r&&a.a.createElement("div",{className:oe.controlButtons},a.a.createElement(_.a,{content:ve("edit-this-template")},a.a.createElement(x.b,{className:oe.noTextDecoration,onClick:b,href:"/c/".concat(e.shortLink)},a.a.createElement(f.Button,{tabIndex:-1,iconBefore:a.a.createElement(le.a,{color:"gray",size:"small"}),className:oe.controlButton}))),a.a.createElement(_.a,{content:ve("delete-this-template")},a.a.createElement(f.Button,{iconBefore:a.a.createElement(ue,{color:"gray",size:"small"}),onClick:v,className:oe.controlButton}))))}const ye=({idBoard:e,idList:t,onSelect:n,onTemplateCreated:s,confirmDelete:l,editTemplate:u,isEditing:p,setIsEditing:m})=>{var h,g;Object(V.useShortcut)((()=>{m(!1)}),{scope:V.Scope.Popover,key:V.Key.Escape,enabled:p});const{data:_,loading:k,error:y}=function(e){const t=o(o({},c),e);return r.a(d,t)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{boardId:e}}),{data:E,loading:w}=b({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),C=(_&&_.board&&_.board.cards?_.board.cards:[]).filter((e=>e&&e.isTemplate)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0,caseFirst:"upper"}))),T=_&&_.board&&_.board.members?_.board.members:[],O=Object(i.useCallback)((()=>m(!1)),[m]),j=Object(i.useCallback)((()=>m(!0)),[m]);if(y)return a.a.createElement("div",{id:"cardTemplatesError"},ve("something-went-wrong"));if(!_&&(k||w))return a.a.createElement(v.a,{centered:!0});if(0===C.length)return a.a.createElement(ae,{idList:t,idBoard:e,onCreate:s,closedComponent:_e});const A=null==E||null===(h=E.member)||void 0===h||null===(g=h.prefs)||void 0===g?void 0:g.colorBlind;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:oe.templateCards},C.map((e=>a.a.createElement(ke,{key:e.id,card:e,boardMembers:T,colorBlind:A,onSelect:n,confirmDelete:l,isEditing:p,editTemplate:u})))),a.a.createElement(ae,{idList:t,idBoard:e,onCreate:s}),p?a.a.createElement(f.Button,{className:oe.finishEditingButton,onClick:O,shouldFitContainer:!0},ve("finish-editing")):a.a.createElement(f.Button,{className:oe.editTemplatesButton,onClick:j,shouldFitContainer:!0},ve("edit-templates")))};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Te={context:{operationName:"CardTemplate"}},Oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}},{kind:"Field",name:{kind:"Name",value:"shortLink"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"closed"}},{kind:"Field",name:{kind:"Name",value:"idList"}},{kind:"Field",name:{kind:"Name",value:"idChecklists"}},{kind:"Field",name:{kind:"Name",value:"attachments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"top"}},{kind:"Field",name:{kind:"Name",value:"left"}},{kind:"Field",name:{kind:"Name",value:"rotate"}},{kind:"Field",name:{kind:"Name",value:"zIndex"}},{kind:"Field",name:{kind:"Name",value:"image"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"imageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"}},{kind:"Field",name:{kind:"Name",value:"idMembers"}},{kind:"Field",name:{kind:"Name",value:"labels"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"idBoard"}}]}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}}]}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"}},{kind:"Field",name:{kind:"Name",value:"scaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"scaled"}}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"size"}},{kind:"Field",name:{kind:"Name",value:"brightness"}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"}},{kind:"Field",name:{kind:"Name",value:"checkItems"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"}},{kind:"Field",name:{kind:"Name",value:"card"}}]}}]}}]}}]}}]}}]};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ne={context:{operationName:"CreateCardFromTemplateLists"}},Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreateCardFromTemplateLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"closed"}}]}}]}}]}}]};var Ie=n("./packages/nachos/select.ts"),De=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less"),Be={insert:"head",singleton:!1},Pe=(K()(De.a,Be),De.a.locals||{});const Fe=["loaded"];function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Re=Object(A.forTemplate)("card-templates");function Ve(e,t){const[n,a]=Object(i.useState)(e||t),[r,s]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{a(e),r||e===t||s(!0)}),[t,r,e]),[n,a,r]}const Ue=({checked:e,setChecked:t,id:n,labelKey:r,count:s,disabled:o})=>a.a.createElement("div",{className:"check-div u-clearfix"},a.a.createElement("input",{disabled:o,type:"checkbox",id:n,"aria-checked":e,checked:e,onChange:Object(i.useCallback)((e=>t(e.target.checked)),[t])}),a.a.createElement("label",{htmlFor:n},Re(r,{count:s}))),ze=e=>{let{loaded:t}=e,n=Me(e,Fe);const r=Object(i.useRef)(null);return Object(i.useEffect)((()=>{r.current&&(r.current.focus(),r.current.select())}),[t]),a.a.createElement("textarea",Le({className:Pe.templateCardEditTitle,ref:r},n))},He=({idCard:e,createCard:t,showLists:n,hideEditButton:s,editTemplate:o})=>{var l,c,d;const{data:u,loading:p,error:m}=function(e){const t=we(we({},Te),e);return r.a(Oe,t)}({variables:{cardId:e}}),h=u&&u.card?u.card:void 0,{data:g,loading:_,error:y}=function(e){const t=Ae(Ae({},Ne),e);return r.a(Se,t)}({skip:!h||p,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{boardId:h&&h.idBoard||""}}),{data:E,loading:w}=b({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});Object(i.useEffect)((()=>{m&&Object(J.sendErrorEvent)(m,{tags:{ownershipArea:"trello-remarkable",feature:Q.Feature.CardTemplates}}),y&&Object(J.sendErrorEvent)(y,{tags:{ownershipArea:"trello-remarkable",feature:Q.Feature.CardTemplates}})}),[m,y]);const[C,T,O]=Ve(h&&h.name?h.name:"",""),[A,N]=Ve(h&&h.idList?h.idList:void 0,void 0),[S,I]=Object(i.useState)(!0),[D,B]=Object(i.useState)(!0),[P,L]=Object(i.useState)(!0),[M,R]=Object(i.useState)(!0),[U,z]=Object(i.useState)(!0),[H,W]=Object(i.useState)(!1),[Y,K]=Object(i.useState)(!1),G=(g&&g.board&&g.board.lists?g.board.lists:[]).map((e=>({label:e.name,value:e.id}))),$=G&&G.find((({value:e})=>e===A))||G[0],[q]=Object(pe.c)(me.a),Z=Object(i.useCallback)((async()=>{const n=C.trim();if(0===n.length)return;const i=n.replace(/\r/g," ").replace(/\n/g," ");W(!0);const a=[];S&&a.push("checklists"),D&&a.push("attachments"),P&&a.push("stickers"),U&&a.push("members"),M&&a.push("labels");try{await t(i,e,a,A)}catch(e){Object(J.sendErrorEvent)(e,{tags:{ownershipArea:"trello-remarkable",feature:Q.Feature.CardTemplates}}),K(!0)}W(!1)}),[S,D,P,U,M,t,C,e,A]),ee=Object(i.useCallback)((e=>T(e.target.value)),[T]),te=Object(i.useCallback)((e=>{Object(V.getKey)(e)===V.Key.Enter&&(e.preventDefault(),Z())}),[Z]),ne=Object(i.useCallback)((({value:e})=>N(e)),[N]),ie=Object(i.useCallback)((()=>{Object(F.trackUe)({category:F.Noun.CARD_TEMPLATES,verb:F.Verb.OPENS,directObj:F.Noun.CARD_TEMPLATE,indirectObj:F.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,method:"by clicking the edit this template button"}),null==o||o(e)}),[o,e]);if(w||p||n&&_)return a.a.createElement(v.a,{centered:!0});if(m||!h||Y||n&&y)return a.a.createElement("div",{id:"createCardFromTemplateError"},Re("something-went-wrong"));const ae=h.idChecklists.length>0,re=h.attachments.length>0,se=h.stickers.length>0,oe=h.idLabels.length>0,le=h.idMembers.length>0,ce=ae||re||se||oe||le,{cover:de,badges:ue,labels:he,members:ge,stickers:be}=j(h,h.members);let ve=de;"full"===(null===(l=ve)||void 0===l?void 0:l.size)&&(ve.size="normal"),S||(ue.checklistItems=0),D||(ue.attachments=0,ue.attachmentsByType.trello.board=0,ue.attachmentsByType.trello.card=0,h.cover&&h.cover.idAttachment&&(ve=null));const fe=null==E||null===(c=E.member)||void 0===c||null===(d=c.prefs)||void 0===d?void 0:d.colorBlind;return a.a.createElement("div",null,a.a.createElement("div",{className:Pe.templateCard},a.a.createElement(k.a,{name:h.name,cover:ve,badges:ue,labels:M?he:[],expandLabels:q.showText,members:U?ge:[],stickers:P?be:[],colorBlind:fe,replacements:{CardTitle:a.a.createElement("div",{className:Pe.templateCardNameContainer},a.a.createElement(ze,{disabled:H,"data-test-id":X.CardTemplateTestIds.CardTitleTextarea,name:"title",placeholder:h.name||Re("title"),value:C,loaded:O,onChange:ee,onKeyDown:te}))}})),ce&&a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,Re("keep")),ae&&a.a.createElement(Ue,{disabled:H,id:"idKeepChecklists",checked:S,setChecked:I,labelKey:"checklists",count:h.idChecklists.length}),oe&&a.a.createElement(Ue,{disabled:H,id:"idKeepLabels",checked:M,setChecked:R,labelKey:"labels",count:h.idLabels.length}),le&&a.a.createElement(Ue,{disabled:H,id:"idKeepMembers",checked:U,setChecked:z,labelKey:"members",count:h.idMembers.length}),re&&a.a.createElement(Ue,{disabled:H,id:"idKeepAttachments",checked:D,setChecked:B,labelKey:"attachments",count:h.attachments.length}),se&&a.a.createElement(Ue,{disabled:H,id:"idKeepStickers",checked:P,setChecked:L,labelKey:"stickers",count:h.stickers.length})),n&&a.a.createElement("label",null,Re("list"),a.a.createElement(Ie.a,{options:G,value:$,isDisabled:!G.length,onChange:ne})),a.a.createElement(f.Button,{className:Pe.createCardButton,isLoading:H,isDisabled:H||0===C.trim().length,appearance:"primary",shouldFitContainer:!0,onClick:Z,testId:X.CardTemplateTestIds.CreateCardFromTemplateButton},Re("create-card")),!s&&a.a.createElement(x.b,{onClick:ie,className:Pe.editTemplateLink,href:"/c/".concat(h.shortLink)},a.a.createElement(f.Button,{className:Pe.editTemplateButton,isDisabled:H,appearance:"default",shouldFitContainer:!0},Re("edit-this-template"))))};var We=n("./app/scripts/controller/navigate.js"),Ye=n("./packages/nachos/popover.ts"),Ke=n("./app/src/components/PopoverConfirm/index.ts");function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xe={context:{operationName:"DeleteCardTemplate"}},Qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}}]}}]}}]};var Je=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less"),Ze={insert:"head",singleton:!1},et=(K()(Je.a,Ze),Je.a.locals||{}),tt=n("./packages/test-ids/src/testIds.ts");function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const it=Object(A.forNamespace)("view title"),at=Object(A.forTemplate)("list"),rt=Object(A.forNamespace)(["confirm","delete template card"]);var st;!function(e){e[e.CardTemplates=0]="CardTemplates",e[e.CreateCardFromTemplate=1]="CreateCardFromTemplate",e[e.ConfirmDelete=2]="ConfirmDelete"}(st||(st={}));const ot=({idList:e,idBoard:t,createCard:n})=>{const[r,s]=Object(i.useState)(!1),[o,l]=Object(i.useState)(""),[c,d]=Object(i.useState)(""),[u]=function(e){const t=$e($e({},Xe),e);return N.a(Qe,t)}(),p=Object(i.useCallback)((()=>{Object(F.trackUe)({category:F.Noun.CARD_TEMPLATES,verb:F.Verb.OPENS,directObj:F.Noun.CARD_TEMPLATES_MENU,context:{entry:F.Noun.LIST}})}),[]),m=Object(i.useCallback)((()=>{s(!1)}),[]),{toggle:h,hide:g,triggerRef:b,popoverProps:v,push:f,pop:k}=Object(Ye.e)({initialScreen:st.CardTemplates,onShow:p,onHide:m}),y=Object(i.useCallback)((async()=>{try{if(!c)return;await u({variables:{idCard:c}}),Object(F.trackUe)({category:F.Noun.CARD_TEMPLATES,verb:F.Verb.DELETES,directObj:F.Noun.CARD_TEMPLATE,indirectObj:F.Noun.CARD_TEMPLATES_MENU}),k()}catch(e){Object(J.sendErrorEvent)(e,{tags:{ownershipArea:"trello-remarkable",feature:Q.Feature.CardTemplates}})}}),[u,c,k]),E=Object(i.useCallback)((async(e,t,i)=>{try{const a=await n(e,t,i);Object(F.trackUe)({category:F.Noun.CARD_TEMPLATES,verb:F.Verb.COMPLETES,directObj:F.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:F.Noun.LIST}}),g(),a()}catch(e){Object(J.sendErrorEvent)(e,{tags:{ownershipArea:"trello-remarkable",feature:Q.Feature.CardTemplates}})}}),[n,g]),w=Object(i.useCallback)((e=>{l(e),f(st.CreateCardFromTemplate)}),[f]),C=Object(i.useCallback)((e=>{g(),Object(We.navigate)("/c/".concat(e.shortLink),{trigger:!0})}),[g]),T=Object(i.useCallback)((e=>{d(e),f(st.ConfirmDelete)}),[f]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{content:at("create-from-template"),delay:100,hideTooltipOnMouseDown:!0},a.a.createElement("a",{className:et.cardTemplateButton,"data-test-id":tt.i.CardTemplateListButton,ref:b,onClick:h,role:"button",href:"#","aria-label":at("create-from-template")},a.a.createElement("span",{className:"icon-sm icon-template-card dark-background-hover"}))),a.a.createElement(Ye.b,nt({},v,{dangerous_className:et.popover}),a.a.createElement(Ye.d,{id:st.CardTemplates,title:it("card templates")},a.a.createElement(ye,{idList:e,idBoard:t,onSelect:w,onTemplateCreated:C,confirmDelete:T,isEditing:r,setIsEditing:s,editTemplate:g})),a.a.createElement(Ye.d,{id:st.CreateCardFromTemplate,title:it("create card")},a.a.createElement(He,{idCard:o,createCard:E,editTemplate:g})),a.a.createElement(Ye.d,{id:st.ConfirmDelete,title:rt("title")},a.a.createElement(Ke.a,{confirmKey:"delete template card",confirmCallback:y,isDanger:!0}))))}},"./app/src/components/DateRangePicker/LazyDateRangePicker.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Choice",(function(){return o})),n.d(t,"LazyDateRangePicker",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts"),s=n("./app/src/components/ComponentWrapper/index.ts");let o;!function(e){e[e.StartDate=0]="StartDate",e[e.DueDate=1]="DueDate"}(o||(o={}));const l=e=>{const t=Object(r.useLazyComponent)((()=>n.e(66).then(n.bind(null,"./app/src/components/DateRangePicker/DateRangePicker.tsx"))),{namedImport:"DateRangePicker"});return a.a.createElement(s.ComponentWrapper,{key:"date-range-picker"},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e)))}},"./app/src/components/Emoji/Emoji.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Emoji",(function(){return u}));var i,a,r,s=n("./app/src/components/Emoji/EmojiProviderComponent.tsx"),o=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),l=n("./node_modules/react/index.js"),c=n.n(l);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class u extends c.a.Component{render(){return c.a.createElement(s.EmojiProviderComponent,{isSmallSpinner:!0},((e,t)=>c.a.createElement(o.default,d({},this.props,{data:e,backgroundImageFn:t}))))}}r={set:"twitter",size:16},(a="defaultProps")in(i=u)?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r},"./app/src/components/Emoji/EmojiProviderComponent.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"EmojiProviderComponent",(function(){return l}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/Emoji/EmojiProvider.ts"),s=n("./packages/nachos/spinner.ts");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.a.Component{constructor(e){super(e),o(this,"mounted",void 0),this.state={data:r.emojiProvider.getDataSync()}}componentDidMount(){this.mounted=!0,this.state.data||r.emojiProvider.getData().then((e=>{if(this.mounted&&e)return this.setState({data:e})}))}componentWillUnmount(){this.mounted=!1}getBackgroundImageFn(){if(r.emojiProvider.getSpritesheetsSync())return r.emojiProvider.getSpritesheetsUrl}render(){const{children:e,isSmallSpinner:t}=this.props,{data:n}=this.state;return n?e(n,this.getBackgroundImageFn()):a.a.createElement("div",null,a.a.createElement(s.a,{small:t,centered:!t}))}}o(l,"defaultProps",{isSmallSpinner:!1})},"./app/src/components/FreeTrial/ExpiredTrialPlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/ExpiredTrialPlanSelection.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./packages/i18n/index.ts"),u=n("./packages/test-ids/index.ts"),p=n("./app/src/components/FreeTrial/PlanSelection.tsx"),m=n("./app/src/components/FreeTrial/TrustedByTeams.tsx");const h=Object(d.forNamespace)("upgrade-prompt-plan-selection-consolidated"),g=({cta:e,isStandardVariationEnabled:t})=>a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:c.heading,"data-test-id":u.UpgradePromptTestIds.PlanSelection},a.a.createElement("h1",null,a.a.createElement("img",{className:c.briefcase,src:n("./resources/images/moonshot/bc-sparkle.svg"),alt:"briefcase",width:"50"})," ",h(["expired-free-trial-upgrade","headline"])),a.a.createElement("h2",null," ",h(["expired-free-trial-upgrade","description"]))),a.a.createElement(p.a,{isStandardVariationEnabled:t}),a.a.createElement("div",{className:c.actions},e,a.a.createElement(m.a,null)))},"./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./packages/i18n/index.ts"),u=n("./packages/product-features/index.ts"),p=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),m=n("./app/scripts/debug/constants.ts"),h=n("./packages/atlassian-analytics/index.ts"),g=n("./packages/test-ids/index.ts"),b=n("./app/src/components/FreeTrial/PlanSelection.tsx"),v=n("./app/src/components/FreeTrial/TrustedByTeams.tsx");const f=Object(d.forNamespace)("upgrade-prompt-plan-selection-consolidated"),_=f("after-trial",{price:"$".concat(Object(d.asMoney)(u.ProductFeatures.getPrice(u.Products.Organization.BusinessClass.current.yearly)/12)),downgradeOption:a.a.createElement("a",{key:"after-trial-downgrade",target:"_blank",href:"https://help.trello.com/article/836-cancel-trello-business-class"},f("after-trial-downgrade"))}),k=({type:e,trialLength:t,cta:r,orgId:s,hideSecondaryCta:o=!1,isStandardVariationEnabled:l})=>(Object(i.useEffect)((()=>{h.Analytics.sendScreenEvent({name:"planSelectionModal",containers:{organization:{id:s}}})}),[s]),a.a.createElement(p.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:m.Feature.FreeTrialExistingTeam}},a.a.createElement("div",{"data-test-id":"have-business-class"===e?g.FreeTrialTestIds.HaveBCPlanSelection:g.FreeTrialTestIds.TryBCPlanSelection,className:c.heading},a.a.createElement("h1",null,a.a.createElement("img",{src:n("./resources/images/moonshot/bc-sparkle.svg"),alt:"","aria-hidden":"true"}),f([e,"headline"],{dayCount:t})),a.a.createElement("h2",null,f([e,"description"],{dayCount:t}))),a.a.createElement(b.a,{trialLength:t,isStandardVariationEnabled:l}),a.a.createElement("div",{className:c.actions},r,a.a.createElement(v.a,null),a.a.createElement("p",{className:c.afterTrial},_),"try-business-class"===e&&!o&&a.a.createElement("a",{onClick:()=>{h.Analytics.sendClickedButtonEvent({buttonName:"learnMoreAboutBCButton",source:"planSelectionModal",containers:{organization:{id:s}}})},href:"/business-class",className:c.secondaryCta,"data-test-id":g.FreeTrialTestIds.LearnMoreAboutBCButton},f([e,"secondary-cta"])))))},"./app/src/components/FreeTrial/PlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./app/src/components/ErrorBoundary/index.ts"),u=n("./app/scripts/debug/constants.ts"),p=n("./node_modules/classnames/index.js"),m=n.n(p),h=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/MiniPlanOverviewSection.less"),g={insert:"head",singleton:!1},b=(s()(h.a,g),h.a.locals||{}),v=n("./packages/nachos/src/components/Tooltip/index.ts"),f=n("./packages/i18n/index.ts"),_=n("./packages/nachos/icons/board.tsx"),k=n("./packages/nachos/icons/power-up.tsx"),y=n("./packages/nachos/icons/butler-bot.tsx"),E=n("./packages/nachos/icons/subscribe.tsx"),w=n("./packages/nachos/icons/heart.tsx"),C=n("./packages/nachos/icons/star.tsx"),T=n("./packages/nachos/icons/table.tsx"),O=n("./packages/nachos/icons/calendar.tsx"),j=n("./packages/nachos/icons/location.tsx"),A=n("./packages/nachos/icons/checklist.tsx"),x=n("./packages/nachos/icons/template-board.tsx"),N=n("./packages/nachos/icons/admin-chevron.tsx"),S=n("./packages/nachos/icons/image.tsx"),I=n("./packages/nachos/icons/sticker.tsx"),D=n("./packages/nachos/icons/search.tsx"),B=n("./packages/nachos/icons/attachment.tsx"),P=n("./packages/nachos/icons/custom-field.tsx"),F=n("./packages/nachos/icons/board-collection.tsx"),L=n("./packages/nachos/icons/download.tsx"),M=n("./packages/nachos/src/components/Icon/index.ts");const R=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 4H11.5C12.8807 4 14 5.11929 14 6.5C14 7.88071 12.8807 9 11.5 9H4.5C3.11929 9 2 7.88071 2 6.5C2 5.11929 3.11929 4 4.5 4ZM11.5 7C11.7761 7 12 6.77614 12 6.5C12 6.22386 11.7761 6 11.5 6H4.5C4.22386 6 4 6.22386 4 6.5C4 6.77614 4.22386 7 4.5 7H11.5Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 10H13.5C14.8807 10 16 11.1193 16 12.5C16 13.8807 14.8807 15 13.5 15H6.5C5.11929 15 4 13.8807 4 12.5C4 11.1193 5.11929 10 6.5 10ZM13.5 13C13.7761 13 14 12.7761 14 12.5C14 12.2239 13.7761 12 13.5 12H6.5C6.22386 12 6 12.2239 6 12.5C6 12.7761 6.22386 13 6.5 13H13.5Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 16H11.5C10.1193 16 9 17.1193 9 18.5C9 19.8807 10.1193 21 11.5 21H18.5C19.8807 21 21 19.8807 21 18.5C21 17.1193 19.8807 16 18.5 16ZM11.5 19C11.2239 19 11 18.7761 11 18.5C11 18.2239 11.2239 18 11.5 18H18.5C18.7761 18 19 18.2239 19 18.5C19 18.7761 18.7761 19 18.5 19H11.5Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 4H19.5C20.8807 4 22 5.11929 22 6.5C22 7.88071 20.8807 9 19.5 9H17.5C16.1193 9 15 7.88071 15 6.5C15 5.11929 16.1193 4 17.5 4ZM19.5 7C19.7761 7 20 6.77614 20 6.5C20 6.22386 19.7761 6 19.5 6H17.5C17.2239 6 17 6.22386 17 6.5C17 6.77614 17.2239 7 17.5 7H19.5Z",fill:"currentColor"})),V=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1586 10.6697C18.6953 11.6601 19 12.7945 19 14V15C19 15.5523 18.5523 16 18 16H6C5.44772 16 5 15.5523 5 15V14C5 10.134 8.13401 7 12 7C13.2055 7 14.3398 7.30472 15.3301 7.84134L16.2419 6.92954C16.447 6.72443 16.6856 6.57318 16.9401 6.4758C15.522 5.54283 13.8244 5 12 5C7.02944 5 3 9.02944 3 14V16C3 17.1046 3.89543 18 5 18H19C20.1046 18 21 17.1046 21 16V14C21 12.1756 20.4571 10.4779 19.5241 9.05977C19.4267 9.31425 19.2755 9.55284 19.0704 9.75796L18.1586 10.6697ZM13 9C13 9.55228 12.5523 10 12 10C11.4477 10 11 9.55228 11 9C11 8.44772 11.4477 8 12 8C12.5523 8 13 8.44772 13 9ZM16.1989 11.2152L12.7071 14.707C12.3166 15.0976 11.6834 15.0976 11.2929 14.707C10.9023 14.3165 10.9023 13.6833 11.2929 13.2928L16.949 7.63667C17.3395 7.24615 17.9727 7.24615 18.3632 7.63667C18.7538 8.0272 18.7538 8.66036 18.3632 9.05089L16.2152 11.1989L16.1989 11.2152ZM18 14C18 14.5523 17.5523 15 17 15C16.4477 15 16 14.5523 16 14C16 13.4477 16.4477 13 17 13C17.5523 13 18 13.4477 18 14ZM7 15C7.55228 15 8 14.5523 8 14C8 13.4477 7.55228 13 7 13C6.44772 13 6 13.4477 6 14C6 14.5523 6.44772 15 7 15ZM9.5 10.5C9.5 11.0523 9.05228 11.5 8.5 11.5C7.94772 11.5 7.5 11.0523 7.5 10.5C7.5 9.94772 7.94772 9.5 8.5 9.5C9.05228 9.5 9.5 9.94772 9.5 10.5Z",fill:"currentColor"}));function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W=Object(f.forNamespace)("upgrade-prompt-plan-selection-consolidated"),Y=Object(f.forTemplate)("mini_plan_comparison"),K=(e,t)=>{const n=[e,"features",t],i="free-team"===e||"boards"===t||"sta-team"===e&&"pups"===t||"free-team-nusku"===e&&"pups"===t;return{content:W([...n,e.includes("nusku")||e.includes("bc")?"content-joined":"content"]),tooltip:i?null:W([...n,"tooltip"])}},G=[z({icon:_.BoardIcon},K("bc-team","boards")),z({icon:k.a},K("bc-team","pups")),z({icon:y.a},K("bc-team","butler")),z({icon:E.a},K("bc-team","admin")),z({icon:w.a},K("bc-team","support")),z({icon:C.a},K("bc-team","more"))],$=[z({icon:k.a},K("bc-team-nusku","pups")),z({icon:y.a},K("bc-team-nusku","butler")),z({icon:T.TableIcon},K("bc-team-nusku","table")),z({icon:O.CalendarIcon},K("bc-team-nusku","calendar")),z({icon:j.LocationIcon},K("bc-team-nusku","map")),z({icon:A.a},K("bc-team-nusku","checklists")),z({icon:x.a},K("bc-team-nusku","templates")),z({icon:E.a},K("bc-team-nusku","observers")),z({icon:N.a},K("bc-team-nusku","admin")),z({icon:w.a},K("bc-team-nusku","support"))],q=[{icon:y.a,content:Y(["premium","features","automations"]),tooltip:Y(["premium","features","automations-tt"])},{icon:F.a,content:Y(["premium","features","collections"]),tooltip:Y(["premium","features","collections-tt"])},{icon:N.a,content:Y(["premium","features","admin-security"]),tooltip:Y(["premium","features","admin-security-tt"])},{icon:L.DownloadIcon,content:Y(["premium","features","data-export"]),tooltip:Y(["premium","features","data-export-tt"])},{icon:T.TableIcon,content:Y(["premium","features","table-view"]),tooltip:Y(["premium","features","table-view-tt"])},{icon:e=>{const{testId:t,dangerous_className:n,size:i,color:r,label:s,block:o}=e;return a.a.createElement(M.a,{testId:t,size:i,dangerous_className:n,color:r,block:o,label:s||"ViewTimelineIcon",glyph:R})},content:Y(["premium","features","timeline-view"]),tooltip:Y(["premium","features","timeline-view-tt"])},{icon:e=>{const{testId:t,dangerous_className:n,size:i,color:r,label:s,block:o}=e;return a.a.createElement(M.a,{testId:t,size:i,dangerous_className:n,color:r,block:o,label:s||"ViewDashboardIcon",glyph:V})},content:Y(["premium","features","dashboard-view"]),tooltip:Y(["premium","features","dashboard-view-tt"])},{icon:w.a,content:Y(["premium","features","support"]),tooltip:Y(["premium","features","support-tt"])}],X=[z({icon:_.BoardIcon},K("free-team","boards")),z({icon:k.a},K("free-team","pups")),z({icon:y.a},K("free-team","butler"))],Q=[z({icon:_.BoardIcon},K("free-team-nusku","boards")),z({icon:k.a},K("free-team-nusku","pups")),z({icon:y.a},K("free-team-nusku","butler"))],J=[{icon:_.BoardIcon,content:Object(f.localizeCount)("up to boards",10),tooltip:null},{icon:k.a,content:Y(["free","features","pups"]),tooltip:null},{icon:y.a,content:Y(["free","features","automations"]),tooltip:Y(["free","features","automations-tt"])}],Z=[z({icon:_.BoardIcon},K("sta-team","boards")),z({icon:k.a},K("sta-team","pups")),z({icon:y.a},K("sta-team","butler")),z({icon:S.a},K("sta-team","custom-backgrounds")),z({icon:I.a},K("sta-team","custom-stickers")),z({icon:D.a},K("sta-team","saved-searches"))],ee=[{icon:_.BoardIcon,content:Y(["standard","features","boards"]),tooltip:null},{icon:A.a,content:Y(["standard","features","checklists"]),tooltip:Y(["standard","features","checklists-tt"])},{icon:y.a,content:Y(["standard","features","automations"]),tooltip:Y(["standard","features","automations-tt"])},{icon:B.a,content:Object(f.localizeCount)("file attachments",250),tooltip:null},{icon:D.a,content:Y(["standard","features","searches"]),tooltip:Y(["standard","features","searches-tt"])},{icon:P.a,content:Y(["standard","features","fields"]),tooltip:Y(["standard","features","fields-tt"])}];var te=n("./packages/feature-flag-client/index.ts");const ne=Object(f.forNamespace)("upgrade-prompt-plan-selection-consolidated"),ie=Object(f.forTemplate)("mini_plan_comparison"),ae=({plan:e,isStandardVariationEnabled:t})=>{const n=Object(te.useFeatureFlag)("nusku.repackaging-gtm.features",!1),i=(({plan:e,isStandardVariationEnabled:t,isRepackagedGtm:n})=>{if(n)switch(e){case"free":return{list:J,header:ie(["free","name"]),containerClassNames:m()(b.freePlan,b.freePlanNusku)};case"standard":return{list:ee,header:ie(["standard","name"]),containerClassNames:b.staPlan,subtext:ie(["standard","subtext"]),subtextClassNames:m()(b.subLabel,b.basic)};case"premium":return{list:q,header:ie(["premium","name"]),containerClassNames:m()(b.bcPlan,b.bcPlanNusku),subtext:ie(["premium","subtext"]),subtextClassNames:b.subLabel};default:return}else if(t)switch(e){case"free":return{list:Q,header:ne(["free-team-nusku","headline"]),containerClassNames:m()(b.freePlan,b.freePlanNusku)};case"standard":return{list:Z,header:ne(["sta-team","headline"]),containerClassNames:b.staPlan};case"premium":return{list:$,header:ne(["bc-team-nusku","headline"]),containerClassNames:m()(b.bcPlan,b.bcPlanNusku),subtext:ne(["bc-team-nusku","everything-in-sta"]),subtextClassNames:b.subLabel};default:return}else switch(e){case"free":return{list:X,header:ne(["free-team","headline"]),containerClassNames:m()(b.freePlan)};case"standard":return;case"premium":return{list:G,header:ne(["bc-team","headline"]),containerClassNames:m()(b.bcPlan)};default:return}})({plan:e,isStandardVariationEnabled:t,isRepackagedGtm:n});return i?a.a.createElement("div",{className:i.containerClassNames},a.a.createElement("h2",null,i.header),i.subtext&&a.a.createElement("h3",{className:i.subtextClassNames},i.subtext),a.a.createElement("ul",null,i.list.map((({icon:i,content:r,tooltip:s},o)=>a.a.createElement("li",{key:o,className:m()(b.featureItem,!!s&&b.tooltipTarget)},((e,t)=>e?a.a.createElement(v.a,{content:e,component:v.b},t):t)(s,a.a.createElement("div",{className:b.featureItemWrapper},"premium"!==e||n||t?a.a.createElement(i,{color:"quiet"}):a.a.createElement(i,{size:"medium",dangerous_className:b.featureIcon}),a.a.createElement("div",{className:b.featureTextWrapper},a.a.createElement("span",{className:b.featureContent},r.replace(/&amp;/g,"&")))))))))):null},re=({trialLength:e,isStandardVariationEnabled:t})=>a.a.createElement(d.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:e?u.Feature.FreeTrialExistingTeam:u.Feature.ExpiredFreeTrialExistingTeam}},a.a.createElement("div",{className:c.bodyWrapper},a.a.createElement(ae,{plan:"free",isStandardVariationEnabled:t}),a.a.createElement(ae,{plan:"standard",isStandardVariationEnabled:t}),a.a.createElement(ae,{plan:"premium",isStandardVariationEnabled:t})))},"./app/src/components/FreeTrial/PlanSelectionOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return F}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./node_modules/classnames/index.js"),u=n.n(d),p=n("./packages/i18n/index.ts"),m=n("./app/src/components/Overlay/index.ts"),h=n("./app/src/components/ComponentWrapper/index.ts"),g=n("./app/src/components/FreeTrial/ExpiredTrialPlanSelection.tsx"),b=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx"),v=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),f=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),_=n("./packages/atlassian-analytics/index.ts"),k=n("./packages/nachos/spinner.ts"),y=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={context:{operationName:"PlanSelectionOverlay"}},O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlanSelectionOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"standardVariation"}}]}}]}}]};var j=n("./packages/test-ids/index.ts"),A=n("./app/src/components/StandardGenerics/index.ts"),x=n("./packages/feature-flag-client/index.ts"),N=n("./packages/nachos/icons/back.tsx"),S=n("./packages/nachos/icons/close.tsx"),I=n("./packages/nachos/button.ts");const D=Object(p.forNamespace)("upgrade-prompt-plan-selection-consolidated"),B=Object(p.forNamespace)("upgrade prompt plan selection"),P=({onClose:e,orgId:t,currentPlanSelected:n,startFreeTrialOptions:r})=>{var s,o,l,d;const{data:p,loading:h}=function(e){const t=w(w({},T),e);return y.a(O,t)}({variables:{orgId:t},skip:!t}),E=Object(x.useFeatureFlag)("nusku.repackaging-gtm.features",!1),{isStandardVariationEnabled:C}=Object(A.useStandard)({orgId:t}),P=E||C,F=null==p||null===(s=p.organization)||void 0===s?void 0:s.name,L=null==p||null===(o=p.member)||void 0===o?void 0:o.id,M=null==p||null===(l=p.organization)||void 0===l||null===(d=l.memberships)||void 0===d?void 0:d.find((e=>e.idMember===L&&"admin"===e.memberType)),{isEligible:R,isTrialActive:V,startFreeTrial:U,loading:z}=Object(f.a)(t),[H,W]=Object(i.useState)(!1),[Y,K]=Object(i.useState)(!1);Object(i.useEffect)((()=>{V&&Y&&(e(),K(!1))}),[e,V,Y]);const G=async()=>{Y||(K(!0),_.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:"freeTrialModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:n}}),await U(r))};if(h||z)return null;let $=a.a.createElement(g.a,{cta:a.a.createElement(I.ButtonLink,{className:c.planSelectionCtaButton,isPrimary:!0,onClick:e,link:M?"/".concat(F,"/billing"):"/business-class",openInNewTab:!M},D(["expired-free-trial-upgrade","cta"])),type:"have-business-class",isStandardVariationEnabled:C});return R||Y?$=H?a.a.createElement(b.a,{type:"try-business-class",orgId:t,cta:a.a.createElement(I.Button,{appearance:"primary",size:"fullwidth","data-test-id":j.FreeTrialTestIds.StartFreeTrialButton,onClick:G},Y?a.a.createElement(k.a,{centered:!0,small:!0,wrapperClassName:c.spinner}):D(["try-business-class","cta"],{dayCount:14})),trialLength:14,isStandardVariationEnabled:C}):a.a.createElement(v.a,{onCtaClick:G,isLoading:Y,orgId:t,onLearnMore:()=>W(!0)}):V&&($=a.a.createElement(b.a,{type:"have-business-class",cta:a.a.createElement(I.ButtonLink,{isPrimary:!0,link:"/business-class",className:c.freeTrialPlanSelectionCtaButton},B("learn bc")),orgId:t,trialLength:14,isStandardVariationEnabled:C})),a.a.createElement(m.a,{onClose:e,background:m.c.DARK},a.a.createElement("div",{className:u()(c.animation,c.overlay,c.overlayExistingTeams,(V||H)&&c.overlayViewingPlan,P&&c.overlayExpanded),tabIndex:-1,ref:e=>{e&&e.focus()}},H&&a.a.createElement("button",{className:c.back,title:"Todo","aria-label":"Todo",onClick:()=>(async()=>{_.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"planSelectionModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:n}}),W(!1)})()},a.a.createElement(N.a,{size:"large",block:!0})),a.a.createElement("button",{className:c.close,title:B("close"),"aria-label":B("close"),onClick:()=>(async()=>{_.Analytics.sendClosedComponentEvent({componentType:"modal",componentName:"freeTrialModal",source:"planSelectionModal",containers:{organization:{id:t}},attributes:{currentPlanSelected:n}}),e()})()},a.a.createElement(S.a,{size:"large",block:!0})),$))},F=e=>a.a.createElement(h.ComponentWrapper,null,a.a.createElement(P,e))},"./app/src/components/FreeTrial/TrustedByTeams.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/TrustedByTeams.less"),s={insert:"head",singleton:!1},o=(a()(r.a,s),r.a.locals||{}),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./packages/i18n/index.ts");const u=Object(d.forNamespace)("upgrade-prompt-plan-selection-consolidated"),p=()=>c.a.createElement("div",{className:o.trustedBy},c.a.createElement("span",null,u("trusted-by-teams-at")),c.a.createElement("img",{src:n("./resources/images/upgrade-prompts/pinterest.svg"),alt:"Pinterest",width:"22"}),c.a.createElement("img",{src:n("./resources/images/upgrade-prompts/google.svg"),alt:"Google",width:"64"}),c.a.createElement("img",{src:n("./resources/images/upgrade-prompts/fortnite.svg"),alt:"Fortnite",width:"58"}),c.a.createElement("img",{src:n("./resources/images/upgrade-prompts/peloton.svg"),alt:"Peloton",width:"85"}))},"./app/src/components/FreeTrial/UpsellOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),s=n("./packages/nachos/button.ts"),o=n("./packages/nachos/spinner.ts"),l=n("./packages/nachos/icons/forward.tsx"),c=n("./packages/atlassian-analytics/index.ts"),d=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=n.n(d),p=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less"),m={insert:"head",singleton:!1},h=(u()(p.a,m),p.a.locals||{}),g=n("./packages/test-ids/index.ts");const b=Object(r.forNamespace)(""),v=Object(r.forNamespace)(["free trial existing","upsell"]),f=[v("things-to-know-point-1"),v("things-to-know-point-2"),v("things-to-know-point-3",{priority:a.a.createElement("a",{href:"https://help.trello.com",style:{marginRight:4},key:"things-to-know-point-3-priority-support"},v("things-to-know-point-3-priority-support"))}),v("things-to-know-point-4")],_=({onLearnMore:e,orgId:t,onCtaClick:r,isLoading:d})=>(Object(i.useEffect)((()=>{c.Analytics.sendScreenEvent({name:"freeTrialModal",containers:{organization:{id:t}}})}),[t]),a.a.createElement("div",{className:h.upsellOverlay},a.a.createElement("div",{className:h.upsellOverlayHeader},a.a.createElement("img",{src:n("./resources/images/free-trial/light.svg"),alt:"free-trial-light",role:"presentation",width:"101",height:"90"}),a.a.createElement("div",{className:h.upsellOverlayTag},v("tag")),a.a.createElement("h3",null,v("headline")),a.a.createElement("p",null,v("content")),a.a.createElement(s.Button,{className:h.button,appearance:"primary","data-test-id":g.FreeTrialTestIds.StartFreeTrialButton,onClick:r,size:"fullwidth"},d?a.a.createElement(o.a,{centered:!0,small:!0,wrapperClassName:h.spinner}):v("maincta"))),a.a.createElement("div",{className:h.upsellOverlayBody},a.a.createElement("div",{className:h.upsellOverlayBodyHeader},a.a.createElement("h3",null,v("things-to-know-header")),a.a.createElement("img",{src:n("./resources/images/free-trial/thumbs-up.svg"),alt:"free-trial-thumbs-up",role:"presentation",width:"94",height:"93"})),a.a.createElement("div",{className:h.upsellOverlayThings},f.map(((e,t)=>a.a.createElement("div",{key:t.toString(),className:h.upsellOverlayThing},a.a.createElement("div",{className:h.upsellOverlayThingBullet,"aria-hidden":"true",role:"presentation"})," ",e)))),a.a.createElement(s.Button,{className:h.learnMoreStep,onClick:()=>{e(),c.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialModal",containers:{organization:{id:t}}})},size:"fullwidth","data-test-id":g.FreeTrialTestIds.LearnMoreAboutBCButton,iconAfter:a.a.createElement(l.a,{size:"small"})},b(["learn more button"])))))},"./app/src/components/FreeTrial/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpsellOverlay",(function(){return i.a})),n.d(t,"FreeTrialBanner",(function(){return te})),n.d(t,"ExpiredTrialPlanSelection",(function(){return ne.a})),n.d(t,"FreeTrialPlanSelection",(function(){return ie.a})),n.d(t,"PlanSelectionOverlay",(function(){return E.a})),n.d(t,"PlanSelectionOverlayConnected",(function(){return E.b})),n.d(t,"useFreeTrialEligibilityRules",(function(){return Q.a}));var i=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),a=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={context:{operationName:"FreeTrialDismissBannerAndConfetti"}},c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FreeTrialDismissBannerAndConfetti"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function d(e){const t=s(s({},l),e);return a.a(c,t)}var u=n("./node_modules/react/index.js"),p=n.n(u),m=n("./node_modules/classnames/index.js"),h=n.n(m),g=n("./packages/nachos/button.ts"),b=n("./packages/i18n/index.ts"),v=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),f=n.n(v),_=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less"),k={insert:"head",singleton:!1},y=(f()(_.a,k),_.a.locals||{}),E=n("./app/src/components/FreeTrial/PlanSelectionOverlay.tsx"),w=n("./packages/atlassian-analytics/index.ts"),C=n("./node_modules/canvas-confetti/dist/confetti.module.mjs"),T=n("./node_modules/underscore/underscore.js"),O=n.n(T),j=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),A=n("./app/scripts/debug/constants.ts"),x=n("./packages/test-ids/index.ts"),N=n("./app/src/components/RouterLink/RouterLink.tsx"),S=n("./packages/nachos/icons/close.tsx");const I=Object(b.forNamespace)("free trial existing"),D=Object(b.forNamespace)("learn more button"),B=({orgId:e,dismissBanner:t,data:n,freeTrialRules:i})=>{var a,r,s,o,l,c;const[m,v]=Object(u.useState)(!1),f=()=>v(!0),[_]=d(),{daysLeft:k,isAdmin:T,totalFreeTrialCredits:B,hasOverTenOpenBoards:P}=i,F=B>1?"free-trial-banner-confetti-".concat(B,"-").concat(e):"free-trial-banner-confetti-".concat(e),L=null!=n&&null!==(a=n.member)&&void 0!==a&&a.oneTimeMessagesDismissed?null==n||null===(r=n.member)||void 0===r?void 0:r.oneTimeMessagesDismissed:[],[M,R]=Object(u.useState)(0),[V,U]=Object(u.useState)(0),z=Object(u.useCallback)((()=>{_({variables:{memberId:"me",messageId:F},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:L.concat([F]),__typename:"Member"}}})}),[L,_,F]),H=L.includes(F);Object(u.useEffect)((()=>{let e=null,t=null;return M&&V&&!H&&(e=setTimeout((()=>{Object(C.default)({angle:O.a.random(0,45),spread:O.a.random(150,180),particleCount:150,origin:{x:0,y:V/window.innerHeight}}),e=null,t=setTimeout((()=>{z(),t=null}),3500)}),1500)),()=>{!H&&t&&z(),t&&clearTimeout(t),e&&clearTimeout(e)}}),[M,V,H,z]);const W=Object(u.useCallback)((e=>{if(null!==e){const t=e.getBoundingClientRect();R(t.x+t.width/2),U(t.y+t.height/2)}H&&C.default.reset()}),[H]),Y=null==n||null===(s=n.organization)||void 0===s?void 0:s.displayName,K=null==n||null===(o=n.organization)||void 0===o?void 0:o.name,G=K?"/".concat(K,"/billing"):"",$=!(null==n||null===(l=n.organization)||void 0===l||null===(c=l.paidAccount)||void 0===c||!c.cardType),q=Object(u.useCallback)((()=>{const t=T?"addPaymentButton":"upgradeButton";w.Analytics.sendClickedButtonEvent({buttonName:t,source:"freeTrialBanner",containers:{organization:{id:e}}})}),[e,T]),X=Object(u.useCallback)((()=>{w.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialBanner",containers:{organization:{id:e}}}),f()}),[e]),Q=Object(u.useCallback)((()=>{w.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"freeTrialBanner",containers:{organization:{id:e}}}),f()}),[e]),J=P&&k<8?p.a.createElement("div",null,p.a.createElement("span",null,Object(b.localizeCount)("free-trial-banner-ending-soon",k,{days:p.a.createElement("span",{ref:W,key:"daysLeft-closures",className:y.daysContainer},k)})),p.a.createElement("a",{target:"_blank",href:"https://help.trello.com/article/836-cancel-trello-business-class",className:y.boardClosureMessaging},I("some-boards-may-close"))):p.a.createElement("div",{className:y.bcContainer},p.a.createElement("span",{role:"img","aria-label":"confetti",className:y.emoji},"🎉"),p.a.createElement("span",null,Object(b.localizeCount)("free-trial-banner-tagline-by-days",k,{teamName:p.a.createElement(p.a.Fragment,{key:"congratulations"},Y),days:p.a.createElement("span",{ref:W,key:"daysLeft-congratulations",className:y.daysContainer},k)})));return p.a.createElement(j.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:A.Feature.FreeTrialExistingTeam}},p.a.createElement("div",{className:h()(y.container,y.bannerBg),"data-test-id":x.FreeTrialTestIds.ActiveFreeTrialBanner,role:"banner"},J,p.a.createElement("div",{className:y.ctaContainer},T&&!$?p.a.createElement(p.a.Fragment,null,p.a.createElement("a",{role:"button",className:y.linkCta,"data-test-id":x.FreeTrialTestIds.LearnMoreBannerLink,onClick:Q},D("")),p.a.createElement(N.b,{className:y.linkButton,href:G,onClick:q,testId:x.FreeTrialTestIds.BannerAddPaymentButton},I(["banner","add-payment-method"]))):p.a.createElement(p.a.Fragment,null,p.a.createElement(g.Button,{className:y.linkButton,appearance:"primary",onClick:X},D("")),p.a.createElement("button",{className:y.closeButton,onClick:t},p.a.createElement(S.a,{size:"medium",block:!0,dangerous_className:y.closeIcon}))))),m&&p.a.createElement(E.a,{orgId:e,onClose:()=>v(!1)}))};var P=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less"),F={insert:"head",singleton:!1},L=(f()(P.a,F),P.a.locals||{}),M=n("./app/src/components/TeamBillingView/useBillingStep.tsx"),R=n("./app/src/components/StandardGenerics/index.ts");const V=Object(b.forNamespace)("free trial existing"),U=({orgId:e,dismissBanner:t,data:n})=>{var i,a;const{isStandardVariationEnabled:r}=Object(R.useStandard)({orgId:e}),{setStep:s}=Object(M.a)(),o=null==n||null===(i=n.organization)||void 0===i?void 0:i.displayName,l=null==n||null===(a=n.organization)||void 0===a?void 0:a.name,c=l?"/".concat(l,"/billing"):"",d=Object(u.useCallback)((()=>{w.Analytics.sendClickedButtonEvent({buttonName:"upgradeButton",source:"freeTrialBanner",containers:{organization:{id:e}}})}),[e]),m=Object(u.useCallback)((e=>{s({step:e}),d()}),[s,d]);return p.a.createElement(j.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:A.Feature.FreeTrialExistingTeam}},p.a.createElement("div",{className:h()(L.container,L.expiredBg),"data-test-id":x.FreeTrialTestIds.ExpiredFreeTrialBanner,role:"banner"},p.a.createElement("div",{className:L.bcContainer},p.a.createElement("span",{role:"img","aria-label":"wave",className:L.emoji},"👋"),V(["banner","expired tagline"],{teamName:p.a.createElement(p.a.Fragment,{key:o},o)})),p.a.createElement("section",{className:L.ctaContainer},p.a.createElement("div",{className:L.linkContainer},r&&p.a.createElement(N.b,{testId:x.FreeTrialTestIds.ExplorePlansButton,role:"button",className:L.linkCta,href:c,onClick:()=>m("details")},V(["banner","explore-plans"])),p.a.createElement(N.b,{testId:x.FreeTrialTestIds.AddPaymentMethodButton,role:"button",className:L.linkButton,href:c,onClick:()=>m("billing")},V(["banner","add-payment-method"]))),p.a.createElement("button",{className:L.closeButton,onClick:t},p.a.createElement(S.a,{size:"medium",block:!0,dangerous_className:L.closeIcon})))))};var z=n("./packages/browser/index.ts"),H=n("./node_modules/js-cookie/src/js.cookie.js"),W=n.n(H),Y=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q={context:{operationName:"FreeTrialBanner"}},X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"expirationDates"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardType"}}]}}]}}]}}]};var Q=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),J=n("./packages/organizations/index.ts"),Z=n("./packages/product-features/index.ts"),ee=n("./app/src/components/Moonshot/experimentVariation.ts");const te=({orgId:e})=>{var t,n,i,a;const[r]=d(),s=Object(Q.a)(e),{hasCredit:o,isTrialActive:l,trialSource:c,isAdmin:u,totalFreeTrialCredits:m}=s,{data:h,loading:g}=function(e){const t=G(G({},q),e);return Y.a(X,t)}({variables:{orgId:e}}),b=m>1?"free-trial-banner-".concat(m,"-").concat(e):"free-trial-banner-".concat(e),v=null!=h&&null!==(t=h.member)&&void 0!==t&&t.oneTimeMessagesDismissed?null==h||null===(n=h.member)||void 0===n?void 0:n.oneTimeMessagesDismissed:[];if(!o||v.includes(b)||g||!h||null!=h&&null!==(i=h.organization)&&void 0!==i&&i.idEnterprise||Z.ProductFeatures.isStandardProduct(null==h||null===(a=h.organization)||void 0===a?void 0:a.products[0])||Object(z.dontUpsell)())return null;const f=W.a.get("simulateExpiredTrial"),_=l&&!f,k=c===J.TrialSource.Moonshot,y=async()=>{w.Analytics.sendDismissedComponentEvent({componentType:"banner",componentName:"freeTrialBanner",source:Object(w.getScreenFromUrl)(),containers:{organization:{id:e}}}),r({variables:{memberId:"me",messageId:b},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:v.concat([b]),__typename:"Member"}}})};return!u&&!_||!Object(ee.isCompletelyFreeTrial)()&&u&&k?null:((async()=>{const t=u&&_?"admin":_?"normal":"expired";w.Analytics.sendViewedBannerEvent({bannerName:"freeTrialBanner",source:Object(w.getScreenFromUrl)(),containers:{organization:{id:e}},attributes:{type:t}})})(),p.a.createElement(j.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:A.Feature.FreeTrialExistingTeam}},_?p.a.createElement(B,{orgId:e,dismissBanner:y,data:h,freeTrialRules:s}):p.a.createElement(U,{orgId:e,dismissBanner:y,data:h})))};var ne=n("./app/src/components/FreeTrial/ExpiredTrialPlanSelection.tsx"),ie=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx")},"./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var i=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={context:{operationName:"FreeTrialEligibilityRules"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialEligibilityRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isRealEnterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standing"}}]}},{kind:"Field",name:{kind:"Name",value:"credits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}},{kind:"Argument",name:{kind:"Name",value:"count"},value:{kind:"IntValue",value:"11"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};var c=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={context:{operationName:"AddFreeTrialCredit"}},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrialCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"count"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"count"},value:{kind:"Variable",name:{kind:"Name",value:"count"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"standing"}},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"}}]}}]}}]}}]};var g=n("./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql"),b=n.n(g),v=n("./app/src/components/Moonshot/MoonshotOrganizationQuery.graphql"),f=n.n(v),_=n("./packages/organizations/index.ts"),k=n("./packages/paid-account/index.ts"),y=n("./app/scripts/controller/navigate.js"),E=n("./packages/atlassian-analytics/index.ts"),w=n("./packages/graphql-error-handling/index.ts"),C=n("./app/scripts/views/lib/alerts.js"),T=n.n(C),O=n("./packages/dates/index.ts"),j=n("./node_modules/moment/moment.js"),A=n.n(j),x=n("./packages/product-features/index.ts"),N=n("./app/src/components/Moonshot/experimentVariation.ts");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=(e,t={skip:!1})=>{var n,a,s,d,p;const{data:g,loading:v}=function(e){const t=r(r({},o),e);return i.a(l,t)}({variables:{orgId:e||""},skip:!e||t.skip}),[C,{loading:j}]=function(e){const t=u(u({},m),e);return c.a(h,t)}(),S=null==g?void 0:g.member,D=null==g?void 0:g.organization,B=(null==S?void 0:S.id)||"",P=(null==D?void 0:D.products)||[],F=x.ProductFeatures.isStandardProduct(null==P?void 0:P[0]),L=!(null==S||null===(n=S.enterprises)||void 0===n||null===(a=n.find((e=>e.id===(null==S?void 0:S.idEnterprise))))||void 0===a||!a.isRealEnterprise),M=null==S?void 0:S.confirmed,R=null==D?void 0:D.name,V=(null==D?void 0:D.credits)||[],U=Object(k.needsCC)(null==D||null===(s=D.paidAccount)||void 0===s?void 0:s.standing),z=Object(_.getFreeTrialProperties)(V,P),H=!(null==z||!z.credit),W=V.some((e=>"freeTrial"===e.type&&A()(Object(O.f)(e.id)).add(e.count,"day").isAfter("2021-02-09T00:00:00+0000"))),Y=V.filter((e=>"freeTrial"===e.type)).length,K=!(null==D||!D.memberships.find((e=>e.idMember===B&&"admin"===e.memberType))),G=((null==D||null===(d=D.boards)||void 0===d?void 0:d.length)||0)>10;return{startFreeTrial:async({redirect:t,count:n}={redirect:!0},i)=>{if(e&&!v&&!W&&!j){try{await C({variables:I({orgId:e},n?{count:n}:{}),refetchQueries:[{query:b.a,variables:{orgId:e}},...Object(N.isCompletelyFreeTrial)()?[{query:f.a,variables:{orgId:e}}]:[]]}),i&&E.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:i,containers:{organization:{id:e}}})}catch(e){var a;T.a.showLiteralText(e,"error","useFreeTrialEligibilityRules",5e3);const t=Object(w.c)(e);i&&E.Analytics.sendOperationalEvent({action:"errored",actionSubject:"freeTrial",source:i,attributes:{errorMessage:null!==(a=null==t?void 0:t.message)&&void 0!==a?a:null==e?void 0:e.message,errorCode:null==t?void 0:t.code}})}t&&Object(y.navigate)("/".concat(R,"/getting-started"),{trigger:!0,replace:!0})}},addingTrial:j,isAdmin:K,hasCredit:H,isTrialActive:null==z?void 0:z.isActive,isExpired:null==z?void 0:z.isExpired,isEligible:K&&!W&&!U&&M&&!L&&!F,loading:v,daysLeft:(null==z?void 0:z.daysLeft)||0,trialSource:null==z?void 0:z.trialSource,startDate:null==z?void 0:z.startDate,days:null==z?void 0:z.days,endDate:null!==(p=null==z?void 0:z.expiresAt)&&void 0!==p?p:null,totalFreeTrialCredits:Y,hasOverTenOpenBoards:G}}},"./app/src/components/InfiniteList/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"InfiniteList",(function(){return o}));var i=n("./node_modules/@researchgate/react-intersection-list/lib/es/index.js"),a=n("./packages/nachos/spinner.ts"),r=n("./node_modules/react/index.js"),s=n.n(r);class o extends s.a.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{itemCount:n,loadMore:i}=this.props;i&&e>=n&&i(e,t)},(n="loadMoreItems")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{axis:e,renderEmpty:t,renderItem:n,itemCount:r,itemsRenderer:o,isLoading:l=!1,awaitMore:c,pageSize:d,spinnerClassName:u,threshold:p}=this.props;return s.a.createElement(s.a.Fragment,null,t&&t(0===r),s.a.createElement(i.a,{renderItem:n,itemCount:r,awaitMore:c,onIntersection:this.loadMoreItems,itemsRenderer:o,pageSize:d,threshold:p,axis:e}),l&&s.a.createElement(a.a,{centered:!0,wrapperClassName:u}))}}},"./app/src/components/Label/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=new(n("./packages/shared-state/index.ts").a)({showText:!1},{storageKey:"labelState"})},"./app/src/components/Moonshot/MoonshotOrganizationQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoonshotOrganization"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logoHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"credits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"standardVariation"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:280}};n.loc.source={body:"query MoonshotOrganization($orgId: ID!){\n  organization(id: $orgId) @client {\n    id\n    url\n    name\n    displayName\n    logoHash\n    memberships {\n      idMember\n      memberType\n    }\n    credits {\n      id\n      count\n      type\n    }\n    products\n    standardVariation\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.MoonshotOrganization=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"MoonshotOrganization")},"./app/src/components/Moonshot/experimentVariation.ts":function(e,t,n){"use strict";let i;n.r(t),n.d(t,"experimentVariation",(function(){return r})),n.d(t,"isMoonshotRedesign",(function(){return s})),n.d(t,"isCompletelyFreeTrial",(function(){return o})),function(e){e.CONTROL="control",e.NOT_ENROLLED="not-enrolled",e.EXPERIMENT="experiment"}(i||(i={}));var a=n("./packages/feature-flag-client/index.ts");const r=e=>a.featureFlagClient.getTrackedVariation(e,i.NOT_ENROLLED),s=()=>r("tofu.simplified-moonshot")===i.EXPERIMENT,o=()=>r("tofu.no-cc-free-trial")===i.EXPERIMENT},"./app/src/components/MoveCardPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MoveCardPopover",(function(){return y}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./packages/nachos/select.ts"),l=n("./packages/colors/index.ts"),c=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={context:{operationName:"MoveCardPopover"}},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoveCardPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"visible"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idList"}}]}}]}}]}}]};var g=n("./packages/i18n/index.ts"),b=n("./app/scripts/lib/localize.js"),v=n("./app/scripts/lib/util/index.js"),f=n("./packages/test-ids/index.ts");const _=Object(g.forTemplate)("popover_move_card"),k=Object(g.forTemplate)("move_card_controls"),y=({hasEnterprise:e=!1,hideBoardSelect:t=!1,isMove:n=!0,isCopy:r=!1,currentIndex:d,defaultBoardId:p,defaultBoardName:g,defaultListId:y,defaultListName:E,enterpriseName:w="",cardList:C,organizations:T,onSubmit:O,restrictToCurrentBoard:j=!1,suggestions:A=[]})=>{const[x,N]=Object(i.useState)(p),[S,I]=Object(i.useState)(y),[D,B]=Object(i.useState)("bottom"),[P,F]=Object(i.useState)(d),{data:L,loading:M}=function(e){const t=u(u({},m),e);return c.a(h,t)}({fetchPolicy:"network-only",nextFetchPolicy:"cache-first",variables:{boardId:x}}),R=S===y,V=T.map((e=>({label:e.displayName,options:e.boards.map((e=>({label:e.name,value:e.id})))}))),U=L&&L.board?L.board.lists.map((e=>({label:e.name,value:e.id}))):[{label:E,value:y}];let z=U&&U.find((({value:e})=>e===S))||U[0];const H=L&&L.board&&L.board.cards?L.board.cards.filter((({idList:e})=>e===S)).length:0;let W=H||C.length;C.length>H&&R&&(W=C.length),z&&!R&&(W=H+1);const Y=L&&L.board?[...Array(W).keys()].map((e=>({label:e+1,value:e}))):[{label:d+1,value:d}];let K=Y[P]||Y[Y.length-1];U.length||(z={label:Object(b.l)("no lists"),value:""},K={label:Object(b.l)("n/a"),value:-1}),Object(i.useEffect)((()=>{!M&&I(z.value),!M&&!R&&F(W)}),[z.value,M,W,R]),Object(i.useEffect)((()=>{!M&&F(K.value)}),[K.value,M]),Object(i.useEffect)((()=>{B((()=>0===P?"top":P===H?"bottom":Object(v.calcPos)(P,C)))}),[P,C,H]);const G=Object(i.useCallback)((e=>{O(e,x,S,D,P)}),[O,x,P,S,D]);return a.a.createElement(a.a.Fragment,null,A.length>0&&a.a.createElement("div",{className:"pop-over-section"},a.a.createElement("h4",null,a.a.createElement("span",{className:"icon-sm icon-sparkle"}),_("suggested")),A.map((e=>a.a.createElement("a",{className:s()({"button-link":!0,"js-suggested-move":!0,"flip-icon":"left"===e.direction}),key:e.id,href:"#","data-id":e.id,"data-position":e.position},a.a.createElement("span",{className:"icon-sm icon-move"}),e.name)))),a.a.createElement("div",{className:"pop-over-section"},a.a.createElement("h4",null,_("select-destination")),a.a.createElement("div",{className:"form-grid"},!t&&a.a.createElement("div",{className:"form-grid-child form-grid-child-full"},j?a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{style:{color:l.N800,fontSize:"14px",marginBottom:"2px",lineHeight:"20px"}},k("board")),a.a.createElement("p",null,T[0].boards[0].name)):a.a.createElement(o.a,{label:k("board"),options:V,defaultValue:{label:g,value:p},onChange:({value:e})=>N(e),isSearchable:!0,testId:f.SelectTestIds.MoveBoardSelect}),e&&w&&n&&a.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},k("card-can-only-be-moved-to-teams-within-org",{enterpriseName:w})),e&&w&&r&&a.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},k("card-can-only-be-copied-to-teams-within-org",{enterpriseName:w}))),a.a.createElement("div",{className:"form-grid-child form-grid-child-threequarters",style:{maxWidth:"100%"}},a.a.createElement(o.a,{label:k("list"),options:U,value:z,onChange:({value:e})=>I(e),isSearchable:!0,isDisabled:!U.length})),a.a.createElement("div",{className:"form-grid-child"},a.a.createElement(o.a,{label:k("position"),options:Y,value:K,onChange:({value:e})=>F(e),isSearchable:!0,isDisabled:!U.length})))),a.a.createElement("input",{className:"nch-button nch-button--primary wide",type:"submit",disabled:!U.length,onClick:e=>G(e),value:_("move")}))}},"./app/src/components/Navigation/SearchUtils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l}));var i=n("./node_modules/flexsearch/dist/flexsearch.min.js"),a=n.n(i);const r=e=>e.trim().toLocaleLowerCase().replace(/[àáâãäå]/g,"a").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõöő]/g,"o").replace(/[ùúûüű]/g,"u").replace(/[ýŷÿ]/g,"y").replace(/ñ/g,"n").replace(/[çc]/g,"k").replace(/ß/g,"s").replace(/ & /g," and ").replace(/[-_/\\]/g," ").replace(/[,.?#!@~$%^*()+='"<>[\]{}:;]/g,"").replace(/\s+/g," "),s={izer:"ize",ance:"",ence:"",ness:"",able:"",ible:"",ment:"",ful:"",ent:"",ism:"",ed:"",s:""},o=()=>a.a.create({encode:r,split:/\s+/,stemmer:s,tokenize:"full"}),l=()=>a.a.create({encode:r,split:/\s+/,stemmer:s,tokenize:"full"})},"./app/src/components/NewFeature/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"FeatureId",(function(){return i.a})),n.d(t,"NewPill",(function(){return z})),n.d(t,"useNewFeature",(function(){return I}));var i=n("./app/src/components/NewFeature/FeatureRolloutConfig.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),s=n("./packages/atlassian-analytics/index.ts"),o=n("./packages/i18n/index.ts"),l=n("./app/src/components/Lozenge/index.ts"),c=n("./node_modules/moment/moment.js"),d=n.n(c),u=n("./packages/dates/index.ts"),p=n("./packages/shared-state/index.ts"),m=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={context:{operationName:"AcknowledgeNewFeature"}},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AcknowledgeNewFeature"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var _=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={context:{operationName:"NewFeature"}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewFeature"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const N=e=>{const[,t]=i.b[e],n=d()(t,i.c).valueOf();return"ack-new-feature-".concat(e,"-").concat(n)},S=new p.a({},{storageKey:"newFeaturesSeen",session:!0}),I=e=>{const{data:t}=function(e){const t=y(y({},w),e);return _.a(C,t)}(),[n]=function(e){const t=g(g({},v),e);return m.a(f,t)}(),[r,o]=Object(p.c)(S),l=Object(a.useMemo)((()=>{var n;if(null==t||null===(n=t.member)||void 0===n||!n.id)return!1;const{id:a,oneTimeMessagesDismissed:r}=t.member,s=Object(u.f)(a),[o,l]=i.b[e];if(d()(o,i.c).isBefore(s)||d()(l,i.c).isBefore(Date.now()))return!1;const c=N(e);return!(null!=r?r:[]).includes(c)}),[t,e]),c=Object(a.useRef)(!1);Object(a.useEffect)((()=>{l&&!c.current&&(s.Analytics.sendOperationalEvent({action:"exposed",actionSubject:"newFeature",source:Object(s.getScreenFromUrl)(),attributes:{featureId:e}}),c.current=!0)}),[e,l,c]);const h=Object(a.useCallback)((async({source:t,explicit:i=!1})=>{const a=null!=r?r:{},{[e]:c}=a,d=A(a,[e].map(x));if(l){const t=N(e);await n({variables:{messageId:t}}),o(O(O({},d),{},{[e]:!i}))}else{if(!i||!0!==c)return;o(O(O({},d),{},{[e]:!1}))}s.Analytics.sendTrackEvent({action:"acknowledged",actionSubject:"newFeature",source:t,attributes:{featureId:e,explicit:i}})}),[e,l,n,r,o]);return{isNewFeature:l||!(null==r||!r[e]),acknowledgeNewFeature:h}};var D=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),B=n.n(D),P=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/NewFeature/NewPill.less"),F={insert:"head",singleton:!1},L=(B()(P.a,F),P.a.locals||{});const M=["featureId","source","markViewed","dismissOnClick","children"];function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const U=Object(o.forNamespace)("new feature"),z=e=>{let{featureId:t,source:n,markViewed:i=!0,dismissOnClick:o=!1,children:c}=e,d=V(e,M);const{isNewFeature:u,acknowledgeNewFeature:p}=I(t),[m,h]=Object(a.useState)(i);if(Object(a.useEffect)((()=>{m&&u&&(p({source:n}),h(!1),s.Analytics.sendViewedComponentEvent({componentType:"pill",componentName:"newFeaturePill",source:n,attributes:{featureId:t}}))}),[t,u,p,m,h,n]),!u)return null;return r.a.createElement("a",{className:o?L.link:L.unstyledLink,onClick:()=>{o&&p({source:n,explicit:!0}),s.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"newFeaturePill",source:n,attributes:{featureId:t,dismissOnClick:o}})},role:"button",tabIndex:o?0:void 0},r.a.createElement(l.a,R({color:"green"},d),r.a.createElement("span",{className:L.lozenge},c||U("new"))))}},"./app/src/components/Null/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Null",(function(){return i}));const i=()=>null},"./app/src/components/Onboarding/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return y}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts");const s=e=>{const t=Object(r.useLazyComponent)((()=>n.e(6).then(n.bind(null,"./packages/nachos/onboarding-experimental.ts"))),{namedImport:"SpotlightManager"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))},o=e=>{const t=Object(r.useLazyComponent)((()=>n.e(6).then(n.bind(null,"./packages/nachos/onboarding-experimental.ts"))),{namedImport:"Spotlight"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))},l=e=>{const t=Object(r.useLazyComponent)((()=>n.e(6).then(n.bind(null,"./packages/nachos/onboarding-experimental.ts"))),{namedImport:"SpotlightTarget"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))},c=e=>{const t=Object(r.useLazyComponent)((()=>n.e(6).then(n.bind(null,"./packages/nachos/onboarding-experimental.ts"))),{namedImport:"SpotlightTransition"});return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(t,e))};var d=n("./node_modules/classnames/index.js"),u=n.n(d),p=n("./packages/layer-manager/index.ts"),m=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=n.n(m),g=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Onboarding/Pulse.less"),b={insert:"head",singleton:!1},v=(h()(g.a,b),g.a.locals||{});const f=["className","spotlightOpen"];function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const y=e=>{let{className:t,spotlightOpen:n}=e,i=k(e,f);const r=n?{[p.ELEVATION_ATTR]:Object(p.getHighestVisibleElevation)()+1}:{};return a.a.createElement("a",_({className:u()(v.pulse,t)},r,i),a.a.createElement("div",{className:v.disableClicks},i.children))}},"./app/src/components/PopoverConfirm/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("./packages/nachos/button.ts"),a=n("./packages/i18n/index.ts"),r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{});const p=({confirmKey:e,confirmCallback:t,confirmSubstitutions:n,isDanger:r})=>{const o=Object(a.forNamespace)(["confirm",e]);return s.a.createElement("div",{className:u.confirmContainer},s.a.createElement("p",null,o("text",n)),s.a.createElement(i.Button,{appearance:r?"danger":"primary",autoFocus:!0,onClick:t,size:"fullwidth"},o("confirm",n)))}},"./app/src/components/PowerUp/LoadingSkeleton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LoadingSkeleton",(function(){return p}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./app/src/components/PowerUp/PowerUp.less"),l=n("./app/src/components/PowerUp/types.ts");const c=({className:e})=>a.a.createElement("div",{className:s()(o.a.flexRowSpaceBetween,e)},a.a.createElement("div",{className:o.a.flexRow},a.a.createElement("div",{className:o.a.relative},a.a.createElement("span",{className:s()(o.a.icon,o.a.loadingSkeleton)})),a.a.createElement("div",{className:o.a.nameContainer},a.a.createElement("span",{className:s()(o.a.name,o.a.loadingSkeleton)}))),a.a.createElement("span",{className:s()(o.a.loadingSkeletonButton,o.a.loadingSkeleton)})),d=({className:e})=>a.a.createElement("div",{className:s()(o.a.flexColumn,o.a.descriptionAtom,e)},a.a.createElement(c,null),a.a.createElement("span",{className:s()(o.a.description,o.a.loadingSkeleton)})),u=({className:e})=>a.a.createElement("div",{className:s()(o.a.featuredAtomContainer,e)},a.a.createElement("div",{className:s()(o.a.heroImage,o.a.loadingSkeleton)}),a.a.createElement("div",{className:s()(o.a.flexColumn,o.a.featuredAtom)},a.a.createElement(c,null),a.a.createElement("span",{className:s()(o.a.description,o.a.loadingSkeleton)}))),p=e=>e.type===l.a.Featured?a.a.createElement(u,e):e.type===l.a.Description?a.a.createElement(d,e):a.a.createElement(c,e)},"./app/src/components/PowerUp/PowerUp.less":function(e,t,n){"use strict";var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUp/PowerUp.less"),s={insert:"head",singleton:!1};a()(r.a,s);t.a=r.a.locals||{}},"./app/src/components/PowerUp/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"PowerUpItemType",(function(){return i.a})),n.d(t,"PowerUp",(function(){return S}));var i=n("./app/src/components/PowerUp/types.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),s=n("./node_modules/classnames/index.js"),o=n.n(s),l=n("./app/src/components/PowerUp/PowerUp.less");const c=({name:e,subtitle:t,icon:n})=>r.a.createElement("div",{className:l.a.flexRow},r.a.createElement("div",{className:l.a.relative},r.a.createElement("span",{className:l.a.icon,style:{backgroundImage:"url(".concat(n.url,")")}})),r.a.createElement("div",{className:l.a.nameContainer},r.a.createElement("span",{className:l.a.name},e),t&&r.a.createElement("span",{className:l.a.subtitle},t)));var d=e=>r.a.createElement("div",{className:o()(l.a.twoColumnGrid,e.className)},r.a.createElement(c,e),e.button),u=n("./packages/i18n/index.ts"),p=n("./packages/nachos/icons/board.tsx");const m=Object(u.forTemplate)("directory_power_up_item");var h=({button:e,usage:t,promotional:n,staffPick:i,integration:a})=>r.a.createElement("div",{className:l.a.badges},e,"number"==typeof t&&t>0&&r.a.createElement("div",{className:l.a.pupBadge,title:m("usage-explanation",{count:t.toLocaleString()})},r.a.createElement(p.BoardIcon,{dangerous_className:l.a.usageBadgeIcon}),r.a.createElement("span",null,t.toLocaleString(),"+")),a&&r.a.createElement("div",{className:o()(l.a.pupBadge,l.a.pupIntegrationBadge),title:m("integration-explanation")},r.a.createElement("span",null,m("integration"))),n&&r.a.createElement("div",{className:o()(l.a.pupBadge,l.a.bonusBadge),title:m("bonus-explanation")},r.a.createElement("span",null,m("bonus"))),i&&r.a.createElement("div",{className:o()(l.a.pupBadge,l.a.bonusBadge),title:m("staff-pick-explanation")},r.a.createElement("span",null,m("staff-pick"))));const g=["className","overview","icon","name","promotional","staffPick","integration","usage"],b=["className"];function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const _=e=>{let{className:t,overview:n,icon:i,name:a,promotional:s,staffPick:c,integration:d,usage:u}=e,p=f(e,g);return r.a.createElement("div",{className:o()(l.a.descriptionAtomGrid,t)},r.a.createElement("div",{className:l.a.logoNameGrid},r.a.createElement("span",{className:l.a.icon,style:{backgroundImage:"url(".concat(i.url,")")}}),r.a.createElement("span",{className:l.a.name,title:a},a)),p.button,r.a.createElement("span",{className:l.a.description},n),r.a.createElement(h,{promotional:s,usage:u,staffPick:c,integration:d}))};var k=e=>{let{className:t}=e,n=f(e,b);return r.a.createElement(_,v({className:o()(l.a.descriptionAtom,t)},n))};const y=["className","heroImageUrl"];function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var C=e=>{let{className:t,heroImageUrl:n}=e,i=w(e,y),a="";const s=[];return n&&(n["@1x"]&&(a=n["@1x"],s.push(n["@1x"])),n["@2x"]&&s.push("".concat(n["@2x"]," 2x"))),r.a.createElement("div",{className:o()(l.a.featuredAtomContainer,t)},r.a.createElement("img",{alt:"",className:l.a.heroImage,role:"presentation",src:a,srcSet:s.join(", ")}),r.a.createElement(_,E({className:l.a.featuredAtom},i)))};const T=["className","icon","name","subtitle","promotional","staffPick","integration","usage"],O=["className"];function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const x=e=>{let{className:t,icon:n,name:i,subtitle:a,promotional:s,staffPick:c,integration:d,usage:u}=e,p=A(e,T);return r.a.createElement("div",{className:o()(l.a.listingAtomGrid,t)},r.a.createElement("div",{className:l.a.logoNameGrid},r.a.createElement("span",{className:l.a.icon,style:{backgroundImage:"url(".concat(n.url,")")}}),r.a.createElement("div",{className:l.a.nameContainer},r.a.createElement("span",{className:l.a.listingName,title:i},i),a&&r.a.createElement("span",{className:l.a.subtitle},a))),r.a.createElement(h,{button:p.button,usage:u,promotional:s,staffPick:c,integration:d}))};var N=e=>{let{className:t}=e,n=A(e,O);return r.a.createElement(x,j({className:t},n))};const S=({type:e,atomProps:t})=>e===i.a.Featured?r.a.createElement(C,t):e===i.a.Description?r.a.createElement(k,t):e===i.a.Listing?r.a.createElement(N,t):r.a.createElement(d,t)},"./app/src/components/PowerUp/types.ts":function(e,t,n){"use strict";let i;n.d(t,"a",(function(){return i})),function(e){e[e.Basic=0]="Basic",e[e.Description=1]="Description",e[e.Featured=2]="Featured",e[e.Listing=3]="Listing",e[e.Integration=4]="Integration"}(i||(i={}))},"./app/src/components/PowerUpDirectory/Banner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./packages/i18n/index.ts"),l=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),c=n.n(l),d=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/Banner.less"),u={insert:"head",singleton:!1},p=(c()(d.a,u),d.a.locals||{}),m=n("./app/src/components/WorkspaceNavigation/index.ts");const h=Object(o.forTemplate)("directory"),g=({heading:e,paragraph:t})=>{const[{expanded:n,enabled:i}]=Object(m.useWorkspaceNavigation)(),[{hidden:r}]=Object(m.useWorkspaceNavigationHidden)(),o=i&&!r&&n;return a.a.createElement("div",{className:s()(p.directoryBannerContainer,{[p.workspaceNavigationExpanded]:o})},a.a.createElement("div",{className:s()(p.directoryBanner,{[p.workspaceNavigationExpanded]:o})},a.a.createElement("div",null,a.a.createElement("h1",{className:p.bannerHeading},h(e)),a.a.createElement("p",{className:p.bannerParagraph},h(t)),a.a.createElement("div",null))))}},"./app/src/components/PowerUpDirectory/HomePage.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"getPluginsByTag",(function(){return h})),n.d(t,"sortFeaturedPowerUps",(function(){return g})),n.d(t,"HomePage",(function(){return b}));var i=n("./node_modules/underscore/underscore.js"),a=n.n(i),r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./packages/atlassian-analytics/index.ts"),l=n("./app/src/components/PowerUp/index.ts"),c=n("./app/src/components/PowerUpDirectory/PowerUpsList.tsx"),d=n("./packages/i18n/index.ts"),u=n("./app/src/components/PowerUpDirectory/Banner.tsx"),p=n("./packages/feature-flag-client/index.ts");const m=Object(d.forTemplate)("directory_home");function h(e,t){return e?e.filter((e=>e.tags.includes(t))):[]}const g=e=>{const t=[],n=[];for(const i of e)i.tags.find((e=>/^pos-\d+$/.test(e)))?t.push(i):n.push(i);return[...a.a.sortBy(t,(e=>{const t=e.tags.find((e=>/^pos-\d+$/.test(e)));if(!t)return 100;const n=/^pos-(\d+)$/.exec(t);return n?parseInt(n[1],10):100})),...a.a.shuffle(n)]},b=({plugins:e})=>{const t=h(e,"essential"),n=h(e,"integration"),i=g(h(e,"featured")),a=Object(p.useFeatureFlag)("workflowers.show-integrations-in-pup-dir",!1);return Object(r.useEffect)((()=>{o.Analytics.sendScreenEvent({name:"publicDirectoryHomeScreen",attributes:{totalListed:i.length+t.length,isMarketingEvent:!0}})})),s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{heading:"power-ups-for-trello",paragraph:"calendars-custom-fields-repeating-cards-and-so-much-more-with-integrations-like-jira-slack-google-drive-invision-get-your-trello-superpowers-now"}),s.a.createElement(c.a,{title:m("featured-power-ups"),plugins:i,type:l.PowerUpItemType.Featured}),a&&s.a.createElement(c.a,{title:m("integrations"),plugins:n,type:l.PowerUpItemType.Featured}),s.a.createElement(c.a,{title:m("essential-power-ups"),plugins:t,type:l.PowerUpItemType.Featured}))}},"./app/src/components/PowerUpDirectory/PowerUpsList.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("./node_modules/classnames/index.js"),a=n.n(i),r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./app/src/components/PowerUp/index.ts"),l=n("./packages/test-ids/index.ts"),c=n("./node_modules/@atlassian/trello-markdown/lib/index.js"),d=n.n(c),u=n("./packages/atlassian-analytics/index.ts"),p=n("./packages/nachos/button.ts"),m=n("./app/gamma/src/util/url.ts"),h=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),g=n.n(h),b=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpItem.less"),v={insert:"head",singleton:!1},f=(g()(b.a,v),b.a.locals||{}),_=n("./packages/analytics/index.ts"),k=n("./packages/i18n/index.ts"),y=n("./app/src/router/index.ts"),E=n("./app/src/components/RouterLink/RouterLink.tsx"),w=n("./packages/feature-flag-client/index.ts"),C=n("./packages/config/index.ts");const T=Object(k.forTemplate)("directory_power_up_item"),O=new d.a,j=e=>{const{listing:t}=e,n=t?t.overview:"",i=t?t.description:"";return O.text(n||i||"").output},A=e=>{const t=e.listing?e.listing.name:"";return e.public?t:void 0},x=({plugin:e})=>s.a.createElement(E.b,{onClick:t=>{u.Analytics.sendClickedButtonEvent({buttonName:"powerUpAddButton",source:"powerUpCard",attributes:{powerUpId:e.id,powerUpName:A(e),isPowerUpPublic:e.public,idOrganizationOwner:e.idOrganizationOwner,tags:e.tags}})},href:"/power-ups/".concat(e.id,"/enable"),className:f.buttonAnchor},s.a.createElement(p.Button,{appearance:"primary",className:f.addButton,"data-test-id":l.PowerUpTestIds.AddPowerUpButton},T("add"))),N=({plugin:e})=>{var t,n;const i=null!==(t=null===(n=e.listing)||void 0===n?void 0:n.name)&&void 0!==t?t:"";let a;if(e.id===C.microsoftTeamsId)a=C.microsoftTeamsUrl;else{if(e.id!==C.gmailId)return s.a.createElement(s.a.Fragment,null);a=C.gmailUrl}return s.a.createElement(E.b,{onClick:t=>{u.Analytics.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"powerUpAddButton",objectType:"powerUp",objectId:e.id,source:"powerUpCard",attributes:{powerUpName:e.public?i:void 0,tags:e.tags}})},href:a,className:f.buttonAnchor,target:"_blank"},s.a.createElement(p.Button,{appearance:"primary",className:f.addButton},T("configure")))},S=e=>{const{plugin:t,type:n}=e,{icon:i,listing:r}=t,l=Object(w.useFeatureFlag)("workflowers.show-integrations-in-pup-dir",!1);let c=t.heroImageUrl;t.heroImageUrl&&"string"==typeof t.heroImageUrl&&(c=JSON.parse(t.heroImageUrl));const d=a()(f.powerUpItem,{[f.listingPowerUpItem]:n===o.PowerUpItemType.Basic}),p=l&&(t.tags||[]).includes("integration");return s.a.createElement("div",{className:d,onClick:t=>((e,t)=>{if("BUTTON"!==e.target.tagName){const{plugin:e,type:n}=t,i=e.listing?e.listing.name:"";n!==o.PowerUpItemType.Basic&&(Object(_.trackUe)({category:_.Noun.POWER_UPS_DIRECTORY,verb:_.Verb.OPENS,directObj:_.Noun.POWER_UPS_LISTING,context:{pluginId:e.id}}),u.Analytics.sendUIEvent({action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",objectType:"powerUp",objectId:e.id,source:"publicDirectoryScreen",attributes:{powerUpName:e.public?i:void 0,tags:e.tags}}),y.defaultRouter.setRoute("/power-ups/".concat(e.id,"/").concat(Object(m.makeSlug)(i))))}})(t,e),role:"presentation"},s.a.createElement(o.PowerUp,{type:n,atomProps:{overview:j(t),icon:i,heroImageUrl:c,name:r?r.name:"",promotional:(t.tags||[]).includes("promotional"),staffPick:(t.tags||[]).includes("staff-pick"),usage:(t.usageBrackets||{}).boards||0,button:p?s.a.createElement(N,e):s.a.createElement(x,e),integration:p}}))};var I=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpsList.less"),D={insert:"head",singleton:!1},B=(g()(I.a,D),I.a.locals||{}),P=n("./app/src/components/WorkspaceNavigation/index.ts");const F=({title:e,plugins:t,type:n=o.PowerUpItemType.Description})=>{const[{expanded:i,enabled:r}]=Object(P.useWorkspaceNavigation)(),[{hidden:c}]=Object(P.useWorkspaceNavigationHidden)(),d=r&&!c&&i,u=t.map((e=>s.a.createElement(S,{key:e.id,type:n,plugin:e})));return s.a.createElement("div",{className:B.directoryPowerUpsList},s.a.createElement("div",{className:a()(B.directoryPowerUpsListHeader,{[B.workspaceNavigationExpanded]:d})},e&&s.a.createElement("h2",{dangerouslySetInnerHTML:{__html:e}})),s.a.createElement("div",{className:a()(B.flexRowWrap,B.powerUpsList,{[B.workspaceNavigationExpanded]:d}),"data-test-id":l.PowerUpTestIds.PowerUpsList},u))}},"./app/src/components/PowerUpDirectory/SearchHelper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"createSearchIndex",(function(){return d})),n.d(t,"SearchHelper",(function(){return u}));var i=n("./node_modules/underscore/underscore.js"),a=n.n(i),r=n("./node_modules/@atlassian/trello-markdown/lib/index.js"),s=n.n(r),o=n("./app/src/components/Navigation/SearchUtils.ts");const l=Object(o.c)(),c=Object(o.b)(),d=e=>{const t=new s.a;return c.init({encode:o.a,split:/\s+/,stemmer:o.d,tokenize:"full"}),l.init({encode:o.a,split:/\s+/,stemmer:o.d,tokenize:"full"}),e.forEach((e=>{if(e.listing&&(e.listing.name&&l.add(e.id,e.listing.name),e.listing.description||e.listing.overview)){const n=[t.text(e.listing.overview||"").output,t.text(e.listing.description||"").output].join(" ");c.add(e.id,n)}})),{search(t){const n=l.search(t,5),i=c.search(t,25);return a.a.uniq(n.concat(i)).map((t=>e.find((e=>e.id===t)))).filter((e=>Boolean(e)))}}},u={createSearchIndex:d}},"./app/src/components/QrCode/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"QrCode",(function(){return _})),n.d(t,"QrCodeType",(function(){return v})),n.d(t,"QrCodeStyle",(function(){return f})),n.d(t,"QrCodePopover",(function(){return P})),n.d(t,"QrCodeToggle",(function(){return U})),n.d(t,"QrCodeWrapper",(function(){return A}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/atlassian-analytics/index.ts"),s=n("./packages/nachos/button.ts"),o=n("./packages/nachos/spinner.ts"),l=n("./packages/i18n/index.ts"),c=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=n.n(c),u=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCode.less"),p={insert:"head",singleton:!1},m=(d()(u.a,p),u.a.locals||{});const h=n("./resources/images/qr-code/error.svg"),g="qrCodeSection",b=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1});let v,f;!function(e){e.board="board",e.card="card",e.boardInvite="board-invite",e.teamInvite="workspace-invite"}(v||(v={})),function(e){e.popover="popover",e.inline="inline"}(f||(f={}));const _=({url:e,type:t=v.board,style:n=f.popover,imageData:l="",hasErrored:c=!1,isLoading:d=!1,onTryAgain:u=(()=>{})})=>{const p=Object(i.useCallback)((()=>{r.Analytics.sendClickedButtonEvent({buttonName:"downloadButton",source:g,attributes:{type:t}})}),[t]),_=Object(i.useCallback)((()=>{u(),r.Analytics.sendClickedButtonEvent({buttonName:"tryAgainButton",source:g,attributes:{type:t}})}),[u,t]),k=()=>d?a.a.createElement(o.a,{centered:!0,wrapperClassName:m.qrCodeSpinner}):c||!l?a.a.createElement("img",{src:h,alt:b("error"),key:"errorImage"}):a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:l,alt:"".concat(b("qr-code")," for: ").concat(e),key:"qrCodeImage"}),a.a.createElement("i",{className:m.top}),a.a.createElement("i",{className:m.bottom})),y=()=>b(d||!c&&l?"".concat(t,"-text"):"something-went-wrong"),E=()=>d?a.a.createElement(s.Button,{isDisabled:!0,className:m.button},b("download")):c||!l?a.a.createElement(s.Button,{onClick:_,className:m.button},b("try-again")):a.a.createElement(s.ButtonLink,{link:l,download:"trello-".concat(t,"-qr-code.png"),isPrimary:!0,onClick:p,className:m.button},b("download"));return n===f.inline?a.a.createElement("div",{className:m.qrCodeInline},a.a.createElement("div",{className:m.qrCodeImage},k()),a.a.createElement("div",null,a.a.createElement("p",null,y()),a.a.createElement("p",null,E()))):a.a.createElement("div",{className:m.qrCodeContent},y(),a.a.createElement("div",{className:m.qrCodeImage},k()),E())};var k=n("./packages/nachos/popover.ts"),y=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={context:{operationName:"QrCode"}},O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QrCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"url"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"qrCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"url"},value:{kind:"Variable",name:{kind:"Name",value:"url"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageData"}}]}}]}}]};const j="qrCodeSection",A=({url:e,type:t=v.board,style:n=f.popover})=>{const[s,o]=Object(i.useState)(!1),[l,c]=Object(i.useState)(!1),[d,u]=Object(i.useState)(""),p=function(e){const t=w(w({},T),e);return y.a(O,t)}({variables:{url:e}});Object(i.useEffect)((()=>{var e;o(p.loading),p.error?(c(!0),r.Analytics.sendOperationalEvent({action:"errored",actionSubject:"qrCode",source:j,attributes:{type:t,error:p.error}})):null!=p&&null!==(e=p.data)&&void 0!==e&&e.qrCode&&(u(p.data.qrCode.imageData),r.Analytics.sendOperationalEvent({action:"fetched",actionSubject:"qrCode",source:j,attributes:{type:t}}))}),[p,t]);const m=Object(i.useCallback)((()=>{p.refetch()}),[p]);return a.a.createElement(_,{url:e,type:t,style:n,imageData:d,hasErrored:l,isLoading:s,onTryAgain:m})};var x=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodePopover.less"),N={insert:"head",singleton:!1},S=(d()(x.a,N),x.a.locals||{});function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const D="qrCodePopover",B=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1}),P=({url:e,type:t})=>{const{popoverProps:n,toggle:s,triggerRef:o}=Object(k.e)({onHide:()=>{r.Analytics.sendClosedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:D,attributes:{type:t}})},onShow:()=>{r.Analytics.sendViewedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:D,attributes:{type:t}})}}),l=Object(i.useCallback)((()=>{s(),r.Analytics.sendClickedLinkEvent({linkName:"toggleQrCodeLink",source:D,attributes:{type:t}})}),[s,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{role:"link",onClick:l,ref:o,className:S.showQrCodeLink},B("show-qr-code")),a.a.createElement(k.b,I({},n,{title:B("qr-code")}),a.a.createElement(A,{url:e,type:t,style:f.popover})))};var F=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodeToggle.less"),L={insert:"head",singleton:!1},M=(d()(F.a,L),F.a.locals||{});const R="qrCodeToggle",V=Object(l.forNamespace)(["qr_code"],{shouldEscapeStrings:!1}),U=({url:e,type:t})=>{const[n,s]=Object(i.useState)(!1);Object(i.useEffect)((()=>{n?r.Analytics.sendViewedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:R,attributes:{type:t}}):r.Analytics.sendClosedComponentEvent({componentType:"section",componentName:"qrCodeSection",source:R,attributes:{type:t}})}),[n]);const o=Object(i.useCallback)((()=>{s(!n),r.Analytics.sendClickedLinkEvent({linkName:"toggleQrCodeLink",source:R,attributes:{type:t}})}),[n,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{role:"link",onClick:o,className:M.showQrCodeLink},V(n?"hide-qr-code":"show-qr-code")),n?a.a.createElement(A,{url:e,type:t,style:f.inline}):null)}},"./app/src/components/QuickCardEditor/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ConvertCardRoleButton",(function(){return O}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/icons/leave-board.tsx"),s=n("./packages/i18n/index.ts"),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QuickCardEditor/QuickCardEditorButton.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{});const p=({icon:e,children:t,onClick:n})=>a.a.createElement("button",{className:u.button,onClick:n},e,a.a.createElement("span",{className:u.buttonLabel},t));var m=n("./app/src/components/QuickCardEditor/ChangeCardRoleMutation.generated.tsx"),h=n("./packages/graphql/generated.tsx"),g=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={context:{operationName:"ConvertCardRoleButton"}},k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConvertCardRoleButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"cardRole"}},{kind:"Field",name:{kind:"Name",value:"possibleCardRole"}}]}}]}}]};function y(e){const t=v(v({},_),e);return g.a(k,t)}var E=n("./app/scripts/network/rpc/index.js");var w=n("./packages/feature-flag-client/index.ts"),C=n("./packages/atlassian-analytics/index.ts");const T=Object(s.forTemplate)("quick_card_editor"),O=({idCard:e,onLoad:t,analyticsContainers:n})=>{var s,o;const[l]=Object(m.a)(),{data:c,loading:d}=y({variables:{idCard:e}});Object(i.useEffect)(t,[t,c]),function(e){const{refetch:t}=y({variables:{idCard:e}});Object(i.useEffect)((()=>{const n=n=>{"Card"===n.typeName&&n.deltas.find((t=>t.id===e))&&t()};return E.rpc.on("updateModels",n),()=>E.rpc.off("updateModels",n)}))}(e);let u=null==c||null===(s=c.card)||void 0===s?void 0:s.cardRole,g=null==c||null===(o=c.card)||void 0===o?void 0:o.possibleCardRole;const b="separator"===g;!w.featureFlagClient.get("wildcard.card-types-separator",!1)&&b&&(g=null,u=null);const v="board"===g;!w.featureFlagClient.get("wildcard.board-cards",!1)&&v&&(g=null,u=null);const f="link"===g;!w.featureFlagClient.get("wildcard.link-cards",!1)&&f&&(g=null,u=null);const _="mirror"===g;!w.featureFlagClient.get("wildcard.mirror-cards",!1)&&_&&(g=null,u=null);const k=Object(i.useCallback)((()=>{C.Analytics.sendClickedButtonEvent({buttonName:"convertCardButton",source:"quickCardEditorInlineDialog",attributes:{fromCardRole:u,toCardRole:u?null:g},containers:n})}),[n,u,g]),O=Object(i.useCallback)(((e,t)=>{C.Analytics.sendTrackEvent({action:"converted",actionSubject:"card",source:"quickCardEditorInlineDialog",attributes:{fromCardRole:e,toCardRole:t},containers:n})}),[n]),j=Object(i.useCallback)((()=>{k(),u?l({variables:{idCard:e,cardRole:null}}).then((()=>O(u,null))):v?l({variables:{idCard:e,cardRole:h.c.Board}}).then((()=>O(null,h.c.Board))):_?l({variables:{idCard:e,cardRole:h.c.Mirror}}).then((()=>O(null,h.c.Mirror))):b?l({variables:{idCard:e,cardRole:h.c.Separator}}).then((()=>O(null,h.c.Separator))):f&&l({variables:{idCard:e,cardRole:h.c.Link}}).then((()=>O(null,h.c.Link)))}),[k,u,v,_,b,f,l,e,O]);return d||!u&&!g?null:a.a.createElement(p,{icon:a.a.createElement(r.a,{color:"light",size:"small"}),onClick:j},!!u&&T("convert-to-regular-card"),!u&&v&&T("convert-to-board-card"),!u&&_&&T("convert-to-mirror-card"),!u&&b&&T("convert-to-separator-card"),!u&&f&&T("convert-to-link-card"))}},"./app/src/components/StandardGenerics/index.ts":function(e,t,n){"use strict";n.r(t);var i=n("./app/src/components/StandardGenerics/useStandard.ts");n.d(t,"getStandardVariation",(function(){return i.a})),n.d(t,"getStandardVariationEnabled",(function(){return i.b})),n.d(t,"useStandard",(function(){return i.c}))},"./app/src/components/StandardGenerics/useStandard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g}));var i=n("./node_modules/js-cookie/src/js.cookie.js"),a=n.n(i),r=n("./packages/feature-flag-client/index.ts"),s=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={context:{operationName:"StandardVariation"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StandardVariation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standardVariation"}}]}}]}}]};const p="nusku.phase-3",m=e=>a.a.get("force_standardVariation")||e||"control",h=e=>r.featureFlagClient.get(p,!1)&&"control"!==m(e),g=({standardVariation:e,orgId:t=""})=>{var n;const{data:i}=function(e){const t=l(l({},d),e);return s.a(u,t)}({variables:{orgId:t},skip:!t}),a=m(e||(null==i||null===(n=i.organization)||void 0===n?void 0:n.standardVariation)),o=Object(r.useFeatureFlag)(p,!1);return{isStandardFlagEnabled:o,isStandardVariationEnabled:o&&"control"!==a,standardVariation:a}}},"./app/src/components/TeamBillingView/useBillingStep.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./packages/shared-state/index.ts");const a=new i.b({step:"details"}),r=()=>{const[{step:e},t]=Object(i.c)(a);return{billingStep:e,setStep:t,resetBillingStep:()=>t({step:"details"})}}},"./app/src/components/TeamTypeSelect/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TeamTypeSelect",(function(){return k}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/i18n/index.ts"),s=n("./packages/organizations/index.ts"),o=n("./packages/nachos/select.ts"),l=n("./node_modules/underscore/underscore.js"),c=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=n.n(c),u=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamTypeSelect/TeamTypeSelect.less"),p={insert:"head",singleton:!1},m=(d()(u.a,p),u.a.locals||{});function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=Object(r.forNamespace)("team type dropdown"),f=Object(r.forNamespace)("team vertical selection"),_=Object(l.chain)(Object.values(s.TeamTypes)).without(s.TeamTypes.Other).shuffle().value().concat(s.TeamTypes.Other).map((e=>({label:f(e),value:e}))),k=({isDisabled:e,onChange:t,initialValue:n,testId:i,required:r,label:s,placeholder:l})=>{let c=n?{label:f(n),value:n}:{label:v("default option"),value:""};_.some((e=>e.value===n))||(c={label:l||v("default option"),value:""});let d=_;return i&&(d=d.map((e=>g(g({},e),{},{testId:"".concat(i,"-").concat(e.value)})))),a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"teamTypeSelect"},s||v("input label"),r&&a.a.createElement("span",{className:m.createTeamLabelstar},"*")),a.a.createElement(o.a,{inputId:"teamTypeSelect",defaultValue:c,isDisabled:e,options:d,onChange:e=>{t(e.value)},testId:i}))}},"./app/src/components/TimelineViewWrapper/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineViewWrapper",(function(){return d}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts"),s=n("./app/src/components/ErrorBoundary/index.ts"),o=n("./app/scripts/debug/constants.ts"),l=n("./app/src/components/BoardDashboardView/PermissionsContext.tsx"),c=n("./app/src/components/BoardViewContext/SingleBoardViewProvider.tsx");const d=({idBoard:e,navigateToCard:t,closeView:d})=>{const u=Object(r.useLazyComponent)((()=>n.e(208).then(n.bind(null,"./app/src/components/TimelineViewWrapper/TimelineView.tsx"))),{namedImport:"TimelineView"});return a.a.createElement(s.ErrorBoundary,{tags:{ownershipArea:"trello-ecosystem",feature:o.Feature.TimelineView}},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(l.b,{idBoard:e},a.a.createElement(c.a,{idBoard:e},a.a.createElement(u,{idBoard:e,navigateToCard:t,closeView:d})))))}},"./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),u=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),p=n("./packages/i18n/index.ts"),m=n("./packages/atlassian-analytics/index.ts");const h=Object(p.forNamespace)(["upgrade-path-audit"]),g=({orgId:e,teamName:t})=>{const{openPlanSelection:n}=Object(u.b)(e,"closed-board-upsell-".concat(e)),{isEligible:i}=Object(d.a)(e,{skip:!e});return a.a.createElement("span",{className:c.messaging},h("cannot-reopen-board-limit-reached",{upgrade:a.a.createElement("a",{key:"cannot-reopen-board-limit-reached",className:c.ctaLink,role:"button",onClick:()=>{n(),m.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"closeBoardScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!i,promptId:"closeBoardUpgradeLink"}})}},h("upgrade-team-to-business-class",{teamName:a.a.createElement("span",{key:"team-name"},t)}))}))}},"./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"FacePileLinkButton",(function(){return g}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./app/src/components/UpgradePrompts/index.ts"),s=n("./app/src/components/FreeTrial/index.ts"),o=n("./packages/i18n/index.ts"),l=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),c=n.n(l),d=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/FacePileLinkButton.less"),u={insert:"head",singleton:!1},p=(c()(d.a,u),d.a.locals||{}),m=n("./packages/atlassian-analytics/index.ts");const h=Object(o.forNamespace)(["upgrade-path-audit"]),g=({orgId:e})=>{const{openPlanSelection:t}=Object(r.useUpgradePromptRules)(e,"face-file-upsell-link-button"),{isEligible:n}=Object(s.useFreeTrialEligibilityRules)(e),o=Object(i.useRef)(null);return Object(i.useEffect)((()=>{var i;const a=i=>{i.stopPropagation(),i.preventDefault(),t(),m.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"allBoardMembersInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:n,promptId:"boardMemberDialogInline"}})};return null==o||null===(i=o.current)||void 0===i||i.addEventListener("click",a),()=>{var e;return null==o||null===(e=o.current)||void 0===e?void 0:e.removeEventListener("click",a)}})),a.a.createElement("div",{className:p.container},h("for-more-user-roles",{upgrade:a.a.createElement("button",{key:"face-pile-upsell-link-button",ref:o,className:p.upgradeButton},h("explore-bc-1"))}))}},"./app/src/components/UpgradePathAudit/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CopyBoardFromTemplatePopoverButton",(function(){return b})),n.d(t,"FacePileLinkButton",(function(){return v.FacePileLinkButton})),n.d(t,"ClosedBoardUpsellMessaging",(function(){return f.a})),n.d(t,"BoardHeaderOrgMenuPopoverButton",(function(){return C}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(r),o=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less"),l={insert:"head",singleton:!1},c=(s()(o.a,l),o.a.locals||{}),d=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),u=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),p=n("./packages/atlassian-analytics/index.ts"),m=n("./packages/i18n/index.ts"),h=n("./app/src/components/StandardGenerics/index.ts");const g=Object(m.forNamespace)(["upgrade-path-audit"]),b=({orgId:e,teamName:t})=>{const{isStandardVariationEnabled:n}=Object(h.useStandard)({orgId:e}),{isEligible:r}=Object(d.a)(e,{skip:!e}),{openPlanSelection:s}=Object(u.b)(e,"copy-board-from-template-popover-button-".concat(e)),o=Object(i.useCallback)((()=>{s(),p.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"createFromTemplateInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:r,promptId:"creatBoardFromTemplatePrompt"}})}),[s,e,r]);return g("cannot-copy-board-limit-reached",{teamName:a.a.createElement("span",{key:"team-name"},t)}),a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,n?g("free-workspace-can-only-have-10-open-boards"):g("cannot-copy-board-limit-reached",{teamName:a.a.createElement("span",{key:"team-name"},t)})),a.a.createElement("a",{href:"#",onClick:o,className:c.ctaButton},n?g("upgrade-now"):g("upgrade-team-to-business-class",{teamName:a.a.createElement("span",{key:"team-name"},t)})))};var v=n("./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx"),f=n("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx"),_=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less"),k={insert:"head",singleton:!1},y=(s()(_.a,k),_.a.locals||{}),E=n("./packages/nachos/spinner.ts");const w=Object(m.forNamespace)(["upgrade-path-audit"]),C=({orgId:e})=>{const{isEligible:t,loading:n}=Object(d.a)(e,{skip:!e}),{openPlanSelection:i,loading:r}=Object(u.b)(e,"board-header-org-menu-button-".concat(e));if(n||r)return a.a.createElement(E.a,{centered:!0});return a.a.createElement("a",{role:"button",className:y.ctaButton,onClick:()=>{i(),p.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"boardOrganizationInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!t,promptId:"newTeamInlinePrompt"}})}},w(t?"try-free-trial-bc":"upgrade-to-bc"))}},"./app/src/components/UpgradePrompts/UpgradePromptButton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptButton",(function(){return b})),n.d(t,"UpgradePromptButtonConnected",(function(){return v}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{}),p=n("./app/src/components/ComponentWrapper/index.ts"),m=n("./app/src/components/RouterLink/RouterLink.tsx"),h=n("./packages/browser/index.ts");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const b=({cta:e,ctaLink:t,ctaOnClick:n,icon:i,isDarkTheme:r,shouldFitContainer:o,openInNewTab:l,allowUpsell:c,testId:d})=>{if(Object(h.dontUpsell)()&&!c)return null;const p=s()(u.upgradePromptButton,r?u.upgradePromptButtonDarkTheme:u.upgradePromptButtonLightTheme,o&&u.upgradePromptFitContainer);let b="/business-class"===t?"a":m.b;return t||(b="button"),a.a.createElement(b,g({"data-test-id":d,href:t,className:p,onClick:()=>{n&&n()}},l?{target:"_blank"}:{}),void 0!==i&&a.a.createElement("div",{className:u.upgradePromptButtonIconBackground},a.a.cloneElement(i,{dangerous_className:u.upgradePromptButtonIcon,size:"small"})),a.a.createElement("div",{className:u.upgradePromptButtonCTA},e))},v=e=>a.a.createElement(p.ComponentWrapper,null,a.a.createElement(b,e))},"./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={context:{operationName:"UpgradePromptDismissMessage"}},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpgradePromptDismissMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function c(e){const t=r(r({},o),e);return i.a(l,t)}},"./app/src/components/UpgradePrompts/UpgradePromptFull.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return C})),n.d(t,"UpgradePromptFullConnected",(function(){return T}));var i=n("./packages/atlassian-analytics/index.ts"),a=n("./node_modules/react/index.js"),r=n.n(a),s=n("./node_modules/classnames/index.js"),o=n.n(s),l=n("./packages/nachos/icons/close.tsx"),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./packages/nachos/button.ts"),u=n("./app/src/components/FreeTrial/index.ts"),p=n("./app/src/components/RouterLink/RouterLink.tsx"),m=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=n.n(m),g=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less"),b={insert:"head",singleton:!1},v=(h()(g.a,b),g.a.locals||{}),f=n("./packages/browser/index.ts"),_=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),k=n("./packages/i18n/index.ts"),y=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),E=n("./app/scripts/debug/constants.ts");const w=Object(k.forNamespace)(["free trial existing","upgrade prompt"]),C=({allowUpsell:e,className:t,content:n,cta:s,ctaLink:c,ctaOnClick:m,headline:h,hidePlanOverlay:g,icon:b,isDarkTheme:k,isDismissable:C,onDismiss:T,orgId:O,source:j,testId:A})=>{const{isEligible:x}=Object(_.a)(O),N=x,[S,I]=Object(a.useState)(!1),D=()=>{g||I(!0),i.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:j,containers:{organization:{id:O}},attributes:{feature:N?"freeTrial":void 0}}),m&&m()},B=o()(v.upgradePromptFull,k?v.upgradePromptFullDarkTheme:v.upgradePromptFullLightTheme,t),P=n&&r.a.createElement("div",{className:v.upgradePromptFullContent},n),F=C&&r.a.createElement("button",{className:v.upgradePromptFullCloseButtonWrapper,onClick:T},r.a.createElement(l.a,{dangerous_className:v.upgradePromptFullCloseButton,size:"small"})),L="/business-class"===c?"a":p.b;if(Object(f.dontUpsell)()&&!e)return null;const M=N?w("cta"):s;return r.a.createElement(y.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:E.Feature.UpgradePrompt}},r.a.createElement("div",{className:B},r.a.createElement("div",{className:v.upgradePromptFullHeadline},h),P,g?r.a.createElement(L,{href:c,className:v.upgradePromptFullCTA,onClick:D,"data-test-id":A,target:Object(f.isDesktop)()&&"/business-class"===c?"_blank":void 0},M):r.a.createElement(d.Button,{appearance:"link",onClick:D,"data-test-id":A,className:v.upgradePromptFullCTA},M),!g&&S&&O&&r.a.createElement(u.PlanSelectionOverlay,{onClose:()=>I(!1),orgId:O}),r.a.createElement("div",{className:v.upgradePromptFullIconBackground},r.a.cloneElement(b,{dangerous_className:v.upgradePromptFullIcon,size:"medium"})),r.a.createElement("div",{className:v.upgradePromptFullIconClippedBackground}),F))},T=e=>r.a.createElement(c.ComponentWrapper,null,r.a.createElement(C,e))},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{}),p=n("./packages/nachos/icons/close.tsx");const m=({loading:e,className:t,content:n,cta:i,headline:r,icon:o,isDarkTheme:l,onDismiss:c,allowUpsell:d})=>{const m=s()(u.upgradePromptFull,l?u.upgradePromptFullDarkTheme:u.upgradePromptFullLightTheme,t);return e?a.a.createElement("div",{className:u.animation}):a.a.createElement("div",{className:m},a.a.createElement("div",{className:u.upgradePromptFullHeadline},r),a.a.createElement("div",{className:u.upgradePromptFullContent},n),i,a.a.createElement("div",{className:u.upgradePromptFullIconBackground},a.a.cloneElement(o,{dangerous_className:u.upgradePromptFullIcon})),a.a.createElement("div",{className:u.upgradePromptFullIconClippedBackground}),c&&a.a.createElement("button",{className:u.upgradePromptFullCloseButtonWrapper,onClick:c},a.a.createElement(p.a,{size:"small",dangerous_className:u.upgradePromptFullCloseButton})))}},"./app/src/components/UpgradePrompts/UpgradePromptPill.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptPill",(function(){return b})),n.d(t,"UpgradePromptPillConnected",(function(){return v}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=n.n(o),c=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less"),d={insert:"head",singleton:!1},u=(l()(c.a,d),c.a.locals||{}),p=n("./app/src/components/ComponentWrapper/index.ts"),m=n("./app/src/components/RouterLink/RouterLink.tsx"),h=n("./packages/browser/index.ts");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const b=({isDarkTheme:e,cta:t,ctaLink:n,ctaLinkOpenNewTab:i,ctaOnClick:r,icon:o,allowUpsell:l,testId:c})=>{if(Object(h.dontUpsell)()&&!l)return null;const d=()=>{r&&r()},p=s()(u.upgradePromptPill,e?u.upgradeDarkTheme:u.upgradeLightTheme),b="/business-class"===n||"/enterprise"===n?"a":m.b,v=a.a.createElement(a.a.Fragment,null,a.a.cloneElement(o,{dangerous_className:u.upgradePromptPillIcon,size:"small"}),a.a.createElement("div",{className:u.upgradePromptPillCTA},t));return n?a.a.createElement(b,g({href:n},i?{target:"_blank",rel:"noopener noreferrer"}:{},{className:p,onClick:d,"data-test-id":c}),v):a.a.createElement("button",{className:p,onClick:d,"data-test-id":c},v)},v=e=>a.a.createElement(p.ComponentWrapper,null,a.a.createElement(b,e))},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){"use strict";var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less"),s={insert:"head",singleton:!1};a()(r.a,s);t.a=r.a.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradeSmartComponentNoBoundary",(function(){return Y})),n.d(t,"UpgradeSmartComponent",(function(){return K})),n.d(t,"UpgradeSmartComponentConnected",(function(){return G}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./packages/nachos/popover.ts"),l=n("./packages/test-ids/index.ts"),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/src/components/UpgradePrompts/UpgradePromptFullBase.tsx"),u=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=n.n(u),m=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less"),h={insert:"head",singleton:!1},g=(p()(m.a,h),m.a.locals||{}),b=n("./app/src/components/RouterLink/RouterLink.tsx");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const f=({isDarkTheme:e,cta:t,ctaLink:n,ctaLinkOpenNewTab:i,ctaOnClick:r,icon:o,allowUpsell:l,testId:c})=>{const d=()=>{r&&r()},u=s()(g.upgradePromptPill,e?g.upgradeDarkTheme:g.upgradeLightTheme),p=a.a.createElement(a.a.Fragment,null,a.a.cloneElement(o,{dangerous_className:g.upgradePromptPillIcon,size:"small"}),a.a.createElement("div",{className:g.upgradePromptPillCTA},t));return n?a.a.createElement(b.b,v({href:n},i?{target:"_blank",rel:"noopener noreferrer"}:{},{className:u,onClick:d,testId:c}),p):a.a.createElement("button",{className:u,onClick:d,"data-test-id":c},p)};var _=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less"),k={insert:"head",singleton:!1},y=(p()(_.a,k),_.a.locals||{}),E=n("./packages/nachos/icons/business-class.tsx");const w=({cta:e,ctaLink:t,ctaOnClick:n,isDarkTheme:i,shouldFitContainer:r,openInNewTab:o,testId:l})=>{const c=s()(y.upgradePromptButton,{[y.upgradePromptButtonDarkTheme]:i,[y.upgradePromptButtonLightTheme]:!i,[y.upgradePromptFitContainer]:r});return a.a.createElement("button",{"data-test-id":l,className:c,onClick:e=>{e.preventDefault(),n&&n()}},a.a.createElement("div",{className:y.upgradePromptButtonIconBackground},a.a.createElement(E.BusinessClassIcon,{size:"small",dangerous_className:y.upgradePromptButtonIcon})),a.a.createElement("div",{className:y.upgradePromptButtonCTA},e))};var C=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),T=n("./app/src/components/FreeTrial/index.ts"),O=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),j=n("./packages/nachos/button.ts"),A=n("./packages/i18n/index.ts"),x=n("./packages/atlassian-analytics/index.ts"),N=n("./app/scripts/debug/constants.ts"),S=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.less"),I=n("./packages/browser/index.ts"),D=n("./packages/nachos/icons/collection.tsx"),B=n("./packages/nachos/icons/power-up.tsx"),P=n("./packages/nachos/icons/butler-bot.tsx"),F=n("./packages/nachos/icons/board.tsx"),L=n("./packages/nachos/icons/download.tsx"),M=n("./packages/nachos/icons/member.tsx");function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const V=Object(A.forNamespace)("upgrade prompt"),U=Object(A.forNamespace)("free trial existing"),z=Object(A.forTemplate)("create_board"),H=Object(A.forTemplate)("business_class_upsell"),W=Object(A.forTemplate)("card_detail"),Y=({orgId:e,promptId:t,additionalProps:n,allowUpsell:i})=>{const r="".concat(e,"-").concat(t),{isEligible:c,loading:u}=Object(T.useFreeTrialEligibilityRules)(e),{boardLimit:p,org:m,dismissMessage:h,openPlanSelection:g,shouldDisplayUpgradePrompt:v,loading:_}=Object(C.b)(e,r,{allowUpsell:i}),k="/".concat(null==m?void 0:m.name,"/billing"),y="/".concat(null==m?void 0:m.name,"/free-trial"),O=u||_;if(O||!v)return null;const A={approachingBoardLimitTemplateUpgradePromptPill:a.a.createElement(w,{cta:z("upgrade team"),ctaOnClick:()=>{x.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"approachingBoardLimitTemplateUpgradePromptPill"}}),g()}}),atBoardLimitTemplateUpgradePromptPill:a.a.createElement(w,{cta:z("upgrade team"),ctaOnClick:()=>{x.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"atBoardLimitTemplateUpgradePromptPill"}}),g()}}),boardMenuMoreCollectionsPromptFull:a.a.createElement("div",{className:S.a.margin},a.a.createElement(d.a,{onDismiss:h,loading:O,icon:a.a.createElement(D.CollectionIcon,null),headline:V(["board menu","collections","headline-2"]),content:V(["board menu","collections","content-2"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.CollectionsUpgradePrompt,className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"boardMenuMoreCollectionsPromptFull"}}),g()}},c?U(["upgrade prompt","cta"]):V("learn more"))})),boardMenuMoreCollectionsPromptPill:a.a.createElement(f,{testId:l.UpgradePromptTestIds.CollectionsUpgradePill,icon:a.a.createElement(E.BusinessClassIcon,null),cta:V(["upgrade"]),ctaOnClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"boardMenuMoreCollectionsPromptPill"}}),g()}}),boardMenuMoreTemplatesPromptPill:a.a.createElement(f,{cta:V(["upgrade"]),icon:a.a.createElement(E.BusinessClassIcon,null),testId:l.UpgradePromptTestIds.TemplatesUpgradePill,ctaOnClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"boardMenuMoreTemplatesPromptPill"}}),g()}}),boardMenuDrawerPromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(B.a,null),headline:V(["board menu","power ups","headline"]),content:V(["board menu","power ups","content"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.PuPsUpgradePrompt,className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawer",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"boardMenuDrawerPromptFull"}}),g()}},c?U(["upgrade prompt","cta"]):V("learn more"))}),butlerUpsellPopoverPromptFull:a.a.createElement(o.b,R({},null==n?void 0:n.popoverProps,{title:V(["butler upsell popover","usage-quota-title"])}),a.a.createElement("div",{className:S.a.butlerUpsellPopoverPromptFullWrapper},a.a.createElement(d.a,{loading:O,content:V(["butler upsell popover","usage-quota-content"]),headline:V(["butler upsell popover","usage-quota-headline"]),icon:a.a.createElement(P.a,null),cta:a.a.createElement("button",{className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{var t;x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"butlerUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"butlerUpsellPopoverPromptFull"}}),null==n||null===(t=n.ctaOnClick)||void 0===t||t.call(n),c&&!Object(I.dontUpsell)()?g():window.open("/business-class")}},c&&!Object(I.dontUpsell)()?U(["upgrade prompt","cta"]):V("learn more"))})),a.a.createElement(j.Button,{size:"fullwidth",onClick:null==n?void 0:n.goToButler},V(["butler upsell popover","go to butler"]))),createBoardModalPromptFull:a.a.createElement("div",{className:S.a.createBoardModalWrapper},a.a.createElement(d.a,{loading:O,icon:a.a.createElement(F.BoardIcon,null),headline:V(["create board popover","headline"],{boardCount:p}),content:V(["create board popover","content-2"]),cta:a.a.createElement(b.b,{testId:l.UpgradePromptTestIds.CreateBoardUpgradePrompt,className:s()(S.a.cta,S.a.darkModeCta),href:"/".concat(null==m?void 0:m.name,c?"/free-trial":"/billing"),onClick:()=>{var t;null==n||null===(t=n.ctaOnClick)||void 0===t||t.call(n),x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"createBoardModal",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"createBoardModalPromptFull"}})}},c?U(["upgrade prompt","cta"]):V("learn more")),isDarkTheme:!0})),inviteUpgradePromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(E.BusinessClassIcon,null),headline:Object(I.dontUpsell)()?V(["team page","invite-popover","headline-auaa-desktop"]):V(["team page","invite-popover","headline-auaa-2"]),content:Object(I.dontUpsell)()?V(["team page","invite-popover","content-auaa-desktop"]):V(["team page","invite-popover","content-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.InviteUpgradePrompt,className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"inviteToTeamInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"teamInvitePromptFull"}}),c&&!Object(I.dontUpsell)()?g():window.open("/business-class")}},c&&!Object(I.dontUpsell)()?U(["upgrade prompt","cta"]):V("learn more"))}),memberHomeScreenPromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(E.BusinessClassIcon,null),onDismiss:h,headline:c?U(["upgrade prompt","headline"]):V(["home","team tab","headline-2"]),content:c?U(["upgrade prompt","content"]):V(["home","team tab","content-2"]),isDarkTheme:!1,cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.TeamHomeSidebarUpgradePrompt,className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationBoardsHomeScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"memberHomeScreenPromptFull"}}),g()}}," ",c?U(["upgrade prompt","cta"]):V("learn more"))}),moreMenuShareInlineDialogPromptFull:a.a.createElement(d.a,{onDismiss:h,loading:O,icon:a.a.createElement(L.DownloadIcon,null),headline:V(["board menu","print and export","headline-2"]),content:V(["board menu","print and export","content-2"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.PrintAndExportUpgradePrompt,className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"printAndExportBoardInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"moreMenuShareInlineDialogPromptFull"}}),g()}},c?U(["upgrade prompt","cta"]):V("learn more"))}),orgMemberRestrictedPromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(M.MemberIcon,null),headline:Object(I.dontUpsell)()?V(["team page","members","headline-membership-tooltip-auaa-desktop"]):V(["team page","members","headline-membership-tooltip-auaa-2"]),content:Object(I.dontUpsell)()?V(["team page","members","content-membership-tooltip-auaa-desktop"]):V(["team page","members","content-membership-tooltip-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.OrgMemberRestrictedPermission,className:s()(S.a.cta,S.a.lightModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"auaaUpgradeInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"auaaPromptFull"}}),c&&!Object(I.dontUpsell)()?g():window.open("/business-class")}},c&&!Object(I.dontUpsell)()?U(["upgrade prompt","cta"]):V("learn more"))}),pupLimitPopUpPromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(F.BoardIcon,null),headline:H("get-unlimited-power-ups"),content:H("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"),onDismiss:null==n?void 0:n.onClose,cta:a.a.createElement("button",{className:s()(S.a.cta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"pupLimitPopUpPromptFull"}}),g()}},c?U(["upgrade prompt","cta"]):V("learn more"))}),pupUpgradeBannerButton:a.a.createElement(w,{cta:V("upgrade"),ctaOnClick:()=>{x.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"powerUpDirectoryUpgradeBanner",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"pupUpgradeBannerButton"}}),g()},shouldFitContainer:!0}),pupUpgradePromptPill:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card-back-pup-upgrade-prompt-section"},a.a.createElement("div",{className:"card-back-pup-upgrade-prompt-opener"},W("upgrade-to-get-unlimited-power-ups-2")),a.a.createElement("div",{className:"card-back-pup-upgrade-prompt"},a.a.createElement(f,{testId:l.UpgradePromptTestIds.PuPsUpgradePill,icon:a.a.createElement(E.BusinessClassIcon,null),cta:V("upgrade team"),ctaLink:c?y:k,ctaOnClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"pupCardBackSectionInlineDialog",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"pupUpgradePromptPill"}})}})))),teamBoardsHeaderUpgradePromptButton:a.a.createElement(w,{testId:l.UpgradePromptTestIds.TeamBoardsHeaderUpgradeButton,cta:V("upgrade"),ctaOnClick:()=>{x.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"memberBoardsHomeScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"teamBoardsHeaderUpgradePromptButton"}}),g()},shouldFitContainer:!0}),teamMembersScreenPromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(F.BoardIcon,null),isDarkTheme:!0,headline:V(["team page","members","headline-sidebar-auaa-2"]),content:V(["team page","members","content-sidebar-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:s()(S.a.cta,S.a.darkModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"teamMembersScreenPromptFull"}}),g()}},c?U(["upgrade prompt","cta"]):V("learn more"))}),teamBoardsScreenPromptFull:a.a.createElement(d.a,{loading:O,icon:a.a.createElement(F.BoardIcon,null),isDarkTheme:!0,headline:V(["team page","members","headline-sidebar-auaa-2"]),content:V(["team page","members","content-sidebar-auaa-2"]),cta:a.a.createElement("button",{"data-test-id":l.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:s()(S.a.cta,S.a.darkModeCta),onClick:()=>{x.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:e}},attributes:{isFreeTrial:!!c,promptId:"teamBoardsScreenPromptFull"}}),g()}},c?U(["upgrade prompt","cta"]):V("learn more"))})};if(void 0===A[t])throw new Error("UpgradeSmartComponent: promptId ".concat(t,' not found"'));return A[t]},K=e=>a.a.createElement(O.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:N.Feature.UpgradePrompt}},a.a.createElement(Y,e)),G=e=>a.a.createElement(c.ComponentWrapper,null,a.a.createElement(K,e))},"./app/src/components/UpgradePrompts/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return i.UpgradePromptFull})),n.d(t,"UpgradePromptButton",(function(){return a.UpgradePromptButton})),n.d(t,"UpgradePromptPill",(function(){return r.UpgradePromptPill})),n.d(t,"UpgradePromptSettingsTab",(function(){return T})),n.d(t,"UpgradePromptSettingsTabConnected",(function(){return O})),n.d(t,"UpgradePromptBanner",(function(){return L})),n.d(t,"UpgradePromptBannerType",(function(){return B})),n.d(t,"UpgradeSmartComponent",(function(){return M.UpgradeSmartComponent})),n.d(t,"UpgradeSmartComponentConnected",(function(){return M.UpgradeSmartComponentConnected})),n.d(t,"useUpgradePromptRules",(function(){return b.b}));var i=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),a=n("./app/src/components/UpgradePrompts/UpgradePromptButton.tsx"),r=n("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),s=n("./node_modules/react/index.js"),o=n.n(s),l=n("./packages/i18n/index.ts"),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=n.n(u),m=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less"),h={insert:"head",singleton:!1},g=(p()(m.a,h),m.a.locals||{}),b=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),v=n("./packages/feature-flag-client/index.ts"),f=n("./app/src/components/ComponentWrapper/index.ts"),_=n("./packages/nachos/button.ts"),k=n("./packages/atlassian-analytics/index.ts"),y=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),E=n("./packages/nachos/tooltip.ts");const w=Object(l.forTemplate)("org_account"),C=n("./resources/images/stars.svg"),T=({billingUrl:e,orgId:t,isAdmin:n,isStandard:i})=>{const a=n?e:"/business-class",r=i||n?"ads-upgrade":"ads-learn-more",s=Object(v.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{openPlanSelection:l}=Object(b.b)(t,"upgrade-prompt-settings-tab-".concat(t)),{isEligible:c}=Object(y.a)(t,{skip:!s}),u=i&&!n;return o.a.createElement("div",{className:d()("window-module","u-clearfix",g.bcPromptHeader)},o.a.createElement("div",{className:d()("setting-item",g.settingItem)},o.a.createElement("div",{className:g.bcPromptSparkle},o.a.createElement("img",{alt:"sparkle",src:C})),o.a.createElement("div",{className:"setting-item-detail"},w("more-settings",{boldTextUpgradeToBc:o.a.createElement("strong",{key:"bold-text-upgrade-to-bc"},w("bold-text-upgrade-to-bc"))})),o.a.createElement("div",{className:"setting-item-action"},!i&&s?o.a.createElement(_.Button,{appearance:"primary",onClick:()=>{l(),k.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"teamSettingsScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!c,promptId:"teamSettingsButton"}})},shouldFitContainer:!0},w(r)):u?o.a.createElement(E.a,{content:w("tooltip-contact-admin-to-upgrade"),component:E.b},o.a.createElement("span",{className:g.tooltipDisabledHack,tabIndex:0,role:"button"},o.a.createElement(_.Button,{appearance:"primary",isDisabled:!0,shouldFitContainer:!0},w(r)))):o.a.createElement("a",{className:d()("primary","button-link","u-text-align-center",g.bcPromptUpgrade),href:a},w(r)))))},O=e=>o.a.createElement(f.ComponentWrapper,null,o.a.createElement(T,e)),j=(e,t)=>Array(t-e+1).fill(0).map(((t,n)=>e+n));var A=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less"),x={insert:"head",singleton:!1},N=(p()(A.a,x),A.a.locals||{}),S=n("./packages/browser/index.ts"),I=n("./app/src/components/FreeTrial/index.ts");const D=Object(l.forTemplate)("paid_product_info");let B;!function(e){e.BusinessClass="business-class",e.BusinessClassUpgrade="business-class-upgrade",e.Gold="gold"}(B||(B={}));const P={"business-class":[n("./resources/images/business-class/feature-boards.svg"),n("./resources/images/business-class/feature-powerups.svg"),n("./resources/images/business-class/feature-butler.svg"),n("./resources/images/business-class/feature-control.svg")],"business-class-upgrade":[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")],gold:[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")]},F=({type:e,orgId:t,infoUrl:n,subtitleCount:i=0,epilogueCount:a=0,allowUpsell:r})=>{const s=Object(v.useFeatureFlag)("btg.upgrade-prompt-audit",!1),{openPlanSelection:l}=Object(b.b)(t,"",{skip:"business-class"!==e}),{isEligible:c}=Object(I.useFreeTrialEligibilityRules)(t,{skip:"business-class"!==e});if(Object(S.dontUpsell)()&&!r)return null;const d="business-class"===e?4:3;if("business-class-upgrade"!==e&&a>1)throw new Error("Only use epilogueCount with the type business-class-upgrade");let u=!1,p=()=>{};return s&&t&&c&&(u=!0,p=()=>{k.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"orgBillingScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:c,promptId:"billingPageFreeTrialBannerButton"}}),l()}),o.a.createElement("div",{className:N.upgradePromptBanner},o.a.createElement("header",null,o.a.createElement("h2",null,D([e,"title"])),i>0&&j(0,i-1).map((t=>o.a.createElement("p",{key:"subtitles-".concat(t)},D([e,"subtitles",t.toString()]))))),o.a.createElement("div",{className:N.features},j(0,d-1).map((t=>o.a.createElement("div",{className:N.feature,key:"features-".concat(t)},o.a.createElement("img",{src:P[e][t],alt:D([e,"featureHeaders",t.toString()])}),o.a.createElement("h3",null,D([e,"featureHeaders",t.toString()])),o.a.createElement("p",null,D([e,"featureBodies",t.toString()])))))),a>0&&o.a.createElement("div",{className:N.epilogue},j(0,a-1).map((t=>o.a.createElement("p",{key:"epilogue-".concat(t)},D([e,"epilogue recent",t.toString()],1===t?{smartBilling:o.a.createElement("strong",{key:"smartBilling"},D("smartBilling"))}:{}))))),u&&o.a.createElement(_.Button,{className:N.freeTrialButton,appearance:"primary",onClick:p},D([e,"startFreeTrial"])),o.a.createElement("div",null,o.a.createElement("a",{href:n,target:"_blank",onClick:()=>{k.Analytics.sendClickedLinkEvent({linkName:"seeAllBenefitsLink",source:"gold"===e?"memberBillingScreen":"orgBillingScreen",containers:{organization:{id:t}}})}},D([e,"link"]))))},L=e=>o.a.createElement(f.ComponentWrapper,null,o.a.createElement(F,e));var M=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx")},"./app/src/components/UpgradePrompts/useUpgradePromptRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));var i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),r=n("./app/gamma/src/modules/state/ui/overlay.ts"),s=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={context:{operationName:"UpgradePromptRules"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UpgradePromptRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isRealEnterprise"}}]}},{kind:"Field",name:{kind:"Name",value:"confirmed"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"products"}}]}}]}}]};var p=n("./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx"),m=n("./packages/browser/index.ts"),h=n("./packages/product-features/index.ts"),g=n("./app/scripts/init/useSocketSubscription.ts");let b;!function(e){e.Enterprise="enterprise",e.BusinessClass="businessClass",e.Standard="standard",e.Free="free"}(b||(b={}));const v={[b.Enterprise]:3,[b.BusinessClass]:2,[b.Standard]:1,[b.Free]:0},f=(e,t,n,o)=>{var c,f,_,k,y,E,w,C;const T=Object(a.d)();Object(g.a)("Organization",e,Boolean(!e));const{data:O,loading:j}=function(e){const t=l(l({},d),e);return s.a(u,t)}(!e||null!=n&&n.skip?{skip:!0}:{variables:{memberId:"me",orgId:e||""}}),[A]=Object(p.a)(),x=null==O?void 0:O.member,N=null==O?void 0:O.organization,S=(null==x?void 0:x.id)||"",I=Object(i.useMemo)((()=>{var e,t,n;return null!=N&&null!==(e=N.products)&&void 0!==e&&e.some((e=>h.ProductFeatures.isEnterpriseProduct(e)))?b.Enterprise:null!=N&&null!==(t=N.products)&&void 0!==t&&t.some((e=>h.ProductFeatures.isBusinessClassProduct(e)))?b.BusinessClass:null!=N&&null!==(n=N.products)&&void 0!==n&&n.some((e=>h.ProductFeatures.isStandardProduct(e)))?b.Standard:b.Free}),[null==N?void 0:N.products]),D=Boolean(null==N||null===(c=N.memberships)||void 0===c?void 0:c.find((e=>e.idMember===S))),B=!(null==x||null===(f=x.enterprises)||void 0===f||null===(_=f.find((e=>e.id===(null==x?void 0:x.idEnterprise))))||void 0===_||!_.isRealEnterprise),P=Boolean(null==x||null===(k=x.oneTimeMessagesDismissed)||void 0===k?void 0:k.find((e=>e===t))),F=null==x?void 0:x.confirmed,L=null==O||null===(y=O.organization)||void 0===y||null===(E=y.limits)||void 0===E||null===(w=E.orgs)||void 0===w||null===(C=w.freeBoardsPerOrg)||void 0===C?void 0:C.count,[M,R]=Object(i.useState)(!1),V=Boolean((!Object(m.dontUpsell)()||(null==n?void 0:n.allowUpsell))&&!M&&((e,t,n)=>t||n?t&&n?e===t&&v[t]<v[n]:n?v[e]<v[n]:e===t:e===b.Free)(I,null==o?void 0:o.from,null==o?void 0:o.to)&&!P&&!B&&D&&F);return{boardLimit:L,org:null==O?void 0:O.organization,openPlanSelection:()=>{e&&T(Object(r.setOverlay)({overlayType:r.OverlayType.PlanSelection,context:{orgId:e}}))},dismissMessage:()=>{R(!0),A({variables:{memberId:"me",messageId:t||""}})},shouldDisplayUpgradePrompt:V,loading:j}}},"./app/src/components/VideoRecordButton/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LazyVideoRecordButton",(function(){return u})),n.d(t,"SpotlightLoomCommentButton",(function(){return V})),n.d(t,"commentInputFocusedState",(function(){return D})),n.d(t,"isLoomIntegrationEnabled",(function(){return H}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/use-lazy-component/index.ts"),s=n("./app/src/components/ChunkLoadErrorBoundary/index.ts"),o=n("./app/src/components/ErrorBoundary/index.ts"),l=n("./app/scripts/debug/constants.ts"),c=n("./packages/feature-flag-client/index.ts"),d=n("./app/src/components/Null/index.ts");const u=e=>{const t=Object(c.useFeatureFlag)("teamplates.web.loom-integration",!1),u=Object(r.useLazyComponent)((()=>n.e(214).then(n.bind(null,"./app/src/components/VideoRecordButton/VideoRecordButton.tsx"))),{namedImport:"VideoRecordButton",preload:t});return a.a.createElement(o.ErrorBoundary,{tags:{ownershipArea:"trello-teamplates",feature:l.Feature.VideoRecordButton},errorHandlerComponent:d.Null},a.a.createElement(s.a,{fallback:null},a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(u,e))))};var p=n("./packages/i18n/index.ts"),m=n("./app/src/components/Onboarding/index.ts"),h=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),g=n.n(h),b=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/VideoRecordButton/SpotlightLoomCommentButton.less"),v={insert:"head",singleton:!1},f=(g()(b.a,v),b.a.locals||{}),_=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={context:{operationName:"SpotlightLoomOneTimeMessagesDismissed"}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpotlightLoomOneTimeMessagesDismissed"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var T=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x={context:{operationName:"AddSpotlightLoomOneTimeMessagesDismissed"}},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddSpotlightLoomOneTimeMessagesDismissed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var S=n("./packages/error-reporting/index.ts"),I=n("./packages/shared-state/index.ts");const D=new I.b(!1);var B=n("./app/src/components/VideoRecordButton/useLoomSDK.ts"),P=n("./packages/keybindings/index.ts"),F=n("./app/scripts/lib/trello-clipboard.js");const L=Object(p.forTemplate)("loom_spotlight"),M="loomCommentButtonSpotlight",R="loom-comment-button-spotlight",V=e=>{var t;const{data:n,error:r}=function(e){const t=y(y({},w),e);return _.a(C,t)}(),[s]=function(e){const t=j(j({},x),e);return T.a(N,t)}(),[o]=Object(I.c)(D),[c,d]=Object(i.useState)(!1),[u]=Object(B.a)(),p=!(null==u||!u.status().success),h=(null==n||null===(t=n.member)||void 0===t?void 0:t.oneTimeMessagesDismissed)&&!n.member.oneTimeMessagesDismissed.includes(R);Object(i.useEffect)((()=>{r&&Object(S.sendErrorEvent)(r,{tags:{ownershipArea:"trello-teamplates",feature:l.Feature.VideoRecordButton}})}),[r]),Object(i.useEffect)((()=>function(){c&&(F.trelloClipboard.resumeShortcuts(),Object(P.resumeShortcuts)())}),[c]);const g=Object(i.useCallback)((()=>{d(!0),F.trelloClipboard.pauseShortcuts(),Object(P.pauseShortcuts)()}),[d]),b=Object(i.useCallback)((()=>{d(!1),Object(P.resumeShortcuts)(),F.trelloClipboard.resumeShortcuts(),s({variables:{messageId:R}})}),[d,s]);return h&&o&&p?a.a.createElement(m.b,null,a.a.createElement(m.c,{name:M},a.a.createElement(m.e,{onClick:g,className:f.spotlightContainer,spotlightOpen:c},e.children)),a.a.createElement(m.d,null,c&&a.a.createElement(m.a,{actions:[{onClick:b,text:L("got-it")}],dialogPlacement:"right top",target:M,key:M,dialogWidth:275},a.a.createElement("p",null,L("loom-comment-button-explanation"))))):a.a.createElement(a.a.Fragment,null,e.children)};var U=n("./packages/browser/index.ts");const{featureFlagClient:z}=n("./packages/feature-flag-client/index.ts");function H(e){if(Object(U.isDesktop)())return!1;return(!e||z.get("teamplates.web.loom-integration-enterprise-opt-ins",[]).includes(e))&&z.get("teamplates.web.loom-integration",!1)}},"./app/src/components/VideoRecordButton/useLoomSDK.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./packages/shared-state/index.ts");const a=new i.b(null);function r(){return Object(i.c)(a)}},"./app/src/components/WorkspacesAutoNameAlert/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"WorkspacesAutoNameAlert",(function(){return y}));var i=n("./node_modules/react/index.js"),a=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={context:{operationName:"WorkspacesAutoNameAlert"}},c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesAutoNameAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creationMethod"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"idMemberCreator"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var d=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={context:{operationName:"WorkspacesAutoNameAlertDismiss"}},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesAutoNameAlertDismiss"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var b=n("./packages/i18n/index.ts"),v=n("./packages/feature-flag-client/index.ts"),f=n("./packages/nachos/experimental.ts"),_=n("./packages/atlassian-analytics/index.ts");const k=Object(b.forNamespace)("alerts",{shouldEscapeStrings:!1}),y=({boardId:e,orgId:t})=>{var n,r,o,u,m,b,y;const[E,w]=Object(i.useState)(!1),{data:C}=function(e){const t=s(s({},l),e);return a.a(c,t)}({variables:{orgId:t},skip:!t||E}),[T]=function(e){const t=p(p({},h),e);return d.a(g,t)}(),O=Object(v.useFeatureFlag)("btg.auto-name-web",!1),j="WorkspacesAutoNameAlert-".concat(t),A=null==C||null===(n=C.organization)||void 0===n?void 0:n.displayName,x=null==C||null===(r=C.organization)||void 0===r?void 0:r.url,N=!E&&O&&"board-creation"===(null==C||null===(o=C.organization)||void 0===o?void 0:o.creationMethod)&&(null==C||null===(u=C.organization)||void 0===u?void 0:u.idMemberCreator)===(null==C||null===(m=C.member)||void 0===m?void 0:m.id)&&!(null!=C&&null!==(b=C.member)&&void 0!==b&&null!==(y=b.oneTimeMessagesDismissed)&&void 0!==y&&y.includes(j));return Object(i.useEffect)((()=>{if(N){const n=k(["workspaces-auto-name-alert"],{workspaceName:A}),i=k(["workspaces-auto-name-alert-link"]);Object(f.showFlag)({id:"WorkspacesAutoName",title:n,appearance:"info",isAutoDismiss:!0,msTimeout:8e3,actions:[{content:i,href:x,type:"link"}]}),w(!0),T({variables:{messageId:j}}),_.Analytics.sendViewedComponentEvent({componentName:"workspacesAutoNameAlert",componentType:"flag",source:"boardScreen",containers:{board:{id:e},organization:{id:t}}})}}),[e,j,T,t,N,A,x]),null}},"./app/src/components/WorkspacesPreamble/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"WorkspacesPreambleBoardHeaderButton",(function(){return mn})),n.d(t,"WorkspacesPreambleBoardInviteButton",(function(){return On})),n.d(t,"WorkspacesPreambleChangeTeamButton",(function(){return Vn}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),s=n.n(r),o=n("./app/scripts/views/lib/alerts.js"),l=n.n(o),c=n("./packages/nachos/button.ts"),d=n("./packages/nachos/popover.ts"),u=n("./app/src/components/ErrorBoundary/index.ts"),p=n("./app/scripts/debug/constants.ts"),m=n("./node_modules/@apollo/client/react/hooks/useQuery.js");n("./node_modules/@apollo/client/react/hooks/useLazyQuery.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={context:{operationName:"WorkspacesPreambleBoardHeaderButton"}},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardHeaderButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"idOrganizations"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var _=n("./node_modules/@apollo/client/react/hooks/useMutation.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={context:{operationName:"WorkspacesPreambleDismissPrompt"}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleDismissPrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};var T=n("./packages/session-cookie/index.ts");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x={context:{operationName:"WorkspacesPreamblePrompt"}},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreamblePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idOrganizations"}}]}}]}}]};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B={context:{operationName:"WorkspacesPreambleAddBoardToTeam"}},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddBoardToTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function F(e){const t=I(I({},B),e);return _.a(P,t)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V={context:{operationName:"WorkspacesPreambleBoardVisibility"}},U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y={context:{operationName:"WorkspacesPreambleNewBillableGuests"}},K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleNewBillableGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newBillableGuests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X={context:{operationName:"RestrictedBoardVisibility"}},Q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}}]}}]}}]};const J=({orgId:e,boardId:t,skip:n})=>{var i,a,r,s,o,l;const{data:c,loading:d}=function(e){const t=$($({},X),e);return m.a(Q,t)}({variables:{orgId:e,boardId:t},skip:!e||!t||n,fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),u=null==c||null===(i=c.board)||void 0===i||null===(a=i.prefs)||void 0===a?void 0:a.permissionLevel,p=null==c||null===(r=c.organization)||void 0===r||null===(s=r.prefs)||void 0===s?void 0:s.boardVisibilityRestrict,h=(null==c||null===(o=c.organization)||void 0===o||null===(l=o.memberships)||void 0===l?void 0:l.some((e=>e.idMember===T.memberId&&"admin"===e.memberType)))||!1,g=p&&u&&("none"===p[u]||"admin"===p[u]&&!h),b=p&&("org"===p.private||"admin"===p.private&&h),v=p&&("org"===p.public||"admin"===p.public&&h),f=p&&("org"===p.org||"admin"===p.org&&h);return{boardVisibility:u,loading:d,teamAllowsPrivateBoards:b,teamAllowsPublicBoards:v,teamAllowsTeamVisibleBoards:f,teamRestrictsAllBoardVisibilities:!b&&!v&&!f,teamRestrictsCurrentBoardVisibility:g}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne={context:{operationName:"RestrictedGuests"}},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardInviteRestrict"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]};const ae=({orgId:e,boardId:t,skip:n})=>{var i,a,r,s,o;const{data:l,loading:c}=function(e){const t=ee(ee({},ne),e);return m.a(ie,t)}({variables:{orgId:e,boardId:t},skip:!e||!t||n,fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),d="org"===(null==l||null===(i=l.organization)||void 0===i||null===(a=i.prefs)||void 0===a?void 0:a.boardInviteRestrict),u=(null==l||null===(r=l.organization)||void 0===r||null===(s=r.members)||void 0===s?void 0:s.map((e=>e.id)))||[];return{hasBoardMemberRestrictions:d,boardMembersNotInTeam:((null==l||null===(o=l.board)||void 0===o?void 0:o.members)||[]).reduce(((e,t)=>(u.includes(t.id)||e.push(t),e)),[]),loading:c}};var re=n("./packages/i18n/index.ts"),se=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),oe=n.n(se),le=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less"),ce={insert:"head",singleton:!1},de=(oe()(le.a,ce),le.a.locals||{});function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const he={context:{operationName:"BoardMemberRestrictionAlert"}},ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardMemberRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}}]}}]}}]};var be=n("./packages/nachos/spinner.ts");const ve=Object(re.forNamespace)("workspaces preamble"),fe=({boardId:e,onCancel:t,onSubmit:n,orgId:r})=>{var s;const[o,l]=Object(i.useState)(!1),{data:d,loading:u}=function(e){const t=pe(pe({},he),e);return m.a(ge,t)}({variables:{orgId:r}}),{boardMembersNotInTeam:p,loading:h}=ae({orgId:r,boardId:e});return u||h?a.a.createElement(be.a,{centered:!0}):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:de.boardMemberRestrictionAlertMessaging},ve("workspace-board-member-restriction-messaging",{orgName:a.a.createElement("strong",{key:"orgName"},null==d||null===(s=d.organization)||void 0===s?void 0:s.displayName)})),a.a.createElement("p",{className:de.boardMemberRestrictionAlertMembers},a.a.createElement("strong",null,p.map((e=>e.fullName)).join(", "))),a.a.createElement(c.Button,{appearance:"danger",className:de.boardMemberRestrictionAlertConfirmButton,isDisabled:o,onClick:()=>{l(!0),n()},shouldFitContainer:!0},o?a.a.createElement(be.a,{centered:!0}):ve("workspace-board-member-restriction-submit")),a.a.createElement(c.Button,{appearance:"default",className:de.boardMemberRestrictionAlertCancelButton,isDisabled:o,onClick:t,shouldFitContainer:!0},ve("board-member-restriction-cancel")))};var _e=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less"),ke={insert:"head",singleton:!1},ye=(oe()(_e.a,ke),_e.a.locals||{}),Ee=n("./packages/graphql/generated.tsx");function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe={context:{operationName:"BoardVisibilityRestrictionAlert"}},je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardVisibilityRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deactivated"}},{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"unconfirmed"}}]}}]}}]}}]};var Ae=n("./packages/nachos/icons/check.tsx"),xe=n("./packages/nachos/icons/public.tsx"),Ne=n("./packages/nachos/icons/private.tsx"),Se=n("./packages/nachos/icons/organization.tsx"),Ie=n("./app/src/components/RouterLink/RouterLink.tsx");const De=()=>{},Be=Object(re.forNamespace)("workspaces preamble"),Pe=Object(re.forNamespace)("board perms"),Fe=({boardId:e,onSubmit:t,orgId:n})=>{var r;const[o,l]=Object(i.useState)(!1),{data:c,loading:d}=function(e){const t=Ce(Ce({},Oe),e);return m.a(je,t)}({variables:{orgId:n}}),{boardVisibility:u,loading:p,teamAllowsPrivateBoards:h,teamAllowsPublicBoards:g,teamAllowsTeamVisibleBoards:b,teamRestrictsAllBoardVisibilities:v}=J({orgId:n,boardId:e});if(d||p)return a.a.createElement(be.a,{centered:!0});if(v){var f,_,k,y;const e=!(null==c||null===(f=c.organization)||void 0===f||null===(_=f.memberships)||void 0===_||!_.find((e=>e.idMember===T.memberId&&"admin"===e.memberType&&!e.deactivated&&!e.unconfirmed))),t=a.a.createElement("strong",{key:"orgName"},null==c||null===(k=c.organization)||void 0===k?void 0:k.displayName),n=e?Be("board-visibility-all-restricted",{orgName:t,teamSettingsPageLink:a.a.createElement(Ie.b,{key:"settingsLink",href:"/".concat(null==c||null===(y=c.organization)||void 0===y?void 0:y.name,"/account")},Be("workspace-board-visibility-settings-link"))}):Be("workspace-board-visibility-all-restricted-not-admin",{orgName:t});return a.a.createElement("p",{id:"allVisibilitiesAreRestrictedMessaging"},n)}const E=e=>{l(!0),t(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,Be("workspace-board-visibility-messaging",{orgName:a.a.createElement("strong",{key:"orgName"},null==c||null===(r=c.organization)||void 0===r?void 0:r.displayName)})),a.a.createElement("div",{id:"privateVisibilityOption",role:"button",onClick:h&&!o?()=>E(Ee.b.Private):De,className:s()(ye.boardVisibilityOption,{[ye.boardVisibilityOptionDisabled]:!h||o})},a.a.createElement("div",{className:ye.boardVisibilityOptionTitle},a.a.createElement(Ne.a,{dangerous_className:ye.boardVisibilityIcon,color:"red",size:"small"}),Pe(["private","name"]),"private"===u&&a.a.createElement(Ae.a,{dangerous_className:ye.boardVisibilityIcon,size:"small"})),a.a.createElement("p",{className:ye.boardVisibilityOptionDescription},Pe(["private","short summary"])," ",!h&&a.a.createElement("span",{className:ye.boardVisibilityDisabledMessaging},Be("workspace-board-visibility-option-disabled")))),a.a.createElement("div",{id:"teamVisibleVisibilityOption",role:"button",onClick:b&&!o?()=>E(Ee.b.Org):De,className:s()(ye.boardVisibilityOption,{[ye.boardVisibilityOptionDisabled]:!b||o})},a.a.createElement("div",{className:ye.boardVisibilityOptionTitle},a.a.createElement(Se.a,{dangerous_className:ye.boardVisibilityIcon,size:"small"}),Pe(["org","name"]),"org"===u&&a.a.createElement(Ae.a,{dangerous_className:ye.boardVisibilityIcon,size:"small"})),a.a.createElement("p",{className:ye.boardVisibilityOptionDescription},Pe(["org","short summary"])," ",!b&&a.a.createElement("span",{className:ye.boardVisibilityDisabledMessaging},Be("workspace-board-visibility-option-disabled")))),a.a.createElement("div",{id:"publicVisibilityOption",role:"button",onClick:g&&!o?()=>E(Ee.b.Public):De,className:s()(ye.boardVisibilityOption,{[ye.boardVisibilityOptionDisabled]:!g||o})},a.a.createElement("div",{className:ye.boardVisibilityOptionTitle},a.a.createElement(xe.a,{dangerous_className:ye.boardVisibilityIcon,color:"green",size:"small"}),Pe(["public","name"]),"public"===u&&a.a.createElement(Ae.a,{dangerous_className:ye.boardVisibilityIcon,size:"small"})),a.a.createElement("p",{className:ye.boardVisibilityOptionDescription},Pe(["public","short summary"])," ",!g&&a.a.createElement("span",{className:ye.boardVisibilityDisabledMessaging},Be("workspace-board-visibility-option-disabled")))))};var Le=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less"),Me={insert:"head",singleton:!1},Re=(oe()(Le.a,Me),Le.a.locals||{});const Ve=()=>{},Ue=Object(re.forNamespace)("workspaces preamble"),ze=({onSubmit:e})=>{const[t,n]=Object(i.useState)(!1);return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:Re.newBillableGuestsAlertHeadline},a.a.createElement("strong",null,Ue("new-billable-guests-headline"))),a.a.createElement("p",{className:Re.newBillableGuestsAlertMessaging},Ue("new-billable-workspace-guests-messaging",{learnMoreLink:a.a.createElement(Ie.b,{key:"newBillableGuestsLink",href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},Ue("new-billable-guests-link"))})),a.a.createElement(c.Button,{appearance:"primary",className:Re.newBillableGuestsAlertSubmitButton,isDisabled:t,onClick:t?Ve:()=>{n(!0),e()},shouldFitContainer:!0},t?a.a.createElement(be.a,{centered:!0}):Ue("popover-title-add-to-workspace")))};var He=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less"),We={insert:"head",singleton:!1},Ye=(oe()(He.a,We),He.a.locals||{});function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe={context:{operationName:"WorkspacesPreambleCreateTeam"}},Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isTemplate"}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}}]}}]};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const et={context:{operationName:"WorkspacesPreambleAddTeamMembers"}},tt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddTeamMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rt={context:{operationName:"WorkspacesPreambleCreateTeamSubmit"}},st={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleCreateTeamSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enterprise"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"desc"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}},{kind:"Argument",name:{kind:"Name",value:"enterprise"},value:{kind:"Variable",name:{kind:"Name",value:"enterprise"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]};var ot=n("./app/src/components/TeamTypeSelect/index.ts");function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ut={context:{operationName:"WorkspacesPreambleBoardMemberList"}},pt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardMemberList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]}}]};var mt=n("./packages/nachos/checkbox.ts"),ht=n("./app/src/components/MemberAvatar/index.ts"),gt=n("./node_modules/react-animate-height/lib/AnimateHeight.js"),bt=n.n(gt),vt=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less"),ft={insert:"head",singleton:!1},_t=(oe()(vt.a,ft),vt.a.locals||{});const kt=Object(re.forNamespace)("workspaces preamble"),yt=(e,t)=>{switch(t.type){case"add":return[...e,t.idMember];case"remove":return e.filter((e=>e!==t.idMember));case"clear":return[];case"all":return t.idMembers;default:return e}},Et=({boardId:e,onSelectMember:t})=>{var n,r;const[s,o]=Object(i.useState)(!1),[l,c]=Object(i.useReducer)(yt,[]);Object(i.useEffect)((()=>t(l)),[t,l]);const{data:d}=function(e){const t=ct(ct({},ut),e);return m.a(pt,t)}({variables:{boardId:e}}),u=((null==d||null===(n=d.board)||void 0===n||null===(r=n.members)||void 0===r?void 0:r.length)||0)>1,p=Object(i.useMemo)((()=>{var e,t;return(null==d||null===(e=d.board)||void 0===e||null===(t=e.members)||void 0===t?void 0:t.filter((e=>T.memberId!==e.id&&e.confirmed)))||[]}),[d]);return Object(i.useEffect)((()=>{c({type:"all",idMembers:p.map((e=>e.id))})}),[p]),u?a.a.createElement("div",{className:_t.inviteMembers},a.a.createElement(mt.a,{className:_t.checkbox,label:a.a.createElement(a.a.Fragment,null,kt(["add-members-to-workspace"],{membersCount:l.length})),onChange:e=>{e.target.checked?c({type:"all",idMembers:p.map((e=>e.id))}):c({type:"clear"})},isChecked:l.length>0,isIndeterminate:l.length!==p.length&&l.length>0}),a.a.createElement(bt.a,{className:_t.members,contentClassName:_t.membersScroller,height:s?37*Math.min(5,p.length):0,animateOpacity:!0},p.map((e=>{const t=l.includes(e.id);return a.a.createElement(wt,{key:"member".concat(e.id),member:e,selected:t,updateMembers:c})}))),a.a.createElement("button",{onClick:()=>o(!s)},kt(s?["hide-members-button"]:["show-members-button"]))):null},wt=({member:e,selected:t,updateMembers:n})=>{const[r,o]=Object(i.useState)(!1);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:s()(_t.member,{[_t.memberHover]:r}),onClick:i=>{n({type:t?"remove":"add",idMember:e.id}),i.preventDefault()},role:"checkbox","aria-checked":t},a.a.createElement("div",{className:_t.nameAndAvatar},a.a.createElement(ht.a,{idMember:e.id,size:20,className:_t.avatar})," ",a.a.createElement("div",{className:_t.name},e.nonPublic&&e.nonPublic.fullName?e.nonPublic.fullName:e.fullName)),a.a.createElement(mt.a,{isChecked:t,className:_t.memberCheckbox})))};var Ct=n("./packages/error-reporting/index.ts"),Tt=n("./packages/analytics/index.ts"),Ot=n("./packages/atlassian-analytics/index.ts"),jt=n("./packages/test-ids/index.ts"),At=n("./packages/graphql-error-handling/index.ts");const xt=Object(re.forNamespace)("workspaces preamble"),Nt=()=>{},St=({analyticsDirectObj:e,analyticsSource:t,boardId:n,onSuccess:r})=>{const[s,o]=Object(i.useState)(!1),[d,u]=Object(i.useState)(""),[h,g]=Object(i.useState)(),[b,v]=Object(i.useState)(!1),[f,k]=Object(i.useState)([]),{data:y}=function(e){const t=Ge(Ge({},qe),e);return m.a(Xe,t)}({variables:{boardId:n}}),[E]=function(e){const t=it(it({},rt),e);return _.a(st,t)}(),[w]=function(e){const t=Je(Je({},et),e);return _.a(tt,t)}(),[C]=F(),O=b&&!!h&&!s;return a.a.createElement("div",{className:Ye.createTeam},a.a.createElement("label",{className:Ye.createTeamInputLabel,htmlFor:"workspacesPreambleCreateTeamInput"},xt(["new-workspace-input-label"])),a.a.createElement("input",{id:"workspacesPreambleCreateTeamInput",className:Ye.createTeamInput,type:"text",autoComplete:"off",spellCheck:!1,onChange:e=>{var t;const n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;void 0!==n&&(u(n),v(n.trim().length>0))},autoFocus:!0,placeholder:xt(["new-team-input-placeholder"]),value:d,maxLength:100,disabled:s}),a.a.createElement(ot.TeamTypeSelect,{onChange:e=>g(e),isDisabled:s,testId:jt.WorkSpacesPreambleTestIds.WorkspacesPreambleSelectTeamType}),a.a.createElement(Et,{boardId:n,onSelectMember:e=>k(e)}),a.a.createElement(c.Button,{isDisabled:!O,appearance:"primary",className:Ye.createTeamButton,onClick:O?async i=>{i.preventDefault(),o(!0);try{var a,s,c,u;const i=await E({variables:{type:"default",displayName:d.trim(),teamType:h}}),o=null===(a=i.data)||void 0===a||null===(s=a.createOrganization)||void 0===s?void 0:s.name,l=null===(c=i.data)||void 0===c||null===(u=c.createOrganization)||void 0===u?void 0:u.id;if(l&&o){var m;await C({variables:{boardId:n,orgId:l}});const i=f.map((e=>({id:e}))),a=i.length;a&&await w({variables:{orgId:l,users:i}});const s=((null==y||null===(m=y.board)||void 0===m?void 0:m.members)||[]).filter((e=>T.memberId!==e.id&&e.confirmed)).length;t&&Ot.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:t,containers:{board:{id:n},organization:{id:l}},attributes:{availableMembersCount:s,membersAddedCount:a,newOrg:!0,updatedOn:"board"}}),e&&Object(Tt.trackUe)({category:Tt.Noun.BOARD_VIEW,verb:Tt.Verb.SUBMITS,directObj:e,context:{availableMembersCount:s,boardId:n,membersAddedCount:a,newOrg:!0,orgId:l}}),r(o)}}catch(e){o(!1);const t=Object(At.c)(e);return null==t||t.code,l.a.showLiteralText(Object(re.localizeErrorCode)("organization","UNKNOWN_ERROR"),"error","WorkspacesPreamble",5e3),void Object(Ct.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble},extraData:{component:"WorkspacesPreambleCreateTeam"},networkError:t})}}:Nt,size:"fullwidth",testId:jt.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamSubmit},s?a.a.createElement(be.a,{centered:!0,testId:jt.WorkSpacesPreambleTestIds.WorkspacesPreambleSpinner}):xt(["submit-button-create-workspace"])))};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pt={context:{operationName:"WorkspacesPreambleSelectTeam"}},Ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleSelectTeam"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}}]}}]}}]}}]}}]}}]}}]};var Lt=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less"),Mt={insert:"head",singleton:!1},Rt=(oe()(Lt.a,Mt),Lt.a.locals||{}),Vt=n("./packages/nachos/select.ts");const Ut=()=>{},zt=Object(re.forNamespace)("workspaces preamble"),Ht="CREATE_NEW_TEAM",Wt=({boardId:e,isLoadingSelectedTeam:t,onSelectCreateTeam:n,onSelectTeam:r,onSubmit:s,selectedTeamId:o})=>{var l;const[d,u]=Object(i.useState)(!1),{data:p,loading:h}=function(e){const t=Dt(Dt({},Pt),e);return m.a(Ft,t)}(),g=((null==p||null===(l=p.member)||void 0===l?void 0:l.organizations)||[]).map((e=>{var t,n,i;const a=null==e||null===(t=e.limits)||void 0===t||null===(n=t.orgs)||void 0===n||null===(i=n.freeBoardsPerOrg)||void 0===i?void 0:i.status,r="disabled"===a||"maxExceeded"===a;return{label:e.displayName,value:e.id,isDisabled:r,meta:r?zt("upgrade-prompt-headline-run-out-of-free-boards"):void 0}}));g.push({label:zt("team-select-create-workspace-option"),value:Ht});const b=d||h||t,v=o&&!b;return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"workspacesPreambleTeamSelect"},zt("workspace-select-label")),a.a.createElement(Vt.a,{id:"workspacesPreambleTeamSelect",defaultValue:{label:zt("team-select-default-option"),value:""},isLoading:h,isDisabled:d||h,options:g,onChange:e=>{e.value===Ht?n():e.value&&r(e.value)}}),a.a.createElement(c.Button,{className:Rt.selectTeamSubmitButton,onClick:v?e=>{e.preventDefault(),u(!0),s()}:Ut,size:"fullwidth",isDisabled:!v,appearance:"primary"},b?a.a.createElement(be.a,{centered:!0}):zt("prompt-continue-button-add-to-workspace")))};function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const Kt=Object(re.forNamespace)("workspaces preamble"),Gt=()=>{};var $t;!function(e){e[e.Intro=0]="Intro",e[e.SelectTeam=1]="SelectTeam",e[e.CreateTeam=2]="CreateTeam",e[e.BoardMemberRestriction=3]="BoardMemberRestriction",e[e.BoardVisibilityRestriction=4]="BoardVisibilityRestriction",e[e.NewBillableGuests=5]="NewBillableGuests"}($t||($t={}));const qt=({boardId:e,IntroScreen:t,isBoardTeamless:n,onCreateTeamSuccess:r,onHide:s=Gt,onSelectTeamSuccess:o=Gt,onShow:c=Gt,autoShow:u,successAnalyticDirectObj:h,successAnalyticSource:g,TriggerButton:b})=>{var v,f,k;const[y,E]=Object(i.useState)(""),[w,C]=Object(i.useState)(!1),[O,A]=Object(i.useState)(""),[S,I]=Object(i.useState)(!1),{data:D}=function(e){const t=j(j({},x),e);return m.a(N,t)}({variables:{boardId:e}}),{data:B}=function(e){const t=H(H({},Y),e);return m.a(K,t)}({variables:{boardId:e,orgId:y},skip:""===y}),{hasBoardMemberRestrictions:P,boardMembersNotInTeam:L,loading:R}=ae({orgId:y,boardId:e,skip:1===(null==D||null===(v=D.board)||void 0===v?void 0:v.members.length)}),{loading:z,teamRestrictsCurrentBoardVisibility:W}=J({orgId:y,boardId:e}),[G]=F(),[$]=function(e){const t=M(M({},V),e);return _.a(U,t)}(),{popoverProps:q,push:X,show:Q,toggle:Z,triggerRef:ee,hide:te}=Object(d.e)({initialScreen:$t.Intro,onHide:s,onShow:c});Object(i.useEffect)((()=>{C(!1),A("")}),[q.isVisible,y,C,A]);const ne=async t=>{var n,i;if(!P||!L.length||null!=t&&t.boardMemberRestrictionResolved||w)if(null==B||null===(n=B.organization)||void 0===n||null===(i=n.newBillableGuests)||void 0===i||!i.length||null!=t&&t.newBillableGuestsResolved||S)if(!W||null!=t&&t.boardVisibilityRestrictionResolution||O)try{var a,r;const n=!(null==B||null===(a=B.organization)||void 0===a||null===(r=a.memberships)||void 0===r||!r.find((e=>e.idMember===T.memberId&&"admin"===e.memberType)));if(null!=t&&t.boardVisibilityRestrictionResolution||O){const i=(null==t?void 0:t.boardVisibilityRestrictionResolution)||O;await $({variables:{boardId:e,visibility:i,orgId:y,keepBillableGuests:n}})}else await G({variables:{boardId:e,orgId:y,keepBillableGuests:n}});g&&Ot.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:g,containers:{board:{id:e},organization:{id:y}},attributes:{newOrg:!1,updatedOn:"board"}}),h&&Object(Tt.trackUe)({category:Tt.Noun.BOARD_VIEW,verb:Tt.Verb.SUBMITS,directObj:h,context:{boardId:e,newOrg:!1,orgId:y}}),o(y)}catch(e){const t=Object(At.c)(e);return null==t||t.code,l.a.showLiteralText(Object(re.localizeErrorCode)("organization","UNKNOWN_ERROR"),"error","WorkspacesPreamble",5e3),void Object(Ct.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble},extraData:{component:"WorkspacesPreamblePrompt"},networkError:t})}else X($t.BoardVisibilityRestriction);else X($t.NewBillableGuests);else X($t.BoardMemberRestriction)};Object(i.useEffect)((()=>{u&&Q()}),[u,Q]),Object(i.useEffect)((()=>{!1===n&&te()}),[n,te]);const ie=!(null==D||null===(f=D.member)||void 0===f||null===(k=f.idOrganizations)||void 0===k||!k.length)||!1,se=ie?$t.SelectTeam:$t.CreateTeam;return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{boardId:e,onClick:Z,ref:ee}),a.a.createElement(d.b,Yt({},q,{title:Kt(ie?"popover-title-add-to-workspace":"popover-title-create-workspace")}),a.a.createElement(d.d,{id:$t.Intro},a.a.createElement(t,{onButtonClick:()=>X(se),buttonCopy:Kt(ie?"prompt-continue-button-add-to-workspace":"prompt-continue-button-create-workspace")})),a.a.createElement(d.d,{id:$t.SelectTeam},a.a.createElement(Wt,{boardId:e,isLoadingSelectedTeam:R||z,onSelectTeam:E,onSelectCreateTeam:()=>X($t.CreateTeam),onSubmit:ne,selectedTeamId:y})),a.a.createElement(d.d,{id:$t.CreateTeam},a.a.createElement(St,{analyticsDirectObj:h,analyticsSource:g,boardId:e,onSuccess:r})),a.a.createElement(d.d,{id:$t.BoardMemberRestriction},a.a.createElement(fe,{boardId:e,onCancel:()=>X($t.SelectTeam),onSubmit:()=>{C(!0),ne({boardMemberRestrictionResolved:!0})},orgId:y})),a.a.createElement(d.d,{id:$t.BoardVisibilityRestriction},a.a.createElement(Fe,{boardId:e,onSubmit:e=>{A(e),ne({boardVisibilityRestrictionResolution:e})},orgId:y})),a.a.createElement(d.d,{id:$t.NewBillableGuests},a.a.createElement(ze,{onSubmit:()=>{I(!0),ne({newBillableGuestsResolved:!0})}}))))};function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zt={context:{operationName:"IsEnterpriseOwnedMember"}},en={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IsEnterpriseOwnedMember"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isRealEnterprise"}}]}}]}}]}}]};const tn=()=>{var e,t,n;const{data:i}=function(e){const t=Qt(Qt({},Zt),e);return m.a(en,t)}({skip:!T.memberId});return!(null==i||null===(e=i.member)||void 0===e||null===(t=e.enterprises)||void 0===t||null===(n=t.find((e=>{var t;return e.id===(null==i||null===(t=i.member)||void 0===t?void 0:t.idEnterprise)})))||void 0===n||!n.isRealEnterprise)};var nn=n("./app/gamma/src/util/url.ts"),an=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less"),rn={insert:"head",singleton:!1},sn=(oe()(an.a,rn),an.a.locals||{}),on=n("./packages/feature-flag-client/index.ts");const ln=Object(re.forNamespace)(),cn=Object(re.forNamespace)("workspaces preamble");const dn=Object(i.forwardRef)((({onClick:e},t)=>a.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:e,ref:t,role:"button"},a.a.createElement("span",{className:"board-header-btn-text"},ln("personal"))))),un=Object(i.forwardRef)((({boardId:e,onClick:t},n)=>a.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:()=>{Ot.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleAddToTeamButton",source:"boardScreen",containers:{board:{id:e}}}),Object(Tt.trackUe)({category:Tt.Noun.BOARD_VIEW,verb:Tt.Verb.CLICKS,directObj:Tt.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_BUTTON,context:{boardId:e}}),t()},ref:n,role:"button"},a.a.createElement("span",{className:"board-header-btn-text"},cn("board-header-button-add-to-workspace"))))),pn=({buttonCopy:e,onButtonClick:t})=>a.a.createElement("div",{className:sn.workspacesPreambleBoardHeaderButtonIntro},a.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),a.a.createElement("h2",{className:sn.workspacesPreambleBoardHeaderButtonIntroTitle},cn("prompt-heading")),a.a.createElement("p",null,cn("prompt-paragraph-workspaces-make-it-easy")),a.a.createElement(c.Button,{appearance:"primary",className:sn.workspacesPreambleBoardHeaderButtonContinueButton,onClick:t,shouldFitContainer:!0},e)),mn=({boardId:e,canAutoShow:t,onCreateTeamSuccess:n,onSelectTeamSuccess:r,windowUrl:o})=>{var c,h,b,k,E,O,j,A,x;const[N,S]=Object(i.useState)(!1),[I,D]=Object(i.useState)(!1),{data:B,error:P,loading:F}=function(e){const t=g(g({},v),e);return m.a(f,t)}({variables:{boardId:e},skip:!T.memberId}),[L]=function(e){const t=y(y({},w),e);return _.a(C,t)}(),M="WorkspacesPreamblePrompt-".concat(e),R=tn(),V=null==B||null===(c=B.member)||void 0===c?void 0:c.id,U=null==B||null===(h=B.board)||void 0===h||null===(b=h.memberships)||void 0===b?void 0:b.find((e=>e.idMember===V)),z="admin"===(null==U?void 0:U.memberType),H=!(null!=B&&null!==(k=B.board)&&void 0!==k&&k.idOrganization),W=null==B||null===(E=B.board)||void 0===E?void 0:E.enterpriseOwned,Y=((null==B||null===(O=B.board)||void 0===O||null===(j=O.members)||void 0===j?void 0:j.reduce(((e,t)=>t.confirmed?e+1:e),0))||0)>=2,K=Boolean(!F&&!P&&H&&!W&&z&&!R),G=Boolean(K&&Y&&(null==B||null===(A=B.member)||void 0===A?void 0:A.confirmed)),$=Boolean(K&&!G&&!Y&&on.featureFlagClient.get("btg.block-teamless-boards",!1)),q=Object(nn.isBoardPath)(new URL(o||window.location.href).pathname),X=(null==B||null===(x=B.member)||void 0===x?void 0:x.oneTimeMessagesDismissed)||[M],Q=!(!(G&&t&&q)||X.includes(M)),J=function(e){const t=Object(i.useRef)();return Object(i.useEffect)((()=>{t.current=e}),[e]),t.current}(H);Object(i.useEffect)((()=>{J&&!H&&N&&!I&&l.a.show("teamless-board-added-to-team","info","WorkspacesPreamble",5e3)}),[H,N,J,I]);const Z=G||N,ee=Object(i.useCallback)((e=>{null==r||r(e),D(!0)}),[r,D]);return a.a.createElement(u.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},Z&&a.a.createElement(qt,{autoShow:Q,boardId:e,IntroScreen:pn,isBoardTeamless:H,onCreateTeamSuccess:n,onSelectTeamSuccess:ee,onHide:t=>{S(!1),t===d.a.CLICK_CLOSE_BUTTON&&L({variables:{messageId:"WorkspacesPreamblePrompt-".concat(e)}})},onShow:()=>{S(!0),Ot.Analytics.sendScreenEvent({name:"workspacesPreambleAddToTeamInlineDialog",containers:{board:{id:e}}}),Object(Tt.trackUe)({category:Tt.Noun.BOARD_VIEW,verb:Tt.Verb.VIEWS,directObj:Tt.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,context:{boardId:e}})},successAnalyticDirectObj:Tt.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,successAnalyticSource:"workspacesPreambleAddToTeamInlineDialog",TriggerButton:un}),$&&a.a.createElement(qt,{boardId:e,IntroScreen:pn,isBoardTeamless:H,onCreateTeamSuccess:n,TriggerButton:dn}),!Z&&!$&&a.a.createElement("a",{className:s()("board-header-btn board-header-btn-without-icon js-add-board-to-team",{"no-edit":!z})},a.a.createElement("span",{className:"board-header-btn-text"},ln("personal"))))};function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vn={context:{operationName:"WorkspacesPreambleBoardInviteButton"}},fn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardInviteButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"enterprises"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};var _n=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less"),kn={insert:"head",singleton:!1},yn=(oe()(_n.a,kn),_n.a.locals||{});const En=Object(re.forTemplate)("board_header"),wn=Object(re.forNamespace)("workspaces preamble"),Cn=Object(i.forwardRef)((({boardId:e,onClick:t},n)=>a.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon",title:En("invite-to-board"),onClick:()=>{Ot.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleBoardInviteButton",source:"boardScreen",containers:{board:{id:e}}}),Object(Tt.trackUe)({category:Tt.Noun.BOARD_VIEW,verb:Tt.Verb.CLICKS,directObj:Tt.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_BUTTON,context:{boardId:e}}),t()},ref:n,role:"button"},a.a.createElement("span",{className:"board-header-btn-text"},En("invite"))))),Tn=({buttonCopy:e,onButtonClick:t})=>a.a.createElement("div",{className:yn.workspacesPreamblePromptInviteIntro},a.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png"),alt:"",role:"presentation"}),a.a.createElement("h2",{className:yn.workspacesPreamblePromptInviteIntroTitle},wn("prompt-heading-invite-time-for-a-workspace")),a.a.createElement("p",null,wn("prompt-paragraph-invite-workspaces-make-collaboration-easier")),a.a.createElement(c.Button,{appearance:"primary",className:yn.workspacesPreamblePromptInviteIntroContinueButton,"data-test-id":jt.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamButton,onClick:t,shouldFitContainer:!0},e)),On=({boardId:e,onSuccess:t})=>{var n,r,s,o,l,c,d,h,g,b;const{data:v}=function(e){const t=gn(gn({},vn),e);return m.a(fn,t)}({variables:{boardId:e}}),f=null==v||null===(n=v.member)||void 0===n?void 0:n.id,_=null==v||null===(r=v.board)||void 0===r||null===(s=r.memberships)||void 0===s?void 0:s.find((e=>e.idMember===f)),k=null==v||null===(o=v.board)||void 0===o?void 0:o.enterpriseOwned,y="admin"===(null==_?void 0:_.memberType),E=!(null==v||null===(l=v.member)||void 0===l||null===(c=l.enterprises)||void 0===c||!c.length),w=!(null!=v&&null!==(d=v.board)&&void 0!==d&&d.idOrganization),C=1===(null==v||null===(h=v.board)||void 0===h||null===(g=h.members)||void 0===g?void 0:g.length),T=!(!(y&&w&&C)||k||E||null==v||null===(b=v.member)||void 0===b||!b.confirmed),O=Object(i.useCallback)((e=>{t(e)}),[t]);return a.a.createElement(u.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},T?a.a.createElement(qt,{boardId:e,IntroScreen:Tn,onCreateTeamSuccess:t,onSelectTeamSuccess:O,onShow:()=>{Ot.Analytics.sendScreenEvent({name:"workspacesPreambleBoardInviteInlineDialog",containers:{board:{id:e}}}),Object(Tt.trackUe)({category:Tt.Noun.BOARD_VIEW,verb:Tt.Verb.VIEWS,directObj:Tt.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,context:{boardId:e}})},successAnalyticDirectObj:Tt.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,successAnalyticSource:"workspacesPreambleBoardInviteInlineDialog",TriggerButton:Cn}):a.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon js-open-manage-board-members",title:En("invite-to-board")},a.a.createElement("span",{className:"board-header-btn-text"},En("invite"))))};function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){xn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nn={context:{operationName:"WorkspacesPreambleChangeTeamButton"}},Sn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleChangeTeamButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}}]}}]}}]}}]};var In=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less"),Dn={insert:"head",singleton:!1},Bn=(oe()(In.a,Dn),In.a.locals||{});const Pn=Object(re.forTemplate)("board_menu_settings"),Fn=Object(re.forNamespace)("workspaces preamble"),Ln=()=>{},Mn=Object(i.forwardRef)((({onClick:e},t)=>a.a.createElement("a",{className:Bn.workspacesPreambleChangeTeamButton,onClick:e,ref:t,role:"button"},Fn("board-settings-change-team-button")))),Rn=({buttonCopy:e,onButtonClick:t})=>a.a.createElement("div",{className:Bn.workspacesPreambleChangeTeamButtonIntro},a.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),a.a.createElement("h2",{className:Bn.workspacesPreambleChangeTeamButtonIntroTitle},Fn("prompt-heading")),a.a.createElement("p",null,Fn("prompt-paragraph-workspaces-make-it-easy")),a.a.createElement(c.Button,{appearance:"primary",className:Bn.workspacesPreambleChangeTeamButtonContinueButton,onClick:t,shouldFitContainer:!0},e)),Vn=({boardId:e})=>{var t,n,i,r,o;const{data:l}=function(e){const t=An(An({},Nn),e);return m.a(Sn,t)}({variables:{boardId:e},skip:!T.memberId}),c=tn(),d=null==l||null===(t=l.board)||void 0===t||null===(n=t.memberships)||void 0===n?void 0:n.find((e=>e.idMember===T.memberId)),h="admin"===(null==d?void 0:d.memberType),g=!(null!=l&&null!==(i=l.board)&&void 0!==i&&i.idOrganization),b=null==l||null===(r=l.board)||void 0===r||null===(o=r.organization)||void 0===o?void 0:o.displayName,v=Boolean(h&&g&&!c);return a.a.createElement(u.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},v?a.a.createElement(qt,{boardId:e,IntroScreen:Rn,TriggerButton:Mn,onCreateTeamSuccess:Ln}):a.a.createElement("a",{className:s()("js-change-org",{disabled:!h,[Bn.workspacesPreambleChangeTeamButtonDisabled]:!h},Bn.workspacesPreambleChangeTeamButton)},Pn("change-organization-ellipsis"),b&&a.a.createElement("span",{className:Bn.workspacesPreambleChangeTeamButtonTeamName},b)))}},"./app/src/noop.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=()=>{}},"./node_modules/@atlassian/butler-command-parser/lib/globals/debug.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDebug=t.DEBUG=void 0,t.DEBUG=!1,t.setDebug=function(e=!1){t.DEBUG=e}},"./node_modules/@atlassian/butler-command-parser/lib/globals/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureGlobals=t.Logger=t.DEBUG=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/globals/debug.js"),a=n("./node_modules/@atlassian/butler-command-parser/lib/globals/logger.js");var r=n("./node_modules/@atlassian/butler-command-parser/lib/globals/debug.js");Object.defineProperty(t,"DEBUG",{enumerable:!0,get:function(){return r.DEBUG}});var s=n("./node_modules/@atlassian/butler-command-parser/lib/globals/logger.js");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return s.Logger}}),t.configureGlobals=function({logger:e,debug:t}={}){a.setLogger((null==e?void 0:e.info)?e:void 0),i.setDebug(null!=t&&t)}},"./node_modules/@atlassian/butler-command-parser/lib/globals/logger.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLogger=t.Logger=void 0;const i={info:console.log};t.Logger=i,t.setLogger=function(e=i){t.Logger=e}},"./node_modules/@atlassian/butler-command-parser/lib/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizationKeysForCommand=t.localizeCommandToButlerEnglish=t.parseInlineDate=t.parseEnterpriseCommand=t.parseCondition=t.parseCommand=t.getTimezoneName=t.correctParseResult=t.configureCommandParser=void 0;var r=n("./node_modules/@atlassian/butler-command-parser/lib/globals/index.js");Object.defineProperty(t,"configureCommandParser",{enumerable:!0,get:function(){return r.configureGlobals}});var s=n("./node_modules/@atlassian/butler-command-parser/lib/parse/index.js");Object.defineProperty(t,"correctParseResult",{enumerable:!0,get:function(){return s.correctParseResult}}),Object.defineProperty(t,"getTimezoneName",{enumerable:!0,get:function(){return s.getTimezoneName}}),Object.defineProperty(t,"parseCommand",{enumerable:!0,get:function(){return s.parseCommand}}),Object.defineProperty(t,"parseCondition",{enumerable:!0,get:function(){return s.parseCondition}}),Object.defineProperty(t,"parseEnterpriseCommand",{enumerable:!0,get:function(){return s.parseEnterpriseCommand}}),Object.defineProperty(t,"parseInlineDate",{enumerable:!0,get:function(){return s.parseInlineDate}});var o=n("./node_modules/@atlassian/butler-command-parser/lib/localize/index.js");Object.defineProperty(t,"localizeCommandToButlerEnglish",{enumerable:!0,get:function(){return o.localizeCommandToButlerEnglish}}),Object.defineProperty(t,"getLocalizationKeysForCommand",{enumerable:!0,get:function(){return o.getLocalizationKeysForCommand}}),a(n("./node_modules/@atlassian/butler-command-parser/lib/types/Command.js"),t)},"./node_modules/@atlassian/butler-command-parser/lib/localize/LocalizationKeysError.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationKeysError=void 0;class i extends Error{constructor(e,t){super("Could not localize command"),this.name="LocalizationKeysError",this.elementType=e,this.unsupportedCase=t}}t.LocalizationKeysError=i},"./node_modules/@atlassian/butler-command-parser/lib/localize/actions/index.js":function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizationKeysForAction=void 0;const a=n("./node_modules/@atlassian/butler-command-parser/lib/localize/LocalizationKeysError.js"),r=n("./node_modules/@atlassian/butler-command-parser/lib/localize/l10nizeTitle.js"),s=n("./node_modules/@atlassian/butler-command-parser/lib/localize/actions/l10nizeAddDateAction.js"),o=n("./node_modules/@atlassian/butler-command-parser/lib/localize/actions/l10nizeRemoveFromCardAction.js"),l=n("./node_modules/@atlassian/butler-command-parser/lib/localize/conditions.js");t.getLocalizationKeysForAction=function(e){var t;const n=null===(t=l.getActionConditions(e))||void 0===t?void 0:t.map(l.getLocalizationKeysForCondition);switch(e.type){case"CREATE_REPORT_ACTION":{const{$REPORT_VAR:t,$ITEM_PATTERN:i,REPORT_GROUP_BY:a}=e.CREATE_REPORT_ACTION;let s,o,l;return t&&(s={key:"in variable",title:r.l10nizeTitle(t)}),i&&(o={key:"item pattern",title:r.l10nizeTitle(i)}),"THE_LIST"===a&&(l={key:"grouped by",group:"list"}),"THE_DUE_DATE"===a&&(l={key:"grouped by",group:"due date"}),{key:"create_report_action",report_var:s,conditions:n,item_pattern:o,grouped_by:l}}case"MOVE_CARD_ACTION":{const{$LIST:t,$BOARD:n}=e.MOVE_CARD_ACTION.DESTINATION,i={key:e.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP||e.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM};let a,r;return n&&(a={key:"on board",title:{key:"title",$TITLE:n}}),r=t?{key:"of the list",title:{key:"title",$TITLE:t}}:{key:"of the list"},{key:"move_card_action",position:i,list:r,board:a}}case"COPY_CARD_ACTION":{const{$LIST:t,$BOARD:n}=e.COPY_CARD_ACTION.DESTINATION,i={key:e.COPY_CARD_ACTION.DESTINATION.POSITION_TOP||e.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM};let a,r,s;return n&&(a={key:"on board",title:{key:"title",$TITLE:n}}),r=t?{key:"of the list",title:{key:"title",$TITLE:t}}:{key:"of the list"},e.COPY_CARD_ACTION.WITHOUT_COMMENTS&&(s={key:"without comments"}),{key:"copy_card_action",position:i,list:r,board:a,comments:s}}case"ADD_COMMENT_ACTION":return{key:"add_comment_action",title:{key:"title",$TITLE:e.ADD_COMMENT_ACTION.$COMMENT}};case"ADD_LABEL_ACTION":{const{LABEL:{COLOR:t,$TITLE:n},ALL_CARDS_IN_LIST:i}=e.ADD_LABEL_ACTION;return{key:"add_label_action",label:{key:"the label","*COLOR":t,title:n?{key:"title",$TITLE:n}:void 0},target:i?{key:"all the cards in list",list:{key:"the list",title:{key:"title",$TITLE:i.$LIST}}}:{key:"the card"}}}case"ADD_MEMBER_ACTION":return e.ADD_MEMBER_ACTION.MEMBER["@MEMBER_USERNAME"]?{key:"add_member_action",member:{key:"member username","@MEMBER_USERNAME":e.ADD_MEMBER_ACTION.MEMBER["@MEMBER_USERNAME"]}}:{key:"join_card_action"};case"REMOVE_FROM_CARD_ACTION":return o.l10nizeRemoveFromCardAction(e);case"MARK_DUE_COMPLETE_ACTION":return{key:"mark_due_date_complete_action",field:{key:"complete"}};case"UNMARK_DUE_COMPLETE_ACTION":return{key:"mark_due_date_complete_action",field:{key:"incomplete"}};case"JOIN_CARD_ACTION":return{key:"join_card_action"};case"LEAVE_CARD_ACTION":return{key:"leave_card_action"};case"ADD_CHECKLIST_ACTION":{const{$CHECKLIST_NAME:t,$NEW_CHECKLIST_NAME:n,$FROM_CARD:i}=e.ADD_CHECKLIST_ACTION,a={title:{key:"title",$TITLE:t}};return i&&(a.from={key:"from card",title:{key:"title",$TITLE:i}}),n&&(a.new_name={key:"with name",title:{key:"title",$TITLE:n}}),Object.assign({key:"add_checklist_action"},a)}case"SORT_LIST_ACTION":{const t=e.SORT_LIST_ACTION,{SORT_DESCENDING:n,$LIST:a,SECONDARY_SORT:r}=t,s=e=>{if(e.SORT_BY_CUSTOM_FIELD)return{key:"custom field",title:{key:"title",$TITLE:e.SORT_BY_CUSTOM_FIELD.$CUSTOM_FIELD_NAME}};if(e.SORT_BY_LABEL){const{SORT_LABEL:t}=e.SORT_BY_LABEL;return(Array.isArray(t)?t:[t]).map((({COLOR:e,$TITLE:t})=>({key:"the label","*COLOR":e,title:t?{key:"title",$TITLE:t}:void 0})))}return e.SORT_BY_DUE_DATE?"due date":e.SORT_BY_START_DATE?"start date":e.SORT_BY_VOTES?"votes":e.SORT_BY_TIME_IN_LIST?"time in list":e.SORT_BY_AGE?"age":e.SORT_BY_DATE_IN_TITLE?"date in title":e.SORT_BY_TITLE?"name":void 0},o={key:"sort_list_action",list:{key:"the list",title:a?{key:"title",$TITLE:a}:void 0},field:s(i(t,["SORT_DESCENDING","$LIST","SECONDARY_SORT"])),direction:n?"descending":"ascending"};return r&&(o.secondary_sort={key:"secondary sort",field:s(r),direction:r.SORT_DESCENDING?"ascending":"descending"}),o}case"SEND_EMAIL_ACTION":{const{$ADDRESS:t,$SUBJECT:n,$MESSAGE:i}=e.SEND_EMAIL_ACTION,a={subject:{key:"with subject",title:{key:"title",$TITLE:n}},message:{key:"with message",title:{key:"title",$TITLE:i}}};return t&&(a.$ADDRESS=`"${t}"`),e.SEND_EMAIL_ACTION.ALL_MEMBERS_ON_BOARD&&(a.$ADDRESS="@board"),e.SEND_EMAIL_ACTION.ALL_MEMBERS_ON_CARD&&(a.$ADDRESS="@card"),Object.assign({key:"send_email_to_recipient_action"},a)}case"SET_CUSTOM_FIELD_ACTION":{const t=e.SET_CUSTOM_FIELD_ACTION;let n={title:{key:"title",$TITLE:t.$FIELD_NAME}};return t.$TEXT_VALUE?(n=Object.assign({verb:{key:"set"},to_value:{key:"to value",$VALUE:`"${t.$TEXT_VALUE}"`}},n),Object.assign({key:"verb_custom_field_to_value_action"},n)):t.NUMERIC_VALUE?(n=Object.assign({verb:{key:"set"},to_value:{key:"to value",$VALUE:t.NUMERIC_VALUE}},n),Object.assign({key:"verb_custom_field_to_value_action"},n)):t.VARIABLE_VALUE?(n=Object.assign({verb:{key:"set"},to_value:{key:"to value",$VALUE:t.VARIABLE_VALUE}},n),Object.assign({key:"verb_custom_field_to_value_action"},n)):t.INCREASE_FIELD?(n=Object.assign({verb:{key:"increase"},$AMOUNT:t.AMOUNT||1},n),Object.assign({key:"increment_custom_field_action"},n)):t.DECREASE_FIELD?(n=Object.assign({verb:{key:"decrease"},$AMOUNT:t.AMOUNT||1},n),Object.assign({key:"increment_custom_field_action"},n)):(t.CLEAR_FIELD?n=Object.assign({verb:{key:"clear"}},n):t.CHECK_FIELD?n=Object.assign({verb:{key:"check"}},n):t.UNCHECK_FIELD&&(n=Object.assign({verb:{key:"uncheck"}},n)),Object.assign({key:"verb_custom_field_action"},n))}case"ADD_START_DATE_ACTION":case"ADD_DUE_DATE_ACTION":return s.l10nizeAddDateAction(e);case"COUNT_CARDS_ACTION":return{key:"count_cards_action",conditions:n};default:throw new a.LocalizationKeysError(e.type)}}},"./node_modules/@atlassian/butler-command-parser/lib/localize/actions/l10nizeAddDateAction.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.l10nizeAddDateAction=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/localize/LocalizationKeysError.js"),a=e=>Number.isFinite(e)&&(null!=e?e:0)>=0;t.l10nizeAddDateAction=function(e){const t="ADD_START_DATE_ACTION"===e.type?e.ADD_START_DATE_ACTION.START_DATE:e.ADD_DUE_DATE_ACTION.DUE_DATE,n=(e=>{if(e.NOW)return"now";if(e.TODAY)return"today";if(e.TOMORROW)return"tomorrow";if(e.YESTERDAY)return"yesterday";if(e.NEXT_WEEK)return void 0!==e.NEXT_WEEK.DAY?{key:"next week on day","*WEEKDAY":e.NEXT_WEEK.DAY}:"next week";if(e.NEXT_MONTH)return{key:e.NEXT_MONTH.MONTH_DAY_NUMBER?"next month on the day":"next month","*ORDINAL":e.NEXT_MONTH.MONTH_DAY_NUMBER};if(e.THE_NEXT_WORKING_DAY)return"the next working day";if(a(e.IN_MINUTES))return{key:"x time frame later",$X:e.IN_MINUTES,time_frame:"minutes"};if(a(e.IN_HOURS))return{key:"x time frame later",$X:e.IN_HOURS,time_frame:"hours"};if(e.IN_X_FROM_TODAY){if(a(e.IN_X_FROM_TODAY.X_WORKING_DAYS))return{key:"x time frame later",$X:e.IN_X_FROM_TODAY.X_WORKING_DAYS,time_frame:"working days"};if(a(e.IN_X_FROM_TODAY.X_DAYS))return{key:"x time frame later",$X:e.IN_X_FROM_TODAY.X_DAYS,time_frame:"days"};if(a(e.IN_X_FROM_TODAY.X_WEEKS))return{key:"x time frame later",$X:e.IN_X_FROM_TODAY.X_WEEKS,time_frame:"weeks"};if(a(e.IN_X_FROM_TODAY.X_MONTHS))return{key:"x time frame later",$X:e.IN_X_FROM_TODAY.X_MONTHS,time_frame:"months"}}if(e.BEFORE_DAY)return{key:void 0!==e.BEFORE_DAY.END_OF_DAY?"before the end of day":"before day","*WEEKDAY":e.BEFORE_DAY.DAY};if(void 0!==e.NEXT_DAY)return{key:"next day","*WEEKDAY":e.NEXT_DAY.DAY};if(e.MONTH_DAY){let t;return t=e.MONTH_DAY.LAST_MONTH_DAY?Object.prototype.hasOwnProperty.call(e.MONTH_DAY.LAST_MONTH_DAY,"WORKING")?"last working day":"last day":{key:"ordinal","*ORDINAL":e.MONTH_DAY.MONTH_DAY_NUMBER},{key:"the day of month",day:t,month:e.MONTH_DAY.WHICH_MONTH_NEXT?"next month":"the month"}}return e.NTH_WEEK_DAY?{key:"the day of month",day:e.NTH_WEEK_DAY.LAST_MONTH_WEEK?{key:"last weekday","*WEEKDAY":e.NTH_WEEK_DAY.DAY}:{key:"nth day","*ORDINAL":e.NTH_WEEK_DAY.MONTH_WEEK_NUMBER,"*WEEKDAY":e.NTH_WEEK_DAY.DAY},month:"the month"}:e.WRITTEN_DATE?e.WRITTEN_DATE.END_OF_MONTH?{key:"the day of month",day:"last day",month:{key:"month","*MONTH":e.WRITTEN_DATE.MONTH}}:{key:"written date","*DATE":{key:"date",month:e.WRITTEN_DATE.MONTH,day:e.WRITTEN_DATE.MONTH_DAY_NUMBER,year:e.WRITTEN_DATE.YEAR}}:void 0})(t);if(!n&&!t.TIME)throw new i.LocalizationKeysError(e.type,["NUMERIC_DATE","DATE_IN_CUSTOM_FIELD"].find((e=>Object.prototype.hasOwnProperty.call(t,e))));return{key:"add_date_action",date_type:{key:"ADD_START_DATE_ACTION"===e.type?"start date":"due date"},date:n,time:t.TIME?{key:"at time","*TIME":Object.assign({key:"time"},t.TIME)}:void 0}}},"./node_modules/@atlassian/butler-command-parser/lib/localize/actions/l10nizeRemoveFromCardAction.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.l10nizeRemoveFromCardAction=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/types/MaybeArray.js"),a=n("./node_modules/@atlassian/butler-command-parser/lib/localize/l10nizeTitle.js");t.l10nizeRemoveFromCardAction=function({REMOVE_FROM_CARD_ACTION:e}){const t=[];if(e.LABEL)for(const{COLOR:n,$TITLE:r}of i.normalizeArray(e.LABEL))t.push({key:"the label","*COLOR":null!=n?n:void 0,title:a.l10nizeTitle(r)});if(e.MEMBER)for(const n of i.normalizeArray(e.MEMBER))n["@MEMBER_USERNAME"]?t.push({key:"member username","@MEMBER_USERNAME":n["@MEMBER_USERNAME"]}):n.$MEMBER_FULLNAME?t.push(a.l10nizeTitle(n.$MEMBER_FULLNAME)):n.MEMBER_ME?t.push("me"):n.MEMBER_ANYONE&&t.push("anyone");if(e.REMOVE_ATTACHMENT)for(const n of i.normalizeArray(e.REMOVE_ATTACHMENT))n.$ATTACHMENT_LINK?t.push({key:"the link",title:a.l10nizeTitle(n.$ATTACHMENT_LINK)}):t.push({key:"the attachment",title:a.l10nizeTitle(n.$ATTACHMENT_NAME)});if(e.REMOVE_CHECKLIST)for(const{$CHECKLIST_NAME:n}of i.normalizeArray(e.REMOVE_CHECKLIST))t.push({key:"the checklist",title:a.l10nizeTitle(n)});if(e.STICKER_TYPE)for(const n of i.normalizeArray(e.STICKER_TYPE))t.push({key:"the sticker","*STICKER":n});let n;return e.REMOVE_COVER&&t.push("the cover"),e.REMOVE_DUE_DATE&&t.push("the due date"),e.REMOVE_START_DATE&&t.push("the start date"),e.THE_LABEL&&t.push("the label"),e.REMOVE_ALL_CHECKLISTS&&t.push("all checklists"),e.REMOVE_ALL_LABELS&&t.push("all labels"),e.REMOVE_ALL_MEMBERS&&t.push("all members"),e.REMOVE_ALL_STICKERS&&t.push("all stickers"),n=e.ALL_CARDS_IN_LIST?{key:"all the cards in list",list:{key:"the list",title:a.l10nizeTitle(e.ALL_CARDS_IN_LIST.$LIST)}}:e.ALL_ARCHIVED_CARDS?"all archived cards":"the card",{key:"remove_from_card_action",fields:t,location:n}}},"./node_modules/@atlassian/butler-command-parser/lib/localize/conditions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActionConditions=t.getTriggerConditions=t.getLocalizationKeysForCondition=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/localize/LocalizationKeysError.js");t.getLocalizationKeysForCondition=function(e){switch(e.type){case"WITH_NO_LABELS":return"with no labels";case"WITHOUT_DUE_DATE":return"without due date";case"WITH_OVERDUE_DATE":return{key:"overdue"};case"ASSIGNED_TO":{let t;return e.ASSIGNED_TO.MEMBER["@MEMBER_USERNAME"]?t={key:"member username","@MEMBER_USERNAME":e.ASSIGNED_TO.MEMBER["@MEMBER_USERNAME"]}:e.ASSIGNED_TO.MEMBER.MEMBER_ME&&(t="me"),{key:"assigned to member",member:t}}case"DUE_DATE_CONDITION":{let t={};const{DUE_IN_LESS_THAN_DAYS:n,DUE_IN_MORE_THAN_DAYS:i,DUE_IN_EXACTLY_DAYS:a,DUE_IN_BETWEEN:r,DUE_TODAY:s,DUE_TOMORROW:o,DUE_THIS_WEEK:l,DUE_NEXT_WEEK:c,DUE_THIS_MONTH:d,DUE_NEXT_MONTH:u,WORKING_DAYS:p}=e.DUE_DATE_CONDITION;return n&&(t={key:"due in comparison days",$NUM_DAYS:n,operator:"less than"}),i&&(t={key:"due in comparison days",$NUM_DAYS:i,operator:"more than"}),a&&(t={key:"due in comparison days",$NUM_DAYS:a,operator:"exactly"}),r&&(t={key:"due in between days",$MIN_DAYS:r.MIN_DAYS,$MAX_DAYS:r.MAX_DAYS}),s?t={key:"due when",when:"today"}:o?t={key:"due when",when:"tomorrow"}:l?t={key:"due when",when:"this week"}:c?t={key:"due when",when:"next week"}:d?t={key:"due when",when:"this month"}:u?t={key:"due when",when:"next month"}:t.days=p?"working days":"days",t}}throw new i.LocalizationKeysError(e.type)},t.getTriggerConditions=function(e){var t,n,i,a;const r=e.type,s=null===(t=e[r])||void 0===t?void 0:t.type;return(null===(n=e[r])||void 0===n?void 0:n.CONDITION)||(null===(a=null===(i=e[r])||void 0===i?void 0:i[s])||void 0===a?void 0:a.CONDITION)||[]},t.getActionConditions=function(e){var t;return(null===(t=e[e.type])||void 0===t?void 0:t.CONDITION)||[]}},"./node_modules/@atlassian/butler-command-parser/lib/localize/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeCommandToButlerEnglish=t.getLocalizationKeysForCommand=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/localize/localize.js"),a=n("./node_modules/@atlassian/butler-command-parser/lib/localize/actions/index.js"),r=n("./node_modules/@atlassian/butler-command-parser/lib/localize/triggers.js");function s(e){return"string"==typeof e?e.replace(/"/g,'\\"'):Array.isArray(e)?e.map(s):e&&"object"==typeof e?Object.keys(e).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:s(e[n])})),{}):e}function o(e){const{ACTION:t,TRIGGER:n}=(({TRIGGER:e,ACTION:t})=>({TRIGGER:s(e),ACTION:s(t)}))(e),i={actions:t.map(a.getLocalizationKeysForAction)};return n&&(i.trigger=r.getLocalizationKeysForTrigger(n)),i}t.getLocalizationKeysForCommand=o,t.localizeCommandToButlerEnglish=function(e){const{actions:t,trigger:n}=o(e),a=function(e){const t=e.map((e=>i.localize(e)));return t.length>1?t.slice(0,-1).join(",\n")+(t[t.length-2].match(/^for each /)?",\n":",\nand ")+t.slice(-1)[0]:t[0]}(t);return n?`${i.localize(n)},\n${a}`:a}},"./node_modules/@atlassian/butler-command-parser/lib/localize/l10nizeTitle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.l10nizeTitle=void 0;t.l10nizeTitle=e=>e?{key:"title",$TITLE:e}:void 0},"./node_modules/@atlassian/butler-command-parser/lib/localize/localize.js":function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.localize=void 0;const r=a(n("./node_modules/@atlassian/butler-command-parser/lib/localize/specialCaseTranslations.json")),s=a(n("./node_modules/@atlassian/butler-command-parser/lib/localize/translations.json")),o={"*COLOR":e=>e,"*DATE":({month:e,day:t=1,year:n})=>{let i=`${r.default.months[e]} ${t}`;return n&&(i+=", "+n),i},"*MONTH":e=>r.default.months[e],"*ORDINAL":e=>{switch(e){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";case void 0:return;default:return e+"th"}},"*STICKER":e=>r.default.stickers[e],"*TIME":({HOUR:e,MINUTES:t,AM:n,PM:i})=>{let a=String(e);if(void 0!==t){let e=String(t);e.length<2&&(e="0"+e),a+=":"+e}return(n||i)&&(a+=" "+(n||i||"").toUpperCase()),a},"*WEEKDAY":e=>r.default.weekdays[e]},l=new Set(["verb_custom_field_to_value_action","due in between days","due in comparison days"]);function c(e,t){let n=s.default[e];if(!n)throw new Error(e+" not found in translations");if(t)for(const[e,i]of Object.entries(t))n=n.replace(`{${e}}`,i);return n}function d(e,t){var n;if(Array.isArray(t))return t.map((t=>d(e,t))).join(" and ");if(e.startsWith("*")&&void 0!==t)return null===(n=o[e])||void 0===n?void 0:n.call(o,t);switch(typeof t){case"number":return String(t);case"string":if(e.startsWith("$"))return t;if(e.startsWith("@"))return"@"+t;if(!c(t))throw new Error("Could not localize "+t);return t;case"object":return u(t);default:return}}function u(e){var{key:t}=e,n=i(e,["key"]);return c(t,Object.entries(n).reduce(((e,[t,n])=>{const i=d(t,n);return i&&(e[t]=i),e}),{}))}t.localize=e=>function(e,t){const n=t.replace(/("[^"]+")/g,"").match(/{[^{}]+}/g);return n&&!l.has(e)&&n.forEach((e=>{t=t.replace(" "+e,"")})),t}(e.key,u(e))},"./node_modules/@atlassian/butler-command-parser/lib/localize/specialCaseTranslations.json":function(e,t){e.exports={months:["","January","February","March","April","May","June","July","August","September","October","November","December"],stickers:["check","heart","warning","clock","smile","laugh","huh","frown","thumbs up","thumbs down","star","rocket"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"./node_modules/@atlassian/butler-command-parser/lib/localize/translations.json":function(e,t){e.exports={every_certain_days_trigger:"every {*ORDINAL} {*WEEKDAY} {time}",every_day_trigger:"every day",every_weekday_trigger:"every weekday",on_due_date_days_before_trigger:"{$X} days before a card {conditions} is due",on_due_date_use_due_time_trigger:"at the time a card is due",when_card_into_list_trigger:"when a card {conditions} is added into {list}",when_date_added_trigger:"when a {date_type} is added",add_checklist_action:"add checklist {title} {from} {new_name}",add_comment_action:"post the comment {title}",add_date_action:"set the {date_type} to {date} {time}",add_label_action:"add {label} to {target}",add_member_action:"add {member} to the card",copy_card_action:"copy the card to {position} {list} {board} {comments}",count_cards_action:"count the cards {conditions}",create_report_action:"create a report {report_var} with all the cards {conditions} {item_pattern} {grouped_by}",increment_custom_field_action:"{verb} the number in custom field {title} by {$AMOUNT}",join_card_action:"join the card",leave_card_action:"leave the card",mark_due_date_complete_action:"mark due date {field}",move_card_action:"move the card to {position} {list} {board}",remove_from_card_action:"remove {fields} from {location}",send_email_to_recipient_action:"send email to {$ADDRESS} {subject} {message}",sort_list_action:"sort {list} by {field} {direction} {secondary_sort}",verb_custom_field_action:"{verb} custom field {title}",verb_custom_field_to_value_action:"{verb} custom field {title} {to_value}",age:"age","all archived cards":"all archived cards","all checklists":"all checklists","all labels":"all labels","all members":"all members","all stickers":"all stickers","all the cards in list":"all the cards in {list}",anyone:"anyone",ascending:"ascending","assigned to member":"assigned to {member}","at time":"at {*TIME}","before day":"before {*WEEKDAY}","before the end of day":"before the end of {*WEEKDAY}",bottom:"bottom",check:"check",clear:"clear",complete:"complete","custom field":"custom field {title}","date in title":"date in title",days:"days",decrease:"decrease",descending:"descending","due date":"due date","due in between days":"due in between {$MIN_DAYS} and {$MAX_DAYS} {days}","due in comparison days":"due in {operator} {$NUM_DAYS} {days}","due when":"due {when}",exactly:"exactly","from card":"from card {title}","grouped by":"grouped by {group}",hours:"hours","in variable":"in variable {title}",incomplete:"incomplete",increase:"increase","item pattern":"using pattern {title}","last day":"last day","last weekday":"last {*WEEKDAY}","last working day":"last working day","less than":"less than",list:"list",me:"me","member username":"{@MEMBER_USERNAME}",minutes:"minutes",month:"{*MONTH}",months:"months","more than":"more than",name:"name","next day":"next {*WEEKDAY}","next month on the day":"next month on the {*ORDINAL}","next month":"next month","next week on day":"next week on {*WEEKDAY}","next week":"next week",now:"now","nth day":"{*ORDINAL} {*WEEKDAY}","of the list":"of the list {title}","on board":"on board {title}",ordinal:"{*ORDINAL}",overdue:"overdue","secondary sort":"and then by {field} {direction}",set:"set","start date":"start date","the attachment":"the attachment {title}","the card":"the card","the checklist":"the checklist {title}","the cover":"the cover","the day of month":"the {day} of {month}","the due date":"the due date","the label":"the {*COLOR} {title} label","the link":"the link {title}","the list":"the list {title}","the month":"the month","the next working day":"the next working day","the start date":"the start date","the sticker":"the {*STICKER} sticker","this month":"this month","this week":"this week","time in list":"time in list",title:'"{$TITLE}"',"to all cards":"to all cards","to value":"to {$VALUE}",today:"today",tomorrow:"tomorrow",top:"top",uncheck:"uncheck",votes:"votes",weeks:"weeks","with message":"with message {title}","with name":"with name {title}","with no labels":"with no labels","with subject":"with subject {title}","without comments":"without comments","without due date":"without due date","working days":"working days","written date":"{*DATE}","x time frame later":"{$X} {time_frame} later",yesterday:"yesterday"}},"./node_modules/@atlassian/butler-command-parser/lib/localize/triggers.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizationKeysForTrigger=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/localize/LocalizationKeysError.js"),a=n("./node_modules/@atlassian/butler-command-parser/lib/localize/conditions.js");t.getLocalizationKeysForTrigger=function(e){var t;const n=null===(t=a.getTriggerConditions(e))||void 0===t?void 0:t.map(a.getLocalizationKeysForCondition),r=e.type;switch(r){case"EVERY":switch(e[r].type){case"EVERY_DAY":return{key:"every_day_trigger"};case"EVERY_WEEKDAY":return{key:"every_weekday_trigger"};case"CERTAIN_DAYS":{const{MONTH_WEEK_NUMBER:t,DAY:n,TIME:i}=e[r].CERTAIN_DAYS;return{key:"every_certain_days_trigger","*ORDINAL":t,"*WEEKDAY":n,time:i?{key:"at time","*TIME":Object.assign({key:"time"},i)}:void 0}}}break;case"ON_DUE_DATE":switch(e[r].type){case"DAYS_BEFORE":return{key:"on_due_date_days_before_trigger",$X:e[r].DAYS_BEFORE,conditions:n};case"USE_DUE_TIME":if(e[r].USE_DUE_TIME)return{key:"on_due_date_use_due_time_trigger"}}break;case"WHEN":switch(e[r].type){case"CARD_INTO_LIST":{const{$LIST:t}=e[r].CARD_INTO_LIST;return{key:"when_card_into_list_trigger",list:{key:"the list",title:{key:"title",$TITLE:t}},conditions:n}}case"START_DATE_ADDED":case"DUE_DATE_ADDED":return{key:"when_date_added_trigger",date_type:{key:"START_DATE_ADDED"===e[r].type?"start date":"due date"}}}}throw new i.LocalizationKeysError(e[r].type)}},"./node_modules/@atlassian/butler-command-parser/lib/parse/commandGrammar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommandGrammar=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");let a;t.getCommandGrammar=()=>(a||(a=a||{_COMMA:i.optional(i.or(",",";")),_COMMA__HELP:",",_A:i.or("a","an","one","the"),_A__HELP:"a",_AN:"_A",_AN__HELP:"an",_THE:i.or("the","a","an"),_THE__HELP:"the",_AND:i.or(["_COMMA",i.optional("and")],"and"),_AND__HELP:"and",_OR:i.or(["_COMMA",i.optional("or")],"or"),_OR__HELP:"or",_AND_OR:i.or(["_COMMA",i.optional(i.or("and","or"))],i.or("and","or")),_AND_OR__HELP:"and",_THAT_IS:i.or(["that","is"],"that's"),_THAT_IS_NOT:i.or(["that","is","not"],["that","isn't"],["that's","not"]),_EVERY:i.or("every","each"),_EVERY__HELP:"every",_IN:i.or("in","on","of"),_IN__HELP:"in",_INTO:i.or(["in","to"],"in","into","to","at","on"),_INTO__HELP:"into",_OUTOF:i.or(["out","of"],[i.optional("away"),"from"]),_OUTOF__HELP:["out","of"],_TO:"_INTO",_TO__HELP:"to",_FROM:"from",_CALLED:i.or("called","named","titled",["with","name"],["with","title"]),_THE_CARD:i.or("it",[i.optional(i.or("the","this","that")),i.optional("same"),"card"]),THE_CARD:"_THE_CARD",_THE_CARD__HELP:["the","card"],_TO_THE_CARD:["_TO","_THE_CARD"],_IN_THE_CARD:["_IN","_THE_CARD"],_THE_CARD_S:i.or("its",[i.optional(i.or("the","this","that")),i.optional("same"),i.or("card's","card")],"the"),_THE_CARD_S__HELP:["the","card's"],_ALL_THE_CARDS:i.or(["all",i.optional("the"),"cards"],["the","cards"],["_EVERY","card"],["any",i.or("card","cards")]),_ALL_THE_CARDS_NEW:i.or(["all",i.optional("the"),"cards"],["the","cards"],["any",i.or("card","cards")]),_ALL_THE_CARDS__HELP:i.or(["all","the","cards"],["_EVERY","card"]),_THE_LIST:i.or("it",[i.optional(i.or("the","this","that")),i.optional("same"),"list"]),THE_LIST:"_THE_LIST",_THE_LIST__HELP:["the","list"],_THIS_BOARD:[i.or("this","the"),"board"],THIS_BOARD:"_THIS_BOARD",_THIS_BOARD__HELP:["this","board"],_IN_THIS_BOARD:[i.or("in","on","of"),"_THIS_BOARD"],_INTO_BOARD:["_INTO","_THIS_BOARD"],_OUTOF_BOARD:["_OUTOF","_THIS_BOARD"],_TEAM:i.or("team","workspace"),_IN_A_CHECKLIST:["in","a","checklist"],_TO_A_CHECKLIST:["to","a","checklist"],_FROM_A_CHECKLIST:["from","a","checklist"],DAY:i.or_index(i.or("sunday","sun"),i.or("monday","mon"),i.or("tuesday","tue"),i.or("wednesday","wed"),i.or("thursday","thu"),i.or("friday","fri"),i.or("saturday","sat")),_DAY_LIST:["DAY",i.optional(["_AND_OR?","_DAY_LIST"])],_DAY_LIST__HELP:i.or("DAY",["DAY","and","DAY"]),LAST_MONTH_WEEK:"last",MONTH_WEEK_NUMBER:i.or(i.or_index("","first","second","third","fourth"),i.or_index("","1st","2nd","3rd","4th")),NOW:"now",IN_MINUTES:i.small_numeral("a number of minutes, e.g. 30 minutes",!0),_IN_MINUTES:[i.optional("in"),i.or("IN_MINUTES","{IN_MINUTES}"),i.or("minute","minutes"),i.optional(i.or(["from","now"],"later"))],IN_HOURS:i.small_numeral("a number of hours, e.g. 24",!0),_IN_HOURS:[i.optional("in"),i.or("IN_HOURS","{IN_HOURS}"),i.or("hour","hours"),i.optional(i.or(["from","now"],"later"))],TODAY:"today",TOMORROW:"tomorrow",YESTERDAY:"yesterday",END_OF_DAY:["the","end","of"],BEFORE_DAY:["before","END_OF_DAY?","DAY"],NEXT_DAY:["_THE?",i.optional("next"),"DAY"],NEXT_WEEK:["_THE?","next","week",i.optional(["on","DAY"])],NEXT_MONTH:["_THE?","next","month",i.optional(["on","the","MONTH_DAY_NUMBER"])],MONTH_DAY_NUMBER:i.or(i.ordinal("an ordinal day of the month, e.g. fifth",1,31),i.small_numeral("a day of the month, e.g. 21",!1,1,31)),WHICH_MONTH_THIS:"this",WHICH_MONTH_THE:"the",WHICH_MONTH_NEXT:[i.optional("the"),i.or("next","upcoming")],_WHICH_MONTH:[i.optional("of"),i.or("WHICH_MONTH_THIS","WHICH_MONTH_NEXT","WHICH_MONTH_THE"),"month"],NTH_WEEK_DAY:[i.optional("the"),i.or("MONTH_WEEK_NUMBER","LAST_MONTH_WEEK"),"DAY","_WHICH_MONTH?"],WORKING:"working",FIRST_MONTH_DAY:i.or(["first","WORKING?","day"],"start"),_LAST_MONTH_DAY:i.or(["last","WORKING?","day"],"end"),LAST_MONTH_DAY:"_LAST_MONTH_DAY",MONTH_DAY:i.or(["the","MONTH_DAY_NUMBER",i.optional("day"),"_WHICH_MONTH?"],["the",i.or("FIRST_MONTH_DAY","LAST_MONTH_DAY"),"_WHICH_MONTH"]),X_DAYS:i.small_numeral("a number of days, e.g. two days",!0),X_WORKING_DAYS:i.small_numeral("a number of days, e.g. two days",!0),X_WEEKS:i.small_numeral("a number of weeks, e.g. two weeks"),X_MONTHS:i.small_numeral("a number of months, e.g. two months"),IN_X_FROM_TODAY:[i.optional("in"),i.or([i.or("X_DAYS","{X_DAYS}"),i.or("day","days")],[i.or("X_WORKING_DAYS","{X_WORKING_DAYS}"),"working",i.or("day","days")],[i.or("X_WEEKS","{X_WEEKS}"),i.or("week","weeks")],[i.or("X_MONTHS","{X_MONTHS}"),i.or("month","months")]),i.optional(i.or(["from",i.or("now","today")],"later"))],THE_NEXT_WORKING_DAY:["the","next","working","day"],_RELATIVE_DATE:i.or("NOW","_IN_MINUTES","_IN_HOURS","TODAY","TOMORROW","YESTERDAY","BEFORE_DAY","NEXT_DAY","NEXT_WEEK","NEXT_MONTH","NTH_WEEK_DAY","MONTH_DAY","IN_X_FROM_TODAY","THE_NEXT_WORKING_DAY"),TIME:i.time(),MONTH:i.or(i.or_index("","january","february","march","april",["may",i.optional(".")],"june","july","august","september","october","november","december"),i.or_index("",["jan",i.optional(".")],["feb",i.optional(".")],["mar",i.optional(".")],["apr",i.optional(".")],["may",i.optional(".")],["jun",i.optional(".")],["jul",i.optional(".")],["aug",i.optional(".")],[i.or("sep","sept"),i.optional(".")],["oct",i.optional(".")],["nov",i.optional(".")],["dec",i.optional(".")])),YEAR:i.year(),END_OF_MONTH:[i.optional("the"),"_LAST_MONTH_DAY",i.optional("of")],WRITTEN_DATE:[i.or([i.optional(["DAY","_COMMA"]),i.or(["MONTH",i.optional("the"),"MONTH_DAY_NUMBER"],[i.optional("the"),"MONTH_DAY_NUMBER",i.optional("of"),"MONTH"])],["END_OF_MONTH?","MONTH"]),i.optional(["_COMMA",i.optional("of"),"YEAR"])],INLINE_WRITTEN_DATE:[i.or([i.optional(["DAY","_COMMA"]),i.or(["MONTH",i.optional("the"),"MONTH_DAY_NUMBER"],[i.optional("the"),"MONTH_DAY_NUMBER",i.optional("of"),"MONTH"])],["END_OF_MONTH?","MONTH"]),i.optional(["_COMMA",i.optional("of"),"YEAR"])],NUMERIC_DATE:i.numeric_date(),_DATE:i.or("NUMERIC_DATE","WRITTEN_DATE","_RELATIVE_DATE"),FROM_DATE:[i.or("from",["starting",i.optional("on")]),"_DATE"],_DATE_TIME:i.or(["_DATE","TIME?"],"TIME"),DATE_TIME:"_DATE_TIME",_INLINE_DATE:i.or("NUMERIC_DATE","INLINE_WRITTEN_DATE=>WRITTEN_DATE","_RELATIVE_DATE"),_INLINE_DATE_TIME:i.or(["_INLINE_DATE","TIME?"],"TIME"),INLINE_DATE_TIME:["_INLINE_DATE_TIME","<INLINE_END>"],END_DATE_TIME:["_INLINE_DATE_TIME",i.optional("."),"<END>"],EVERY_DAY:["_EVERY","day"],EVERY_WEEKDAY:["_EVERY","weekday"],_OF_THE_MONTH:["of","the","month"],CERTAIN_DAYS:["_EVERY",i.optional(i.or("MONTH_WEEK_NUMBER","LAST_MONTH_WEEK")),"_DAY_LIST","_OF_THE_MONTH?"],_ON_DAY_LIST:["on","_DAY_LIST"],EVERY_WEEK:["_EVERY",i.or("week",["X_WEEKS","weeks"]),"_ON_DAY_LIST?"],EVERY_MONTH:i.or(["_EVERY",i.or("month",["X_MONTHS","months"]),i.optional(["on","the",i.or("FIRST_MONTH_DAY","LAST_MONTH_DAY","MONTH_DAY_NUMBER"),"_OF_THE_MONTH?"])],["_EVERY",i.or("FIRST_MONTH_DAY","LAST_MONTH_DAY"),"_OF_THE_MONTH?"],["on","the",i.or("MONTH_DAY_NUMBER","FIRST_MONTH_DAY","LAST_MONTH_DAY"),"of","_EVERY","month"],["at","the",i.or("FIRST_MONTH_DAY","LAST_MONTH_DAY"),"of","_EVERY","month"]),EVERY_YEAR:i.or(["_EVERY",i.optional(["year","on"]),"MONTH","MONTH_DAY_NUMBER"],["_EVERY",i.optional(["year","on","the"]),"MONTH_DAY_NUMBER","of","MONTH"],["_EVERY",i.optional(["year","in"]),"MONTH"],["_EVERY","year"],["on","MONTH","MONTH_DAY_NUMBER",i.optional([i.optional("of"),"_EVERY","year"])],["on",i.optional("the"),"MONTH_DAY_NUMBER","of",i.or(["_EVERY?","MONTH"],["MONTH",i.optional([i.optional("of"),"_EVERY","year"])])]),FROM_HOUR:["from",i.time()],TO_HOUR:["to",i.time()],FROM_DAY:["from","DAY",i.optional(i.time())],TO_DAY:["to","DAY",i.optional(i.time())],MINUTE:i.small_numeral("the minute number, between 0 and 59",!1,0,59),_ON_MINUTE:["_COMMA","on","minute","MINUTE","_COMMA"],EVERY_HOUR:["_EVERY","hour","_COMMA","_ON_MINUTE?",i.optional(["FROM_HOUR","TO_HOUR?"]),i.optional(["FROM_DAY","TO_DAY"])],EVERY:i.or([i.or("EVERY_DAY","EVERY_WEEKDAY","EVERY_YEAR","CERTAIN_DAYS"),"TIME?"],[i.or("EVERY_WEEK","EVERY_MONTH"),i.optional(i.or(i.swappable("TIME","FROM_DATE"),"TIME","FROM_DATE"))],"EVERY_HOUR"),WHO_I:"i",WHO_ANYONE:i.or("someone","anyone"),WHO_ANYONE_BUT:["anyone",i.or("but","except"),"MEMBER"],WHO:i.or("WHO_I","WHO_ANYONE_BUT","WHO_ANYONE","MEMBER"),_BY_WHOM:["by","WHO"],COLOR:i.or("blue","green","orange","purple","red","yellow","sky","lime","pink","black"),LABEL:["_A?",i.or(["COLOR","label",i.optional(["_CALLED?","$TITLE"])],["COLOR","$TITLE?","label"],["label","_CALLED?","$TITLE"],["$TITLE","COLOR?","label"])],ANY_LABEL:[i.or("a","any"),"label"],_ATTACHMENT_CONDITION:i.or("_STARTING_WITH","_NOT_STARTING_WITH","_ENDING_WITH","_NOT_ENDING_WITH","_CONTAINING","_NOT_CONTAINING"),ATTACHMENT_ADDED:i.or(["_AN?","attachment","_ATTACHMENT_CONDITION?",i.optional("is"),"added","_INTO_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("add","adds"),"_AN?","attachment","_ATTACHMENT_CONDITION?","_INTO_TARGET_CARD?"]),ATTACHMENT_REMOVED:i.or(["_AN?","attachment","_ATTACHMENT_CONDITION?",i.optional("is"),"removed","_FROM_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("remove","removes"),"_AN?","attachment","_ATTACHMENT_CONDITION?","_FROM_TARGET_CARD?"]),LINK_ADDED:i.or(["_A?","link","_ATTACHMENT_CONDITION?",i.optional("is"),"added","_INTO_TARGET_CARD","_BY_WHOM?"],["WHO",i.or("add","adds"),"_A?","link","_ATTACHMENT_CONDITION?","_INTO_TARGET_CARD"]),_LABEL_ADDED_VERB:i.or("add","adds","added","apply","applies","applied","put","puts"),LABEL_ADDED:i.or([i.or("LABEL","ANY_LABEL"),i.optional("is"),"_LABEL_ADDED_VERB","_INTO_TARGET_CARD?","_BY_WHOM?"],["WHO","_LABEL_ADDED_VERB",i.or("LABEL","ANY_LABEL"),"_INTO_TARGET_CARD?"]),LABEL_REMOVED:i.or([i.or("LABEL","ANY_LABEL"),i.optional("is"),"removed",i.optional(["from","_TARGET_CARD"]),"_BY_WHOM?"],["WHO",i.or("remove","removes"),i.or("LABEL","ANY_LABEL"),i.optional(["from","_TARGET_CARD"])]),MEMBER_ADDED:i.or(["MEMBER",i.optional("is"),i.or("added","assigned"),i.optional(["_TO?","_TARGET_CARD"]),"_BY_WHOM?"],["WHO",i.or("add","adds","assign","assigns"),"MEMBER",i.optional(["_TO?","_TARGET_CARD"])],["WHO",i.or("assign","assigns"),["_TARGET_CARD","_TO"],"MEMBER"],["_TARGET_CARD","is","assigned","_TO","MEMBER"]),MEMBER_REMOVED:i.or(["MEMBER",i.optional("is"),i.or("removed"),i.optional(["from","_TARGET_CARD"]),"_BY_WHOM?"],["WHO",i.or("remove","removes"),"MEMBER",i.optional(["from","_TARGET_CARD"])]),CHECKLIST_ADDED:i.or([i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),i.optional("is"),"added","_INTO_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("add","adds"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),"_INTO_TARGET_CARD?"]),CHECKLIST_REMOVED:i.or([i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),i.optional("is"),"removed",i.optional(["from","_TARGET_CARD"]),"_BY_WHOM?"],["WHO",i.or("remove","removes"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),i.optional(["from","_TARGET_CARD"])]),_A_COMMENT:["_A","comment"],_COMMENT_ADDED_VERB_PASSIVE:i.or("added","posted"),_COMMENT_ADDED_VERB:i.or("add","adds","write","writes","post","posts"),_COMMENT_CONDITION:i.or("_STARTING_WITH","_NOT_STARTING_WITH","_ENDING_WITH","_NOT_ENDING_WITH","_CONTAINING","_NOT_CONTAINING"),COMMENT_ADDED:i.or(["_A_COMMENT","_COMMENT_CONDITION?",i.optional("is"),"_COMMENT_ADDED_VERB_PASSIVE","_INTO_TARGET_CARD?","_BY_WHOM?"],["WHO","_COMMENT_ADDED_VERB","_A_COMMENT","_COMMENT_CONDITION?","_INTO_TARGET_CARD?"]),VOTE_ADDED:["a","vote","is","added",i.or("to","on")],_ADDS_VOTE_TO:i.or([i.or("votes","vote"),i.optional("on")],[i.or("adds","add"),"a","vote",i.or("to","on")]),VOTE_REMOVED:["a","vote","is","removed","from"],_REMOVES_VOTE_FROM:i.or([i.or("unvotes","unvote"),i.optional("on")],[i.or("removes","remove"),i.or("a","the"),"vote",i.or("from","on")]),_CARD_VOTED:["voted",i.optional("on")],_CARD_UNVOTED:["unvoted"],VOTE_ON_CARD:i.or(["VOTE_ADDED","_TARGET_CARD?","_BY_WHOM?"],["WHO","_ADDS_VOTE_TO=>VOTE_ADDED","_TARGET_CARD?"],["VOTE_REMOVED","_TARGET_CARD?","_BY_WHOM?"],["WHO","_REMOVES_VOTE_FROM=>VOTE_REMOVED","_TARGET_CARD?"],["_TARGET_CARD","is",i.or("_CARD_VOTED=>VOTE_ADDED","_CARD_UNVOTED=>VOTE_REMOVED")]),_A_START_DATE:[i.or("_A","_THE"),"start","date"],_A_DUE_DATE:[i.or("_A","_THE"),"due","date"],THE_DUE_DATE:[i.optional(i.or("the","its")),"due","date"],_DATE_ADDED_VERB_PASSIVE:i.or("added","applied","assigned","set","given","scheduled"),_DATE_ADDED_VERB:i.or("add","adds","apply","applies","assign","assigns","set","give","gives","schedule","schedules"),DUE_DATE_MOVED:i.or("moved","move","moves"),START_DATE_MOVED:i.or("moved","move","moves"),DUE_DATE_ADDED:i.or(["_A_DUE_DATE","DATE_CONDITION?",i.optional("is"),i.or("_DATE_ADDED_VERB_PASSIVE","DUE_DATE_MOVED"),"_INTO_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("_DATE_ADDED_VERB","DUE_DATE_MOVED"),"_A_DUE_DATE","_INTO_TARGET_CARD?"],["_TARGET_CARD","is","scheduled","_BY_WHOM?"],["WHO",i.or("schedule","schedules"),"_TARGET_CARD"],["_TARGET_CARD","is","given","_A_DUE_DATE","_BY_WHOM?"],["WHO",i.or("give","gives"),"_TARGET_CARD","_A_DUE_DATE"]),START_DATE_ADDED:i.or(["_A_START_DATE","DATE_CONDITION?",i.optional("is"),i.or("_DATE_ADDED_VERB_PASSIVE","START_DATE_MOVED"),"_INTO_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("_DATE_ADDED_VERB","START_DATE_MOVED"),"_A_START_DATE","_INTO_TARGET_CARD?"],["_TARGET_CARD","is","scheduled","_BY_WHOM?"],["WHO",i.or("schedule","schedules"),"_TARGET_CARD"],["_TARGET_CARD","is","given","_A_START_DATE","_BY_WHOM?"],["WHO",i.or("give","gives"),"_TARGET_CARD","_A_START_DATE"]),_DATE_REMOVED_VERB_PASSIVE:i.or("removed","deleted"),_DATE_REMOVED_VERB:i.or("remove","removes","delete","deletes"),DUE_DATE_REMOVED:i.or(["_A_DUE_DATE",i.optional("is"),"_DATE_REMOVED_VERB_PASSIVE","_FROM_TARGET_CARD?","_BY_WHOM?"],["WHO","_DATE_REMOVED_VERB","_A_DUE_DATE","_FROM_TARGET_CARD?"]),START_DATE_REMOVED:i.or(["_A_START_DATE",i.optional("is"),"_DATE_REMOVED_VERB_PASSIVE","_FROM_TARGET_CARD?","_BY_WHOM?"],["WHO","_DATE_REMOVED_VERB","_A_START_DATE","_FROM_TARGET_CARD?"]),DUE_DATE_COMPLETED:i.or(["_A_DUE_DATE",i.optional("is"),i.or("completed","checked",["marked",i.optional("as"),"complete"]),"_IN_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or([i.or("completes","complete","checks","check"),"_A_DUE_DATE","_ON_TARGET_CARD?"],[i.or("marks","mark"),"_A_DUE_DATE",i.swappable([i.optional("as"),"complete"],"_ON_TARGET_CARD?")])]),DUE_DATE_INCOMPLETED:i.or(["_A_DUE_DATE",i.optional("is"),i.or("incompleted","unchecked",["marked",i.optional("as"),"incomplete"],["unmarked",i.optional("as"),"complete"]),"_IN_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or([i.or("incompletes","incomplete","unchecks","uncheck"),"_A_DUE_DATE","_ON_TARGET_CARD?"],[i.or("marks","mark"),"_A_DUE_DATE",i.swappable([i.optional("as"),"incomplete"],"_ON_TARGET_CARD?")],[i.or("unmarks","unmark"),"_A_DUE_DATE",i.swappable([i.optional("as"),"complete"],"_ON_TARGET_CARD?")])]),_FROM_LIST_CONDITION:"_FROM_LISTS",DESTINATION_POSITION:[i.optional("the"),"POSITION_TOP",i.optional("position"),"of"],_DESTINATION_POSITION_CONDITION:"DESTINATION_POSITION",CARD_INTO_LIST:i.or(["_TARGET_CARD","is","_CARD_VERBS","_FROM_LIST_CONDITION=>CONDITION?","_INTO","_DESTINATION_POSITION_CONDITION=>CONDITION?","_LISTS","_BY_WHOM?"],["WHO","_CARD_VERBS","_TARGET_CARD","_INTO","_DESTINATION_POSITION_CONDITION=>CONDITION?","_LIST"]),CARD_OUTOF_LIST:i.or(["_TARGET_CARD","is","MOVED","_OUTOF","_LIST","_BY_WHOM?"],["WHO","MOVED","_TARGET_CARD","_OUTOF","_LIST"]),CARD_MOVED:i.or(["_TARGET_CARD","is","MOVED","_BY_WHOM?"],["WHO","MOVED","_TARGET_CARD"]),DAYS_IN_LIST:i.small_numeral("a number of days, e.g. two days"),MATCH_START:[i.optional(["the",i.or("text","word","words")]),"$TEXT"],_MATCH_START_LIST:["MATCH_START",i.optional([i.optional(","),"or","_MATCH_START_LIST"])],_STARTS_WITH:[i.or("starts","begins"),"with","_MATCH_START_LIST"],_NOT_STARTS_WITH:[i.or("doesn't",["does","not"]),i.or("start","begin"),"with","_MATCH_START_LIST","NEGATIVE_MATCH"],_STARTING_WITH:[i.or("starting","beginning",["that",i.or("starts","begins")]),"with","_MATCH_START_LIST"],_NOT_STARTING_WITH:[i.or(["not",i.or("starting","beginning")],["that",i.or("doesn't",["does","not"]),i.or("start","begin")]),"with","_MATCH_START_LIST","NEGATIVE_MATCH"],MATCH_END:[i.optional(["the",i.or("text","word","words")]),"$TEXT"],_MATCH_END_LIST:["MATCH_END",i.optional([i.optional(","),"or","_MATCH_END_LIST"])],_ENDS_WITH:["ends","with","_MATCH_END_LIST"],_NOT_ENDS_WITH:[i.or("doesn't",["does","not"]),"end","with","_MATCH_END_LIST","NEGATIVE_MATCH"],_ENDING_WITH:[i.or("ending",["that","ends"]),"with","_MATCH_END_LIST"],_NOT_ENDING_WITH:[i.or(["not","ending"],["that",i.or("doesn't",["does","not"]),"end"]),"with","_MATCH_END_LIST","NEGATIVE_MATCH"],MATCH_CONTENT:[i.optional(["the",i.or("text","word","words")]),"$TEXT"],_MATCH_CONTENT_LIST:["MATCH_CONTENT",i.optional([i.optional(","),"or","_MATCH_CONTENT_LIST"])],_CONTAINS:["contains","_MATCH_CONTENT_LIST"],NEGATIVE_MATCH:[],_WITHOUT:["without","NEGATIVE_MATCH"],_NOT_CONTAINS:[i.or("doesn't",["does","not"]),"contain","_MATCH_CONTENT_LIST","NEGATIVE_MATCH"],_CONTAINING:[i.or("containing",["that","contains"]),"_MATCH_CONTENT_LIST"],_NOT_CONTAINING:[i.or(["not","containing"],["that",i.or("doesn't",["does","not"]),"contain"]),"_MATCH_CONTENT_LIST","NEGATIVE_MATCH"],_AFTER_TEXT:["after",i.optional(["the",i.or("text","word","words")]),"$AFTER_TEXT"],_A_DATE_AFTER:["a","date","_AFTER_TEXT?"],DATE_AT_START:[i.or("starts","begins"),"with","_A_DATE_AFTER"],NOT_DATE_AT_START:[i.or("doesn't",["does","not"]),i.or("start","begin"),"with","_A_DATE_AFTER"],_NOT_DATE_AT_START:["NOT_DATE_AT_START=>DATE_AT_START","NEGATIVE_MATCH"],STARTING_WITH_DATE:[i.or("starting","beginning",["that","starts"],["that","begins"]),"with","_A_DATE_AFTER"],_STARTING_WITH_DATE:"STARTING_WITH_DATE=>DATE_AT_START",NOT_STARTING_WITH_DATE:[i.or(["not",i.or("starting","beginning")],["that",i.or("doesn't",["does","not"]),i.or("start","begin")]),"with","_A_DATE_AFTER"],_NOT_STARTING_WITH_DATE:["NOT_STARTING_WITH_DATE=>DATE_AT_START","NEGATIVE_MATCH"],DATE_AT_END:["ends","with","_A_DATE_AFTER"],NOT_DATE_AT_END:[i.or("doesn't",["does","not"]),"end","with","_A_DATE_AFTER"],_NOT_DATE_AT_END:["NOT_DATE_AT_END=>DATE_AT_END","NEGATIVE_MATCH"],ENDING_WITH_DATE:[i.or("ending",["that","ends"]),"with","_A_DATE_AFTER"],_ENDING_WITH_DATE:"ENDING_WITH_DATE=>DATE_AT_END",NOT_ENDING_WITH_DATE:[i.or(["not","ending"],["that",i.or("doesn't",["does","not"]),"end"]),"with","_A_DATE_AFTER"],_NOT_ENDING_WITH_DATE:["NOT_ENDING_WITH_DATE=>DATE_AT_END","NEGATIVE_MATCH"],CONTAINS_DATE:["contains","_A_DATE_AFTER"],NOT_CONTAINS_DATE:[i.or("doesn't",["does","not"]),"contain","_A_DATE_AFTER"],_NOT_CONTAINS_DATE:["NOT_CONTAINS_DATE=>CONTAINS_DATE","NEGATIVE_MATCH"],CONTAINING_DATE:[i.or("containing",["that","contains"]),"_A_DATE_AFTER"],_CONTAINING_DATE:"CONTAINING_DATE=>CONTAINS_DATE",NOT_CONTAINING_DATE:[i.or(["not","containing"],["that",i.or("doesn't",["does","not"]),"contain"]),"_A_DATE_AFTER"],_NOT_CONTAINING_DATE:["NOT_CONTAINING_DATE=>CONTAINS_DATE","NEGATIVE_MATCH"],LONGER_THAN:i.small_numeral(),_TEXT_LENGTH:[i.optional("is"),"longer","than","LONGER_THAN",i.optional("characters")],NAME_FIELD:[i.optional(i.or("a","the")),i.optional("card"),i.or("name","title")],DESCRIPTION_FIELD:[i.optional(i.or("a","the")),i.optional("card"),"description"],_WHAT_FIELD:[i.or(["NAME_FIELD","or","DESCRIPTION_FIELD"],"NAME_FIELD","DESCRIPTION_FIELD")],CARD_MATCHES:[i.or(["_TARGET_CARD",i.optional(i.or("title","name"))],["_WHAT_FIELD","of","_TARGET_CARD"]),i.or("_STARTS_WITH","_NOT_STARTS_WITH","_ENDS_WITH","_NOT_ENDS_WITH","_CONTAINS","_NOT_CONTAINS","DATE_AT_START","_NOT_DATE_AT_START","DATE_AT_END","_NOT_DATE_AT_END","CONTAINS_DATE","_NOT_CONTAINS_DATE","_TEXT_LENGTH")],ENTERED:[],ENTERED_CARD_FIELD_MATCHES:["WHO",i.or("enter","enters","entered"),"_WHAT_FIELD",i.or("_STARTING_WITH","_NOT_STARTING_WITH","_ENDING_WITH","_NOT_ENDING_WITH","_CONTAINING","_NOT_CONTAINING","_STARTING_WITH_DATE","_NOT_STARTING_WITH_DATE","_ENDING_WITH_DATE","_NOT_ENDING_WITH_DATE","_CONTAINING_DATE","_NOT_CONTAINING_DATE"),"ENTERED"],_ENTERED_CARD_FIELD_MATCHES:"ENTERED_CARD_FIELD_MATCHES=>CARD_MATCHES",CARD_CHANGED:i.or(["WHO",i.or("change","changes","changed"),"_WHAT_FIELD",i.or("of","in"),"_TARGET_CARD"],["_WHAT_FIELD","of","_TARGET_CARD",i.or("is","was"),"changed","_BY_WHOM?"],["_WHAT_FIELD","of","_TARGET_CARD","changes"]),CREATED:i.or("create","creates","created"),MOVED:i.or("move","moves","moved","transfer","transfers","transferred","tranferred"),COPIED:i.or("copy","copies","copied"),EMAILED:i.or("email","emails","emailed","e-mail","e-mails","e-mailed"),ADDED:i.or("add","adds","added","put","puts"),_CARD_VERB:i.or("CREATED","MOVED","COPIED","ADDED","EMAILED"),_CARD_VERBS:["_CARD_VERB",i.optional(["_OR?","_CARD_VERB",i.optional(["_OR?","_CARD_VERB"])])],_CARD_VERBS__HELP:["_CARD_VERB"],_LIST:i.or(["_THE?","list","_CALLED?","$LIST"],["_THE?","$LIST",i.optional("list")]),_LISTS:["_LIST",i.optional(["_COMMA","_OR","_LISTS"])],CARD_INTO_BOARD:i.or(["_TARGET_CARD","is","MOVED","_INTO_BOARD","_BY_WHOM?"],["WHO","MOVED","_TARGET_CARD","_INTO_BOARD"],["_TARGET_CARD","is",i.or("CREATED","ADDED"),"_INTO_BOARD?","_BY_WHOM?"],["WHO",i.or("CREATED","ADDED"),"_TARGET_CARD","_INTO_BOARD?"],["_TARGET_CARD","is",i.or("EMAILED"),i.or("in","_INTO_BOARD?"),"_BY_WHOM?"],["WHO",i.or("EMAILED"),"_TARGET_CARD",i.or("in","_INTO_BOARD?")]),CARD_OUTOF_BOARD:i.or(["_TARGET_CARD","is","MOVED","_OUTOF_BOARD","_BY_WHOM?"],["WHO","MOVED","_TARGET_CARD","_OUTOF_BOARD"]),CARD_ARCHIVED:i.or(["_TARGET_CARD","is","archived","_BY_WHOM?"],["WHO",i.or("archive","archives"),"_TARGET_CARD"]),CARD_UNARCHIVED:i.or(["_TARGET_CARD","is","unarchived","_BY_WHOM?"],["WHO",i.or("unarchive","unarchives"),"_TARGET_CARD"]),CARD_DELETED:i.or(["_TARGET_CARD","is","deleted","_BY_WHOM?"],["WHO",i.or("delete","deletes"),"_TARGET_CARD"]),MENTION_IN_DESCRIPTION:["in",i.optional(i.or(["_A",i.or("card's","card")],"_THE")),"description"],MENTION_IN_COMMENT:["in","_A?","comment"],MENTION_IN_CHECKLIST:["in","_A?","checklist",i.optional("item")],MENTIONING_CARD:"_TARGET_CARD",_MENTION_CONTEXT:i.or([i.or("MENTION_IN_DESCRIPTION","MENTION_IN_COMMENT","MENTION_IN_CHECKLIST"),i.optional([i.or("in","of","on"),"MENTIONING_CARD"])],["_IN","MENTIONING_CARD"]),CARD_MENTIONED:i.or(["_TARGET_CARD","is","mentioned","_MENTION_CONTEXT?","_BY_WHOM?"],["WHO",i.or("mention","mentions"),"_TARGET_CARD","_MENTION_CONTEXT?"]),_MEMBER_MENTIONED_VERB:i.or("mention","mentions"),MEMBER_MENTIONED:i.or(["MEMBER",i.optional("is"),"mentioned","_MENTION_CONTEXT?","_BY_WHOM?"],["WHO",i.or("mention","mentions"),"MEMBER","_MENTION_CONTEXT?"]),ALL_CHECKLISTS:["all",i.optional("of"),i.optional(i.or("the",["a","card's"])),"checklists"],_UNNAMED_CHECKLIST:["_THE?","checklist"],CHECKLIST_COMPLETE:i.or([i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),i.optional("is"),i.or([i.optional("made"),"complete"],"completed"),"_IN_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("complete","completes"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),"_IN_TARGET_CARD?"],["ALL_CHECKLISTS","_IN_TARGET_CARD?",i.optional("are"),i.or([i.optional("made"),"complete"],"completed"),"_IN_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("complete","completes"),"ALL_CHECKLISTS","_IN_TARGET_CARD?"]),CHECKLIST_INCOMPLETE:i.or([i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),i.optional("is"),i.or([i.optional("made"),"incomplete"],"incompleted"),"_IN_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or("incomplete","incompletes"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),"_IN_TARGET_CARD?"]),_NAMED_CHECKLIST_ITEM:["_THE?",i.swappable("$ITEM_NAME",[i.optional("checklist"),"item"])],_ITEM_CONDITION:i.or("_STARTING_WITH","_NOT_STARTING_WITH","_ENDING_WITH","_NOT_ENDING_WITH","_CONTAINING","_NOT_CONTAINING","_STARTING_WITH_DATE","_ENDING_WITH_DATE","_CONTAINING_DATE","_NOT_CONTAINING_DATE"),_UNNAMED_CHECKLIST_ITEM:["_A?",i.optional("checklist"),"item","_ITEM_CONDITION?"],_CHECKLIST_ITEM:i.or("_NAMED_CHECKLIST_ITEM","_UNNAMED_CHECKLIST_ITEM"),ITEM_CHECKED:[i.or("check","checks","checked","complete","completes","completed"),i.optional("off")],ITEM_UNCHECKED:i.or("uncheck","unchecks","unchecked","incomplete"),_ITEM_VERB:i.or("ITEM_CHECKED","ITEM_UNCHECKED"),ITEM_ADDED:i.or("add","adds","added"),ITEM_REMOVED:i.or("remove","removes","removed"),ITEM_CONVERTED:i.or("convert","converts","converted"),_IN_CHECKLIST:i.or(["in","_CHECKLIST"],"_IN_A_CHECKLIST"),_TO_CHECKLIST:i.or(["to","_CHECKLIST"],"_TO_A_CHECKLIST"),_FROM_CHECKLIST:i.or(["from","_CHECKLIST"],"_FROM_A_CHECKLIST"),_ITEM_FILTERS_TO:i.or(["_TO_CHECKLIST","_IN_TARGET_CARD?"],"_TO_TARGET_CARD"),_ITEM_FILTERS_FROM:i.or(["_FROM_CHECKLIST","_IN_TARGET_CARD?"],"_FROM_TARGET_CARD"),CHECKLIST_ITEM:i.or(["_CHECKLIST_ITEM",i.optional("is"),"_ITEM_VERB","_IN_CHECKLIST?","_IN_TARGET_CARD?","_BY_WHOM?"],["WHO","_ITEM_VERB","_CHECKLIST_ITEM","_IN_CHECKLIST?","_IN_TARGET_CARD?"],["_CHECKLIST_ITEM","is","ITEM_ADDED","_ITEM_FILTERS_TO?","_BY_WHOM?"],["WHO","ITEM_ADDED","_CHECKLIST_ITEM","_ITEM_FILTERS_TO?"],["_CHECKLIST_ITEM","is","ITEM_REMOVED","_ITEM_FILTERS_FROM?","_BY_WHOM?"],["WHO","ITEM_REMOVED","_CHECKLIST_ITEM","_ITEM_FILTERS_FROM?"],["_CHECKLIST_ITEM","_IN_CHECKLIST?","_IN_TARGET_CARD?","is","ITEM_CONVERTED",i.optional(["_INTO","a","card"]),"_BY_WHOM?"],["WHO","ITEM_CONVERTED","_CHECKLIST_ITEM","_IN_CHECKLIST?","_IN_TARGET_CARD?",i.optional(["_INTO","a","card"])]),CHECKLIST_ITEM_MATCHES:[i.or(["_A","checklist","item","_IN_CHECKLIST?"],["an","item","_IN_CHECKLIST"]),"_IN_TARGET_CARD?",i.or("_STARTS_WITH","_NOT_STARTS_WITH","_ENDS_WITH","_NOT_ENDS_WITH","_CONTAINS","_NOT_CONTAINS","DATE_AT_START","_NOT_DATE_AT_START","DATE_AT_END","_NOT_DATE_AT_END","CONTAINS_DATE","_NOT_CONTAINS_DATE")],_A_LIST:["_A?","list"],LIST_CREATED:i.or(["_A_LIST","is","CREATED","_BY_WHOM?"],["WHO","CREATED","_A_LIST"]),LIST_RENAMED:i.or(["_A_LIST","is","renamed","_BY_WHOM?"],["WHO","renamed","_A_LIST"]),LIST_ARCHIVED:i.or(["_A_LIST","is","archived","_BY_WHOM?"],["WHO",i.or("archive","archives"),"_A_LIST"]),LIST_UNARCHIVED:i.or(["_A_LIST","is","unarchived","_BY_WHOM?"],["WHO",i.or("unarchive","unarchives"),"_A_LIST"]),LIST_CARD_COUNT_MATCHES:["_LIST_NAME","has","_NUMBER_CONDITIONS","cards"],MEMBER_ADDED_TO_BOARD:i.or(["MEMBER","is","added","to","the","board","_BY_WHOM?"],["WHO",i.or("add","adds"),"MEMBER","to","the","board"]),_CUSTOM_FIELD:i.or(["custom","field","$FIELD_NAME"],[i.or("a","any"),"custom","field"]),_CUSTOM_FIELD_LIST:["$FIELD_NAME",i.optional(["_AND","_CUSTOM_FIELD_LIST"])],_SET_TO_VALUE:["to","$VALUE"],DATE_LESS_THAN_DAYS:i.small_numeral("a number of days, e.g. two days"),DATE_MORE_THAN_DAYS:i.small_numeral("a number of days, e.g. two days"),DATE_FROM_NOW:["from","now"],DATE_AGO:["ago"],HOURS_NOT_DAYS:i.or("hour","hours"),_DATE_OFFSET:[i.or(["WORKING_DAYS?",i.or("day","days")],"HOURS_NOT_DAYS"),i.or("DATE_FROM_NOW","DATE_AGO")],_DATE_LESS:[i.optional("in"),"less","than","DATE_LESS_THAN_DAYS","_DATE_OFFSET"],_DATE_MORE:[i.optional("in"),"more","than","DATE_MORE_THAN_DAYS","_DATE_OFFSET"],DATE_BETWEEN:[i.optional("between"),"MIN_DAYS",i.or("to","and"),"MAX_DAYS"],_DATE_BETWEEN:["DATE_BETWEEN","_DATE_OFFSET"],NOT:"not",DATE_THIS_WEEK:["NOT?","in","this","week"],DATE_NEXT_WEEK:["NOT?","in","next","week"],DATE_THIS_MONTH:["NOT?","in","this","month"],DATE_NEXT_MONTH:["NOT?","in","next","month"],DATE_CONDITION:i.or("_DATE_LESS","_DATE_MORE","_DATE_BETWEEN","DATE_THIS_WEEK","DATE_NEXT_WEEK","DATE_THIS_MONTH","DATE_NEXT_MONTH"),_SET_TO_DATE:["to","a","date","DATE_CONDITION?"],NUMBER_THAN:i.decimal(),NUMBER_EQ:i.or(["equal","to"],"exactly"),NUMBER_GREATER_EQ:[i.or("more","greater"),i.optional("than"),"or",i.or(["equal","to"],"exactly")],NUMBER_GREATER:[i.or("more","greater"),"than"],NUMBER_LOWER_EQ:[i.or("lower","fewer"),i.optional("than"),"or",i.or(["equal","to"],"exactly")],NUMBER_LOWER:[i.or("lower","fewer"),"than"],NUMBER_CONDITION:[i.or("NUMBER_EQ","NUMBER_GREATER_EQ","NUMBER_GREATER","NUMBER_LOWER_EQ","NUMBER_LOWER"),"NUMBER_THAN"],_NUMBER_CONDITIONS:["NUMBER_CONDITION",i.optional(["and","NUMBER_CONDITION"])],_SET_TO_NUMBER:["to","a","number","_NUMBER_CONDITIONS"],FIELD_CHECKED:[],_FIELD_CHECKED:["checked",i.optional("off"),"FIELD_CHECKED"],_CHECKS_FIELD:[i.or("check","checks"),i.optional("off"),"FIELD_CHECKED"],FIELD_UNCHECKED:[],_FIELD_UNCHECKED:["unchecked",i.optional("off"),"FIELD_UNCHECKED"],_UNCHECKS_FIELD:[i.or("uncheck","unchecks"),"FIELD_UNCHECKED"],FIELD_CLEARED:[],_FIELD_CLEARED:["cleared","FIELD_CLEARED"],_CLEARS_FIELD:[i.or("clear","clears"),"FIELD_CLEARED"],CUSTOM_FIELD_SET:i.or(["_CUSTOM_FIELD","is",i.or(["set",i.optional(i.or("_SET_TO_VALUE","_SET_TO_DATE","_SET_TO_NUMBER"))],"_FIELD_CHECKED","_FIELD_UNCHECKED","_FIELD_CLEARED"),"_IN_TARGET_CARD?","_BY_WHOM?"],["WHO",i.or([i.or("set","sets"),"_CUSTOM_FIELD",i.optional(i.or("_SET_TO_VALUE","_SET_TO_DATE","_SET_TO_NUMBER"))],[i.or("_CHECKS_FIELD","_UNCHECKS_FIELD"),"_CUSTOM_FIELD"],["_CLEARS_FIELD","_CUSTOM_FIELD"]),"_IN_TARGET_CARD?"]),CUSTOM_FIELD_VALUE_CONDITION:[i.or("with","_WITHOUT"),"_CUSTOM_FIELD",i.or(["set",i.optional(i.or("_SET_TO_VALUE","_SET_TO_DATE","_SET_TO_NUMBER"))],"_FIELD_CHECKED","_FIELD_UNCHECKED","_FIELD_CLEARED")],CUSTOM_FIELDS_COMPLETE:[i.or(["all",i.optional("the"),"custom","fields"],["custom","fields","_CUSTOM_FIELD_LIST"]),"are",i.or("full","filled","complete","completed"),"_IN_TARGET_CARD?"],CUSTOM_FIELDS_COMPLETE_CONDITION:[i.or("with","_WITHOUT"),i.or(["all",i.optional("the"),"custom","fields"],["custom","fields","_CUSTOM_FIELD_LIST"]),i.or("full","filled","complete","completed")],WHEN:[i.or("when","if"),i.or("MEMBER_ADDED_TO_BOARD","ATTACHMENT_ADDED","ATTACHMENT_REMOVED","LINK_ADDED","LABEL_ADDED","LABEL_REMOVED","MEMBER_ADDED","MEMBER_REMOVED","CHECKLIST_ADDED","CHECKLIST_REMOVED","COMMENT_ADDED","VOTE_ON_CARD","START_DATE_ADDED","START_DATE_REMOVED","DUE_DATE_ADDED","DUE_DATE_REMOVED","DUE_DATE_COMPLETED","DUE_DATE_INCOMPLETED","CARD_INTO_LIST","CARD_OUTOF_LIST","CARD_INTO_BOARD","CARD_OUTOF_BOARD","CARD_MOVED","CARD_ARCHIVED","CARD_UNARCHIVED","CARD_DELETED","CARD_MATCHES","_ENTERED_CARD_FIELD_MATCHES","CARD_CHANGED","CARD_MENTIONED","MEMBER_MENTIONED","CHECKLIST_COMPLETE","CHECKLIST_INCOMPLETE","CHECKLIST_ITEM","CHECKLIST_ITEM_MATCHES","LIST_CREATED","LIST_RENAMED","LIST_ARCHIVED","LIST_UNARCHIVED","LIST_CARD_COUNT_MATCHES",i.hidden("CUSTOM_FIELD_SET"),i.hidden("CUSTOM_FIELDS_COMPLETE"))],IN_LIST:[i.or("in","from"),"_LIST"],_IN_LISTS_OR:["_LIST",i.optional(["or",i.optional(i.or("in","from")),"_IN_LISTS_OR"])],_FROM_LISTS_OR:["_LIST",i.optional(["or",i.optional("from"),"_IN_LISTS_OR"])],IN_LISTS:[i.or("in","from"),"_IN_LISTS_OR"],FROM_LISTS:["from","_FROM_LISTS_OR=>IN_LISTS"],_FROM_LISTS:"FROM_LISTS=>IN_LISTS",NOT_IN_LIST:["not","in","_LIST"],NOT_IN_LISTS:["not","in","_IN_LISTS_OR"],WITH_LABEL:[i.or("with","having",["that",i.or("has","have")]),"LABEL"],WITHOUT_LABEL:[i.or("without",["not","having"],["that",i.or("doesn't",["does","not"]),"have"]),"LABEL"],WITH_ANY_LABEL:[i.or("with","having",["that",i.or("has","have")]),i.or([i.optional(i.or("a","any")),"label"],[i.optional("any"),"labels"])],WITH_NO_LABELS:[i.or(["without",i.optional("any")],[i.or("with","having",["that",i.or("has","have")]),"no"]),i.or("label","labels")],ONLY_MEMBER:"only",ASSIGNED_TO:[i.or("with",["assigned","ONLY_MEMBER?","_TO"]),"MEMBER"],NOT_ASSIGNED_TO:[i.or("without",["not","assigned","_TO"]),"MEMBER"],WITH_DUE_COMPLETE:[i.optional("a"),i.or("complete","completed")],WITHOUT_DUE_COMPLETE:[i.optional("an"),i.or("incomplete","incompleted")],WITH_DUE_DATE:["with",i.optional(i.or("WITH_DUE_COMPLETE","WITHOUT_DUE_COMPLETE","a")),"due","date"],WITH_START_DATE:["with",i.optional(i.or("a")),"start","date"],WITHOUT_DUE_DATE:["without",i.optional(i.or("WITH_DUE_COMPLETE","WITHOUT_DUE_COMPLETE","a")),"due","date"],WITHOUT_START_DATE:["without","_A_START_DATE"],WITH_OVERDUE_DATE:i.or([i.optional(i.or("that's",["that","is"])),"overdue"],["with",i.optional("an"),"overdue",i.optional("due"),"date"]),WITHOUT_OVERDUE_DATE:i.or([i.optional(i.or("that's",["that","is"])),"not","overdue"],["without",i.optional("an"),"overdue",i.optional("due"),"date"]),EXACT_NAME_CONDITION:"$TEXT",_EXACT_NAME_CONDITION_LIST:["EXACT_NAME_CONDITION",i.optional([i.optional(","),"or","_EXACT_NAME_CONDITION_LIST"])],_EXACT_NAME_CONDITION:[i.optional(i.or("called","named","titled")),"_EXACT_NAME_CONDITION_LIST"],CARD_MATCHES_CONDITION:[i.optional(["with","_WHAT_FIELD"]),i.or("_STARTING_WITH","_NOT_STARTING_WITH","_ENDING_WITH","_NOT_ENDING_WITH","_CONTAINING","_NOT_CONTAINING","_STARTING_WITH_DATE","_NOT_STARTING_WITH_DATE","_ENDING_WITH_DATE","_NOT_ENDING_WITH_DATE","_CONTAINING_DATE","_NOT_CONTAINING_DATE")],EMPTY_DESCRIPTION:"with",NON_EMPTY_DESCRIPTION:"without",EMPTY_DESCRIPTION_CONDITION:[i.or("EMPTY_DESCRIPTION","NON_EMPTY_DESCRIPTION"),"an","empty","description"],INACTIVE_DAYS:i.small_numeral("a number of days",!1,1),INACTIVITY_CONDITION:["inactive",i.optional("for"),i.optional(["more","than"]),"INACTIVE_DAYS","WORKING_DAYS?",i.or("day","days")],DUE_DATE_CONDITION:["NOT?",i.or("_DUE_IN_LESS","_DUE_IN_MORE","_DUE_IN_EXACTLY","DUE_IN_BETWEEN","DUE_TODAY","DUE_TOMORROW","DUE_THIS_WEEK","DUE_NEXT_WEEK","DUE_THIS_MONTH","DUE_NEXT_MONTH")],START_DATE_CONDITION:["NOT?",i.or("_STARTING_IN_LESS","_STARTING_IN_MORE","_STARTING_IN_EXACTLY","STARTING_IN_BETWEEN","STARTING_TODAY","STARTING_TOMORROW","STARTING_THIS_WEEK","STARTING_NEXT_WEEK","STARTING_THIS_MONTH","STARTING_NEXT_MONTH")],COMPLETE:"complete",INCOMPLETE:"incomplete",WITH_ALL_CHECKLISTS:["with","all","checklists",i.optional(i.or("COMPLETE","INCOMPLETE"))],WITH_CHECKLIST:[i.optional("with"),"_A?",i.swappable(i.or("_CHECKLIST","checklist"),i.optional(i.or("COMPLETE","INCOMPLETE")))],WITHOUT_CHECKLIST:["without",i.or("_CHECKLIST","checklists")],CONDITION:i.or("IN_LISTS","NOT_IN_LISTS","WITH_LABEL","WITHOUT_LABEL","WITH_ANY_LABEL","WITH_NO_LABELS","ASSIGNED_TO","NOT_ASSIGNED_TO","WITH_DUE_DATE","WITH_START_DATE","WITHOUT_DUE_DATE","WITHOUT_START_DATE","WITH_OVERDUE_DATE","WITHOUT_OVERDUE_DATE","DUE_DATE_CONDITION","START_DATE_CONDITION","_EXACT_NAME_CONDITION","EMPTY_DESCRIPTION_CONDITION","CARD_MATCHES_CONDITION","INACTIVITY_CONDITION","WITH_ALL_CHECKLISTS","WITH_CHECKLIST","WITHOUT_CHECKLIST","CUSTOM_FIELD_VALUE_CONDITION","CUSTOM_FIELDS_COMPLETE_CONDITION"),_CONDITION:["CONDITION",i.optional([i.optional("and"),"_CONDITION"])],CONDITION_LIST:"_CONDITION",_TARGET_CARD:["_A?","card","_CONDITION?"],_IN_TARGET_CARD:["in","_TARGET_CARD"],_ON_TARGET_CARD:[i.or("on","in"),"_TARGET_CARD"],_TO_TARGET_CARD:["_TO","_TARGET_CARD"],_INTO_TARGET_CARD:["_INTO","_TARGET_CARD"],_FROM_TARGET_CARD:["_FROM","_TARGET_CARD"],THE_DAY_BEFORE:[i.or([i.optional("on"),"the"],"a")],THE_DAY_AFTER:[i.or([i.optional("on"),"the"],"a")],DAYS_BEFORE:i.small_numeral("a number of days, e.g. two days"),DAYS_AFTER:i.small_numeral("a number of days, e.g. two days"),WORKING_DAYS:["working"],_BEFORE_DATE:[i.or("THE_DAY_BEFORE","DAYS_BEFORE"),"WORKING_DAYS?",i.or("day","days"),"before"],_AFTER_DATE:[i.or("THE_DAY_AFTER","DAYS_AFTER"),"WORKING_DAYS?",i.or("day","days"),"after"],HOURS_BEFORE:i.small_numeral("a number of hours, e.g. two hours"),HOURS_AFTER:i.small_numeral("a number of hours, e.g. two hours"),_BEFORE_DATE_TIME:["HOURS_BEFORE",i.or("hour","hours"),"before"],_AFTER_DATE_TIME:["HOURS_AFTER",i.or("hour","hours"),"after"],NAMED_DAY_BEFORE:["on","the","DAY","before"],NAMED_DAY_AFTER:["on","the","DAY","after"],WEEK_BEFORE:["week","before"],NAMED_WEEKDAY:["on","the","DAY","of","the",i.or("WEEK_BEFORE","week")],USE_START_TIME:[],STARTING_TODAY:["starting","today"],STARTING_TOMORROW:["starting","tomorrow"],STARTING_THIS_WEEK:["starting","this","week"],STARTING_NEXT_WEEK:["starting","next","week"],STARTING_THIS_MONTH:["starting","this","month"],STARTING_NEXT_MONTH:["starting","next","month"],STARTING_IN_LESS_THAN_DAYS:i.small_numeral("a number of days, e.g. two days"),STARTING_IN_MORE_THAN_DAYS:i.small_numeral("a number of days, e.g. two days"),STARTING_IN_EXACTLY_DAYS:i.small_numeral("a number of days, e.g. two days"),_STARTING_IN_LESS:["starting","in","less","than","STARTING_IN_LESS_THAN_DAYS","WORKING_DAYS?",i.or("day","days")],_STARTING_IN_MORE:["starting","in","more","than","STARTING_IN_MORE_THAN_DAYS","WORKING_DAYS?",i.or("day","days")],_STARTING_IN_EXACTLY:["starting","in","STARTING_IN_EXACTLY_DAYS","WORKING_DAYS?",i.or("day","days")],STARTING_IN_BETWEEN:["starting","in",i.optional("between"),"MIN_DAYS",i.or("to","and"),"MAX_DAYS","WORKING_DAYS?","days"],_STARTING_TARGET_CARD:[i.or("OPEN_CARD","ARCHIVED_CARD","_A?"),"card","_CONDITION?"],ON_START_DATE:i.or([i.or("_BEFORE_DATE","_AFTER_DATE","on"),i.optional(["_A","card's"]),"start","date","TIME?"],[i.or("NAMED_DAY_BEFORE","NAMED_DAY_AFTER"),i.optional(["_A","card's"]),"start","date","TIME?"],[i.or("NAMED_DAY_BEFORE","NAMED_DAY_AFTER","NAMED_WEEKDAY"),"_STARTING_TARGET_CARD","is","due","TIME?"],[i.or("_BEFORE_DATE_TIME","_AFTER_DATE_TIME","at"),i.optional(["_A","card's"]),"start","time","USE_START_TIME"],[i.or("_BEFORE_DATE_TIME","_AFTER_DATE_TIME",[i.optional("at"),"the",i.or("time","moment")]),"_STARTING_TARGET_CARD","is","due","USE_START_TIME"],["when","_STARTING_TARGET_CARD","is",i.or(["USE_START_TIME"],"_STARTING_IN_LESS","_STARTING_IN_MORE","_STARTING_IN_EXACTLY","STARTING_IN_BETWEEN","STARTING_TODAY","STARTING_TOMORROW")]),USE_DUE_TIME:[],OVERDUE:"overdue",DUE_TODAY:["due","today"],DUE_TOMORROW:["due","tomorrow"],DUE_THIS_WEEK:["due","this","week"],DUE_NEXT_WEEK:["due","next","week"],DUE_THIS_MONTH:["due","this","month"],DUE_NEXT_MONTH:["due","next","month"],DUE_IN_LESS_THAN_DAYS:i.small_numeral("a number of days, e.g. two days"),DUE_IN_MORE_THAN_DAYS:i.small_numeral("a number of days, e.g. two days"),DUE_IN_EXACTLY_DAYS:i.small_numeral("a number of days, e.g. two days"),_DUE_IN_LESS:["due","in","less","than","DUE_IN_LESS_THAN_DAYS","WORKING_DAYS?",i.or("day","days")],_DUE_IN_MORE:["due","in","more","than","DUE_IN_MORE_THAN_DAYS","WORKING_DAYS?",i.or("day","days")],_DUE_IN_EXACTLY:["due","in","DUE_IN_EXACTLY_DAYS","WORKING_DAYS?",i.or("day","days")],MIN_DAYS:i.small_numeral("a number of days, e.g. two days"),MAX_DAYS:i.small_numeral("a number of days, e.g. two days"),DUE_IN_BETWEEN:["due","in",i.optional("between"),"MIN_DAYS",i.or("to","and"),"MAX_DAYS","WORKING_DAYS?","days"],OPEN_CARD:["an","open"],ARCHIVED_CARD:["an","archived"],_DUE_TARGET_CARD:[i.or("OPEN_CARD","ARCHIVED_CARD","_A?"),"card","_CONDITION?"],ON_DUE_DATE:i.or([i.or("_BEFORE_DATE","_AFTER_DATE","on"),i.optional(["_A","card's"]),"due","date","TIME?"],[i.or("_BEFORE_DATE","_AFTER_DATE",[i.optional("on"),"the","day"]),"_DUE_TARGET_CARD","is","due","TIME?"],[i.or("NAMED_DAY_BEFORE","NAMED_DAY_AFTER"),i.optional(["_A","card's"]),"due","date","TIME?"],[i.or("NAMED_DAY_BEFORE","NAMED_DAY_AFTER","NAMED_WEEKDAY"),"_DUE_TARGET_CARD","is","due","TIME?"],[i.or("_BEFORE_DATE_TIME","_AFTER_DATE_TIME","at"),i.optional(["_A","card's"]),"due","time","USE_DUE_TIME"],[i.or("_BEFORE_DATE_TIME","_AFTER_DATE_TIME",[i.optional("at"),"the",i.or("time","moment")]),"_DUE_TARGET_CARD","is","due","USE_DUE_TIME"],["when","_DUE_TARGET_CARD","is",i.or(["OVERDUE","USE_DUE_TIME"],"_DUE_IN_LESS","_DUE_IN_MORE","_DUE_IN_EXACTLY","DUE_IN_BETWEEN","DUE_TODAY","DUE_TOMORROW")]),POSITION_TOP:"top",POSITION_BOTTOM:"bottom",_POSITION:[i.optional(i.or("at","to","in")),i.optional("the"),i.or("POSITION_TOP","POSITION_BOTTOM"),i.optional("position")],POSITION_NUMBER:i.small_numeral("a number for the position"),_POSITION_NUMBER:i.or("_POSITION",[i.or("in","at"),"position","POSITION_NUMBER"]),_TO_POSITION:i.or("_POSITION",["to","position","POSITION_NUMBER"]),_LIST_NAME:i.or(["_THE?","list","_CALLED?","$LIST"],["_THE?","$LIST",i.optional("list")]),_BOARD_NAME:i.or(["_THE?","board","_CALLED?","$BOARD"],["_THE?","$BOARD","board"]),_IN_BOARD_NAME:[i.optional(i.or("in","on")),"_BOARD_NAME"],_FROM_BOARD_NAME:["from","_BOARD_NAME"],_DESTINATION_BOARD_NAME:i.or(["_THE?","board","_CALLED?","$DESTINATION_BOARD"],["_THE?","$DESTINATION_BOARD","board"]),SOURCE:[i.or("in","from"),"_LIST"],SOURCE_WITH_BOARD:[i.or("in","from"),"_LIST","_IN_BOARD_NAME?"],_SOURCE_WITH_BOARD:"SOURCE_WITH_BOARD=>SOURCE",DESTINATION:["_INTO",i.or(["_LIST_NAME",i.optional(["_COMMA","_IN_BOARD_NAME"])],["_POSITION","of","_LIST_NAME","_IN_BOARD_NAME?"],["_POSITION",i.optional(["of","the","list"])],"_THE_LIST")],THE_NEXT_LIST:[i.optional("the"),"next","list"],THE_PREVIOUS_LIST:[i.optional("the"),"previous","list"],RELATIVE_DESTINATION:["_TO",i.optional(["_POSITION","of"]),i.or("THE_NEXT_LIST","THE_PREVIOUS_LIST"),"_ON_THE_BOARD?"],_RELATIVE_DESTINATION:"RELATIVE_DESTINATION=>DESTINATION",SAME_NAME:["with","the","same",i.or("name","title")],SAME_DESCRIPTION:["and",i.optional("with"),i.optional("the"),i.optional("same"),"description"],_CARD_PARAMETERS:i.or(["_CALLED?","$TITLE",i.optional(["_AND?","_THE?","description","$DESCRIPTION"])],["SAME_NAME","SAME_DESCRIPTION?"]),_CARD_PARAMETERS__HELP:["_CALLED?","$TITLE",i.optional(["_AND","description","$DESCRIPTION"])],FIND_OR_CREATE_CARD:["find","or","create"],CREATE_UNIQUE_CARD:"unique",CREATE_CARD_ACTION:[i.or("FIND_OR_CREATE_CARD","create","add"),"_A?",i.optional(i.or("new","CREATE_UNIQUE_CARD")),"card",i.or(["DESTINATION","_COMMA","_CARD_PARAMETERS"],["_CARD_PARAMETERS",i.optional("DESTINATION")])],CREATE_CARD_ACTION__HELP:[i.or("create","add"),"_A","card","DESTINATION","_COMMA","_CARD_PARAMETERS"],WITHOUT_COMMENTS:["without","comments"],COPY_CARD_ACTION:["copy","_THE_CARD",i.swappable("DESTINATION","WITHOUT_COMMENTS?"),"CAN_SWITCH_TO_COPY"],CAN_SWITCH_TO_COPY:[],SWITCH_TO_COPY_ACTION:["on","the","copy",i.trap("!CAN_SWITCH_TO_COPY","`on the copy` can only be used after copying a card")],SWITCH_TO_TRIGGER_CARD_ACTION:[i.or("on","in"),"the","trigger","card"],MOVE_CARD_ACTION:["move","_THE_CARD",i.or("_RELATIVE_DESTINATION","DESTINATION")],MOVE_ALL_CARDS_ACTION:["move","_ALL_THE_CARDS_NEW",i.or(["_SOURCE_WITH_BOARD","WITH_LABEL?"],["WITH_LABEL","_SOURCE_WITH_BOARD?"],"TIME_IN_LIST_CONDITION"),"DESTINATION"],COPY_ALL_CARDS_ACTION:["copy","_ALL_THE_CARDS_NEW","_SOURCE_WITH_BOARD","DESTINATION"],MOVE_EACH_CARD:["DESTINATION"],_MOVE_EACH_CARD_ACTION:["move","_FOR_EACH_CARD_IMPLICIT",i.make_sibling(),"MOVE_EACH_CARD=>MOVE_CARD_ACTION"],COPY_EACH_CARD:["DESTINATION","CAN_SWITCH_TO_COPY"],_COPY_EACH_CARD_ACTION:["copy","_FOR_EACH_CARD_IMPLICIT",i.make_sibling(),"COPY_EACH_CARD=>COPY_CARD_ACTION"],RANDOM_CARD_COUNT:i.small_numeral("a number of random cards, e.g. two random cards"),RANDOM_COPY:["copy","CAN_SWITCH_TO_COPY"],RANDOM_MOVE:"move",RANDOM_CARDS_ACTION:[i.or("RANDOM_COPY","RANDOM_MOVE"),"RANDOM_CARD_COUNT",i.or([i.or("random",["randomly","selected"],"randomly-selected"),i.or("card","cards")],[i.or("card","cards"),"at","random"]),"SOURCE?","DESTINATION"],ALL_CARDS_IN_LIST:["_ALL_THE_CARDS",i.optional(["_IN","_LIST"])],ALL_CARDS_IN_NAMED_LIST:["_ALL_THE_CARDS","_IN","_LIST"],ALL_ARCHIVED_CARDS:["all","archived","cards"],THE_LABEL:["the","label"],ADD_LABEL_ACTION:i.or([i.or("apply","add","set"),i.or("LABEL","THE_LABEL"),i.optional(i.or("_TO_THE_CARD",["_TO","ALL_CARDS_IN_NAMED_LIST=>ALL_CARDS_IN_LIST"]))],["give","it","LABEL"],["give","LABEL","to","it"]),ADD_LABEL_ACTION__HELP:["add","LABEL",i.or("_TO_THE_CARD",["_TO","ALL_CARDS_IN_NAMED_LIST"])],STICKER_TYPE:i.or_index("check",i.or("heart","love"),"warning","clock","smile","laugh","huh","frown",i.or(["thumbs","up"],"thumbsup"),i.or(["thumbs","down"],"thumbsdown"),"star","rocket"),STICKER_LOCATION_LEFT:[i.or("to","at"),i.optional("the"),"left"],STICKER_LOCATION_RIGHT:[i.or("to","at"),i.optional("the"),"right"],STICKER_LOCATION_CENTER:[i.or("to","at","in"),i.optional("the"),"center"],STICKER_LOCATION_RANDOM:[i.or("at","in"),i.optional("a"),"random",i.or("position","location")],_STICKER_LOCATION:i.or("STICKER_LOCATION_LEFT","STICKER_LOCATION_RIGHT","STICKER_LOCATION_CENTER","STICKER_LOCATION_RANDOM"),_STICKER:["_THE?","STICKER_TYPE","sticker"],ADD_STICKER_ACTION:[i.or("apply","add"),"_STICKER",i.optional(i.or(["_STICKER_LOCATION",i.optional([i.or("of","in"),i.or("_THE_CARD","ALL_CARDS_IN_LIST")])],["_TO_THE_CARD"],["_TO","ALL_CARDS_IN_LIST"]))],DUE_DATE:"_DATE_TIME",START_DATE:"_DATE_TIME",THE_DATE:["the","date"],NO_PARSE_RESET:["or",i.or("clear","reset"),"the","date"],_PARSED_DATE:["$TEXT","TIME?","NO_PARSE_RESET?"],PLUS:"plus",MINUS:"minus",DATE_ADJUST:[i.or("PLUS","MINUS"),i.or([i.or("X_DAYS","{X_DAYS}"),i.or("day","days")],[i.or("X_WORKING_DAYS","{X_WORKING_DAYS}"),"working",i.or("day","days")],[i.or("X_WEEKS","{X_WEEKS}"),i.or("week","weeks")],[i.or("X_MONTHS","{X_MONTHS}"),i.or("month","months")])],DATE_IN_CUSTOM_FIELD:["the","date","in","custom","field","$FIELD_NAME","DATE_ADJUST?"],ADD_DUE_DATE_ACTION:[i.or("apply","add","assign","set",["give","_THE_CARD?"],"schedule"),i.optional(i.or("_A","_THE_CARD_S","it")),"due",i.optional("date"),i.optional(i.or("of","on","at","for","to")),i.or("DATE_IN_CUSTOM_FIELD","DUE_DATE","THE_DATE","_PARSED_DATE"),"_TO_THE_CARD?"],ADD_DUE_DATE_ACTION__HELP:["add","a","due","date","of","DUE_DATE","_TO_THE_CARD"],ADD_START_DATE_ACTION:[i.or("apply","add","assign","set",["give","_THE_CARD?"],"schedule"),i.optional(i.or("_A","_THE_CARD_S","it")),"start",i.optional("date"),i.optional(i.or("of","on","at","for","to")),i.or("DATE_IN_CUSTOM_FIELD","START_DATE","THE_DATE","_PARSED_DATE"),"_TO_THE_CARD?"],ADD_START_DATE_ACTION__HELP:["add","_A_START_DATE","of","START_DATE","_TO_THE_CARD"],MARK_DUE_COMPLETE_ACTION:[i.or("mark","check"),i.optional("the"),"due","date",i.optional("as"),i.or("complete","completed")],UNMARK_DUE_COMPLETE_ACTION:i.or([i.or("unmark","uncheck"),i.optional("the"),"due","date",i.optional("as"),i.or("complete","completed")],[i.or("mark","check"),i.optional("the"),"due","date",i.optional("as"),i.or("incomplete","incompleted")]),TO_PREVIOUS_DAY:["to","the","previous","day"],TO_PREVIOUS_WORKING_DAY:["to","the","previous","working","day"],TO_NEXT_DAY:["to","the","next","day"],TO_NEXT_WORKING_DAY:["to","the","next","working","day"],TO_SAME_DAY_NEXT_WEEK:["next","week"],TO_SAME_DAY_NEXT_MONTH:["next","month"],TO_SAME_DAY_NEXT_YEAR:["next","year"],_TO_SAME_DAY:["to","the","same","day",i.or("TO_SAME_DAY_NEXT_WEEK","TO_SAME_DAY_NEXT_MONTH","TO_SAME_DAY_NEXT_YEAR")],TO_TIME:["to",i.time()],TO_DATE:["to","_DATE"],BY_DATE:["by","_DATE"],BY_SAME_TIME_AMOUNT:["by","the","same","amount","of","time",i.trap(["!DUE_DATE_ADDED","!START_DATE_ADDED"],"`by the same amount of time` can only be used with a suitable trigger such as `when a due date is added to a card`")],ADJUST_START_DATE_ACTION:["move",i.or("the","_THE_CARD_S","its"),"start",i.optional("date"),i.or("TO_PREVIOUS_DAY","TO_PREVIOUS_WORKING_DAY","TO_NEXT_DAY","TO_NEXT_WORKING_DAY","_TO_SAME_DAY","TO_TIME","TO_DATE","BY_DATE","BY_SAME_TIME_AMOUNT")],ADJUST_DUE_DATE_ACTION:["move",i.or("the","_THE_CARD_S","its"),"due",i.optional("date"),i.or("TO_PREVIOUS_DAY","TO_PREVIOUS_WORKING_DAY","TO_NEXT_DAY","TO_NEXT_WORKING_DAY","_TO_SAME_DAY","TO_TIME","TO_DATE","BY_DATE","BY_SAME_TIME_AMOUNT")],_CHECKLIST:i.or(["_THE?",i.swappable("$CHECKLIST_NAME","checklist")],["_A","checklist",i.or("called","named","titled"),"$CHECKLIST_NAME"]),_CHECKLIST__HELP:["checklist","$CHECKLIST_NAME"],NEW_CHECKLIST:[i.or("new","empty"),"checklist"],_NEW_CHECKLIST:["_A?","NEW_CHECKLIST",i.optional(i.or("called","named","titled")),"$CHECKLIST_NAME"],_RENAME_CHECKLIST:[i.or(["with","name"],["renamed","to"],"as"),"$NEW_CHECKLIST_NAME"],THE_CHECKLIST:["the","checklist"],_FROM_CARD:["from","card","$FROM_CARD"],ADD_CHECKLIST_ACTION:i.or(["add","_CHECKLIST","_FROM_CARD?",i.or(i.swappable("_TO_THE_CARD","_RENAME_CHECKLIST?"),"_RENAME_CHECKLIST?")],["add",i.or("_NEW_CHECKLIST","THE_CHECKLIST"),"_TO_THE_CARD?"]),MOVE_CHECKLIST_ACTION:["move",i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),"to",i.optional("the"),i.or("POSITION_TOP","POSITION_BOTTOM"),i.optional("position")],UNIQUE_ITEM:["_A?","unique"],ADD_CHECKLIST_ITEM_ACTION:["add","UNIQUE_ITEM?",i.optional("checklist"),"item","$CHECKLIST_ITEM_NAME",i.or(["_TO","_CHECKLIST"],i.optional(["_TO","the","checklist"])),"_IN_THE_CARD?"],_TARGET_CHECKLIST_ITEM:[i.optional("the"),i.swappable([i.optional("checklist"),"item"],"$CHECKLIST_ITEM_NAME?"),i.optional([i.or("in","from"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST")])],RENAME_CHECKLIST_ITEM_ACTION:["rename","_TARGET_CHECKLIST_ITEM",i.optional(i.or("to","as")),"$CHECKLIST_ITEM_NEW_NAME"],REMOVE_CHECKLIST_ITEM_ACTION:["remove","_TARGET_CHECKLIST_ITEM"],MOVE_CHECKLIST_ITEM_ACTION:["move","_TARGET_CHECKLIST_ITEM","to",i.optional("the"),i.or("POSITION_TOP","POSITION_BOTTOM"),i.optional("position"),i.optional(["of","the",i.or("checklist","list")])],CHECK_ITEM_ACTION:[i.or(["check",i.optional("off")],"complete"),"_TARGET_CHECKLIST_ITEM"],UNCHECK_ITEM_ACTION:[i.or("uncheck","uncomplete","reset","clear"),"_TARGET_CHECKLIST_ITEM"],SET_ITEM_DUE_DATE_ACTION:[i.or("set","schedule"),"the","item","due",i.optional("date"),i.optional(i.or("on","to")),i.or("DATE_IN_CUSTOM_FIELD","DUE_DATE","THE_DATE","_PARSED_DATE")],MEMBER_ME:i.or("me","myself",i.or(["i","am"],"i'm")),MEMBER_ANYONE:i.or("anyone","someone",["a","member"],["any","member"],["some","member"]),MEMBER:i.or([i.optional("member"),"@MEMBER_USERNAME"],[i.optional("member"),"$MEMBER_FULLNAME"],"MEMBER_ME","MEMBER_ANYONE"),AT_RANDOM:["at","random"],IN_TURN:["in","turn"],_MEMBER_SELECTION:i.or("AT_RANDOM","IN_TURN"),PICK_MEMBER:["a","member","_MEMBER_SELECTION","_FROM_CARD?"],_RANDOM_MEMBER_LIST:["MEMBER",i.optional(["or","_RANDOM_MEMBER_LIST"])],RANDOM_MEMBER_LIST:["MEMBER","or","_RANDOM_MEMBER_LIST"],ADD_MEMBER_ACTION:i.or(["add",i.or("PICK_MEMBER","RANDOM_MEMBER_LIST","MEMBER"),"_TO_THE_CARD?"],["assign","_THE_CARD?","to","MEMBER"]),ASSIGN_ITEM_ACTION:i.or(["assign","the",i.optional("checklist"),"item","to","MEMBER"]),JOIN_CARD_ACTION:["join","_THE_CARD"],LEAVE_CARD_ACTION:["leave","_THE_CARD"],SUBSCRIBE_THE_MEMBER:["the","member"],_SUBSCRIBE_WHO:i.or("me","SUBSCRIBE_THE_MEMBER"),SUBSCRIBE:["subscribe","_SUBSCRIBE_WHO?","to"],UNSUBSCRIBE:["unsubscribe","_SUBSCRIBE_WHO?","from"],SUBSCRIBE_TO_CARD_ACTION:[i.or("SUBSCRIBE","UNSUBSCRIBE"),"_THE_CARD"],_RANDOM_COMMENT:["or","$COMMENT","_RANDOM_COMMENT?"],ADD_COMMENT_ACTION:[i.or("add","post"),"_A?","comment","$COMMENT","_RANDOM_COMMENT?"],ADD_COMMENT_ACTION__HELP:["add","a","comment","$COMMENT"],DELETE_COMMENT_ACTION:["delete","the","comment"],_NAME_LINK:[i.or(["with","name"],"as"),"$LINK_NAME"],ADD_LINK_ACTION:[i.or("add","post"),"_A?","link","$LINK","_NAME_LINK?"],LINK_IN_ATTACHMENTS:[i.or("as","using","with",["in","the"]),"attachments"],LINK_IN_DESCRIPTION:[i.or("using","in"),"the","description"],UNLINK:"unlink",LINK_CARDS_ACTION:[i.or("link","UNLINK"),i.or(["the",i.optional("two")],"both"),"cards",i.optional(i.or("together",["to","each","other"])),i.optional(i.or("LINK_IN_ATTACHMENTS","LINK_IN_DESCRIPTION"))],LINK_CARD_TO_ITEM_ACTION:["link","the","card",i.or("with","and","to"),"the","item"],RENAME_CARD_ACTION:i.or(["rename","_THE_CARD?",i.optional(i.or("to","as")),"$NEW_NAME"],["change","_THE_CARD_S?",i.or("name","title"),"to","$NEW_NAME"]),REPLACE_TEXT_ACTION:["replace",i.optional("the"),"matched","text","with","$TEXT"],REPLACE_ALL_ACTION:["replace",i.optional(["all","occurrences","of"]),"$PATTERN","with","$TEXT","in","the","description"],DELETE_TEXT_ACTION:[i.or("delete","remove"),i.optional("the"),"matched","text"],SET_DESCRIPTION_ACTION:["set","_THE_CARD_S?","description",i.optional("to"),"$NEW_DESCRIPTION"],SET_DESCRIPTION_ACTION__HELP:["set","_THE_CARD_S","description","to","$NEW_DESCRIPTION"],CLEAR_FIELD:"clear",CHECK_FIELD:"check",UNCHECK_FIELD:"uncheck",INCREASE_FIELD:"increase",DECREASE_FIELD:"decrease",ADJUST_FIELD_DATE:i.or("TO_PREVIOUS_DAY","TO_PREVIOUS_WORKING_DAY","TO_NEXT_DAY","TO_NEXT_WORKING_DAY","_TO_SAME_DAY","TO_TIME","TO_DATE","BY_DATE","BY_SAME_TIME_AMOUNT"),SET_CUSTOM_FIELD_ACTION:i.or(["set","custom","field","$FIELD_NAME","to","_VALUE"],[i.or("CLEAR_FIELD","CHECK_FIELD","UNCHECK_FIELD"),"custom","field","$FIELD_NAME"],[i.or("INCREASE_FIELD","DECREASE_FIELD"),"the","number","in","custom","field","$FIELD_NAME","_BY_AMOUNT?"],["set","date","custom","field","$FIELD_NAME","to",i.or("DATE_TIME","THE_DATE","_PARSED_DATE")],["move","the","date","in","custom","field","$FIELD_NAME","ADJUST_FIELD_DATE"]),CHECK_ALL:i.or("complete",["check","all","_THE","items","in"]),_UNCHECK_ALL:i.or("reset",["uncheck","all","_THE","items","in"]),RESET_CHECKLIST_ACTION:[i.or("_UNCHECK_ALL","CHECK_ALL"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST","ALL_CHECKLISTS"),"_IN_THE_CARD?"],COMPLETE_ITEMS:[i.or("complete","completed"),"items"],INCOMPLETE_ITEMS:["incomplete","items"],_EXPLODE_ITEM_FILTER:[i.optional("all"),"_THE?",i.or("items","COMPLETE_ITEMS","INCOMPLETE_ITEMS"),"in"],COPY_LABELS:[i.optional("all"),i.optional("the"),"labels"],COPY_MEMBERS:[i.optional("all"),i.optional("the"),"members"],_COPY_FROM_SOURCE_CARD:["copying",i.or(i.swappable("COPY_LABELS","COPY_MEMBERS",i.or(",","and")),"COPY_LABELS","COPY_MEMBERS")],_IN_THE_ITEMS:[i.or("in","from"),"the",i.or("item","items")],_OF_THE_ITEMS:["of","the",i.or("item","items")],_FIND_DATE_IN_ITEMS:["_IN_THE_ITEMS?","_AFTER_TEXT?"],FIND_DATE_AT_START:[i.or("at","from"),"the","start","_OF_THE_ITEMS?","_AFTER_TEXT?"],FIND_DATE_AT_END:[i.or("at","from"),"the","end","_OF_THE_ITEMS?","_AFTER_TEXT?"],DELETE_FOUND:["extracting"],FIND_DUE_DATES:[i.or("finding","DELETE_FOUND"),"_THE?","due",i.or("dates","date"),i.optional(i.or("FIND_DATE_AT_START=>DATE_AT_START","FIND_DATE_AT_END=>DATE_AT_END","_FIND_DATE_IN_ITEMS"))],FIND_MEMBERS:[i.or("finding","DELETE_FOUND"),"members","_IN_THE_ITEMS?"],_FIND_IN_ITEM:[i.or(i.swappable("FIND_DUE_DATES","FIND_MEMBERS?",i.optional("and")),"FIND_MEMBERS")],LINKED:["linked"],UNLINKED:["unlinked"],EXPLODE_CHECKLIST_ACTION:["convert","_EXPLODE_ITEM_FILTER?",i.or("_CHECKLIST","_UNNAMED_CHECKLIST"),"_INTO",i.optional(i.or("LINKED","UNLINKED")),"cards","DESTINATION?","_USING_PATTERN?",i.optional(i.or(i.swappable("_COPY_FROM_SOURCE_CARD","_FIND_IN_ITEM?",i.optional("and")),"_FIND_IN_ITEM"))],_USING_PATTERN:["using","pattern","$ITEM_PATTERN"],LINKS:"links",COLLECT_CHECKLIST_ACTION:["collect",i.optional("all"),i.optional("the"),"cards","_CONDITION?","into",i.or([i.optional(i.or("LINKED","UNLINKED")),"items"],"LINKS"),i.swappable(["in","_CHECKLIST"],"_USING_PATTERN?")],REMOVE_CHECKLIST_ITEMS_ACTION:[i.or("remove","delete"),i.optional("all"),"_THE?",i.or("items","COMPLETE_ITEMS","INCOMPLETE_ITEMS"),i.or("in","from"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST","ALL_CHECKLISTS")],FIRST_INCOMPLETE_ITEM:i.or("incomplete","unchecked"),FIRST_COMPLETE_ITEM:i.or("complete","completed","checked"),FIRST_CHECKLIST_ITEM:["the","first",i.optional(i.or("FIRST_INCOMPLETE_ITEM","FIRST_COMPLETE_ITEM")),i.optional("checklist"),"item"],_FIRST_CHECKLIST_ITEM:["FIRST_CHECKLIST_ITEM",i.optional([i.or("in","from"),i.or("_CHECKLIST","_UNNAMED_CHECKLIST")])],CONVERT_ITEM_ACTION:["convert",i.or("_TARGET_CHECKLIST_ITEM","_FIRST_CHECKLIST_ITEM"),"_INTO",i.optional(i.or([i.optional("a"),"LINKED"],[i.optional("an"),"UNLINKED"],"a")),"card","DESTINATION?","_USING_PATTERN?",i.optional(i.or(i.swappable("_COPY_FROM_SOURCE_CARD","_FIND_IN_ITEM?",i.optional("and")),"_FIND_IN_ITEM"))],REMOVE_ALL_LABELS:i.or([i.optional(i.or("any",["all",i.optional([i.optional("of"),i.or("the","its")])])),"labels"],[i.optional("the"),"labels"],"label"),REMOVE_ALL_LABELS__HELP:["all","the","labels"],REMOVE_ALL_STICKERS:i.or([i.optional(i.or("any",["all",i.optional([i.optional("of"),i.or("the","its")])])),"stickers"],[i.optional("the"),i.or("sticker","stickers")]),REMOVE_ALL_STICKERS__HELP:["all","the","stickers"],REMOVE_DUE_DATE:[i.optional(i.or("the","its")),"due","date"],REMOVE_START_DATE:[i.optional(i.or("the","its")),"start","date"],REMOVE_ALL_CHECKLISTS:["all",i.optional("the"),"checklists"],REMOVE_CHECKLIST:"_CHECKLIST",REMOVE_COVER:[i.optional(i.or("the","its")),"cover",i.optional(i.or("image","picture","attachment"))],REMOVE_ALL_MEMBERS:["all",i.optional("the"),"members"],THE_ATTACHMENT:["_THE?","attachment"],REMOVE_ATTACHMENT:i.or(["_THE?","attachment","_CALLED?","$ATTACHMENT_NAME"],"THE_ATTACHMENT",["_THE?","link","$ATTACHMENT_LINK"]),_REMOVE_WHAT_FROM_CARD:i.or("LABEL","THE_LABEL","REMOVE_ALL_LABELS","_STICKER","REMOVE_ALL_STICKERS","REMOVE_START_DATE","REMOVE_DUE_DATE","REMOVE_CHECKLIST","REMOVE_ALL_CHECKLISTS","REMOVE_COVER","MEMBER","REMOVE_ALL_MEMBERS","REMOVE_ATTACHMENT"),_REMOVE_WHAT_FROM_CARD_LIST:["_REMOVE_WHAT_FROM_CARD",i.optional(["_AND?","_REMOVE_WHAT_FROM_CARD_LIST"])],_REMOVE_WHAT_FROM_CARD_LIST__HELP:i.or("_REMOVE_WHAT_FROM_CARD",["_REMOVE_WHAT_FROM_CARD","and","_REMOVE_WHAT_FROM_CARD"]),REMOVE_FROM_CARD_ACTION:[i.or("remove","delete"),"_REMOVE_WHAT_FROM_CARD_LIST",i.optional(i.or(["_FROM","_THE_CARD"],["_FROM","ALL_CARDS_IN_LIST"],["_FROM","ALL_ARCHIVED_CARDS"]))],COPY_DESCRIPTION:[i.optional("the"),"description"],COPY_ALL_LABELS:[i.optional("all"),i.optional("the"),"labels"],COPY_DUE_DATE:[i.optional("the"),"due","date"],COPY_ALL_MEMBERS:[i.optional("all"),i.optional("the"),"members"],COPY_ALL_CHECKLISTS:[i.optional("all"),i.optional("the"),"checklists"],COPY_CHECKLIST:"_CHECKLIST",COPY_ALL_ATTACHMENTS:[i.optional("all"),i.optional("the"),"attachments"],_COPY_WHAT:i.or("COPY_DESCRIPTION","COPY_ALL_LABELS","COPY_DUE_DATE","COPY_CHECKLIST","COPY_ALL_CHECKLISTS","COPY_ALL_MEMBERS","COPY_ALL_ATTACHMENTS"),_COPY_WHAT_LIST:["_COPY_WHAT",i.optional(["_AND?","_COPY_WHAT_LIST"])],THE_TRIGGER_CARD:["the","trigger","card"],THE_FOUND_CARD:["the","found","card"],_WHICH_CARD:i.or("THE_TRIGGER_CARD","THE_FOUND_CARD"),TO_WHICH_CARD:["to","_WHICH_CARD"],FROM_WHICH_CARD:["from","_WHICH_CARD"],COPY_PARTS_ACTION:["copy","_COPY_WHAT_LIST",i.or("TO_WHICH_CARD","FROM_WHICH_CARD")],USE_TRIGGER_CARD:"trigger",ARCHIVE_CARD_ACTION:["archive",i.or("_THE_CARD",["the","USE_TRIGGER_CARD","card"])],UNARCHIVE_CARD_ACTION:["unarchive",i.or("_THE_CARD",["the","USE_TRIGGER_CARD","card"])],TIME_IN_LIST_CONDITION:["more","than","DAYS_IN_LIST","WORKING_DAYS?","days","in","_LIST"],ARCHIVE_ALL_CARDS_ACTION:["archive","all",i.optional("the"),"cards",i.or("WITH_LABEL","IN_LIST","TIME_IN_LIST_CONDITION")],DELETE_CARD_ACTION:["delete","_THE_CARD",i.trap("!FOR_EACH_CARD","`delete` can only be used in `for each archived card inactive for more than X days`"),i.trap("!ARCHIVED","`delete` can only be used in `for each archived card inactive for more than X days`"),i.trap("!INACTIVITY_CONDITION","`delete` can only be used in `for each archived card inactive for more than X days`")],DONT_SWITCH_TO_CARD:"lookup",_FIND_OR_LOOKUP:i.or("find","DONT_SWITCH_TO_CARD"),FIND_CARD_BY_TITLE:["_FIND_OR_LOOKUP","_A?","card","_CALLED?","$TITLE",i.optional(["in","_LIST_NAME"]),"_IN_BOARD_NAME?"],FIND_CARD_BY_ID:["_FIND_OR_LOOKUP","_A?","card","with",i.or("id","link","url"),"$ID"],CARD_IN_POSITION:i.ordinal("The position of the card, e.g. first, 3rd."),CARD_IN_LAST_POSITION:"last",FIND_CARD_BY_POSITION:["_FIND_OR_LOOKUP","the",i.or("CARD_IN_POSITION","CARD_IN_LAST_POSITION"),"card","in","_LIST_NAME","_IN_BOARD_NAME?"],FIND_CARD_ABOVE:["_FIND_OR_LOOKUP",i.optional("the"),"card","above"],FIND_CARD_ACTION:i.or("FIND_CARD_BY_TITLE","FIND_CARD_BY_ID","FIND_CARD_BY_POSITION","FIND_CARD_ABOVE"),FIND_MENTIONED_CARD_ACTION:["_FIND_OR_LOOKUP","_THE?",i.or("linked","mentioned"),"card"],FIND_CARD_IN_DESCRIPTION_ACTION:["_FIND_OR_LOOKUP","_THE?","card",i.or("linked","mentioned"),"in","the","description"],FIRST_CARD_IN_ATTACHMENTS:"first",LAST_CARD_IN_ATTACHMENTS:"last",FIND_CARD_IN_ATTACHMENTS_ACTION:["_FIND_OR_LOOKUP","_THE?",i.optional(i.or("FIRST_CARD_IN_ATTACHMENTS","LAST_CARD_IN_ATTACHMENTS")),"card","linked",i.or("in","from"),i.or(["the","attachments"],["an","attachment"])],DECIMAL_VALUE:i.decimal(),DISPLAY_VALUE_ACTION:["display",i.optional("value"),i.or("$TEXT_VALUE","{VARIABLE_VALUE}","DECIMAL_VALUE"),i.or(i.swappable("_DASH_TITLE","_DASH_COLOR?"),"_DASH_COLOR?")],CREATE_REPORT_ACTION:["create","_A?","report",i.optional(["in","variable","$REPORT_VAR"]),"with",i.optional("all"),i.optional("the"),"cards","_CONDITION?","_REPORT_USING_PATTERN?","_REPORT_GROUP_BY_CLAUSE?"],REPORT_GROUP_BY:i.enum_value("THE_LIST","THE_DUE_DATE"),_REPORT_GROUP_BY_CLAUSE:[i.or("group","grouped"),"by","REPORT_GROUP_BY"],_REPORT_USING_PATTERN:"_USING_PATTERN",CONFETTI_TARGET_LOCATION:[i.or("THE_CHECKLIST","THE_DUE_DATE","THE_LIST","THE_CARD","THIS_BOARD"),i.optional(["_CALLED?","$NAME"])],THROW_CONFETTI_ACTION:["throw","confetti","on","CONFETTI_TARGET_LOCATION"],_CARD_ACTION:i.or("CREATE_CARD_ACTION","COPY_CARD_ACTION","SWITCH_TO_COPY_ACTION","SWITCH_TO_TRIGGER_CARD_ACTION","MOVE_CARD_ACTION","MOVE_ALL_CARDS_ACTION","COPY_ALL_CARDS_ACTION","RANDOM_CARDS_ACTION","_MOVE_EACH_CARD_ACTION","_COPY_EACH_CARD_ACTION","ADD_LABEL_ACTION","ADD_STICKER_ACTION","ADD_DUE_DATE_ACTION","ADD_START_DATE_ACTION","ADJUST_DUE_DATE_ACTION","ADJUST_START_DATE_ACTION","MARK_DUE_COMPLETE_ACTION","UNMARK_DUE_COMPLETE_ACTION","ADD_CHECKLIST_ACTION","MOVE_CHECKLIST_ACTION","ADD_CHECKLIST_ITEM_ACTION","RENAME_CHECKLIST_ITEM_ACTION","REMOVE_CHECKLIST_ITEM_ACTION","MOVE_CHECKLIST_ITEM_ACTION","ADD_MEMBER_ACTION","ADD_COMMENT_ACTION","ADD_LINK_ACTION","RENAME_CARD_ACTION","SET_DESCRIPTION_ACTION","LINK_CARDS_ACTION","LINK_CARD_TO_ITEM_ACTION",i.hidden("SET_CUSTOM_FIELD_ACTION"),"DELETE_COMMENT_ACTION","REPLACE_TEXT_ACTION","REPLACE_ALL_ACTION","DELETE_TEXT_ACTION","JOIN_CARD_ACTION","LEAVE_CARD_ACTION","SUBSCRIBE_TO_CARD_ACTION","CONVERT_ITEM_ACTION","CHECK_ITEM_ACTION","UNCHECK_ITEM_ACTION","ASSIGN_ITEM_ACTION","SET_ITEM_DUE_DATE_ACTION","RESET_CHECKLIST_ACTION","EXPLODE_CHECKLIST_ACTION","COLLECT_CHECKLIST_ACTION","REMOVE_CHECKLIST_ITEMS_ACTION","REMOVE_FROM_CARD_ACTION","COPY_PARTS_ACTION","ARCHIVE_CARD_ACTION","ARCHIVE_ALL_CARDS_ACTION","UNARCHIVE_CARD_ACTION","DELETE_CARD_ACTION","FIND_CARD_ACTION","FIND_MENTIONED_CARD_ACTION","FIND_CARD_IN_DESCRIPTION_ACTION","FIND_CARD_IN_ATTACHMENTS_ACTION","DISPLAY_VALUE_ACTION","CREATE_REPORT_ACTION","THROW_CONFETTI_ACTION"),_IN_TEAM:["in","_TEAM","$TEAM"],CREATE_BOARD_ACTION:[i.or("create","add","start"),"_A?",i.optional("new"),"board","_CALLED?","$NAME","_IN_TEAM?"],_TO_TEAM:[i.or("in","to"),"_TEAM","$TEAM"],COPY_BOARD_ACTION:["copy",i.or(["board","$NAME"],[i.optional(i.or("the","this")),"board"]),"_TO_TEAM?",i.optional(["with","name","$NEW_NAME"])],SWITCH_CURRENT_BOARD_ACTION:["switch","to","_BOARD_NAME",i.trap("_ACTION_MULTIPLIER","`switch to board` can not be used within a multiplier")],CREATE_UNIQUE_LIST:"unique",CREATE_LIST_ACTION:[i.or("create","add","start"),"_A?",i.optional(i.or("new","CREATE_UNIQUE_LIST")),"list","_CALLED?","$NAME",i.or(["_POSITION_NUMBER",i.optional([i.or("of","in","on"),i.or("_BOARD_NAME",[i.or("the","this"),"board"])])],["_IN_BOARD_NAME?","_POSITION_NUMBER?"])],RENAME_LIST_ACTION:["rename","_LIST",i.or("to","as"),"$NEW_NAME"],DESTINATION_THIS_BOARD:[i.or("this","the"),"board"],MOVE_LIST_ACTION:["move",i.optional("the"),i.swappable("list","$LIST"),i.optional(i.or("_IN_BOARD_NAME","_FROM_BOARD_NAME")),i.or(["_TO_POSITION",i.optional(["_IN",i.or("_DESTINATION_BOARD_NAME","DESTINATION_THIS_BOARD")])],["_TO",i.or("_DESTINATION_BOARD_NAME","DESTINATION_THIS_BOARD")])],COPY_LIST_ACTION:["copy",i.optional("the"),i.swappable("list","$LIST"),i.optional(i.or("_IN_BOARD_NAME","_FROM_BOARD_NAME")),i.optional(i.or(["_TO_POSITION",i.optional(["_IN",i.or("_DESTINATION_BOARD_NAME","DESTINATION_THIS_BOARD")])],["_TO",i.or("_DESTINATION_BOARD_NAME","DESTINATION_THIS_BOARD")])),i.optional(["with","name","$NEW_NAME"])],ARCHIVE_LIST_ACTION:["archive","list","$LIST","_IN_BOARD_NAME?"],UNARCHIVE_LIST_ACTION:["unarchive","list","$LIST","_IN_BOARD_NAME?"],SHUFFLE_LIST_ACTION:["shuffle",i.optional(["_ALL_THE_CARDS","_IN"]),"_LIST_NAME"],SORT_BY_TITLE:["by",i.or("name","title")],SORT_BY_DATE_IN_TITLE:["by",i.optional("the"),"date","in",i.optional("the"),"title"],SORT_BY_START_DATE:["by","start","date"],SORT_BY_DUE_DATE:["by","due","date"],SORT_BY_VOTES:["by","votes"],SORT_LABEL:i.or(["COLOR","$TITLE?"],"$TITLE"),_SORT_LABEL_LIST:[i.or("SORT_LABEL","LABEL=>SORT_LABEL"),i.optional(["_AND","_SORT_LABEL_LIST"])],SORT_BY_LABEL:["by",i.optional("label"),"_SORT_LABEL_LIST"],SORT_BY_TIME_IN_LIST:["by","time","in",i.optional("the"),"list"],SORT_BY_AGE:["by",i.optional("card"),"age"],SORT_BY_CUSTOM_FIELD:["by","custom","field","$CUSTOM_FIELD_NAME"],SORT_ASCENDING:[i.optional(","),"ascending"],SORT_DESCENDING:[i.optional(","),"descending"],_SORT_CRITERION:[i.or("SORT_BY_TITLE","SORT_BY_DATE_IN_TITLE","SORT_BY_START_DATE","SORT_BY_DUE_DATE","SORT_BY_VOTES","SORT_BY_TIME_IN_LIST","SORT_BY_AGE","SORT_BY_LABEL","SORT_BY_CUSTOM_FIELD"),i.optional(i.or("SORT_ASCENDING","SORT_DESCENDING"))],SECONDARY_SORT:["_AND?",i.optional("then"),"_SORT_CRITERION"],SORT_LIST_ACTION:["sort",i.or([i.optional(["_ALL_THE_CARDS","_IN"]),"_LIST_NAME","_IN_BOARD_NAME?"],[i.optional("the"),"list"]),"_SORT_CRITERION","SECONDARY_SORT?"],EXCEPT_LIST_COUNT:i.small_numeral("a number of lists"),_EXCEPT_LIST_COUNT:[i.optional("the"),i.optional("first"),i.or("list",["EXCEPT_LIST_COUNT","lists"])],EXCEPT_LEFT_LISTS:["_EXCEPT_LIST_COUNT",i.optional(["on","the","left"])],EXCEPT_RIGHT_LISTS:["_EXCEPT_LIST_COUNT","on","the","right"],_EXCEPT_LISTS:["except",i.or("EXCEPT_RIGHT_LISTS",["EXCEPT_LEFT_LISTS",i.optional(["and","EXCEPT_RIGHT_LISTS"])])],SPECIFIC_LIST:["position","the","list"],ARRANGE_LISTS_ACTION:[i.or(["arrange","the","lists","_IN_THIS_BOARD?"],"SPECIFIC_LIST"),i.or("SORT_BY_TITLE","SORT_BY_DATE_IN_TITLE"),i.optional(i.or("SORT_ASCENDING","SORT_DESCENDING")),"_EXCEPT_LISTS?"],COUNT_LABELS_ACTION:["count",i.optional("the"),"labels",i.or(["in","_LIST_NAME"],"_IN_THIS_BOARD?")],IN_ALL_LISTS:["in",i.optional(i.or(["all",i.optional("of"),i.optional("the")],"_EVERY","the")),i.or("list","lists"),"_IN_THIS_BOARD?"],COUNT_CARDS_ACTION:["count",i.optional("the"),"ARCHIVED?","cards",i.optional(i.or("_CONDITION","IN_THE_LIST","IN_ALL_LISTS","_IN_THIS_BOARD"))],COUNT_CARDS_ACTION__HELP:["count","the","cards",i.or(["in","_LIST_NAME"],"IN_ALL_LISTS","_IN_THIS_BOARD")],_TO_THE_BOARD:["to","the","board"],INVITE_MEMBER_TO_BOARD_ACTION:["invite","MEMBER","_TO_THE_BOARD","_AS_BOARD_MEMBER_TYPE?"],DO_NOTHING_ACTION:i.or(["do","nothing"],"nop"),MAKE_COMMAND_ACTION:["convert","_THE_CARD","_INTO","_A?","command"],MATCH_TEXT_ACTION:["match",i.or("$TEXT","{TEXT}"),i.or("to","with"),"$PATTERN"],PRINT_VARIABLES:"variables",PRINT_CARD_VARIABLES:["card","variables"],PRINT_BOARD_VARIABLES:["board","variables"],_PRINT_VARIABLES:i.or("PRINT_VARIABLES","PRINT_CARD_VARIABLES","PRINT_BOARD_VARIABLES"),PRINT_USAGE:"usage",PRINT_ACTION:["print",i.or("$TEXT","_PRINT_VARIABLES","PRINT_USAGE")],TIMEZONE:i.timezone(),SET_TIMEZONE_ACTION:i.or(["set","timezone",i.optional("to"),"TIMEZONE"],[i.optional(i.or("the","my","our")),"timezone",i.optional("is"),"TIMEZONE"]),SILENT:i.or_index("off","on"),SET_SILENT_ACTION:["set","silent","SILENT"],BOT_STICKERS:i.or_index("off","on"),SET_BOT_STICKERS_ACTION:["set","stickers","BOT_STICKERS"],_BOARD_ACTION:i.or("SET_TIMEZONE_ACTION","SET_SILENT_ACTION","SET_BOT_STICKERS_ACTION","CREATE_BOARD_ACTION","COPY_BOARD_ACTION",i.hidden("INVITE_MEMBER_TO_BOARD_ACTION"),i.hidden("SWITCH_CURRENT_BOARD_ACTION"),"CREATE_LIST_ACTION","RENAME_LIST_ACTION","MOVE_LIST_ACTION","COPY_LIST_ACTION","SHUFFLE_LIST_ACTION","SORT_LIST_ACTION","ARRANGE_LISTS_ACTION","ARCHIVE_LIST_ACTION","UNARCHIVE_LIST_ACTION","COUNT_LABELS_ACTION","COUNT_CARDS_ACTION","MAKE_COMMAND_ACTION","MATCH_TEXT_ACTION",i.hidden("DO_NOTHING_ACTION"),i.hidden("PRINT_ACTION")),CARD_VARIABLE:"card",BOARD_VARIABLE:"board",VARIABLE_VALUE:i.or(i.small_numeral("a number"),i.decimal("a decimal number")),SET_VARIABLE_ACTION:[i.or(["set","_THE?",i.or("CARD_VARIABLE","BOARD_VARIABLE"),"variable","$VARIABLE_NAME"],["set",i.optional("variable"),"{VARIABLE_NAME}"]),"to",i.or("$VARIABLE_VALUE","VARIABLE_VALUE")],AMOUNT:i.or(i.small_numeral("a number"),i.decimal("a decimal number")),_BY_AMOUNT:["by",i.or("AMOUNT","{AMOUNT}")],INCREASE_VARIABLE_ACTION:i.or(["increase",i.or("CARD_VARIABLE","BOARD_VARIABLE"),"variable","$VARIABLE_NAME","_BY_AMOUNT?"],["increase",i.optional("variable"),"{VARIABLE_NAME}","_BY_AMOUNT?"]),DECREASE_VARIABLE_ACTION:i.or(["decrease",i.or("CARD_VARIABLE","BOARD_VARIABLE"),"variable","$VARIABLE_NAME","_BY_AMOUNT?"],["decrease",i.optional("variable"),"{VARIABLE_NAME}","_BY_AMOUNT?"]),_VARIABLE_ACTION:i.or("SET_VARIABLE_ACTION","INCREASE_VARIABLE_ACTION","DECREASE_VARIABLE_ACTION"),HTTP_GET_METHOD:"get",HTTP_POST_METHOD:"post",HTTP_PUT_METHOD:"put",HTTP_FORM_PAYLOAD:"form",_HTTP_GET_ACTION:["HTTP_GET_METHOD","url","$URL"],_HTTP_POST_ACTION:["HTTP_POST_METHOD",i.optional("to"),"url","$URL",i.optional([i.optional("with"),"headers","$HEADERS",i.optional("and")]),i.optional("with"),"HTTP_FORM_PAYLOAD?","payload","$PAYLOAD"],_HTTP_PUT_ACTION:["HTTP_PUT_METHOD",i.optional("to"),"url","$URL",i.optional([i.optional("with"),"headers","$HEADERS",i.optional("and")]),i.optional("with"),"HTTP_FORM_PAYLOAD?","payload","$PAYLOAD"],HTTP_REQUEST_ACTION:i.or("_HTTP_GET_ACTION","_HTTP_POST_ACTION","_HTTP_PUT_ACTION"),ALL_MEMBERS_ON_BOARD:i.or("@board",["every","member","on","the","board"]),ALL_MEMBERS_ON_CARD:i.or("@card",["every","member","on","the","card"]),SEND_EMAIL_ACTION:["send",i.optional("an"),"email",i.optional("notification"),"to",i.or("$ADDRESS","ALL_MEMBERS_ON_BOARD","ALL_MEMBERS_ON_CARD"),i.optional(","),i.optional("with"),"subject","$SUBJECT",i.optional([i.optional(","),i.optional("and"),i.optional("with"),i.or("message","body"),"$MESSAGE"])],_MISC_ACTION:i.or("HTTP_REQUEST_ACTION","SEND_EMAIL_ACTION"),IN_THE_CARD:"_IN_THE_CARD",_ON_THE_BOARD:[i.or("on","in"),"the","board"],ON_THE_BOARD:"_ON_THE_BOARD",FOR_EACH_MEMBER:["for","each","member",i.or("IN_THE_CARD","ON_THE_BOARD")],FOR_EACH_LABEL:["for","each","label",i.optional(i.or("IN_THE_CARD","ON_THE_BOARD"))],FOR_EACH_CHECKLIST:["for","each","checklist","IN_THE_CARD?"],FOR_EACH_ATTACHMENT:["for","each","attachment","IN_THE_CARD?"],COMPLETE_ITEM:i.or("complete","completed","checked"),INCOMPLETE_ITEM:i.or("incomplete","unchecked"),FOR_EACH_CHECKLIST_ITEM:["for","each",i.optional(i.or("COMPLETE_ITEM","INCOMPLETE_ITEM")),i.optional("checklist"),"item","_IN_CHECKLIST?","IN_THE_CARD?"],EMPTY_LIST:i.or(["empty","list","ON_THE_BOARD?"],["list","ON_THE_BOARD?","_THAT_IS","empty"]),NON_EMPTY_LIST:i.or([i.or("non-empty",["non","empty"],["not","empty"]),"list","ON_THE_BOARD?"],["list","ON_THE_BOARD?","_THAT_IS_NOT","empty"]),FOR_EACH_LIST:["for","each",i.or("NON_EMPTY_LIST","EMPTY_LIST",["list","ON_THE_BOARD?"])],ARCHIVED:"archived",IN_THE_LIST:["in","the","list"],EXCEPT_TRIGGER_CARD:["except","the","trigger",i.optional("card")],INCLUDE_COMMANDS:["including","commands"],FOR_EACH_CARD:["for","each","ARCHIVED?","card",i.optional(i.or("_CONDITION","IN_THE_LIST")),"_IN_BOARD_NAME?","EXCEPT_TRIGGER_CARD?","INCLUDE_COMMANDS?"],FOR_EACH_CARD_IMPLICIT:[i.or("each","every"),"card",i.optional(i.or("_CONDITION","IN_THE_LIST")),"_IN_BOARD_NAME?","EXCEPT_TRIGGER_CARD?"],_FOR_EACH_CARD_IMPLICIT:"FOR_EACH_CARD_IMPLICIT=>FOR_EACH_CARD",MENTIONED_IN_DESCRIPTION:["the","description"],MENTIONED_IN_ATTACHMENTS:["the","attachments"],MENTIONED_IN_CHECKLIST:[i.optional(["_A",i.optional(i.or("COMPLETE_ITEM","INCOMPLETE_ITEM")),"item","in"]),"_CHECKLIST"],FOR_EACH_MENTIONED_CARD:["for","each","card",i.or("linked","mentioned"),i.or("from","in"),i.or("MENTIONED_IN_DESCRIPTION","MENTIONED_IN_ATTACHMENTS","MENTIONED_IN_CHECKLIST"),i.optional(["of","the","card"]),"EXCEPT_TRIGGER_CARD?"],START_VALUE:i.small_numeral(),END_VALUE:i.small_numeral(),LOOP:["loop","START_VALUE","to","END_VALUE"],_WITH_TAG:[i.or(["with","tag"],["in","collection"]),"$TAG"],SWITCH_TO_BOARD:"on",FOR_EACH_BOARD:[i.or("for",i.hidden("SWITCH_TO_BOARD")),"each","BOARD_VISIBILITY_CONDITION?","board",i.swappable("_IN_TEAM","_WITH_TAG?"),"INACTIVITY_CONDITION?"],_ACTION_MULTIPLIER:i.or("FOR_EACH_MEMBER","FOR_EACH_LABEL","FOR_EACH_CHECKLIST_ITEM","FOR_EACH_CHECKLIST","FOR_EACH_ATTACHMENT","FOR_EACH_LIST","FOR_EACH_MENTIONED_CARD","FOR_EACH_CARD","FOR_EACH_BOARD",i.hidden("LOOP")),_VALUE:i.or("$TEXT_VALUE","{VARIABLE_VALUE}","NUMERIC_VALUE"),OP_CMP_EQ:i.or("equals","="),OP_CMP_LT:i.or(["is",i.or("less","lower"),"than"],"<"),OP_CMP_LE:i.or(["is","lower",i.optional("than"),"or","equal","to"],"<=","≤"),OP_CMP_GT:i.or(["is",i.or("more","greater"),"than"],">"),OP_CMP_GE:i.or(["is","greater",i.optional("than"),"or","equal","to"],">=","≥"),COMPARE_OP:i.or("OP_CMP_LT","OP_CMP_LE","OP_CMP_GT","OP_CMP_GE","OP_CMP_EQ"),L_VALUE:"_VALUE",R_VALUE:"_VALUE",_COMPARE_EXPRESSION:["L_VALUE","COMPARE_OP","R_VALUE"],MATCH_EXACT:"$TEXT",_MATCH_EXACT:[i.or("is",["matches",i.optional("with")]),"MATCH_EXACT"],_NOT_MATCH_EXACT:[i.or("isn't",["is","not"],[i.or("doesn't",["does","not"]),"match",i.optional("with")]),"MATCH_EXACT","NEGATIVE_MATCH"],NUMERIC_VALUE:i.or(i.decimal("a number",!0),i.small_numeral("a number")),TEXT_MATCH_OP:i.or("_MATCH_EXACT","_NOT_MATCH_EXACT","_STARTS_WITH","_NOT_STARTS_WITH","_ENDS_WITH","_NOT_ENDS_WITH","_CONTAINS","_NOT_CONTAINS","DATE_AT_START","_NOT_DATE_AT_START","DATE_AT_END","_NOT_DATE_AT_END","CONTAINS_DATE","_NOT_CONTAINS_DATE","_TEXT_LENGTH"),TEXT_VALUE:"_VALUE",_TEXT_MATCH_EXPRESSION:["TEXT_VALUE","TEXT_MATCH_OP"],COMPARE_AND:["and","_COMPARE_EXPRESSION_LIST"],COMPARE_OR:["or","_COMPARE_EXPRESSION_LIST"],COMPARE_GROUP:["(","_COMPARE_EXPRESSION_LIST",")"],_COMPARE_EXPRESSION_LIST:[i.or("_COMPARE_EXPRESSION","COMPARE_GROUP","_TEXT_MATCH_EXPRESSION"),i.optional(i.or("COMPARE_AND","COMPARE_OR"))],IF_ACTION:["if","_COMPARE_EXPRESSION_LIST","_COMMA",i.optional("then"),"ELSE_ALLOWED"],_EXISTS:"exists",NOT_EXISTS:[i.or(["does","not"],"doesn't"),"exist"],_IF_EXISTS_LIST:["_LIST",i.or("_EXISTS","NOT_EXISTS"),"_IN_BOARD_NAME?"],IF_EXISTS_ACTION:["if","_IF_EXISTS_LIST",i.optional("then"),"ELSE_ALLOWED"],ELSE_ALLOWED:[],ELSE_ACTION:["else",i.trap("!ELSE_ALLOWED","`else` can only be used after `if`")],APP_ACTION:i.or("APP_JIRA_ACTION","APP_SLACK_ACTION"),APP_JIRA_ACTION:i.or("APP_JIRA_CREATE_ISSUE_ACTION","APP_JIRA_POST_ISSUE_COMMENT_ACTION"),_APP_JIRA_PROJECT:["in","project","$PROJECT"],_APP_JIRA_SITE:["in","site","$SITE"],APP_JIRA_CREATE_ISSUE_ACTION:["create","a","jira","$ISSUE_TYPE","with",i.or("summary","title"),"$SUMMARY",i.optional(["_AND","description","$DESCRIPTION"]),"_APP_JIRA_PROJECT","_APP_JIRA_SITE"],APP_JIRA_POST_ISSUE_COMMENT_ACTION:["post","a","comment","to","jira","issue","$ISSUE_REF","_APP_JIRA_SITE","with","message","$COMMENT"],APP_SLACK_ACTION:i.or("APP_SLACK_POST_MESSAGE_ACTION"),_APP_SLACK_WORKSPACE:["in","workspace","$WORKSPACE"],APP_SLACK_AS_BUTLER:"butler",APP_SLACK_AS_MYSELF:"myself",_APP_SLACK_ACT_AS:i.or("APP_SLACK_AS_BUTLER","APP_SLACK_AS_MYSELF"),APP_SLACK_POST_MESSAGE_ACTION:["post","message","$MESSAGE","to","slack","channel","$CHANNEL","_APP_SLACK_WORKSPACE","as","_APP_SLACK_ACT_AS"],ACTION:i.or("_BOARD_ACTION","_CARD_ACTION","_VARIABLE_ACTION",i.hidden("_MISC_ACTION"),"_ACTION_MULTIPLIER","IF_ACTION","IF_EXISTS_ACTION","ELSE_ACTION","APP_ACTION"),_ACTION_LIST_LIST:["_ACTION_LIST",i.optional([".","_ACTION_LIST_LIST"])],RETURN_MESSAGE:["return","message","$MESSAGE"],SCRIPT_RETURN:"RETURN_MESSAGE",SCRIPT:["script:","_ACTION_LIST_LIST",i.optional([i.or(",","."),"SCRIPT_RETURN"])],IN_THIS_BOARD:"_IN_THIS_BOARD",_DASH_CARDS_FILTER:i.or(["in","_LIST_NAME"],"IN_THIS_BOARD",[i.optional("with"),"LABEL"],["assigned","to","MEMBER"],"WITH_CHECKLIST","WITH_ALL_CHECKLISTS"),DASH_CARDS_FILTER_AND:[i.optional(","),i.optional("and"),"_DASH_CARDS_FILTER_LIST"],DASH_CARDS_FILTER_OR:[i.optional(","),"or","_DASH_CARDS_FILTER_LIST"],_DASH_CARDS_FILTER_LIST:["_DASH_CARDS_FILTER",i.optional([i.or("DASH_CARDS_FILTER_AND","DASH_CARDS_FILTER_OR")])],DASH_CARDS_FILTER:"_DASH_CARDS_FILTER_LIST",COUNT_CARDS_DASH:["cards","DASH_CARDS_FILTER?"],SUM_AVERAGE:["average"],SUM_CARDS_DASH:[i.or("sum","SUM_AVERAGE"),"custom","field","$CUSTOM_FIELD",i.optional(["for","cards"]),"DASH_CARDS_FILTER?"],NO_TITLE:[i.optional(","),i.optional("with"),"no","title"],_DASH_TITLE:i.or([i.optional(","),i.or([i.optional("with"),"title"],"titled"),"$DASH_TITLE"],"NO_TITLE"),_DASH_COLOR:[i.optional(","),i.optional("in"),i.swappable("COLOR",i.optional(i.or("color","background")))],DASH_CARD:[i.or("COUNT_CARDS_DASH","SUM_CARDS_DASH"),i.or(i.swappable("_DASH_TITLE","_DASH_COLOR?"),"_DASH_COLOR?")],_TRIGGERED_DASH_CARD:["TRIGGER","_COMMA",i.optional(["update","with"]),"DASH_CARD"],_IMMEDIATE_DASH_CARD:"DASH_CARD",TRIGGER:[i.or("EVERY","WHEN","ON_DUE_DATE","ON_START_DATE")],_ACTION_LIST:["ACTION",i.optional(["_AND?","_ACTION_LIST"])],_ACTION_LIST__HELP:"ACTION",_TRIGGERED_COMMAND:["TRIGGER","_COMMA","_ACTION_LIST"],_IMMEDIATE_COMMAND:"_ACTION_LIST",COMMAND:[i.or("_TRIGGERED_COMMAND","_IMMEDIATE_COMMAND",i.hidden("_TRIGGERED_DASH_CARD"),i.hidden("_IMMEDIATE_DASH_CARD"),i.hidden("SCRIPT")),i.optional("."),"<END>"],_USER:i.or("user","member"),USER_NEGATIVE_MATCH:"not",ADMIN_USER:["_AN",i.or("administrator","admin"),"_USER?"],NON_ADMIN_USER:["_A",i.or("non-administrator","non-admin"),"_USER?"],USER_TEAM_CONDITION:["USER_NEGATIVE_MATCH?","in","_TEAM","$TEAM_NAME"],USER_ENTERPRISE_CONDITION:["USER_NEGATIVE_MATCH?","in","the","enterprise"],_USER_FILTER:[i.or("ADMIN_USER","NON_ADMIN_USER",["_A","_USER?"]),i.optional(i.or("USER_ENTERPRISE_CONDITION","USER_TEAM_CONDITION"))],USER_FILTER:"_USER_FILTER",BY_USER_FILTER:["by","_USER_FILTER"],_BOARD_CONDITION:i.or(["named","$BOARD_NAME"],["not","named","$BOARD_NAME","NEGATIVE_MATCH"]),VISIBILITY_PUBLIC:"public",VISIBILITY_PRIVATE:"private",VISIBILITY_TEAM:i.or("team-visible","workspace-visible"),_BOARD_VISIBILITY:i.or("VISIBILITY_PUBLIC","VISIBILITY_PRIVATE","VISIBILITY_TEAM"),BOARD_VISIBILITY_CONDITION:"_BOARD_VISIBILITY",ANY_TEAM:[i.or("a","any","the","its"),"_TEAM"],_NAMED_TEAM:["_TEAM","$TEAM_NAME"],_TEAM_CONDITION:i.or(["named","$TEAM_NAME"],["not","named","$TEAM_NAME","NEGATIVE_MATCH"]),BOARD_CREATED:["_A","board","_BOARD_CONDITION?","is","created","BY_USER_FILTER?"],TEAM_CREATED:["_A","_TEAM","_TEAM_CONDITION?","is","created","BY_USER_FILTER?"],BOARD_VISIBILITY_CHANGED:["_A","board","is","made","_BOARD_VISIBILITY","BY_USER_FILTER?"],BOARD_REMOVED_FROM_TEAM:["_A","board","is","removed","from",i.or("ANY_TEAM","_NAMED_TEAM"),"BY_USER_FILTER?"],MEMBER_TYPE_ADMIN:["_AN?",i.or("admin","administrator")],MEMBER_TYPE_NORMAL:["_A?","normal","_USER"],MEMBER_TYPE_OBSERVER:["_AN?","observer"],BOARD_MEMBER_TYPE:i.or("MEMBER_TYPE_ADMIN","MEMBER_TYPE_NORMAL","MEMBER_TYPE_OBSERVER"),_AS_BOARD_MEMBER_TYPE:["as","BOARD_MEMBER_TYPE"],ENT_MEMBER_ADDED_TO_BOARD:["USER_FILTER","is","added","to","a","board","_AS_BOARD_MEMBER_TYPE?","BY_USER_FILTER?"],MEMBER_ADDED_TO_TEAM:["USER_FILTER","is","added","to",i.or("ANY_TEAM","_NAMED_TEAM"),"BY_USER_FILTER?"],UNCONFIRMED_TEAM_INVITATION_ISSUED:["_AN?","unconfirmed","invitation","is","added","to",i.or("ANY_TEAM","_NAMED_TEAM"),"BY_USER_FILTER?"],_POWERUP:i.or("power-up","powerup"),POWERUP_NEGATIVE_MATCH:"not",_POWERUP_NAME_LIST:["$POWERUP_NAME",i.optional(["or","_POWERUP_NAME_LIST"])],POWERUP_FILTER:["POWERUP_NEGATIVE_MATCH?","named","_POWERUP_NAME_LIST"],POWERUP_ENABLED:"enabled",POWERUP_DISABLED:"disabled",POWERUP_ENABLED_STATE_CHANGED:["_A","_POWERUP","POWERUP_FILTER?","is",i.or("POWERUP_ENABLED","POWERUP_DISABLED"),"BY_USER_FILTER?"],_THE_BOARD:[i.optional("the"),"board"],MOVE_BOARD_TO_TEAM_ACTION:["move","_THE_BOARD","to","_TEAM","$TEAM_NAME"],ADD_BOARD_TO_COLLECTION_ACTION:["add","_THE_BOARD","to","collection","$COLLECTION_NAME"],CHANGE_BOARD_VISIBILITY_ACTION:["make","_THE_BOARD",i.or("VISIBILITY_PUBLIC","VISIBILITY_PRIVATE","VISIBILITY_TEAM")],ALLOW:"allow",DO_NOT_ALLOW:[i.or("don't",["do","not"]),"allow"],ALLOW_TEAM_MEMBERS_TO_JOIN_ACTION:[i.or("ALLOW","DO_NOT_ALLOW"),"_TEAM","members","to","join","_THE_BOARD?"],CLOSE_BOARD_ACTION:[i.or("close","archive"),"_THE_BOARD"],REOPEN_BOARD_ACTION:[i.or("reopen","unarchive"),"_THE_BOARD"],RESTRICT_TEAM_MEMBERSHIP_ACTION:["restrict","_TEAM","membership","to","users","in","domain","$DOMAIN"],TEAM_MEMBERS:["_TEAM","members"],TEAM_ADMINS:["_TEAM",i.or("administrators","admins")],NOBODY:["nobody"],ANYBODY:["anybody"],RESTRICT_TEAM_BOARD_CREATION_ACTION:["restrict","_BOARD_VISIBILITY","board","creation",i.optional(["for","the","_TEAM"]),"to",i.or("TEAM_MEMBERS","TEAM_ADMINS","NOBODY")],RESTRICT_TEAM_BOARD_INVITATIONS_ACTION:["allow",i.or([i.optional("only"),"TEAM_MEMBERS"],"ANYBODY"),"to","be","invited",i.optional(["to",i.optional("the"),"boards",i.or("in","inside"),"the","_TEAM"])],ENABLE_POWERUP:"enable",DISABLE_POWERUP:"disable",THE_POWERUP:["the","_POWERUP"],CHANGE_POWERUP_ENABLED_STATE_ACTION:[i.or("ENABLE_POWERUP","DISABLE_POWERUP"),i.or("THE_POWERUP",["_POWERUP","$POWERUP_NAME"])],SET_BOARD_MEMBER_TYPE_ACTION:["make","the",i.or("member","user"),"BOARD_MEMBER_TYPE",i.optional(["of","the","board"])],REMOVE_MEMBER_FROM_BOARD_ACTION:["remove","the",i.or("member","user"),"from","the","board"],REMOVE_MEMBER_FROM_TEAM_ACTION:["remove","the",i.or("member","user"),"from","the","_TEAM"],REMOVE_UNCONFIRMED_TEAM_INVITATIONS_ACTION:["remove","all","the","unconfirmed","invitations","from","the","_TEAM"],DELETE_TEAM_ACTION:["delete","the","_TEAM"],ENTERPRISE_WHEN:["when",i.or("BOARD_CREATED","BOARD_VISIBILITY_CHANGED","BOARD_REMOVED_FROM_TEAM","ENT_MEMBER_ADDED_TO_BOARD","MEMBER_ADDED_TO_TEAM","UNCONFIRMED_TEAM_INVITATION_ISSUED","POWERUP_ENABLED_STATE_CHANGED","TEAM_CREATED")],ENTERPRISE_TRIGGER:["ENTERPRISE_WHEN"],ENTERPRISE_ACTION:i.or("MOVE_BOARD_TO_TEAM_ACTION","ADD_BOARD_TO_COLLECTION_ACTION","CHANGE_BOARD_VISIBILITY_ACTION","ALLOW_TEAM_MEMBERS_TO_JOIN_ACTION","CLOSE_BOARD_ACTION","REOPEN_BOARD_ACTION","CHANGE_POWERUP_ENABLED_STATE_ACTION","SET_BOARD_MEMBER_TYPE_ACTION","REMOVE_MEMBER_FROM_BOARD_ACTION","REMOVE_MEMBER_FROM_TEAM_ACTION","REMOVE_UNCONFIRMED_TEAM_INVITATIONS_ACTION","RESTRICT_TEAM_MEMBERSHIP_ACTION","RESTRICT_TEAM_BOARD_CREATION_ACTION","RESTRICT_TEAM_BOARD_INVITATIONS_ACTION","DELETE_TEAM_ACTION"),_ENTERPRISE_ACTION_LIST:[i.or("ENTERPRISE_ACTION=>ACTION","ACTION"),i.optional(["_AND?","_ENTERPRISE_ACTION_LIST"])],_ENTERPRISE_TRIGGERED_COMMAND:[i.or("ENTERPRISE_TRIGGER","TRIGGER"),"_COMMA","_ENTERPRISE_ACTION_LIST"],_ENTERPRISE_IMMEDIATE_COMMAND:["_ENTERPRISE_ACTION_LIST"],ENTERPRISE_COMMAND:[i.or("_ENTERPRISE_TRIGGERED_COMMAND","_ENTERPRISE_IMMEDIATE_COMMAND"),i.optional("."),"<END>"]}),a)},"./node_modules/@atlassian/butler-command-parser/lib/parse/correctParseResult.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.correctParseResult=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/globals/index.js"),a=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");function r(e,t,n){if(e.parse||e.halt_message||!t)return e;const i=function(t){return t.parse&&t.corrections.corrected_errors===e.corrections.corrected_errors+2},a=function(e,t){return e.parse?!t.parse||e.corrections.corrected_errors<t.corrections.corrected_errors:!t.parse&&e.corrections.corrected_errors<t.corrections.corrected_errors},o=e.hint;if(!o.expecting.length){const t=o.tokens.slice(0,o.at_token);return s(e,t,{})}if(o.at_token===o.tokens.length){if(!n)return e;const l=[];for(let t=0;t<o.expecting.length;++t){const n=o.tokens.concat(o.expecting[t]),i=s(e,n,{added_tokens:o.at_token});if(i.parse)return i;l.push(i)}let c=null;for(let e=0;e<l.length;++e){const s=r(l[e],t-1,n-1);if(i(s))return s;c&&!a(s,c)||(c=s)}return c}const l=function(e,t){const n=t.split("").sort(),i={};return e.forEach((function(e){const t=e.split("").sort();let a=0,r=0,s=0,o=0;for(;a<t.length&&r<n.length;)t[a]<n[r]?(++o,++a):t[a]>n[r]?(++o,++r):(++s,++a,++r);for(;a<t.length;)++o,++a;for(;r<n.length;)++o,++r;i[e]=s/(s+o)})),e.slice().sort((function(e,t){return i[t]-i[e]}))}(o.expecting.slice(),o.tokens[o.at_token]),c=[];for(let t=0;t<l.length;++t){const n=o.tokens.slice();n[o.at_token]=l[t];const i=s(e,n,{replaced_tokens:o.at_token});if(i.parse)return i;c.push(i)}const d=[];if(n)for(let t=0;t<o.expecting.length;++t){const n=o.tokens.slice();n.splice(o.at_token,0,o.expecting[t]);const i=s(e,n,{added_tokens:o.at_token});if(i.parse)return i;d.push(i)}let u=null;for(let e=0;e<c.length;++e){const s=r(c[e],t-1,n);if(i(s))return s;u&&!a(s,u)||(u=s)}for(let e=0;e<d.length;++e){const s=r(d[e],t-1,n-1);if(i(s))return s;u&&!a(s,u)||(u=s)}return u}function s(e,t,n){i.DEBUG&&i.Logger.info("CORRECTION",{corrected_errors:e.corrections.corrected_errors,tokens:t});const r={corrected_errors:e.corrections.corrected_errors+1,tokens:t.slice(),replaced_tokens:e.corrections.replaced_tokens,added_tokens:e.corrections.added_tokens};Object.keys(n).forEach((function(e){r[e]=r[e].concat(n[e])}));const s=a.parseTokens(t);return s.corrections=r,s}t.correctParseResult=function(e,t,n){return void 0===n&&(n=1),void 0===t&&(t=1),e.corrections={corrected_errors:0,tokens:e.hint?e.hint.tokens:[],replaced_tokens:[],added_tokens:[]},r(e,t,n)}},"./node_modules/@atlassian/butler-command-parser/lib/parse/flatten.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=void 0;const a=i(n("./node_modules/assert/assert.js")),r=n("./node_modules/@atlassian/butler-command-parser/lib/globals/index.js"),s=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");t.flatten=function e(t,n){switch(typeof t){case"string":case"number":return t;case"object":{if(Array.isArray(t)){if(-1!==t.indexOf("__⤣"))return function(e,t){const n=[];for(;;){const i=e.indexOf(t);if(-1===i)return n.push(e),n;n.push(e.slice(0,i)),e=e.slice(i+1)}}(t,"__⤣").map((function(t){return e(t,n)}));const i={};let a=0;if(t.forEach((function(t){const s=e(t,n);if(r.DEBUG&&r.Logger.info("flatten array item",{left_symbol:n,branch:t,flat_branch:s}),"object"==typeof s)for(const e in s)i[e]=(i[e]||[]).concat(s[e]),++a})),!a)return!0;for(const e in i)if("ACTION"!==e&&"CONDITION"!==e&&1===i[e].length&&(i[e]=i[e][0]),"ACTION"===e||"CONDITION"===e)i[e].forEach((e=>{e.type=Object.keys(e)[0]}));else if("TRIGGER"===e){const t=Object.keys(i[e])[0];i[e].type=t;const n=i[e][t];"object"==typeof n&&(n.type=Object.keys(n)[0])}return i}const i=Object.keys(t);a.default(1===i.length&&(s.isSymbol(i[0])||s.isStringVariable(i[0])||s.isVariableName(i[0])||s.isAtMention(i[0])),"Expecting one symbol and only one symbol as key for object: "+JSON.stringify(t));const o=i[0];let l=e(t[o],o);if(r.DEBUG&&r.Logger.info("flatten object value",{left_symbol:n,parse_tree_key:t[o],value:l}),o===n||s.isHiddenSymbol(o))return l;const c={};return"string"==typeof l&&(s.isStringValue(l)?l=l.slice(1,-1):s.isAtMentionValue(l)&&(l=l.slice(1))),c[o]=l,c}default:return a.default(!1,"Unexpected branch type: "+JSON.stringify(t)),!0}}},"./node_modules/@atlassian/butler-command-parser/lib/parse/grammarFunctions.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.swappable=t.enum_value=t.or_index=t.or=t.hidden=t.optional=t.make_sibling=t.decimal=t.small_numeral=t.ordinal=t.timezone=t.year=t.numeric_date=t.time=t.trap=void 0;const a=i(n("./node_modules/assert/assert.js")),r=n("./node_modules/@atlassian/butler-command-parser/lib/types/MaybeArray.js"),s=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");t.trap=function(e,t){return a.default(2===arguments.length),{parse:(n,i,a)=>r.normalizeArray(e).every((function(e){return"!"!==e[0]?-1!==i.indexOf(e):-1===i.indexOf(e.slice(1))}))?a(n,null,t):"_"}},t.time=function(){return{parse:(e,t,n)=>{const i=s.parseTime(e);return i||n(e,"a time, e.g. 8:30am")}}},t.numeric_date=function(){return{parse:(e,t,n)=>{const i=s.parseNumericDate(e);return i||n(e,"a date in numeric format, e.g. 07/29/2016")}}},t.year=function(){return{parse:(e,t,n)=>{const i=s.parseYear(e);return i||n(e,"a year, e.g. 2016")}}},t.timezone=function(){return{parse:(e,t,n)=>{const i=s.parseTimezone(e);return i||n(e,"a timezone (check out [this Trello card](https://trello.com/c/7Qd0SKIe/41-timezones) for examples)")}}},t.ordinal=function(e,t,n){return{parse:(i,a,r)=>{const o=s.parseOrdinal(i);return null===o?r(i,e||"an ordinal number, e.g. third"):"number"==typeof t&&o<t?r(i,e||"a larger ordinal number"):"number"==typeof n&&o>n?r(i,e||"a smaller ordinal number"):o}}},t.small_numeral=function(e,t,n,i){return{parse:(a,r,o)=>{const l=s.parseSmallNumeral(a,t);return null===l?o(a,e||"a number"):"number"==typeof n&&l<n?o(a,e||"a number larger than or equal to "+n):"number"==typeof i&&l>i?o(a,e||"a number smaller than or equal to "+i):l}}},t.decimal=function(e,t,n,i){return{parse:(a,r,o)=>{const l=s.parseDecimal(a,t);return null===l?o(a,e||"a decimal number"):"number"==typeof n&&l<n?o(a,e||"a number larger than or equal to "+n):"number"==typeof i&&l>i?o(a,e||"a number smaller than or equal to "+i):l}}};t.make_sibling=()=>({parse:()=>"__⤣"}),t.optional=function(e){return a.default(1===arguments.length),{parse:(t,n,i)=>{const a=t.slice(),r=n.slice(),o=s.parser(a,e,r,i);return null===o?"_":(t.splice(0,t.length-a.length),n.push(...r.slice(n.length)),o)}}},t.hidden=function(e){return a.default(1===arguments.length),{parse:(t,n,i)=>s.parser(t,e,n,(function(e){return i(e)}))}},t.or=function(...e){const t=[...e];return{parse:(e,n,i)=>{for(let a=0;a<t.length;++a){const r=e.slice(),o=n.slice(),l=s.parser(r,t[a],o,i);if(null!=l)return e.splice(0,e.length-r.length),n.push(...o.slice(n.length)),l}return null}}},t.or_index=function(...e){const t=[...e];return{parse:(e,n,i)=>{for(let a=0;a<t.length;++a){const r=e.slice(),o=n.slice();if(s.parser(r,t[a],o,i))return e.splice(0,e.length-r.length),n.push(...o.slice(n.length)),a}return null}}},t.enum_value=function(...e){const t=[...e];return{parse:(e,n,i)=>{for(const a of t){const t=e.slice(),r=n.slice();if(s.parser(t,a,r,i))return e.splice(0,e.length-t.length),n.push(...r.slice(n.length)),a}return null}}},t.swappable=function(e,t,n){return{parse:(i,r,o)=>{a.default(!("string"==typeof e&&s.isOptional(e)||"function"==typeof e.parse&&"optional"===e.parse.name),"Setting the first argument in a swappable as optional prevents the swap from being accepted.");let l=i.slice(),c=r.slice(),d=s.parser(l,e,c,o),u=n?s.parser(l,n,c,o):[],p=s.parser(l,t,c,o);return d&&p&&u?(i.splice(0,i.length-l.length),r.push(...c.slice(r.length)),[].concat(d,p,u)):(l=i.slice(),c=r.slice(),u=s.parser(l,t,c,o),p=n?s.parser(l,n,c,o):[],d=s.parser(l,e,c,o),u&&p&&d?(i.splice(0,i.length-l.length),r.push(...c.slice(r.length)),[].concat(u,p,d)):null)}}}},"./node_modules/@atlassian/butler-command-parser/lib/parse/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInlineDate=t.parseEnterpriseCommand=t.parseCondition=t.parseCommand=t.getTimezoneName=t.correctParseResult=void 0;var i=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");Object.defineProperty(t,"correctParseResult",{enumerable:!0,get:function(){return i.correctParseResult}}),Object.defineProperty(t,"getTimezoneName",{enumerable:!0,get:function(){return i.getTimezoneName}}),Object.defineProperty(t,"parseCommand",{enumerable:!0,get:function(){return i.parseCommand}}),Object.defineProperty(t,"parseCondition",{enumerable:!0,get:function(){return i.parseCondition}}),Object.defineProperty(t,"parseEnterpriseCommand",{enumerable:!0,get:function(){return i.parseEnterpriseCommand}}),Object.defineProperty(t,"parseInlineDate",{enumerable:!0,get:function(){return i.parseInlineDate}})},"./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeIndices=t.tokenize=t.isVariableNameValue=t.isVariableName=t.isTerminal=t.isSymbol=t.isStringVariable=t.isStringValue=t.isOptional=t.isInlineEnd=t.isHiddenSymbol=t.isEnd=t.isAtMentionVariableValue=t.isAtMentionValue=t.isAtMention=t.getOptional=t.parseTokens=t.parseYear=t.parseTimezone=t.parseTime=t.parseNumericDate=t.getTimezoneName=t.parser=t.parseDecimal=t.parseSmallNumeral=t.parseOrdinal=t.parseInlineDate=t.parseEnterpriseCommand=t.parseCondition=t.parseCommand=t.year=t.trap=t.timezone=t.time=t.swappable=t.small_numeral=t.ordinal=t.or=t.or_index=t.optional=t.numeric_date=t.make_sibling=t.hidden=t.enum_value=t.decimal=t.flatten=t.correctParseResult=t.getCommandGrammar=void 0;var i=n("./node_modules/@atlassian/butler-command-parser/lib/parse/commandGrammar.js");Object.defineProperty(t,"getCommandGrammar",{enumerable:!0,get:function(){return i.getCommandGrammar}});var a=n("./node_modules/@atlassian/butler-command-parser/lib/parse/correctParseResult.js");Object.defineProperty(t,"correctParseResult",{enumerable:!0,get:function(){return a.correctParseResult}});var r=n("./node_modules/@atlassian/butler-command-parser/lib/parse/flatten.js");Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return r.flatten}});var s=n("./node_modules/@atlassian/butler-command-parser/lib/parse/grammarFunctions.js");Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return s.decimal}}),Object.defineProperty(t,"enum_value",{enumerable:!0,get:function(){return s.enum_value}}),Object.defineProperty(t,"hidden",{enumerable:!0,get:function(){return s.hidden}}),Object.defineProperty(t,"make_sibling",{enumerable:!0,get:function(){return s.make_sibling}}),Object.defineProperty(t,"numeric_date",{enumerable:!0,get:function(){return s.numeric_date}}),Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return s.optional}}),Object.defineProperty(t,"or_index",{enumerable:!0,get:function(){return s.or_index}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return s.or}}),Object.defineProperty(t,"ordinal",{enumerable:!0,get:function(){return s.ordinal}}),Object.defineProperty(t,"small_numeral",{enumerable:!0,get:function(){return s.small_numeral}}),Object.defineProperty(t,"swappable",{enumerable:!0,get:function(){return s.swappable}}),Object.defineProperty(t,"time",{enumerable:!0,get:function(){return s.time}}),Object.defineProperty(t,"timezone",{enumerable:!0,get:function(){return s.timezone}}),Object.defineProperty(t,"trap",{enumerable:!0,get:function(){return s.trap}}),Object.defineProperty(t,"year",{enumerable:!0,get:function(){return s.year}});var o=n("./node_modules/@atlassian/butler-command-parser/lib/parse/parseCommand.js");Object.defineProperty(t,"parseCommand",{enumerable:!0,get:function(){return o.parseCommand}}),Object.defineProperty(t,"parseCondition",{enumerable:!0,get:function(){return o.parseCondition}}),Object.defineProperty(t,"parseEnterpriseCommand",{enumerable:!0,get:function(){return o.parseEnterpriseCommand}});var l=n("./node_modules/@atlassian/butler-command-parser/lib/parse/parseInlineDate.js");Object.defineProperty(t,"parseInlineDate",{enumerable:!0,get:function(){return l.parseInlineDate}});var c=n("./node_modules/@atlassian/butler-command-parser/lib/parse/parseNumber.js");Object.defineProperty(t,"parseOrdinal",{enumerable:!0,get:function(){return c.parseOrdinal}}),Object.defineProperty(t,"parseSmallNumeral",{enumerable:!0,get:function(){return c.parseSmallNumeral}}),Object.defineProperty(t,"parseDecimal",{enumerable:!0,get:function(){return c.parseDecimal}});var d=n("./node_modules/@atlassian/butler-command-parser/lib/parse/parser.js");Object.defineProperty(t,"parser",{enumerable:!0,get:function(){return d.parser}});var u=n("./node_modules/@atlassian/butler-command-parser/lib/parse/parseTime.js");Object.defineProperty(t,"getTimezoneName",{enumerable:!0,get:function(){return u.getTimezoneName}}),Object.defineProperty(t,"parseNumericDate",{enumerable:!0,get:function(){return u.parseNumericDate}}),Object.defineProperty(t,"parseTime",{enumerable:!0,get:function(){return u.parseTime}}),Object.defineProperty(t,"parseTimezone",{enumerable:!0,get:function(){return u.parseTimezone}}),Object.defineProperty(t,"parseYear",{enumerable:!0,get:function(){return u.parseYear}});var p=n("./node_modules/@atlassian/butler-command-parser/lib/parse/parseTokens.js");Object.defineProperty(t,"parseTokens",{enumerable:!0,get:function(){return p.parseTokens}});var m=n("./node_modules/@atlassian/butler-command-parser/lib/parse/stringMatchers.js");Object.defineProperty(t,"getOptional",{enumerable:!0,get:function(){return m.getOptional}}),Object.defineProperty(t,"isAtMention",{enumerable:!0,get:function(){return m.isAtMention}}),Object.defineProperty(t,"isAtMentionValue",{enumerable:!0,get:function(){return m.isAtMentionValue}}),Object.defineProperty(t,"isAtMentionVariableValue",{enumerable:!0,get:function(){return m.isAtMentionVariableValue}}),Object.defineProperty(t,"isEnd",{enumerable:!0,get:function(){return m.isEnd}}),Object.defineProperty(t,"isHiddenSymbol",{enumerable:!0,get:function(){return m.isHiddenSymbol}}),Object.defineProperty(t,"isInlineEnd",{enumerable:!0,get:function(){return m.isInlineEnd}}),Object.defineProperty(t,"isOptional",{enumerable:!0,get:function(){return m.isOptional}}),Object.defineProperty(t,"isStringValue",{enumerable:!0,get:function(){return m.isStringValue}}),Object.defineProperty(t,"isStringVariable",{enumerable:!0,get:function(){return m.isStringVariable}}),Object.defineProperty(t,"isSymbol",{enumerable:!0,get:function(){return m.isSymbol}}),Object.defineProperty(t,"isTerminal",{enumerable:!0,get:function(){return m.isTerminal}}),Object.defineProperty(t,"isVariableName",{enumerable:!0,get:function(){return m.isVariableName}}),Object.defineProperty(t,"isVariableNameValue",{enumerable:!0,get:function(){return m.isVariableNameValue}});var h=n("./node_modules/@atlassian/butler-command-parser/lib/parse/tokenize.js");Object.defineProperty(t,"tokenize",{enumerable:!0,get:function(){return h.tokenize}}),Object.defineProperty(t,"tokenizeIndices",{enumerable:!0,get:function(){return h.tokenizeIndices}})},"./node_modules/@atlassian/butler-command-parser/lib/parse/parseCommand.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnterpriseCommand=t.parseCondition=t.parseCommand=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");t.parseCommand=(e,t)=>i.parseTokens(i.tokenize(e),t);t.parseCondition=e=>t.parseCommand(e,"CONDITION_LIST");t.parseEnterpriseCommand=e=>t.parseCommand(e,"ENTERPRISE_COMMAND")},"./node_modules/@atlassian/butler-command-parser/lib/parse/parseInlineDate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInlineDate=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");t.parseInlineDate=function(e,t={}){var n,a,r;const s=i.tokenize(e),o=i.tokenize((null==t?void 0:t.after)||"");for(let l=0;l<s.length;++l){if(o.some(((e,t)=>s[l+t]!==e))){if(null==t?void 0:t.at_start)break;continue}const c=i.parseTokens(s.slice(l+o.length),(null==t?void 0:t.at_end)?"END_DATE_TIME":"INLINE_DATE_TIME");if(null==c?void 0:c.parse){const t=i.tokenizeIndices(e).slice(l,c.extra_tokens?-c.extra_tokens.length:void 0);return c.match={source_text:e,matched_text:e.slice(null===(n=t[0])||void 0===n?void 0:n.from,null===(a=t.slice(-1)[0])||void 0===a?void 0:a.to),match_pos:null===(r=t[0])||void 0===r?void 0:r.from},c}if(null==t?void 0:t.at_start)break}return{}}},"./node_modules/@atlassian/butler-command-parser/lib/parse/parseNumber.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDecimal=t.parseSmallNumeral=t.parseOrdinal=void 0;const i={"1st":1,first:1,"2nd":2,second:2,"3rd":3,third:3,"4th":4,fourth:4,"5th":5,fifth:5,"6th":6,sixth:6,"7th":7,seventh:7,"8th":8,eighth:8,"9th":9,ninth:9,"10th":10,tenth:10,"11th":11,eleventh:11,"12th":12,twelfth:12,"13th":13,thirteenth:13,"14th":14,fourteenth:14,"15th":15,fifteenth:15,"16th":16,sixteenth:16,"17th":17,seventeenth:17,"18th":18,eighteenth:18,"19th":19,nineteenth:19,"20th":20,twentieth:20,"21st":21,"twenty-first":21,twentyfirst:21,"22nd":22,"twenty-second":22,twentysecond:22,"23rd":23,"twenty-third":23,twentythird:23,"24th":24,"twenty-fourth":24,twentyfourth:24,"25th":25,"twenty-fifth":25,twentyfifth:25,"26th":26,"twenty-sixth":26,twentysixth:26,"27th":27,"twenty-seventh":27,twentyseventh:27,"28th":28,"twenty-eighth":28,twentyeighth:28,"29th":29,"twenty-ninth":29,twentyninth:29,"30th":30,thirtieth:30,"31st":31,"thirty-first":31,thirtyfirst:31};t.parseOrdinal=function(e){const t=i[e[0]];return t?(e.shift(),t):null};const a={zero:0,one:1,a:1,an:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,"twenty-one":21,twentyone:21,"twenty-two":22,twentytwo:22,"twenty-three":23,twentythree:23,"twenty-four":24,twentyfour:24,"twenty-five":25,twentyfive:25,"twenty-six":26,twentysix:26,"twenty-seven":27,twentyseven:27,"twenty-eight":28,twentyeight:28,"twenty-nine":29,twentynine:29,thirty:30,sixty:60,ninety:90};t.parseSmallNumeral=function(e,t=!1){let n=a[e[0]];if(void 0===n)try{if(n=parseInt(e[0]),Number.isNaN(n)||!e[0].match(/^[+-]?\d+$/))return null;if(n<0&&!t)return null}catch(e){return null}return e.shift(),n},t.parseDecimal=function(e,t=!1){let n;try{if(n=parseFloat(e[0]),Number.isNaN(n)||!e[0].match(/^[+-]?\d+(?:\.\d+)?$/))return null;if(n<0&&!t)return null}catch(e){return null}return e.shift(),n}},"./node_modules/@atlassian/butler-command-parser/lib/parse/parseTime.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseYear=t.parseNumericDate=t.getTimezoneName=t.parseTimezone=t.parseTime=void 0;const a=i(n("./node_modules/@atlassian/butler-command-parser/lib/parse/tz_lookup.json")),r={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};function s(e){if(e.length){let t=a.default[e[0]];if(t)return e.shift(),t;if(e.length>1&&(t=a.default[`${e[0]}_${e[1]}`],t))return e.splice(0,2),t}return null}t.parseTime=function(e){let t=0,n=!1;"at"!==e[0]&&"@"!==e[0]||(n=!0,++t);const i=[],a=e[t]||"",o=a.match(/^(@)?(0?[0-9]|1[0-9]|2[0-3])(:[0-5][0-9])?([ap]m)?$/)||a.match(/^(@)?(0?[0-9]|1[0-9]|2[0-3])(\.[0-5][0-9])([ap]m)$/);if(o){if(++t,o[1]&&(n=!0),i.push({HOUR:parseInt(o[2])}),o[3]&&(i.push({MINUTES:parseInt(o[3].slice(1))}),n=!0),"am"===o[4]?(i.push({AM:"am"}),n=!0):"pm"===o[4]?(i.push({PM:"pm"}),n=!0):"am"===e[t]?(i.push({AM:"am"}),n=!0,++t):"pm"===e[t]&&(i.push({PM:"pm"}),n=!0,++t),!n)return null}else{if(!(a in r))return null;if(++t,i.push({HOUR:r[a]}),"am"===e[t]?(i.push({AM:"am"}),n=!0,++t):"pm"===e[t]&&(i.push({PM:"pm"}),n=!0,++t),!n)return null}e.splice(0,t);const l=s(e);return l&&i.push({TZ:l}),i},t.parseTimezone=s,t.getTimezoneName=function(e){return a.default[e.toLowerCase()]},t.parseNumericDate=function(e){const t=e[0]||"";let n=t.match(/^(0?[1-9]|1[0-9]|2[0-9]|3[0-1])[/.-](0?[1-9]|1[0-9]|2[0-9]|3[0-1])(?:[/.-]((?:19|20)?[0-9][0-9]))?$/);if(n){const t=parseInt(n[1]),i=parseInt(n[2]);let a=n[3]?parseInt(n[3]):void 0;if(t<=12||i<=12){e.shift();const n=[{MONTH_OR_DAY:t},{DAY_OR_MONTH:i}];return a&&(a<100&&(a+=2e3),n.push({YEAR:a})),n}}else if(n=t.match(/^((?:19|20)[0-9][0-9])[/.-]([1-9]|0[1-9]|1[0-2])[/.-](0?[1-9]|1[0-9]|2[0-9]|3[0-1])$/),n)return e.shift(),[{YEAR:parseInt(n[1])},{MONTH:parseInt(n[2])},{DAY:parseInt(n[3])}];return null},t.parseYear=function(e){const t=(e[0]||"").match(/^((?:19|20)?[0-9][0-9])?$/);if(t){e.shift();let n=parseInt(t[1]);return n<100&&(n+=2e3),n}return null}},"./node_modules/@atlassian/butler-command-parser/lib/parse/parseTokens.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTokens=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/globals/index.js"),a=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");t.parseTokens=function(e,t="COMMAND"){const n={tokens_left:1/0,expecting:[],halt_message:void 0},r=a.parser(e,t,[],(function(e,t,a){return i.DEBUG&&(a?i.Logger.info("!halt",{numTokens:e.length,message:a}):i.Logger.info("!stall",{numTokens:e.length,expecting:t})),e.length<n.tokens_left||e.length===n.tokens_left&&a?(n.tokens_left=e.length,n.expecting=t?[t]:[],n.halt_message=a):e.length===n.tokens_left&&t&&-1===n.expecting.indexOf(t)&&n.expecting.push(t),null}));if(!r)return{parse:null,hint:{expecting:n.expecting,tokens:e,at_token:e.length-n.tokens_left},halt_message:n.halt_message};i.DEBUG&&i.Logger.info("parse_tree",{parse_tree:r});const s={parse:a.flatten(r)[t]};return e.length&&(s.extra_tokens=e),s}},"./node_modules/@atlassian/butler-command-parser/lib/parse/parser.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parser=void 0;const a=i(n("./node_modules/assert/assert.js")),r=n("./node_modules/@atlassian/butler-command-parser/lib/globals/index.js"),s=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js");function o(e){return`(${e.join(", ")})`}function l(e){switch(typeof e){case"string":return e;case"object":return Array.isArray(e)?`[${e.map((function(e){return l(e)})).join(", ")}]`:"function"==typeof e.parse?e.parse.name+"()":`expecting_function(${JSON.stringify(e)})`;default:return`invalid_type_for_rule(${JSON.stringify(e)})`}}t.parser=function e(t,n,i,c){switch(r.DEBUG&&r.Logger.info("parser",{numTokens:t.length,firstToken:t.length&&t[0],seen:o(i),rule:l(n)}),typeof n){case"string":{if(s.isEnd(n))return t.length?c(t,null):n;if(s.isInlineEnd(n))return n;if(s.isOptional(n))return s.optional(s.getOptional(n)).parse(t,i,c);if(s.isStringVariable(n)){if(!t[0]||'"'!==t[0][0])return c(t,'quoted text, e.g. "Name"');const e={};return e[n]=t.shift(),e}if(s.isVariableName(n)){if(!t[0]||!s.isVariableNameValue(t[0]))return c(t,"a variable name, e.g. {{name}}");const e={};return e[n.slice(1,-1)]=t.shift(),e}if(s.isAtMention(n)){if(!t[0]||"@"!==t[0][0])return c(t,"a mention, e.g. @username");const e={};return e[n]=t.shift(),e}if(s.isTerminal(n))return t[0]===n?t.shift():c(t,n);const d=function(e,t,n){const i=e.split(t);return n&&n<i.length?i.slice(0,n).concat([i.slice(n).join(t)]):i}(n,"?",1);if(d.length>1){const o=d[0],l=function(e,t,n){const i=e.split(t);return n&&n<i.length?[i.slice(0,-n).join(t)].concat(i.slice(-n)):i}(d[1],":"),u=l[0],p=l[1];a.default(s.isSymbol(o),`Not a symbol: ${o} in conditional ${n}`);const m=-1!==i.indexOf(o);return r.DEBUG&&r.Logger.info("conditional",{rule:n,found:m}),m?e(t,u,i,c):p?e(t,p,i,c):null}let u;const p=n.split("=>");if(2===p.length&&s.isSymbol(p[0])&&s.isSymbol(p[1])?(u=p[1],n=s.getCommandGrammar()[p[0]]):(a.default(s.isSymbol(n),"Not a symbol: "+n),u=n,n=s.getCommandGrammar()[u]),!n)return a.default(!1,`Symbol '${u}' not found.`),null;const m={};return m[u]=e(t,n,i,c),null===m[u]?(r.DEBUG&&r.Logger.info("-prune",{numTokens:t.length,firstToken:t.length&&t[0],seen:o(i),symbol:u,rule:l(n)}),null):(r.DEBUG&&r.Logger.info("+accept",{numTokens:t.length,firstToken:t.length&&t[0],seen:o(i),symbol:u,rule:l(n)}),i.push(u),m)}case"object":if(Array.isArray(n)){const a=t.slice(),r=i.slice(),s=[];for(let t=0;t<n.length;++t){const i=e(a,n[t],r,c);if(null===i)return null;s.push(i)}return t.splice(0,t.length-a.length),i.push(...r.slice(i.length)),s}return a.default("function"==typeof n.parse,"Cannot handle rule: "+JSON.stringify(n)),n.parse(t,i,c);default:return a.default(!1,"Cannot handle rule: "+JSON.stringify(n)),c(t,"(internal error)")}}},"./node_modules/@atlassian/butler-command-parser/lib/parse/stringMatchers.js":function(e,t,n){"use strict";function i(e){return null!=e.match(/^\$[A-Z_]+\??$/)}function a(e){return null!=e.match(/^{[A-Z_]+}$/)}function r(e){return null!=e.match(/^@[A-Z_]+\??$/)}function s(e){return!(o(e)||function(e){return null!=e.match(/^[A-Z_][A-Z_?:]*\??$/)}(e)||function(e){const t=e.split("=>");return 2===t.length&&o(t[0])&&o(t[1])}(e)||i(e)||a(e)||r(e))}function o(e){return null!=e.match(/^[A-Z_]+\??$/)}Object.defineProperty(t,"__esModule",{value:!0}),t.isAtMentionVariableValue=t.isVariableNameValue=t.isAtMentionValue=t.isStringValue=t.isHiddenSymbol=t.isSymbol=t.getOptional=t.isOptional=t.isTerminal=t.isAtMention=t.isVariableName=t.isStringVariable=t.isInlineEnd=t.isEnd=void 0,t.isEnd=function(e){return"<END>"===e},t.isInlineEnd=function(e){return"<INLINE_END>"===e},t.isStringVariable=i,t.isVariableName=a,t.isAtMention=r,t.isTerminal=s,t.isOptional=function(e){return!s(e)&&"?"===e.slice(-1)},t.getOptional=function(e){return e.slice(0,-1)},t.isSymbol=o,t.isHiddenSymbol=function(e){return o(e)&&"_"===e[0]},t.isStringValue=function(e){return'"'===e[0]&&'"'===e[e.length-1]},t.isAtMentionValue=function(e){return null!=e.match(/^@.*$/)},t.isVariableNameValue=function(e){return null!=e.match(/^{{[#%]?[a-zA-Z0-9_+-]+}}$|^{\$?[a-zA-Z0-9_+-]+}$/)},t.isAtMentionVariableValue=function(e){return null!=e.match(/^@{.*}$/)}},"./node_modules/@atlassian/butler-command-parser/lib/parse/tokenize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeIndices=t.tokenize=void 0;const i=n("./node_modules/@atlassian/butler-command-parser/lib/parse/internal.js"),a=(e,t)=>e.concat(t);function r(e,...t){let n=[e];return t.forEach((e=>{n=Array.prototype.concat.apply([],n.map((t=>t.split(e).reduce(((n,i,a)=>(a&&n.push(e),t.length&&n.push(i),n)),[]))))})),n}t.tokenize=function(e){return e?e.replace(/\\"/g,"__QUOTE__").replace(/\.(\d)/g,"__DECIMAL__$1").split(/["“”]/).map(((e,t)=>t%2?[`"${e}"`]:r(e,",",".","(",")").map((e=>e.split(/\s/).filter(Boolean).map((e=>i.isVariableNameValue(e)||i.isAtMentionVariableValue(e)?e:e.toLowerCase())))).reduce(a,[]))).reduce(a,[]).map((e=>e.replace(/__QUOTE__/gi,'"').replace(/__DECIMAL__/gi,"."))):[]},t.tokenizeIndices=function(e){let t=0;return e.replace(/\\"/g,"__").replace(/\.(\d)/g,"_$1").split(/["“”]/).map(((e,n)=>n%2?{from:t,to:t+=e.length+2}:r(e,",",".","(",")").map((e=>e.split(/\s/).map(((e,n,i)=>{const a=t;return t+=e.length+(n!==i.length-1?1:0),e.length?{from:a,to:a+e.length}:null})).filter(Boolean))).reduce(a,[]))).reduce(a,[])}},"./node_modules/@atlassian/butler-command-parser/lib/parse/tz_lookup.json":function(e,t){e.exports={british:"Europe/London",bst:"Europe/London",cest:"Europe/Brussels",mesz:"Europe/Brussels",cet:"Europe/Brussels",mez:"Europe/Brussels",eest:"Europe/Athens",oesz:"Europe/Athens",eet:"Europe/Athens",oez:"Europe/Athens",fet:"Europe/Minsk",gmt:"Europe/London",irish:"Europe/Dublin",ireland:"Europe/Dublin",msd:"Europe/Moscow",msk:"Europe/Moscow",samt:"Europe/Samara",west:"Europe/Lisbon",wet:"Europe/Lisbon",atlantic:"America/Halifax",at:"America/Halifax",adt:"America/Halifax",haa:"America/Halifax",ast:"America/Halifax",hna:"America/Halifax",alaska:"America/Anchorage",akdt:"America/Anchorage",akst:"America/Anchorage",central:"America/Chicago",ct:"America/Chicago",cdt:"America/Chicago",hac:"America/Chicago",cst:"America/Chicago",hnc:"America/Chicago",eastern:"America/New_York",et:"America/New_York",edt:"America/New_York",hae:"America/New_York",est:"America/New_York",hne:"America/New_York",hawaii:"America/Adak",hadt:"America/Adak",hast:"America/Adak",mountain:"America/Denver",mt:"America/Denver",mdt:"America/Denver",har:"America/Denver",mst:"America/Denver",hnr:"America/Denver",arizona:"America/Phoenix",ndt:"America/St_Johns",nst:"America/St_Johns",pacific:"America/Los_Angeles",pt:"America/Los_Angeles",pdt:"America/Los_Angeles",hap:"America/Los_Angeles",pst:"America/Los_Angeles",hnp:"America/Los_Angeles",pmdt:"America/Miquelon",pmst:"America/Miquelon",wgst:"America/Godthab",wgt:"America/Godthab",act:"Australia/Adelaide",acdt:"Australia/Adelaide",acst:"Australia/Adelaide",acwst:"Australia/Eucla",aet:"Australia/Sydney",aedt:"Australia/Sydney",aest:"Australia/Sydney",awdt:"Australia/Perth",awst:"Australia/Perth",lhdt:"Australia/Lord_Howe",lhst:"Australia/Lord_Howe",sast:"Africa/Johannesburg","africa/abidjan":"Africa/Abidjan",abidjan:"Africa/Abidjan","africa/accra":"Africa/Accra",accra:"Africa/Accra","africa/algiers":"Africa/Algiers",algiers:"Africa/Algiers","africa/bissau":"Africa/Bissau",bissau:"Africa/Bissau","africa/cairo":"Africa/Cairo",cairo:"Africa/Cairo","africa/casablanca":"Africa/Casablanca",casablanca:"Africa/Casablanca","africa/ceuta":"Africa/Ceuta",ceuta:"Africa/Ceuta","africa/el_aaiun":"Africa/El_Aaiun",el_aaiun:"Africa/El_Aaiun","africa/johannesburg":"Africa/Johannesburg",johannesburg:"Africa/Johannesburg","africa/khartoum":"Africa/Khartoum",khartoum:"Africa/Khartoum","africa/lagos":"Africa/Lagos",lagos:"Africa/Lagos","africa/maputo":"Africa/Maputo",maputo:"Africa/Maputo","africa/monrovia":"Africa/Monrovia",monrovia:"Africa/Monrovia","africa/nairobi":"Africa/Nairobi",nairobi:"Africa/Nairobi","africa/ndjamena":"Africa/Ndjamena",ndjamena:"Africa/Ndjamena","africa/tripoli":"Africa/Tripoli",tripoli:"Africa/Tripoli","africa/tunis":"Africa/Tunis",tunis:"Africa/Tunis","africa/windhoek":"Africa/Windhoek",windhoek:"Africa/Windhoek","america/adak":"America/Adak",adak:"America/Adak","america/anchorage":"America/Anchorage",anchorage:"America/Anchorage","america/araguaina":"America/Araguaina",araguaina:"America/Araguaina","america/argentina/buenos_aires":"America/Argentina/Buenos_Aires",buenos_aires:"America/Argentina/Buenos_Aires","america/argentina/catamarca":"America/Argentina/Catamarca",catamarca:"America/Argentina/Catamarca","america/argentina/cordoba":"America/Argentina/Cordoba",cordoba:"America/Argentina/Cordoba","america/argentina/jujuy":"America/Argentina/Jujuy",jujuy:"America/Argentina/Jujuy","america/argentina/la_rioja":"America/Argentina/La_Rioja",la_rioja:"America/Argentina/La_Rioja","america/argentina/mendoza":"America/Argentina/Mendoza",mendoza:"America/Argentina/Mendoza","america/argentina/rio_gallegos":"America/Argentina/Rio_Gallegos",rio_gallegos:"America/Argentina/Rio_Gallegos","america/argentina/salta":"America/Argentina/Salta",salta:"America/Argentina/Salta","america/argentina/san_juan":"America/Argentina/San_Juan",san_juan:"America/Argentina/San_Juan","america/argentina/san_luis":"America/Argentina/San_Luis",san_luis:"America/Argentina/San_Luis","america/argentina/tucuman":"America/Argentina/Tucuman",tucuman:"America/Argentina/Tucuman","america/argentina/ushuaia":"America/Argentina/Ushuaia",ushuaia:"America/Argentina/Ushuaia","america/asuncion":"America/Asuncion",asuncion:"America/Asuncion","america/atikokan":"America/Atikokan",atikokan:"America/Atikokan","america/bahia":"America/Bahia",bahia:"America/Bahia","america/bahia_banderas":"America/Bahia_Banderas",bahia_banderas:"America/Bahia_Banderas","america/barbados":"America/Barbados",barbados:"America/Barbados","america/belem":"America/Belem",belem:"America/Belem","america/belize":"America/Belize",belize:"America/Belize","america/blanc-sablon":"America/Blanc-Sablon","blanc-sablon":"America/Blanc-Sablon","america/boa_vista":"America/Boa_Vista",boa_vista:"America/Boa_Vista","america/bogota":"America/Bogota",bogota:"America/Bogota","america/boise":"America/Boise",boise:"America/Boise","america/cambridge_bay":"America/Cambridge_Bay",cambridge_bay:"America/Cambridge_Bay","america/campo_grande":"America/Campo_Grande",campo_grande:"America/Campo_Grande","america/cancun":"America/Cancun",cancun:"America/Cancun","america/caracas":"America/Caracas",caracas:"America/Caracas","america/cayenne":"America/Cayenne",cayenne:"America/Cayenne","america/chicago":"America/Chicago",chicago:"America/Chicago","america/chihuahua":"America/Chihuahua",chihuahua:"America/Chihuahua","america/costa_rica":"America/Costa_Rica",costa_rica:"America/Costa_Rica","america/creston":"America/Creston",creston:"America/Creston","america/cuiaba":"America/Cuiaba",cuiaba:"America/Cuiaba","america/curacao":"America/Curacao",curacao:"America/Curacao","america/danmarkshavn":"America/Danmarkshavn",danmarkshavn:"America/Danmarkshavn","america/dawson":"America/Dawson",dawson:"America/Dawson","america/dawson_creek":"America/Dawson_Creek",dawson_creek:"America/Dawson_Creek","america/denver":"America/Denver",denver:"America/Denver","america/detroit":"America/Detroit",detroit:"America/Detroit","america/edmonton":"America/Edmonton",edmonton:"America/Edmonton","america/eirunepe":"America/Eirunepe",eirunepe:"America/Eirunepe","america/el_salvador":"America/El_Salvador",el_salvador:"America/El_Salvador","america/fort_nelson":"America/Fort_Nelson",fort_nelson:"America/Fort_Nelson","america/fortaleza":"America/Fortaleza",fortaleza:"America/Fortaleza","america/glace_bay":"America/Glace_Bay",glace_bay:"America/Glace_Bay","america/godthab":"America/Godthab",godthab:"America/Godthab","america/goose_bay":"America/Goose_Bay",goose_bay:"America/Goose_Bay","america/grand_turk":"America/Grand_Turk",grand_turk:"America/Grand_Turk","america/guatemala":"America/Guatemala",guatemala:"America/Guatemala","america/guayaquil":"America/Guayaquil",guayaquil:"America/Guayaquil","america/guyana":"America/Guyana",guyana:"America/Guyana","america/halifax":"America/Halifax",halifax:"America/Halifax","america/havana":"America/Havana",havana:"America/Havana","america/hermosillo":"America/Hermosillo",hermosillo:"America/Hermosillo","america/indiana/indianapolis":"America/Indiana/Indianapolis",indianapolis:"America/Indiana/Indianapolis","america/indiana/knox":"America/Indiana/Knox",knox:"America/Indiana/Knox","america/indiana/marengo":"America/Indiana/Marengo",marengo:"America/Indiana/Marengo","america/indiana/petersburg":"America/Indiana/Petersburg",petersburg:"America/Indiana/Petersburg","america/indiana/tell_city":"America/Indiana/Tell_City",tell_city:"America/Indiana/Tell_City","america/indiana/vevay":"America/Indiana/Vevay",vevay:"America/Indiana/Vevay","america/indiana/vincennes":"America/Indiana/Vincennes",vincennes:"America/Indiana/Vincennes","america/indiana/winamac":"America/Indiana/Winamac",winamac:"America/Indiana/Winamac","america/inuvik":"America/Inuvik",inuvik:"America/Inuvik","america/iqaluit":"America/Iqaluit",iqaluit:"America/Iqaluit","america/jamaica":"America/Jamaica",jamaica:"America/Jamaica","america/juneau":"America/Juneau",juneau:"America/Juneau","america/kentucky/louisville":"America/Kentucky/Louisville",louisville:"America/Kentucky/Louisville","america/kentucky/monticello":"America/Kentucky/Monticello",monticello:"America/Kentucky/Monticello","america/la_paz":"America/La_Paz",la_paz:"America/La_Paz","america/lima":"America/Lima",lima:"America/Lima","america/los_angeles":"America/Los_Angeles",los_angeles:"America/Los_Angeles","america/maceio":"America/Maceio",maceio:"America/Maceio","america/managua":"America/Managua",managua:"America/Managua","america/manaus":"America/Manaus",manaus:"America/Manaus","america/martinique":"America/Martinique",martinique:"America/Martinique","america/matamoros":"America/Matamoros",matamoros:"America/Matamoros","america/mazatlan":"America/Mazatlan",mazatlan:"America/Mazatlan","america/menominee":"America/Menominee",menominee:"America/Menominee","america/merida":"America/Merida",merida:"America/Merida","america/metlakatla":"America/Metlakatla",metlakatla:"America/Metlakatla","america/mexico_city":"America/Mexico_City",mexico_city:"America/Mexico_City","america/miquelon":"America/Miquelon",miquelon:"America/Miquelon","america/moncton":"America/Moncton",moncton:"America/Moncton","america/monterrey":"America/Monterrey",monterrey:"America/Monterrey","america/montevideo":"America/Montevideo",montevideo:"America/Montevideo","america/nassau":"America/Nassau",nassau:"America/Nassau","america/new_york":"America/New_York",new_york:"America/New_York","america/nipigon":"America/Nipigon",nipigon:"America/Nipigon","america/nome":"America/Nome",nome:"America/Nome","america/noronha":"America/Noronha",noronha:"America/Noronha","america/north_dakota/beulah":"America/North_Dakota/Beulah",beulah:"America/North_Dakota/Beulah","america/north_dakota/center":"America/North_Dakota/Center",center:"America/North_Dakota/Center","america/north_dakota/new_salem":"America/North_Dakota/New_Salem",new_salem:"America/North_Dakota/New_Salem","america/ojinaga":"America/Ojinaga",ojinaga:"America/Ojinaga","america/panama":"America/Panama",panama:"America/Panama","america/pangnirtung":"America/Pangnirtung",pangnirtung:"America/Pangnirtung","america/paramaribo":"America/Paramaribo",paramaribo:"America/Paramaribo","america/phoenix":"America/Phoenix",phoenix:"America/Phoenix","america/port-au-prince":"America/Port-au-Prince","port-au-prince":"America/Port-au-Prince","america/port_of_spain":"America/Port_of_Spain",port_of_spain:"America/Port_of_Spain","america/porto_velho":"America/Porto_Velho",porto_velho:"America/Porto_Velho","america/puerto_rico":"America/Puerto_Rico",puerto_rico:"America/Puerto_Rico","america/rainy_river":"America/Rainy_River",rainy_river:"America/Rainy_River","america/rankin_inlet":"America/Rankin_Inlet",rankin_inlet:"America/Rankin_Inlet","america/recife":"America/Recife",recife:"America/Recife","america/regina":"America/Regina",regina:"America/Regina","america/resolute":"America/Resolute",resolute:"America/Resolute","america/rio_branco":"America/Rio_Branco",rio_branco:"America/Rio_Branco","america/santarem":"America/Santarem",santarem:"America/Santarem","america/santiago":"America/Santiago",santiago:"America/Santiago","america/santo_domingo":"America/Santo_Domingo",santo_domingo:"America/Santo_Domingo","america/sao_paulo":"America/Sao_Paulo",sao_paulo:"America/Sao_Paulo","america/scoresbysund":"America/Scoresbysund",scoresbysund:"America/Scoresbysund","america/sitka":"America/Sitka",sitka:"America/Sitka","america/st_johns":"America/St_Johns",st_johns:"America/St_Johns","america/swift_current":"America/Swift_Current",swift_current:"America/Swift_Current","america/tegucigalpa":"America/Tegucigalpa",tegucigalpa:"America/Tegucigalpa","america/thule":"America/Thule",thule:"America/Thule","america/thunder_bay":"America/Thunder_Bay",thunder_bay:"America/Thunder_Bay","america/tijuana":"America/Tijuana",tijuana:"America/Tijuana","america/toronto":"America/Toronto",toronto:"America/Toronto","america/vancouver":"America/Vancouver",vancouver:"America/Vancouver","america/whitehorse":"America/Whitehorse",whitehorse:"America/Whitehorse","america/winnipeg":"America/Winnipeg",winnipeg:"America/Winnipeg","america/yakutat":"America/Yakutat",yakutat:"America/Yakutat","america/yellowknife":"America/Yellowknife",yellowknife:"America/Yellowknife","antarctica/casey":"Antarctica/Casey",casey:"Antarctica/Casey","antarctica/davis":"Antarctica/Davis",davis:"Antarctica/Davis","antarctica/dumontdurville":"Antarctica/DumontDUrville",dumontdurville:"Antarctica/DumontDUrville","antarctica/macquarie":"Antarctica/Macquarie",macquarie:"Antarctica/Macquarie","antarctica/mawson":"Antarctica/Mawson",mawson:"Antarctica/Mawson","antarctica/palmer":"Antarctica/Palmer",palmer:"Antarctica/Palmer","antarctica/rothera":"Antarctica/Rothera",rothera:"Antarctica/Rothera","antarctica/syowa":"Antarctica/Syowa",syowa:"Antarctica/Syowa","antarctica/troll":"Antarctica/Troll",troll:"Antarctica/Troll","antarctica/vostok":"Antarctica/Vostok",vostok:"Antarctica/Vostok","asia/almaty":"Asia/Almaty",almaty:"Asia/Almaty","asia/amman":"Asia/Amman",amman:"Asia/Amman","asia/anadyr":"Asia/Anadyr",anadyr:"Asia/Anadyr","asia/aqtau":"Asia/Aqtau",aqtau:"Asia/Aqtau","asia/aqtobe":"Asia/Aqtobe",aqtobe:"Asia/Aqtobe","asia/ashgabat":"Asia/Ashgabat",ashgabat:"Asia/Ashgabat","asia/baghdad":"Asia/Baghdad",baghdad:"Asia/Baghdad","asia/baku":"Asia/Baku",baku:"Asia/Baku","asia/bangkok":"Asia/Bangkok",bangkok:"Asia/Bangkok","asia/barnaul":"Asia/Barnaul",barnaul:"Asia/Barnaul","asia/beirut":"Asia/Beirut",beirut:"Asia/Beirut","asia/bishkek":"Asia/Bishkek",bishkek:"Asia/Bishkek","asia/brunei":"Asia/Brunei",brunei:"Asia/Brunei","asia/chita":"Asia/Chita",chita:"Asia/Chita","asia/choibalsan":"Asia/Choibalsan",choibalsan:"Asia/Choibalsan","asia/colombo":"Asia/Colombo",colombo:"Asia/Colombo","asia/damascus":"Asia/Damascus",damascus:"Asia/Damascus","asia/dhaka":"Asia/Dhaka",dhaka:"Asia/Dhaka","asia/dili":"Asia/Dili",dili:"Asia/Dili","asia/dubai":"Asia/Dubai",dubai:"Asia/Dubai","asia/dushanbe":"Asia/Dushanbe",dushanbe:"Asia/Dushanbe","asia/gaza":"Asia/Gaza",gaza:"Asia/Gaza","asia/hebron":"Asia/Hebron",hebron:"Asia/Hebron","asia/ho_chi_minh":"Asia/Ho_Chi_Minh",ho_chi_minh:"Asia/Ho_Chi_Minh","asia/hong_kong":"Asia/Hong_Kong",hong_kong:"Asia/Hong_Kong",hkt:"Asia/Hong_Kong","asia/hovd":"Asia/Hovd",hovd:"Asia/Hovd","asia/irkutsk":"Asia/Irkutsk",irkutsk:"Asia/Irkutsk","asia/jakarta":"Asia/Jakarta",jakarta:"Asia/Jakarta","asia/jayapura":"Asia/Jayapura",jayapura:"Asia/Jayapura","asia/jerusalem":"Asia/Jerusalem",jerusalem:"Asia/Jerusalem","asia/kabul":"Asia/Kabul",kabul:"Asia/Kabul","asia/kamchatka":"Asia/Kamchatka",kamchatka:"Asia/Kamchatka","asia/karachi":"Asia/Karachi",karachi:"Asia/Karachi","asia/kathmandu":"Asia/Kathmandu",kathmandu:"Asia/Kathmandu","asia/khandyga":"Asia/Khandyga",khandyga:"Asia/Khandyga","asia/kolkata":"Asia/Kolkata",kolkata:"Asia/Kolkata",india:"Asia/Kolkata",ist:"Asia/Kolkata","asia/krasnoyarsk":"Asia/Krasnoyarsk",krasnoyarsk:"Asia/Krasnoyarsk","asia/kuala_lumpur":"Asia/Kuala_Lumpur",kuala_lumpur:"Asia/Kuala_Lumpur","asia/kuching":"Asia/Kuching",kuching:"Asia/Kuching","asia/macau":"Asia/Macau",macau:"Asia/Macau","asia/magadan":"Asia/Magadan",magadan:"Asia/Magadan","asia/makassar":"Asia/Makassar",makassar:"Asia/Makassar","asia/manila":"Asia/Manila",manila:"Asia/Manila","asia/nicosia":"Asia/Nicosia",nicosia:"Asia/Nicosia","asia/novokuznetsk":"Asia/Novokuznetsk",novokuznetsk:"Asia/Novokuznetsk","asia/novosibirsk":"Asia/Novosibirsk",novosibirsk:"Asia/Novosibirsk","asia/omsk":"Asia/Omsk",omsk:"Asia/Omsk","asia/oral":"Asia/Oral",oral:"Asia/Oral","asia/pontianak":"Asia/Pontianak",pontianak:"Asia/Pontianak","asia/pyongyang":"Asia/Pyongyang",pyongyang:"Asia/Pyongyang","asia/qatar":"Asia/Qatar",qatar:"Asia/Qatar","asia/qyzylorda":"Asia/Qyzylorda",qyzylorda:"Asia/Qyzylorda","asia/rangoon":"Asia/Rangoon",rangoon:"Asia/Rangoon","asia/riyadh":"Asia/Riyadh",riyadh:"Asia/Riyadh","asia/sakhalin":"Asia/Sakhalin",sakhalin:"Asia/Sakhalin","asia/samarkand":"Asia/Samarkand",samarkand:"Asia/Samarkand","asia/seoul":"Asia/Seoul",seoul:"Asia/Seoul","asia/shanghai":"Asia/Shanghai",shanghai:"Asia/Shanghai","asia/singapore":"Asia/Singapore",singapore:"Asia/Singapore","asia/srednekolymsk":"Asia/Srednekolymsk",srednekolymsk:"Asia/Srednekolymsk","asia/taipei":"Asia/Taipei",taipei:"Asia/Taipei","asia/tashkent":"Asia/Tashkent",tashkent:"Asia/Tashkent","asia/tbilisi":"Asia/Tbilisi",tbilisi:"Asia/Tbilisi","asia/tehran":"Asia/Tehran",tehran:"Asia/Tehran","asia/thimphu":"Asia/Thimphu",thimphu:"Asia/Thimphu","asia/tokyo":"Asia/Tokyo",tokyo:"Asia/Tokyo","asia/ulaanbaatar":"Asia/Ulaanbaatar",ulaanbaatar:"Asia/Ulaanbaatar","asia/urumqi":"Asia/Urumqi",urumqi:"Asia/Urumqi","asia/ust-nera":"Asia/Ust-Nera","ust-nera":"Asia/Ust-Nera","asia/vladivostok":"Asia/Vladivostok",vladivostok:"Asia/Vladivostok","asia/yakutsk":"Asia/Yakutsk",yakutsk:"Asia/Yakutsk","asia/yekaterinburg":"Asia/Yekaterinburg",yekaterinburg:"Asia/Yekaterinburg","asia/yerevan":"Asia/Yerevan",yerevan:"Asia/Yerevan","atlantic/azores":"Atlantic/Azores",azores:"Atlantic/Azores","atlantic/bermuda":"Atlantic/Bermuda",bermuda:"Atlantic/Bermuda","atlantic/canary":"Atlantic/Canary",canary:"Atlantic/Canary","atlantic/cape_verde":"Atlantic/Cape_Verde",cape_verde:"Atlantic/Cape_Verde","atlantic/faroe":"Atlantic/Faroe",faroe:"Atlantic/Faroe","atlantic/madeira":"Atlantic/Madeira",madeira:"Atlantic/Madeira","atlantic/reykjavik":"Atlantic/Reykjavik",reykjavik:"Atlantic/Reykjavik","atlantic/south_georgia":"Atlantic/South_Georgia",south_georgia:"Atlantic/South_Georgia","atlantic/stanley":"Atlantic/Stanley",stanley:"Atlantic/Stanley","australia/adelaide":"Australia/Adelaide",adelaide:"Australia/Adelaide","australia/brisbane":"Australia/Brisbane",brisbane:"Australia/Brisbane","australia/broken_hill":"Australia/Broken_Hill",broken_hill:"Australia/Broken_Hill","australia/currie":"Australia/Currie",currie:"Australia/Currie","australia/darwin":"Australia/Darwin",darwin:"Australia/Darwin","australia/eucla":"Australia/Eucla",eucla:"Australia/Eucla","australia/hobart":"Australia/Hobart",hobart:"Australia/Hobart","australia/lindeman":"Australia/Lindeman",lindeman:"Australia/Lindeman","australia/lord_howe":"Australia/Lord_Howe",lord_howe:"Australia/Lord_Howe","australia/melbourne":"Australia/Melbourne",melbourne:"Australia/Melbourne","australia/perth":"Australia/Perth",perth:"Australia/Perth","australia/sydney":"Australia/Sydney",sydney:"Australia/Sydney","europe/amsterdam":"Europe/Amsterdam",amsterdam:"Europe/Amsterdam","europe/andorra":"Europe/Andorra",andorra:"Europe/Andorra","europe/astrakhan":"Europe/Astrakhan",astrakhan:"Europe/Astrakhan","europe/athens":"Europe/Athens",athens:"Europe/Athens","europe/belgrade":"Europe/Belgrade",belgrade:"Europe/Belgrade","europe/berlin":"Europe/Berlin",berlin:"Europe/Berlin","europe/brussels":"Europe/Brussels",brussels:"Europe/Brussels","europe/bucharest":"Europe/Bucharest",bucharest:"Europe/Bucharest","europe/budapest":"Europe/Budapest",budapest:"Europe/Budapest","europe/chisinau":"Europe/Chisinau",chisinau:"Europe/Chisinau","europe/copenhagen":"Europe/Copenhagen",copenhagen:"Europe/Copenhagen","europe/dublin":"Europe/Dublin",dublin:"Europe/Dublin","europe/gibraltar":"Europe/Gibraltar",gibraltar:"Europe/Gibraltar","europe/helsinki":"Europe/Helsinki",helsinki:"Europe/Helsinki","europe/istanbul":"Europe/Istanbul",istanbul:"Europe/Istanbul","europe/kaliningrad":"Europe/Kaliningrad",kaliningrad:"Europe/Kaliningrad","europe/kiev":"Europe/Kiev",kiev:"Europe/Kiev","europe/lisbon":"Europe/Lisbon",lisbon:"Europe/Lisbon","europe/london":"Europe/London",london:"Europe/London","europe/luxembourg":"Europe/Luxembourg",luxembourg:"Europe/Luxembourg","europe/madrid":"Europe/Madrid",madrid:"Europe/Madrid","europe/malta":"Europe/Malta",malta:"Europe/Malta","europe/minsk":"Europe/Minsk",minsk:"Europe/Minsk","europe/monaco":"Europe/Monaco",monaco:"Europe/Monaco","europe/moscow":"Europe/Moscow",moscow:"Europe/Moscow","europe/oslo":"Europe/Oslo",oslo:"Europe/Oslo","europe/paris":"Europe/Paris",paris:"Europe/Paris","europe/prague":"Europe/Prague",prague:"Europe/Prague","europe/riga":"Europe/Riga",riga:"Europe/Riga","europe/rome":"Europe/Rome",rome:"Europe/Rome","europe/samara":"Europe/Samara",samara:"Europe/Samara","europe/simferopol":"Europe/Simferopol",simferopol:"Europe/Simferopol","europe/sofia":"Europe/Sofia",sofia:"Europe/Sofia","europe/stockholm":"Europe/Stockholm",stockholm:"Europe/Stockholm","europe/tallinn":"Europe/Tallinn",tallinn:"Europe/Tallinn","europe/tirane":"Europe/Tirane",tirane:"Europe/Tirane","europe/ulyanovsk":"Europe/Ulyanovsk",ulyanovsk:"Europe/Ulyanovsk","europe/uzhgorod":"Europe/Uzhgorod",uzhgorod:"Europe/Uzhgorod","europe/vienna":"Europe/Vienna",vienna:"Europe/Vienna","europe/vilnius":"Europe/Vilnius",vilnius:"Europe/Vilnius","europe/volgograd":"Europe/Volgograd",volgograd:"Europe/Volgograd","europe/warsaw":"Europe/Warsaw",warsaw:"Europe/Warsaw","europe/zaporozhye":"Europe/Zaporozhye",zaporozhye:"Europe/Zaporozhye","europe/zurich":"Europe/Zurich",zurich:"Europe/Zurich","indian/chagos":"Indian/Chagos",chagos:"Indian/Chagos","indian/christmas":"Indian/Christmas",christmas:"Indian/Christmas","indian/cocos":"Indian/Cocos",cocos:"Indian/Cocos","indian/kerguelen":"Indian/Kerguelen",kerguelen:"Indian/Kerguelen","indian/mahe":"Indian/Mahe",mahe:"Indian/Mahe","indian/maldives":"Indian/Maldives",maldives:"Indian/Maldives","indian/mauritius":"Indian/Mauritius",mauritius:"Indian/Mauritius","indian/reunion":"Indian/Reunion",reunion:"Indian/Reunion","pacific/apia":"Pacific/Apia",apia:"Pacific/Apia","pacific/auckland":"Pacific/Auckland",auckland:"Pacific/Auckland","pacific/bougainville":"Pacific/Bougainville",bougainville:"Pacific/Bougainville","pacific/chatham":"Pacific/Chatham",chatham:"Pacific/Chatham","pacific/chuuk":"Pacific/Chuuk",chuuk:"Pacific/Chuuk","pacific/easter":"Pacific/Easter",easter:"Pacific/Easter","pacific/efate":"Pacific/Efate",efate:"Pacific/Efate","pacific/enderbury":"Pacific/Enderbury",enderbury:"Pacific/Enderbury","pacific/fakaofo":"Pacific/Fakaofo",fakaofo:"Pacific/Fakaofo","pacific/fiji":"Pacific/Fiji",fiji:"Pacific/Fiji","pacific/funafuti":"Pacific/Funafuti",funafuti:"Pacific/Funafuti","pacific/galapagos":"Pacific/Galapagos",galapagos:"Pacific/Galapagos","pacific/gambier":"Pacific/Gambier",gambier:"Pacific/Gambier","pacific/guadalcanal":"Pacific/Guadalcanal",guadalcanal:"Pacific/Guadalcanal","pacific/guam":"Pacific/Guam",guam:"Pacific/Guam","pacific/honolulu":"Pacific/Honolulu",honolulu:"Pacific/Honolulu","pacific/kiritimati":"Pacific/Kiritimati",kiritimati:"Pacific/Kiritimati","pacific/kosrae":"Pacific/Kosrae",kosrae:"Pacific/Kosrae","pacific/kwajalein":"Pacific/Kwajalein",kwajalein:"Pacific/Kwajalein","pacific/majuro":"Pacific/Majuro",majuro:"Pacific/Majuro","pacific/marquesas":"Pacific/Marquesas",marquesas:"Pacific/Marquesas","pacific/nauru":"Pacific/Nauru",nauru:"Pacific/Nauru","pacific/niue":"Pacific/Niue",niue:"Pacific/Niue","pacific/norfolk":"Pacific/Norfolk",norfolk:"Pacific/Norfolk","pacific/noumea":"Pacific/Noumea",noumea:"Pacific/Noumea","pacific/pago_pago":"Pacific/Pago_Pago",pago_pago:"Pacific/Pago_Pago","pacific/palau":"Pacific/Palau",palau:"Pacific/Palau","pacific/pitcairn":"Pacific/Pitcairn",pitcairn:"Pacific/Pitcairn","pacific/pohnpei":"Pacific/Pohnpei",pohnpei:"Pacific/Pohnpei","pacific/port_moresby":"Pacific/Port_Moresby",port_moresby:"Pacific/Port_Moresby","pacific/rarotonga":"Pacific/Rarotonga",rarotonga:"Pacific/Rarotonga","pacific/tahiti":"Pacific/Tahiti",tahiti:"Pacific/Tahiti","pacific/tarawa":"Pacific/Tarawa",tarawa:"Pacific/Tarawa","pacific/tongatapu":"Pacific/Tongatapu",tongatapu:"Pacific/Tongatapu","pacific/wake":"Pacific/Wake",wake:"Pacific/Wake","pacific/wallis":"Pacific/Wallis",wallis:"Pacific/Wallis"}},"./node_modules/@atlassian/butler-command-parser/lib/types/Command.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@atlassian/butler-command-parser/lib/types/MaybeArray.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeArray=void 0;t.normalizeArray=e=>Array.isArray(e)?e:[e]},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@react-dnd/asap/dist/esm/browser/raw.js":function(e,t,n){"use strict";(function(e){function i(e){r.length||(a(),!0),r[r.length]=e}n.d(t,"a",(function(){return i}));var a,r=[],s=0;function o(){for(;s<r.length;){var e=s;if(s+=1,r[e].call(),s>1024){for(var t=0,n=r.length-s;t<n;t++)r[t]=r[t+s];r.length-=s,s=0}}r.length=0,s=0,!1}var l,c,d,u=void 0!==e?e:self,p=u.MutationObserver||u.WebKitMutationObserver;function m(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof p?(l=1,c=new p(o),d=document.createTextNode(""),c.observe(d,{characterData:!0}),a=function(){l=-l,d.data=l}):a=m(o),i.requestFlush=a,i.makeRequestCallFromTimer=m}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@react-dnd/invariant/dist/invariant.esm.js":function(e,t,n){"use strict";function i(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(!e){var r;if(void 0===t)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(r=new Error(t.replace(/%s/g,(function(){return i[s++]})))).name="Invariant Violation"}throw r.framesToPop=1,r}}n.d(t,"a",(function(){return i}))},"./node_modules/@researchgate/react-intersection-list/lib/es/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js")),s=n("./node_modules/warning/warning.js"),o=n.n(s),l=n("./node_modules/react-dom/index.js");n("./node_modules/invariant/browser.js"),n("./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js");function c(e){return a.a.isValidElement(e)&&"string"==typeof e.type}var d=/^-?\d*\.?\d+(px|%)$/;function u(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!d.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),n=t[0],i=void 0===n?"0px":n,a=t[1],r=void 0===a?i:a,s=t[2],o=void 0===s?i:s,l=t[3];return i+" "+r+" "+o+" "+(void 0===l?r:l)}function p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(n,i){return p(e[i],t[i])})):e!==t}var m=new Map;function h(e,t){var n=m.get(e);if(n)for(var i=n.values(),a=void 0;a=i.next().value;)if(a.target===t.target)return a;return null}function g(e,t){for(var n=0;n<e.length;n++){var i=h(t,e[n]);i&&i.handleChange(e[n])}}function b(e){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root||null,n=u(e.rootMargin),i=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],a=m.keys(),r=void 0;r=a.next().value;){if(!(t!==r.root||n!==r.rootMargin||p(i,r.thresholds)))return r}return null}(e)||new IntersectionObserver(g,e)}function v(e){m.has(e.observer)||m.set(e.observer,new Set),m.get(e.observer).add(e),e.observer.observe(e.target)}function f(e){if(m.has(e.observer)){var t=m.get(e.observer);t.delete(e)&&(t.size>0?e.observer.unobserve(e.target):(e.observer.disconnect(),m.delete(e.observer)))}}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=["root","rootMargin","threshold"],C=["disabled"].concat(w),T=Object.prototype,O=function(e){function t(){var n,i;y(this,t);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=i=E(this,e.call.apply(e,[this].concat(r))),i.handleChange=function(e){i.props.onChange(e,i.unobserve),i.props.onlyOnce&&e.isIntersecting&&i.unobserve()},i.handleNode=function(e){var t=i.props.children.ref;t&&("function"==typeof t?t(e):"object"===(void 0===t?"undefined":_(t))&&(t.current=e)),i.targetChanged=null!=(i.renderedTarget&&e)&&i.renderedTarget!==e,i.targetChanged&&i.unobserve(),i.target=e},i.observe=function(){i.target=c(i.target)?i.target:Object(l.findDOMNode)(i.target),i.observer=b(i.options),v(i)},i.unobserve=function(){null!=i.target&&f(i)},E(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.observe()},t.prototype.componentDidUpdate=function(e){var t=this,n=C.some((function(n){return p(t.props[n],e[n])}));n&&this.unobserve(),(this.targetChanged||n)&&(this.props.disabled||this.observe())},t.prototype.componentWillUnmount=function(){this.unobserve()},t.prototype.render=function(){return this.renderedTarget=this.target,a.a.cloneElement(a.a.Children.only(this.props.children),{ref:this.handleNode})},k(t,[{key:"options",get:function(){var e=this;return w.reduce((function(t,n){if(T.hasOwnProperty.call(e.props,n)){var i="root"===n&&"[object String]"===T.toString.call(e.props[n]);t[n]=i?document.querySelector(e.props[n]):e.props[n]}return t}),{})}}]),t}(a.a.Component);O.displayName="IntersectionObserver";var j=O;function A(e){var t=e.threshold,n=e.axis,i=[t],a="0"+(t.match(/^-?\d*\.?\d+(px|%)$/)||[""]).pop();return"y"===n?i.push(a):i.unshift(a),i.join(" ")}function x(e,t){return Math.max(0,Math.min(e,t))}var N=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.setRootElement=function(e){i.setState({rootElement:e})},i.state={rootElement:void 0,rootMargin:A(n)},i.target=a.a.createElement("span",{style:{height:1,width:1,display:"block"}}),n.setRef(i.setRootElement),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.threshold,i=e.axis,a=null;return n===t.threshold&&i===t.axis||(a={threshold:n,axis:i,rootMargin:A({threshold:n,axis:i})}),a},t.prototype.shouldComponentUpdate=function(e,t){var n=t.rootMargin,i=t.rootElement,a=this.state,r=a.rootMargin,s=a.rootElement;return r!==n||s!==i||(this.element.unobserve(),this.element.observe(),!1)},t.prototype.render=function(){var e=this,t=this.props.onChange,n=this.state,i=n.rootElement,r=n.rootMargin;return a.a.createElement(j,{ref:function(t){e.element=t},disabled:void 0===i,root:i,rootMargin:r,onChange:t},this.target)},t}(i.Component);Object(r.polyfill)(N);var S=N;function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B={x:"overflowX",y:"overflowY"},P=function(e){function t(){var n,i;I(this,t);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=i=D(this,e.call.apply(e,[this].concat(r))),i.state={size:0},i.setRef=function(e){var t=void 0;i.setRootNode=function(n){if(n!==t){t=n;var a=window.getComputedStyle(n)[B[i.props.axis]];e(-1!==["auto","scroll","overlay"].indexOf(a)?n:null)}}},i.handleUpdate=function(e){var t=e.isIntersecting,n=i.props,a=n.awaitMore,r=n.onIntersection,s=i.state,l=s.size,c=s.itemCount,d=s.pageSize;if(i.prematureIntersectionChecked||(i.prematureIntersectionChecked=!0,o()(!t,"ReactIntersectionList: the sentinel detected a viewport with a bigger size than the size of its items. This could lead to detrimental behavior, e.g.: triggering more than one onIntersection callback at the start.\nTo prevent this, use either a bigger `pageSize` value or avoid using the prop awaitMore initially.")),t){var u=x(l+d,c);l!==u&&i.setState({size:u}),!r||a&&!i.awaitIntersection||(i.awaitIntersection&&(i.awaitIntersection=!1),r(u,d))}},D(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.pageSize,i=function(e,t){var n=e.itemCount,i=e.items,a=void 0!==n,r=void 0!==i;return t&&o()(!(a&&r),"ReactIntersectionList: cannot use itemCount and items props at the same time, choose one to determine the number of items to render."),a?n:r&&(i.length||i.size)||0}(function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["pageSize"]),!0);return{pageSize:n,itemCount:i,size:x(0===t.size?n:t.itemCount<i?t.size+n:t.size+-(t.pageSize-n),i)}},t.prototype.componentDidMount=function(){this.prematureIntersectionChecked=0===this.state.size},t.prototype.getItemRenderer=function(){var e=this.props,t=e.children,n=e.renderItem,i=void 0!==t,r=void 0!==n;return o()(!(i&&r),"ReactIntersectionList: cannot use children and renderItem props as render function at the same time."),i?t:r?n:function(e,t){return a.a.createElement("div",{key:t},e)}},t.prototype.renderItems=function(){for(var e=this,t=this.props,n=t.awaitMore,i=t.axis,r=t.initialIndex,s=t.itemsRenderer,o=t.threshold,l=this.state,c=l.size,d=l.itemCount,u=this.getItemRenderer(),p=[],m=0;m<c;++m)p.push(u(r+m,m));var h=void 0;return(c<d||n)&&(h=a.a.createElement(S,{key:"sentinel",threshold:o,axis:i,setRef:this.setRef,onChange:this.handleUpdate}),p.push(h),n&&(this.awaitIntersection=!0)),s(p,(function(t){t&&h&&e.setRootNode(t)}))},t.prototype.render=function(){return this.renderItems()},t}(i.PureComponent);P.defaultProps={axis:"y",initialIndex:0,itemsRenderer:function(e,t){return a.a.createElement("div",{ref:t},e)},pageSize:10,threshold:"100px"},Object(r.polyfill)(P);var F=P},"./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js":function(e,t,n){"use strict";e.exports=function(){}},"./node_modules/assert/assert.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/object-assign/index.js");function a(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,a=0,r=Math.min(n,i);a<r;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n("./node_modules/util/util.js"),o=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function d(e){return Object.prototype.toString.call(e)}function u(e){return!r(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=f,m=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(m);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(c||!s.isFunction(e))return s.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,i,a){throw new p.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:a})}function f(e,t){e||v(e,!0,t,"==",p.ok)}function _(e,t,n,i){if(e===t)return!0;if(r(e)&&r(t))return 0===a(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===a(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;var o=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,i){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=k(e),r=k(t);if(a&&!r||!a&&r)return!1;if(a)return _(e=l.call(e),t=l.call(t),n);var o,c,d=w(e),u=w(t);if(d.length!==u.length)return!1;for(d.sort(),u.sort(),c=d.length-1;c>=0;c--)if(d[c]!==u[c])return!1;for(c=d.length-1;c>=0;c--)if(!_(e[o=d[c]],t[o],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function k(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function y(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function E(e,t,n,i){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!a&&v(a,n,"Missing expected exception"+i);var r="string"==typeof i,o=!e&&a&&!n;if((!e&&s.isError(a)&&r&&y(a,n)||o)&&v(a,n,"Got unwanted exception"+i),e&&a&&n&&!y(a,n)||!e&&a)throw a}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(b(e.actual),128)+" "+e.operator+" "+g(b(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,a=h(t),r=i.indexOf("\n"+a);if(r>=0){var s=i.indexOf("\n",r+1);i=i.substring(s+1)}this.stack=i}}},s.inherits(p.AssertionError,Error),p.fail=v,p.ok=f,p.equal=function(e,t,n){e!=t&&v(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){_(e,t,!1)||v(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){_(e,t,!0)||v(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){_(e,t,!1)&&v(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,i){_(t,n,!0)&&v(t,n,i,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){E(!0,e,t,n)},p.doesNotThrow=function(e,t,n){E(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=i((function e(t,n){t||v(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var w=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/create-emotion/dist/index.esm.js":function(e,t,n){"use strict";var i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var r=function(e){for(var t,n=e.length,i=n^n,a=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(t>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),((i^=i>>>15)>>>0).toString(36)};var s=function(e){function t(e,i,l,c,p){for(var m,h,g,b,k,E=0,w=0,C=0,T=0,O=0,I=0,B=g=m=0,F=0,L=0,M=0,R=0,V=l.length,U=V-1,z="",H="",W="",Y="";F<V;){if(h=l.charCodeAt(F),F===U&&0!==w+T+C+E&&(0!==w&&(h=47===w?10:47),T=C=E=0,V++,U++),0===w+T+C+E){if(F===U&&(0<L&&(z=z.replace(u,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=l.charAt(F)}h=59}switch(h){case 123:for(m=(z=z.trim()).charCodeAt(0),g=1,R=++F;F<V;){switch(h=l.charCodeAt(F)){case 123:g++;break;case 125:g--;break;case 47:switch(h=l.charCodeAt(F+1)){case 42:case 47:e:{for(B=F+1;B<U;++B)switch(l.charCodeAt(B)){case 47:if(42===h&&42===l.charCodeAt(B-1)&&F+2!==B){F=B+1;break e}break;case 10:if(47===h){F=B+1;break e}}F=B}}break;case 91:h++;case 40:h++;case 34:case 39:for(;F++<U&&l.charCodeAt(F)!==h;);}if(0===g)break;F++}switch(g=l.substring(R,F),0===m&&(m=(z=z.replace(d,"").trim()).charCodeAt(0)),m){case 64:switch(0<L&&(z=z.replace(u,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=i;break;default:L=S}if(R=(g=t(i,L,g,h,p+1)).length,0<D&&(k=o(3,g,L=n(S,z,M),i,A,j,R,h,p,c),z=L.join(""),void 0!==k&&0===(R=(g=k.trim()).length)&&(h=0,g="")),0<R)switch(h){case 115:z=z.replace(y,s);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(v,"$1 $2"))+"{"+g+"}",g=1===N||2===N&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===c&&(H+=g,g="")}else g="";break;default:g=t(i,n(i,z,M),g,c,p+1)}W+=g,g=M=L=B=m=0,z="",h=l.charCodeAt(++F);break;case 125:case 59:if(1<(R=(z=(0<L?z.replace(u,""):z).trim()).length))switch(0===B&&(m=z.charCodeAt(0),45===m||96<m&&123>m)&&(R=(z=z.replace(" ",":")).length),0<D&&void 0!==(k=o(1,z,i,e,A,j,H.length,c,p,c))&&0===(R=(z=k.trim()).length)&&(z="\0\0"),m=z.charCodeAt(0),h=z.charCodeAt(1),m){case 0:break;case 64:if(105===h||99===h){Y+=z+l.charAt(F);break}default:58!==z.charCodeAt(R-1)&&(H+=a(z,m,h,z.charCodeAt(2)))}M=L=B=m=0,z="",h=l.charCodeAt(++F)}}switch(h){case 13:case 10:47===w?w=0:0===1+m&&107!==c&&0<z.length&&(L=1,z+="\0"),0<D*P&&o(0,z,i,e,A,j,H.length,c,p,c),j=1,A++;break;case 59:case 125:if(0===w+T+C+E){j++;break}default:switch(j++,b=l.charAt(F),h){case 9:case 32:if(0===T+E+w)switch(O){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+w+E&&(L=M=1,b="\f"+b);break;case 108:if(0===T+w+E+x&&0<B)switch(F-B){case 2:112===O&&58===l.charCodeAt(F-3)&&(x=O);case 8:111===I&&(x=I)}break;case 58:0===T+w+E&&(B=F);break;case 44:0===w+C+T+E&&(L=1,b+="\r");break;case 34:case 39:0===w&&(T=T===h?0:0===T?h:T);break;case 91:0===T+w+C&&E++;break;case 93:0===T+w+C&&E--;break;case 41:0===T+w+E&&C--;break;case 40:if(0===T+w+E){if(0===m)switch(2*O+3*I){case 533:break;default:m=1}C++}break;case 64:0===w+C+T+E+B+g&&(g=1);break;case 42:case 47:if(!(0<T+E+C))switch(w){case 0:switch(2*h+3*l.charCodeAt(F+1)){case 235:w=47;break;case 220:R=F,w=42}break;case 42:47===h&&42===O&&R+2!==F&&(33===l.charCodeAt(R+2)&&(H+=l.substring(R,F+1)),b="",w=0)}}0===w&&(z+=b)}I=O,O=h,F++}if(0<(R=H.length)){if(L=i,0<D&&(void 0!==(k=o(2,H,L,e,A,j,R,c,p,c))&&0===(H=k).length))return Y+H+W;if(H=L.join(",")+"{"+H+"}",0!=N*x){switch(2!==N||r(H,2)||(x=0),x){case 111:H=H.replace(_,":-moz-$1")+H;break;case 112:H=H.replace(f,"::-webkit-input-$1")+H.replace(f,"::-moz-$1")+H.replace(f,":-ms-input-$1")+H}x=0}}return Y+H+W}function n(e,t,n){var a=t.trim().split(g);t=a;var r=a.length,s=e.length;switch(s){case 0:case 1:var o=0;for(e=0===s?"":e[0]+" ";o<r;++o)t[o]=i(e,t[o],n).trim();break;default:var l=o=0;for(t=[];o<r;++o)for(var c=0;c<s;++c)t[l++]=i(e[c]+" ",a[o],n).trim()}return t}function i(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(b,"$1"+e.trim());case 58:return e.trim()+t.replace(b,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(b,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,n,i){var s=e+";",o=2*t+3*n+4*i;if(944===o){e=s.indexOf(":",9)+1;var l=s.substring(e,s.length-1).trim();return l=s.substring(0,e).trim()+l+";",1===N||2===N&&r(l,1)?"-webkit-"+l+l:l}if(0===N||2===N&&!r(s,1))return s;switch(o){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(O,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(l=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+l+s;case 1005:return m.test(s)?s.replace(p,":-webkit-")+s.replace(p,":-moz-")+s:s;case 1e3:switch(t=(l=s.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=s.replace(k,"tb");break;case 232:l=s.replace(k,"tb-rl");break;case 220:l=s.replace(k,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+l+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,o=(l=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:s=s.replace(l,"-webkit-"+l)+";"+s;break;case 207:case 102:s=s.replace(l,"-webkit-"+(102<o?"inline-":"")+"box")+";"+s.replace(l,"-webkit-"+l)+";"+s.replace(l,"-ms-"+l+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return l=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+l+"-ms-flex-"+l+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(w,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(w,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):s.replace(l,"-webkit-"+l)+s.replace(l,"-moz-"+l.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+i&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+s}return s}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),B(2!==t?i:i.replace(C,"$1"),n,t)}function s(e,t){var n=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function o(e,t,n,i,a,r,s,o,l,d){for(var u,p=0,m=t;p<D;++p)switch(u=I[p].call(c,e,m,n,i,a,r,s,o,l,d)){case void 0:case!1:case!0:case null:break;default:m=u}if(m!==t)return m}function l(e){return void 0!==(e=e.prefix)&&(B=null,e?"function"!=typeof e?N=1:(N=2,B=e):N=0),l}function c(e,n){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<D){var a=o(-1,n,i,i,A,j,0,0,0,0);void 0!==a&&"string"==typeof a&&(n=a)}var r=t(S,i,n,0,0);return 0<D&&(void 0!==(a=o(-2,r,i,i,A,j,r.length,0,0,0))&&(r=a)),"",x=0,j=A=1,r}var d=/^\0+/g,u=/[\0\r\f]/g,p=/: */g,m=/zoo|gra/,h=/([,: ])(transform)/g,g=/,\r+?/g,b=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,f=/::(place)/g,_=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,y=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,w=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,j=1,A=1,x=0,N=1,S=[],I=[],D=0,B=null,P=0;return c.use=function e(t){switch(t){case void 0:case null:D=I.length=0;break;default:switch(t.constructor){case Array:for(var n=0,i=t.length;n<i;++n)e(t[n]);break;case Function:I[D++]=t;break;case Boolean:P=0|!!t}}return e},c.set=l,void 0!==e&&l(e),c},o=n("./node_modules/stylis-rule-sheet/index.js"),l=n.n(o),c=/[A-Z]|^ms/g,d=i((function(e){return e.replace(c,"-$&").toLowerCase()})),u=function(e,t){return null==t||"boolean"==typeof t?"":1===a[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var n=t.length,i=0,a="";i<n;i++){var r=t[i];if(null!=r){var s=void 0;switch(typeof r){case"boolean":break;case"function":0,s=e([r()]);break;case"object":if(Array.isArray(r))s=e(r);else for(var o in s="",r)r[o]&&o&&(s&&(s+=" "),s+=o);break;default:s=r}s&&(a&&(a+=" "),a+=s)}}return a},m="undefined"!=typeof document;function h(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var g=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=h(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var i=h(this.opts);this.tags.push(i),i.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(h(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,i,a=t.key||"css",o=l()((function(e){n+=e,m&&h.insert(e,v)}));void 0!==t.prefix&&(i={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:a},h=new g(t);m&&h.inject();var b=new s(i);b.use(t.stylisPlugins)(o);var v="";function f(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return f.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return E.call(this,e);default:var i=c.registered[e];return!1===t&&void 0!==i?i:e}}var _,k,y=new WeakMap;function E(e){if(y.has(e))return y.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=f.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==c.registered[e[n]]?t+=n+"{"+c.registered[e[n]]+"}":t+=d(n)+":"+u(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===c.registered[e[n][0]]?e[n].forEach((function(e){t+=d(n)+":"+u(n,e)+";"})):t+=n+"{"+f.call(this,e[n],!1)+"}"}),this),y.set(e,t),t}var w=/label:\s*([^\s;\n{]+)\s*;/g,C=function(e,t){return r(e+t)+t},T=function(e){var t=!0,n="",i="";null==e||void 0===e.raw?(t=!1,n+=f.call(this,e,!1)):n+=e[0];for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];return r.forEach((function(i,a){n+=f.call(this,i,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[a+1]&&(n+=e[a+1])}),this),k=n,n=n.replace(w,(function(e,t){return i+="-"+t,""})),_=C(n,i),n};function O(e,t){void 0===c.inserted[_]&&(n="",b(e,t),c.inserted[_]=n)}var j=function(){var e=T.apply(this,arguments),t=a+"-"+_;return void 0===c.registered[t]&&(c.registered[t]=k),O("."+t,e),t};function A(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==c.registered[t]?e.push(t):n+=t+" "})),n}function x(e,t){var n=[],i=A(n,e);return n.length<2?e:i+j(n,t)}function N(e){c.inserted[e]=!0}if(m){var S=document.querySelectorAll("[data-emotion-"+a+"]");Array.prototype.forEach.call(S,(function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute("data-emotion-"+a).split(" ").forEach(N)}))}var I={flush:function(){m&&(h.flush(),h.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(N)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x(p(t))},merge:x,getRegisteredStyles:A,injectGlobal:function(){var e=T.apply(this,arguments);O("",e)},keyframes:function(){var e=T.apply(this,arguments),t="animation-"+_;return O("","@keyframes "+t+"{"+e+"}"),t},css:j,sheet:h,caches:c};return e.__SECRET_EMOTION__=I,I}},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1eaq31baGEsVVI {\n  height: 20px;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  overflow: hidden;\n  width: 70%;\n  margin: 0 auto;\n}\n._1eaq31baGEsVVI::before {\n  content: '';\n  display: block;\n  width: 100%;\n}\n._3MIIXZ-vsbf6TL::before {\n  border-top: 2px solid #C1C7D0;\n}\n",""]),a.locals={separatorCard:"_1eaq31baGEsVVI",singleHorizontalLine:"_3MIIXZ-vsbf6TL"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/BoardHeaderFilterButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._4KNvBRAwX4Mivr {\n  border-radius: 3px;\n  cursor: default;\n  float: left;\n  font-size: 14px;\n  height: 32px;\n  line-height: 32px;\n  margin: 0 4px 4px 0;\n  max-width: 400px;\n  overflow: hidden;\n  padding: 6px 0 6px 6px;\n  position: relative;\n  text-decoration: none;\n  text-overflow: ellipsis;\n}\n._4KNvBRAwX4Mivr ._1ibjvbDtiEFhDZ {\n  padding-right: 12px;\n}\n._4KNvBRAwX4Mivr:hover {\n  cursor: pointer;\n}\n._30RHtpCpPielnd {\n  background-color: #E4F0F6;\n}\n._30RHtpCpPielnd span {\n  color: #0079BF;\n}\n._30RHtpCpPielnd ._1ibjvbDtiEFhDZ {\n  padding-right: 6px;\n}\n._30RHtpCpPielnd:hover {\n  background-color: #BCD9EA;\n}\n._3sFgze8WJoOjJc {\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 100%;\n  color: #0079BF;\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 20px;\n  padding: 2px 6px;\n  margin-right: 6px;\n  text-align: center;\n}\n._25CKw1TZe1zqyb {\n  background-color: rgba(255, 255, 255, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n}\n._25CKw1TZe1zqyb:hover {\n  background-color: rgba(255, 255, 255, 0.6);\n}\n._1ADfvcSjqPLfLG {\n  margin: 12px 0 0 0;\n}\n",""]),a.locals={boardHeaderFilterBtn:"_4KNvBRAwX4Mivr",boardHeaderFilterBtnText:"_1ibjvbDtiEFhDZ",boardHeaderFilterBtnActive:"_30RHtpCpPielnd",boardHeaderFilterCount:"_3sFgze8WJoOjJc",boardHeaderClearFilter:"_25CKw1TZe1zqyb",clearFilterWrapper:"_1ADfvcSjqPLfLG"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Due/DueList.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1wC8JwxP7ezHWx {\n  cursor: pointer;\n}\n._14h18HzazyYmyL {\n  border-radius: 3px;\n  display: block;\n  height: 30px;\n  line-height: 30px;\n  overflow: hidden;\n  position: relative;\n  text-overflow: ellipsis;\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 4px 4px 4px 42px;\n}\n.PsPz5iv8ykW1l0 {\n  display: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n._1wC8JwxP7ezHWx:hover ._14h18HzazyYmyL,\n._1wC8JwxP7ezHWx._1CKI27o7_bFWqN:hover ._14h18HzazyYmyL {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._1wC8JwxP7ezHWx:hover:active ._14h18HzazyYmyL,\n._1wC8JwxP7ezHWx._1CKI27o7_bFWqN:hover:active ._14h18HzazyYmyL {\n  background-color: #E4F0F6;\n}\n._1wC8JwxP7ezHWx._1CKI27o7_bFWqN ._14h18HzazyYmyL {\n  padding-right: 40px;\n}\n._1wC8JwxP7ezHWx._1CKI27o7_bFWqN .PsPz5iv8ykW1l0 {\n  display: block;\n}\n",""]),a.locals={dueListItem:"_1wC8JwxP7ezHWx",dueListItemLink:"_14h18HzazyYmyL",dueListItemLinkIcon:"PsPz5iv8ykW1l0",isActive:"_1CKI27o7_bFWqN"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Labels/LabelItem.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".XC2QuFC58Outfh {\n  margin-bottom: 2px;\n  cursor: pointer;\n}\n._1EnLxWFgy8-LgV {\n  border-radius: 3px;\n  display: block;\n  height: 30px;\n  line-height: 30px;\n  overflow: hidden;\n  position: relative;\n  text-overflow: ellipsis;\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 4px 4px 4px 42px;\n}\n._3gcHwpPZeEIvZr {\n  left: 4px;\n  position: absolute;\n  top: 4px;\n}\n._4Or4rFe0-Z9wSz {\n  display: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n._3j0Gkdvf6Nt26t._1cBcEQVPIeOP1e {\n  color: #5E6C84;\n}\n.XC2QuFC58Outfh:hover ._1EnLxWFgy8-LgV,\n.XC2QuFC58Outfh._136z8JbOYfiFZ4:hover ._1EnLxWFgy8-LgV {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n.XC2QuFC58Outfh:hover:active ._1EnLxWFgy8-LgV,\n.XC2QuFC58Outfh._136z8JbOYfiFZ4:hover:active ._1EnLxWFgy8-LgV {\n  background-color: #E4F0F6;\n}\n.XC2QuFC58Outfh._136z8JbOYfiFZ4 ._1EnLxWFgy8-LgV {\n  padding-right: 40px;\n}\n.XC2QuFC58Outfh._136z8JbOYfiFZ4 ._4Or4rFe0-Z9wSz {\n  display: block;\n}\n",""]),a.locals={labelListItem:"XC2QuFC58Outfh",labelListItemLink:"_1EnLxWFgy8-LgV",labelListItemLinkLabel:"_3gcHwpPZeEIvZr",labelListItemLinkIcon:"_4Or4rFe0-Z9wSz",labelListItemLinkName:"_3j0Gkdvf6Nt26t",modQuiet:"_1cBcEQVPIeOP1e",isActive:"_136z8JbOYfiFZ4"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Members/MemberItem.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2nyKfkTeFUeAdW {\n  margin-bottom: 2px;\n  cursor: pointer;\n}\n._2kbXRp-hxMF-ZM {\n  border-radius: 3px;\n  display: block;\n  height: 30px;\n  line-height: 30px;\n  overflow: hidden;\n  position: relative;\n  text-overflow: ellipsis;\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 4px 4px 4px 42px;\n}\n.u1ie-L5jaXO5hQ {\n  left: 4px;\n  position: absolute;\n  top: 4px;\n}\n._2tcMAGS3vpW4qs {\n  display: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n._1DtKaGATUpN0-N._2NqablVIe_a8pf {\n  color: #5E6C84;\n}\n._2nyKfkTeFUeAdW:hover ._2kbXRp-hxMF-ZM,\n._2nyKfkTeFUeAdW.YNetHrXOL4xwSL:hover ._2kbXRp-hxMF-ZM {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._2nyKfkTeFUeAdW:hover:active ._2kbXRp-hxMF-ZM,\n._2nyKfkTeFUeAdW.YNetHrXOL4xwSL:hover:active ._2kbXRp-hxMF-ZM {\n  background-color: #E4F0F6;\n}\n._2nyKfkTeFUeAdW.YNetHrXOL4xwSL ._2kbXRp-hxMF-ZM {\n  padding-right: 40px;\n}\n._2nyKfkTeFUeAdW.YNetHrXOL4xwSL ._2tcMAGS3vpW4qs {\n  display: block;\n}\n",""]),a.locals={memberListItem:"_2nyKfkTeFUeAdW",memberListItemLink:"_2kbXRp-hxMF-ZM",memberListItemLinkAvatar:"u1ie-L5jaXO5hQ",memberListItemLinkIcon:"_2tcMAGS3vpW4qs",memberListItemLinkName:"_1DtKaGATUpN0-N",modQuiet:"_2NqablVIe_a8pf",isActive:"YNetHrXOL4xwSL"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderFilter/Mode/ModeList.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1JOt-CsDyhPZi6 {\n  cursor: pointer;\n}\n.EFydOBm04vjaz7 {\n  border-radius: 3px;\n  display: block;\n  line-height: 30px;\n  position: relative;\n  text-decoration: none;\n  padding: 4px 4px 4px 42px;\n}\n._2X5o6NtL7-7zMq {\n  display: none;\n  position: absolute;\n  top: 25px;\n  right: 10px;\n}\n._1JOt-CsDyhPZi6:hover .EFydOBm04vjaz7,\n._1JOt-CsDyhPZi6._1JTiJTuu1hwYIb:hover .EFydOBm04vjaz7 {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._1JOt-CsDyhPZi6:hover:active .EFydOBm04vjaz7,\n._1JOt-CsDyhPZi6._1JTiJTuu1hwYIb:hover:active .EFydOBm04vjaz7 {\n  background-color: #E4F0F6;\n}\n._1JOt-CsDyhPZi6._1JTiJTuu1hwYIb .EFydOBm04vjaz7 {\n  padding-right: 35px;\n}\n._1JOt-CsDyhPZi6._1JTiJTuu1hwYIb ._2X5o6NtL7-7zMq {\n  display: block;\n}\n",""]),a.locals={modeListItem:"_1JOt-CsDyhPZi6",modeListItemLink:"EFydOBm04vjaz7",modeListItemLinkIcon:"_2X5o6NtL7-7zMq",isActive:"_1JTiJTuu1hwYIb"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2ZU66YEYCxI3WW {\n  display: block;\n  text-align: center;\n}\n._2ZU66YEYCxI3WW h4 {\n  font-size: 20px;\n  margin: 20px 16px 24px;\n}\n._2ZU66YEYCxI3WW p {\n  font-size: 16px;\n  margin: 0 0 8px;\n}\n",""]),a.locals={errorMessage:"_2ZU66YEYCxI3WW"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2w6KZMbwKqxZVN {\n  padding-right: 5px;\n  padding-left: 5px;\n  float: left;\n  display: inline-flex;\n  margin-right: 4px;\n  white-space: nowrap;\n}\n._3wFtm5r_eYKs0G {\n  display: inline-flex;\n  height: 100%;\n  width: 100%;\n  padding: 0 0 0 2px;\n}\n._3PafYdY35IpBIP {\n  display: inline-flex;\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n}\n._3fuU_kjBPjkFDH {\n  margin: 0 2px;\n  display: inline-flex;\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border-color: #FFFFFF;\n  z-index: 1;\n}\n._3fuU_kjBPjkFDH::before {\n  border-color: #FFFFFF;\n  content: '';\n  justify-content: center;\n  align-items: center;\n  background-color: #FFFFFF;\n  width: 100%;\n  height: 80%;\n  border-radius: 32px;\n  position: absolute;\n  z-index: -1;\n  animation-name: _30i8HyTUSw0-5U;\n  animation-duration: 2000ms;\n  animation-iteration-count: infinite;\n}\n@keyframes _30i8HyTUSw0-5U {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 50%;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n._1HlTReeHY-UsOL {\n  opacity: 1;\n  width: 100%;\n  max-width: 100%;\n}\n._2uDBXCy-yRHjN- {\n  opacity: 0;\n  width: 0;\n  max-width: 0;\n  padding: 0;\n  transition-duration: 0.15s;\n  transition-timing-function: linear;\n}\n.RR0Jg27bwAXJM_ {\n  height: 16px;\n  width: 16px;\n}\n",""]),a.locals={boardViewsButton:"_2w6KZMbwKqxZVN",boardViewsLabel:"_3wFtm5r_eYKs0G",icon:"_3PafYdY35IpBIP",boardViewsNewLozenge:"_3fuU_kjBPjkFDH",newPillPulse:"_30i8HyTUSw0-5U",newPillExit:"_1HlTReeHY-UsOL",newPillExitActive:"_2uDBXCy-yRHjN-",pluginIcon:"RR0Jg27bwAXJM_"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2KQ5WXr8obHzy0 {\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 0 1px rgba(9, 30, 66, 0.08);\n  cursor: initial;\n  text-align: initial;\n  background: #FFFFFF;\n  padding-left: 16px;\n  padding-right: 16px;\n  padding-top: 32px;\n  padding-bottom: 16px;\n  overflow: auto;\n  position: absolute;\n  display: block;\n  top: 40px;\n  left: 0;\n  white-space: normal;\n  width: 328px;\n  box-sizing: border-box;\n  border-radius: 3px;\n  text-rendering: geometricPrecision;\n  z-index: 10;\n}\n._2L3YoBB0KN1rNj {\n  position: absolute;\n  background: #FFFFFF;\n  width: 15px;\n  height: 15px;\n  top: 34px;\n  left: 20px;\n  transform: rotate(45deg);\n  z-index: 11;\n}\n.J-Tw8JF87oaSBx {\n  position: absolute;\n  cursor: pointer;\n  top: 4px;\n  right: 4px;\n  background: none;\n  padding: 4px;\n  margin: 0;\n  border: 0;\n  line-height: 22px;\n  width: 22px;\n  height: 22px;\n}\n._3_r_NJZ1wo0F0J {\n  color: #A5ADBA;\n  line-height: 14px;\n  margin-left: -1px;\n}\n",""]),a.locals={boardViewsCallout:"_2KQ5WXr8obHzy0",boardViewsCalloutPointer:"_2L3YoBB0KN1rNj",calloutCloseButtonWrapper:"J-Tw8JF87oaSBx",calloutCloseButton:"_3_r_NJZ1wo0F0J"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._21GFIc-zqoLxig {\n  margin: 2px 0 0 0;\n}\n",""]),a.locals={lineSeparator:"_21GFIc-zqoLxig"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2aWS4W_4h_945L {\n  margin: 0 20px 18px 20px;\n}\n._3r_PwGzSZB28ug {\n  text-align: center;\n}\n._3r_PwGzSZB28ug ._2NtujweYB_yQrC {\n  color: #172B4D;\n  font-size: 20px;\n  font-weight: 600;\n  letter-spacing: -0.008em;\n  line-height: 24px;\n  margin-top: 28px;\n  margin-top: 12px;\n  margin-bottom: 5px;\n}\n._1zqoWY4UC6h3Qn {\n  margin: 15px 0;\n}\n._1zqoWY4UC6h3Qn ._37celvfjR8Sinf {\n  margin-right: 15px;\n}\n._1zqoWY4UC6h3Qn ._1dUl1Y275gmJ7V {\n  display: inline-flex;\n  margin-bottom: 8px;\n}\n._1zqoWY4UC6h3Qn ._3RFe7fNm6rfi1f {\n  color: #172B4D;\n  font-size: 14px;\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  line-height: 16px;\n  margin-top: 16px;\n  margin-top: 8px;\n  margin-bottom: 4px;\n}\n._1zqoWY4UC6h3Qn ._2ml9ZDztiIOzcN {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n}\n._1t4uIavfc_vH-S {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n._1t4uIavfc_vH-S .jicAbUor2JZObq {\n  margin-top: 8px;\n  color: #5E6C84;\n}\n",""]),a.locals={container:"_2aWS4W_4h_945L",header:"_3r_PwGzSZB28ug",promptHeader:"_2NtujweYB_yQrC",content:"_1zqoWY4UC6h3Qn",viewIcon:"_37celvfjR8Sinf",view:"_1dUl1Y275gmJ7V",viewName:"_3RFe7fNm6rfi1f",viewDescription:"_2ml9ZDztiIOzcN",ctaSection:"_1t4uIavfc_vH-S",link:"jicAbUor2JZObq"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/PowerUpViewOptions.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2uOQdQpcLGqV50 {\n  height: 16px;\n  width: 16px;\n}\n",""]),a.locals={icon:"_2uOQdQpcLGqV50"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/VisualizeInNewWaysCallout.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1EwE1R0glNXskC {\n  display: block;\n  position: relative;\n  align-items: center;\n  align-self: center;\n  margin-left: auto;\n  margin-right: auto;\n}\n.YUT9a3oIGhvVfV {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n}\n._2WfxcJTXRsP8vU {\n  color: #172B4D;\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 20px;\n}\n",""]),a.locals={trelloViewsImage:"_1EwE1R0glNXskC",calloutHeaderText:"YUT9a3oIGhvVfV",calloutContentText:"_2WfxcJTXRsP8vU"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/WorkspaceViewsLink.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._9ACZb-qkx2m8-K {\n  display: flex;\n  text-decoration: none;\n  text-align: center;\n}\n._2CcJSS97CCx-3L {\n  position: absolute;\n  top: 10px;\n  left: 4px;\n}\n.CPaaZ9t6nJm23M {\n  flex: 1 0 auto;\n  display: inline-flex;\n}\n._3fr6P5E7DaQgM6 {\n  padding: 8px 0;\n}\n._11WwPwmEX-ozOI {\n  margin-top: 8px;\n}\n._14QUODFdTdrsju {\n  display: inline-flex;\n  flex: 0 0 auto;\n  height: 36px;\n  width: 36px;\n  position: relative;\n}\n._2bldxvpWWRcgtn {\n  display: inline-flex;\n  flex-grow: 1;\n  overflow-x: auto;\n  overflow-y: hidden;\n  position: relative;\n  padding: 8px 0;\n  width: 100%;\n}\n._1V_65flm8QaMkU {\n  position: inline-flex;\n  min-width: 0;\n  text-decoration: none;\n  justify-content: center;\n  margin: 0 -12px;\n  padding: 0 12px;\n}\n._1V_65flm8QaMkU:hover {\n  background-color: rgba(9, 30, 66, 0.04);\n  width: 100%;\n}\n._1V_65flm8QaMkU:active {\n  background-color: #E4F0F6;\n}\n._1V_65flm8QaMkU .JogYsbz7iH62jK {\n  margin-left: auto;\n}\n",""]),a.locals={linkTile:"_9ACZb-qkx2m8-K",beforeIcon:"_2CcJSS97CCx-3L",informationalIcons:"CPaaZ9t6nJm23M",betaLozenge:"_3fr6P5E7DaQgM6",linkIcon:"_11WwPwmEX-ozOI",tableThumbnail:"_14QUODFdTdrsju",linkDescription:"_2bldxvpWWRcgtn",teamTableCell:"_1V_65flm8QaMkU","last-item":"JogYsbz7iH62jK"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerBoardButtons.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3E0Ynyop8fklUJ {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 4px;\n  background-origin: content-box;\n  background-clip: content-box;\n  background-size: 16px;\n  background-repeat: no-repeat;\n  background-position: 4px 4px;\n  vertical-align: bottom;\n}\n._3K09J3xqj8n-uQ {\n  border-radius: 3px;\n  height: 32px;\n  margin: 0 4px 4px 0;\n  max-width: 400px;\n  padding-left: 32px;\n  position: relative;\n}\n",""]),a.locals={boardButtonIcon:"_3E0Ynyop8fklUJ",butlerBoardButton:"_3K09J3xqj8n-uQ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._37PQwmWF6qkiFK {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n}\n._2qmGS9Nc3ODoTI {\n  max-height: inherit;\n  overflow: hidden;\n}\n._3l1r-NHpXAI0Ml {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  white-space: normal;\n  overflow-wrap: break-word;\n  -webkit-hyphens: auto;\n          hyphens: auto;\n}\n._1Yo2WJgmuR2zB9 {\n  display: -webkit-box;\n  -webkit-line-clamp: 12;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  white-space: normal;\n  overflow-wrap: break-word;\n  -webkit-hyphens: auto;\n          hyphens: auto;\n  margin-top: 4px;\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n}\n",""]),a.locals={icon:"_37PQwmWF6qkiFK",tooltip:"_2qmGS9Nc3ODoTI",tooltipLabel:"_3l1r-NHpXAI0Ml",tooltipContent:"_1Yo2WJgmuR2zB9"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".BOySnPUoJQUGnr {\n  display: flex;\n  justify-content: space-between;\n}\n@media only screen and (max-width: 750px) {\n  .BOySnPUoJQUGnr {\n    justify-content: flex-start;\n  }\n}\n._4I4qDB_KwaGl4N {\n  margin-top: -2px;\n  padding: 2px;\n  height: 22px;\n}\n@media only screen and (max-width: 750px) {\n  ._4I4qDB_KwaGl4N {\n    margin-left: 16px;\n    width: unset !important;\n  }\n}\n._3FVPuRfNo8FxD0 {\n  border-bottom: 1px solid rgba(9, 30, 66, 0.13);\n  margin-bottom: 16px;\n  padding-bottom: 4px;\n}\n._3Jnr43v4VV__uE {\n  margin-top: 4px;\n  text-align: center;\n}\n._3ulWZAWDrYcZhw {\n  color: #8993A4;\n}\n._3ulWZAWDrYcZhw:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._3ulWZAWDrYcZhw:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._3ulWZAWDrYcZhw:hover {\n  color: #5E6C84;\n}\n._2HyWHDTw4jzWj7 {\n  display: inline;\n  cursor: pointer;\n}\n",""]),a.locals={header:"BOySnPUoJQUGnr",editIcon:"_4I4qDB_KwaGl4N",aboutButlerPopoverContent:"_3FVPuRfNo8FxD0",feedbackLinkContainer:"_3Jnr43v4VV__uE",feedbackLink:"_3ulWZAWDrYcZhw",betaLozenge:"_2HyWHDTw4jzWj7"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/AvailableActions.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"/* stylelint-disable rule-empty-line-before -- weird bug */\n.w_LC76v-Xyle3m {\n  display: grid;\n  grid-template-columns: 16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n._12rghHM6IQND_B,\n._22mZphPbBQ7-Ez,\n._32-12iNlC_QACy {\n  grid-column: 1 / -1;\n  padding: 8px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 6px rgba(9, 30, 66, 0.13);\n}\n._22mZphPbBQ7-Ez {\n  grid-column-start: inset;\n}\n.y7yjBbPioTM0zk {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  grid-column: 1 / thread;\n  margin-top: 0;\n  margin-bottom: 8px;\n  align-self: end;\n}\nhr._3abiTYPRc28wXQ {\n  grid-column: thread;\n  margin: 0 auto;\n  width: 1px;\n  background-color: #DFE1E6;\n}\nhr._1vJr6VaivX5tiz {\n  height: 8px;\n}\nhr.l8lTYcBXPS8vP5 {\n  height: 16px;\n}\nhr._1kqqsjyA0DrPxx {\n  height: 32px;\n}\n._3UagtVDPGF6m3v {\n  grid-column: 1 / -1;\n  margin: 0;\n}\n._3W0DfFy15i060o {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  font-size: 14px;\n  line-height: 28px;\n  color: #172B4D;\n}\n._1ulti6n-Gbi21P {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  width: 100%;\n}\n._10joJ-UvJpGFPU {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  margin-top: 0;\n  font-size: 10px;\n  font-weight: bold;\n}\n._12rghHM6IQND_B ._10joJ-UvJpGFPU {\n  color: #519839;\n}\n._22mZphPbBQ7-Ez ._10joJ-UvJpGFPU {\n  color: #96650A;\n}\n._32-12iNlC_QACy ._10joJ-UvJpGFPU {\n  color: #055A8C;\n}\n.body-color-blind-mode-enabled ._10joJ-UvJpGFPU,\n.body-color-blind-mode-enabled ~ div ._10joJ-UvJpGFPU {\n  color: #5E6C84;\n}\n._1z2hSmjkCHgiTc {\n  margin-right: 4px;\n  padding: 2px;\n  border-radius: 3px;\n}\n._1z2hSmjkCHgiTc > span {\n  line-height: 12px;\n}\n._1z2hSmjkCHgiTc > span > svg {\n  width: 12px;\n  height: 12px;\n  line-height: 12px;\n}\n.body-color-blind-mode-enabled ._1z2hSmjkCHgiTc,\n.body-color-blind-mode-enabled ~ div ._1z2hSmjkCHgiTc {\n  background-color: #F4F5F7 !important;\n}\n.body-color-blind-mode-enabled ._1z2hSmjkCHgiTc svg,\n.body-color-blind-mode-enabled ~ div ._1z2hSmjkCHgiTc svg {\n  color: #42526E !important;\n}\n._12rghHM6IQND_B ._1z2hSmjkCHgiTc {\n  background-color: #EEF6EC;\n}\n._12rghHM6IQND_B ._1z2hSmjkCHgiTc svg {\n  color: #519839;\n}\n._22mZphPbBQ7-Ez ._1z2hSmjkCHgiTc {\n  background-color: #FAF3C0;\n}\n._22mZphPbBQ7-Ez ._1z2hSmjkCHgiTc svg {\n  color: #96650A;\n}\n._32-12iNlC_QACy ._1z2hSmjkCHgiTc {\n  background-color: #E4F0F6;\n}\n._32-12iNlC_QACy ._1z2hSmjkCHgiTc svg {\n  color: #055A8C;\n}\n._3YFWBwlTLmemod {\n  margin-bottom: 0;\n}\n._3K4CW2BNFxk_On {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  margin-bottom: 8px;\n  border-radius: 3px;\n  border: 1px solid #DFE1E6;\n  padding: 4px;\n  font-size: 14px;\n  line-height: 28px;\n  color: #172B4D;\n}\n._3K4CW2BNFxk_On:first-child {\n  margin-top: 8px;\n}\n._3K4CW2BNFxk_On:hover,\n._3K4CW2BNFxk_On:focus {\n  background-color: #F4F5F7;\n}\n._2ygtV8ScyFunPk {\n  margin-right: 4px;\n  padding: 2px;\n  border-radius: 3px;\n  margin-right: 8px;\n  padding: 4px;\n}\n._2ygtV8ScyFunPk > span {\n  line-height: 12px;\n}\n._2ygtV8ScyFunPk > span > svg {\n  width: 12px;\n  height: 12px;\n  line-height: 12px;\n}\n.body-color-blind-mode-enabled ._2ygtV8ScyFunPk,\n.body-color-blind-mode-enabled ~ div ._2ygtV8ScyFunPk {\n  background-color: #F4F5F7 !important;\n}\n.body-color-blind-mode-enabled ._2ygtV8ScyFunPk svg,\n.body-color-blind-mode-enabled ~ div ._2ygtV8ScyFunPk svg {\n  color: #42526E !important;\n}\n._2ygtV8ScyFunPk > span {\n  line-height: 16px;\n}\n._2ygtV8ScyFunPk > span > svg {\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n}\n._2ygtV8ScyFunPk {\n  background-color: #E4F0F6;\n}\n._2ygtV8ScyFunPk svg {\n  color: #055A8C;\n}\n",""]),a.locals={grid:"w_LC76v-Xyle3m",trigger:"_12rghHM6IQND_B",condition:"_22mZphPbBQ7-Ez",action:"_32-12iNlC_QACy",sectionLabel:"y7yjBbPioTM0zk",thread:"_3abiTYPRc28wXQ","thread--sm":"_1vJr6VaivX5tiz","thread--md":"l8lTYcBXPS8vP5","thread--lg":"_1kqqsjyA0DrPxx",addActionButton:"_3UagtVDPGF6m3v",editor:"_3W0DfFy15i060o",header:"_1ulti6n-Gbi21P",category:"_10joJ-UvJpGFPU",icon:"_1z2hSmjkCHgiTc",removeButton:"_3YFWBwlTLmemod",actionOption:"_3K4CW2BNFxk_On",actionOptionIcon:"_2ygtV8ScyFunPk"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandEditor.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"/* stylelint-disable rule-empty-line-before -- weird bug */\n._2m7ia83v6wExvt {\n  display: grid;\n  grid-template-columns: 16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n._1EwCFm4jBG08-I,\n.c-i1xMejnd_seT,\n._2XC-p9QorC-O5B {\n  grid-column: 1 / -1;\n  padding: 8px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 6px rgba(9, 30, 66, 0.13);\n}\n.c-i1xMejnd_seT {\n  grid-column-start: inset;\n}\n._2io1d00DsRQoE9 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  grid-column: 1 / thread;\n  margin-top: 0;\n  margin-bottom: 8px;\n  align-self: end;\n}\nhr._29EsrIqVLDsH69 {\n  grid-column: thread;\n  margin: 0 auto;\n  width: 1px;\n  background-color: #DFE1E6;\n}\nhr.r1onCSDx0FOnyW {\n  height: 8px;\n}\nhr._2WF9gMs-Eu10rI {\n  height: 16px;\n}\nhr.d1lMuRSPUaTv-B {\n  height: 32px;\n}\n._1rghf8bKbnA8kW {\n  grid-column: 1 / -1;\n  margin: 0;\n}\n._12g01sFV67Sqgy {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  font-size: 14px;\n  line-height: 28px;\n  color: #172B4D;\n}\n._1QyEcOnpp2PdA- {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  width: 100%;\n}\n._14G4PnziSf3Mej {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  margin-top: 0;\n  font-size: 10px;\n  font-weight: bold;\n}\n._1EwCFm4jBG08-I ._14G4PnziSf3Mej {\n  color: #519839;\n}\n.c-i1xMejnd_seT ._14G4PnziSf3Mej {\n  color: #96650A;\n}\n._2XC-p9QorC-O5B ._14G4PnziSf3Mej {\n  color: #055A8C;\n}\n.body-color-blind-mode-enabled ._14G4PnziSf3Mej,\n.body-color-blind-mode-enabled ~ div ._14G4PnziSf3Mej {\n  color: #5E6C84;\n}\n.FvHQYT6khWui9j {\n  margin-right: 4px;\n  padding: 2px;\n  border-radius: 3px;\n}\n.FvHQYT6khWui9j > span {\n  line-height: 12px;\n}\n.FvHQYT6khWui9j > span > svg {\n  width: 12px;\n  height: 12px;\n  line-height: 12px;\n}\n.body-color-blind-mode-enabled .FvHQYT6khWui9j,\n.body-color-blind-mode-enabled ~ div .FvHQYT6khWui9j {\n  background-color: #F4F5F7 !important;\n}\n.body-color-blind-mode-enabled .FvHQYT6khWui9j svg,\n.body-color-blind-mode-enabled ~ div .FvHQYT6khWui9j svg {\n  color: #42526E !important;\n}\n._1EwCFm4jBG08-I .FvHQYT6khWui9j {\n  background-color: #EEF6EC;\n}\n._1EwCFm4jBG08-I .FvHQYT6khWui9j svg {\n  color: #519839;\n}\n.c-i1xMejnd_seT .FvHQYT6khWui9j {\n  background-color: #FAF3C0;\n}\n.c-i1xMejnd_seT .FvHQYT6khWui9j svg {\n  color: #96650A;\n}\n._2XC-p9QorC-O5B .FvHQYT6khWui9j {\n  background-color: #E4F0F6;\n}\n._2XC-p9QorC-O5B .FvHQYT6khWui9j svg {\n  color: #055A8C;\n}\n._6YNxirDxSklFF5 {\n  margin-bottom: 0;\n}\n",""]),a.locals={grid:"_2m7ia83v6wExvt",trigger:"_1EwCFm4jBG08-I",condition:"c-i1xMejnd_seT",action:"_2XC-p9QorC-O5B",sectionLabel:"_2io1d00DsRQoE9",thread:"_29EsrIqVLDsH69","thread--sm":"r1onCSDx0FOnyW","thread--md":"_2WF9gMs-Eu10rI","thread--lg":"d1lMuRSPUaTv-B",addActionButton:"_1rghf8bKbnA8kW",editor:"_12g01sFV67Sqgy",header:"_1QyEcOnpp2PdA-",category:"_14G4PnziSf3Mej",icon:"FvHQYT6khWui9j",removeButton:"_6YNxirDxSklFF5"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/runtime/getUrl.js"),s=n.n(r),o=n("./resources/images/patterns/light/StripeDiagonal.svg"),l=n.n(o),c=n("./resources/images/patterns/light/WaveSquare.svg"),d=n.n(c),u=n("./resources/images/patterns/light/StripeVertical.svg"),p=n.n(u),m=n("./resources/images/patterns/light/DotsChecker.svg"),h=n.n(m),g=n("./resources/images/patterns/light/GrooveDiagonal.svg"),b=n.n(g),v=n("./resources/images/patterns/light/StripeHorizontal.svg"),f=n.n(v),_=n("./resources/images/patterns/light/BrickHorizontal.svg"),k=n.n(_),y=n("./resources/images/patterns/light/BrickDiagonal.svg"),E=n.n(y),w=n("./resources/images/patterns/light/Scale.svg"),C=n.n(w),T=n("./resources/images/patterns/light/BrickVertical.svg"),O=n.n(T),j=a()(!1),A=s()(l.a),x=s()(d.a),N=s()(p.a),S=s()(h.a),I=s()(b.a),D=s()(f.a),B=s()(k.a),P=s()(E.a),F=s()(C.a),L=s()(O.a);j.push([e.i,'/* stylelint-disable rule-empty-line-before -- weird bug */\n._1C7PmMypO-Sea4 {\n  display: grid;\n  grid-template-columns: 16px [inset] calc(50% - 16px - 8px / 2) [thread] 8px 1fr;\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n._3Egs6QRtqw-F98,\n._3WxfsGs4xOdW0n,\n._2B3X8-VoHs36ed {\n  grid-column: 1 / -1;\n  padding: 8px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 6px rgba(9, 30, 66, 0.13);\n}\n._3WxfsGs4xOdW0n {\n  grid-column-start: inset;\n}\n.O4Inv2p_2RyHgj {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  grid-column: 1 / thread;\n  margin-top: 0;\n  margin-bottom: 8px;\n  align-self: end;\n}\nhr._2K7354decBovRf {\n  grid-column: thread;\n  margin: 0 auto;\n  width: 1px;\n  background-color: #DFE1E6;\n}\nhr._2RfF8_d5noNRM9 {\n  height: 8px;\n}\nhr._2QwUevl5OuunVu {\n  height: 16px;\n}\nhr._2m4kVnECDTFNnO {\n  height: 32px;\n}\n._1gGc8ypZstuoIV {\n  grid-column: 1 / -1;\n  margin: 0;\n}\n._2H3LYAHSAyJnor {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  font-size: 14px;\n  line-height: 28px;\n  color: #172B4D;\n}\n._15bNhL32dvOnHQ {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  width: 100%;\n}\n._28FRB1oRBvoQNT {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  margin-top: 0;\n  font-size: 10px;\n  font-weight: bold;\n}\n._3Egs6QRtqw-F98 ._28FRB1oRBvoQNT {\n  color: #519839;\n}\n._3WxfsGs4xOdW0n ._28FRB1oRBvoQNT {\n  color: #96650A;\n}\n._2B3X8-VoHs36ed ._28FRB1oRBvoQNT {\n  color: #055A8C;\n}\n.body-color-blind-mode-enabled ._28FRB1oRBvoQNT,\n.body-color-blind-mode-enabled ~ div ._28FRB1oRBvoQNT {\n  color: #5E6C84;\n}\n._1ZplJxVBXyMJdi {\n  margin-right: 4px;\n  padding: 2px;\n  border-radius: 3px;\n}\n._1ZplJxVBXyMJdi > span {\n  line-height: 12px;\n}\n._1ZplJxVBXyMJdi > span > svg {\n  width: 12px;\n  height: 12px;\n  line-height: 12px;\n}\n.body-color-blind-mode-enabled ._1ZplJxVBXyMJdi,\n.body-color-blind-mode-enabled ~ div ._1ZplJxVBXyMJdi {\n  background-color: #F4F5F7 !important;\n}\n.body-color-blind-mode-enabled ._1ZplJxVBXyMJdi svg,\n.body-color-blind-mode-enabled ~ div ._1ZplJxVBXyMJdi svg {\n  color: #42526E !important;\n}\n._3Egs6QRtqw-F98 ._1ZplJxVBXyMJdi {\n  background-color: #EEF6EC;\n}\n._3Egs6QRtqw-F98 ._1ZplJxVBXyMJdi svg {\n  color: #519839;\n}\n._3WxfsGs4xOdW0n ._1ZplJxVBXyMJdi {\n  background-color: #FAF3C0;\n}\n._3WxfsGs4xOdW0n ._1ZplJxVBXyMJdi svg {\n  color: #96650A;\n}\n._2B3X8-VoHs36ed ._1ZplJxVBXyMJdi {\n  background-color: #E4F0F6;\n}\n._2B3X8-VoHs36ed ._1ZplJxVBXyMJdi svg {\n  color: #055A8C;\n}\n._1OAPhFyZL1Buli {\n  margin-bottom: 0;\n}\n._1HTasggO7FmLJe {\n  display: inline-flex;\n  align-items: center;\n}\n._1HTasggO7FmLJe::before,\n._1HTasggO7FmLJe::after {\n  content: \'\\00a0\';\n}\n._1HTasggO7FmLJe > div {\n  flex-grow: 1;\n  width: calc(100% - 8px);\n}\n._1HTasggO7FmLJe input[type="text"] {\n  margin: 0;\n}\n._1HTasggO7FmLJe input[type="text"]:focus {\n  box-shadow: none;\n}\n.QdHaddWoq-62kX {\n  display: inline-block;\n  color: white;\n  font-weight: 500;\n  width: 90%;\n  min-height: 20px;\n  margin-bottom: -5px;\n  padding: 0 5px;\n  border-radius: 5px;\n  background-color: #B3BAC5;\n  background-repeat: repeat-y;\n  background-size: 16px 16px;\n  background-position: top left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.body-color-blind-mode-enabled .QdHaddWoq-62kX,\n.body-color-blind-mode-enabled ~ div .QdHaddWoq-62kX {\n  padding-left: 21px;\n  width: calc(90% - 21px);\n}\n._1RChjJ95qKCQ7O {\n  background-color: #61BD4F;\n}\n.body-color-blind-mode-enabled ._1RChjJ95qKCQ7O,\n.body-color-blind-mode-enabled ~ div ._1RChjJ95qKCQ7O {\n  background-image: url('+A+");\n}\n._3DotK7mcY8rCRd {\n  background-color: #F2D600;\n}\n.body-color-blind-mode-enabled ._3DotK7mcY8rCRd,\n.body-color-blind-mode-enabled ~ div ._3DotK7mcY8rCRd {\n  background-image: url("+x+");\n}\n._3s3bT4JyARG50v {\n  background-color: #FF9F1A;\n}\n.body-color-blind-mode-enabled ._3s3bT4JyARG50v,\n.body-color-blind-mode-enabled ~ div ._3s3bT4JyARG50v {\n  background-image: url("+N+");\n}\n._2ZTj12y2qpMB2O {\n  background-color: #EB5A46;\n}\n.body-color-blind-mode-enabled ._2ZTj12y2qpMB2O,\n.body-color-blind-mode-enabled ~ div ._2ZTj12y2qpMB2O {\n  background-image: url("+S+");\n}\n._1WFmPA4HAi63fo {\n  background-color: #C377E0;\n}\n.body-color-blind-mode-enabled ._1WFmPA4HAi63fo,\n.body-color-blind-mode-enabled ~ div ._1WFmPA4HAi63fo {\n  background-image: url("+I+");\n}\n._2SaThOlQ93V60p {\n  background-color: #0079BF;\n}\n.body-color-blind-mode-enabled ._2SaThOlQ93V60p,\n.body-color-blind-mode-enabled ~ div ._2SaThOlQ93V60p {\n  background-image: url("+D+");\n}\n._2hS8hAsYkCOlVy {\n  background-color: #FF78CB;\n}\n.body-color-blind-mode-enabled ._2hS8hAsYkCOlVy,\n.body-color-blind-mode-enabled ~ div ._2hS8hAsYkCOlVy {\n  background-image: url("+B+");\n}\n._5LHsvH37Uestri {\n  background-color: #00C2E0;\n}\n.body-color-blind-mode-enabled ._5LHsvH37Uestri,\n.body-color-blind-mode-enabled ~ div ._5LHsvH37Uestri {\n  background-image: url("+P+");\n}\n._14oYEVgGpRl0EE {\n  background-color: #51E898;\n}\n.body-color-blind-mode-enabled ._14oYEVgGpRl0EE,\n.body-color-blind-mode-enabled ~ div ._14oYEVgGpRl0EE {\n  background-image: url("+F+");\n}\n._2i0jN1DYIMU1fw {\n  background-color: #344563;\n}\n.body-color-blind-mode-enabled ._2i0jN1DYIMU1fw,\n.body-color-blind-mode-enabled ~ div ._2i0jN1DYIMU1fw {\n  background-image: url("+L+");\n}\n",""]),j.locals={grid:"_1C7PmMypO-Sea4",trigger:"_3Egs6QRtqw-F98",condition:"_3WxfsGs4xOdW0n",action:"_2B3X8-VoHs36ed",sectionLabel:"O4Inv2p_2RyHgj",thread:"_2K7354decBovRf","thread--sm":"_2RfF8_d5noNRM9","thread--md":"_2QwUevl5OuunVu","thread--lg":"_2m4kVnECDTFNnO",addActionButton:"_1gGc8ypZstuoIV",editor:"_2H3LYAHSAyJnor",header:"_15bNhL32dvOnHQ",category:"_28FRB1oRBvoQNT",icon:"_1ZplJxVBXyMJdi",removeButton:"_1OAPhFyZL1Buli",select:"_1HTasggO7FmLJe",colorLabel:"QdHaddWoq-62kX","colorLabel--green":"_1RChjJ95qKCQ7O","colorLabel--yellow":"_3DotK7mcY8rCRd","colorLabel--orange":"_3s3bT4JyARG50v","colorLabel--red":"_2ZTj12y2qpMB2O","colorLabel--purple":"_1WFmPA4HAi63fo","colorLabel--blue":"_2SaThOlQ93V60p","colorLabel--pink":"_2hS8hAsYkCOlVy","colorLabel--sky":"_5LHsvH37Uestri","colorLabel--lime":"_14oYEVgGpRl0EE","colorLabel--black":"_2i0jN1DYIMU1fw"},t.a=j},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2_KQQ_Sshrp3Wa,\n._1nadh4Je6r_vEl {\n  display: inline-flex;\n  align-items: center;\n}\n._2_KQQ_Sshrp3Wa::before,\n._2_KQQ_Sshrp3Wa::after,\n._1nadh4Je6r_vEl::before,\n._1nadh4Je6r_vEl::after {\n  content: '\\00a0';\n}\n._2_KQQ_Sshrp3Wa input,\n._1nadh4Je6r_vEl input {\n  flex-grow: 1;\n}\n._2_KQQ_Sshrp3Wa input[type='text'],\n._2_KQQ_Sshrp3Wa input[type='email'],\n._2_KQQ_Sshrp3Wa input[type='password'],\n._1nadh4Je6r_vEl input[type='text'],\n._1nadh4Je6r_vEl input[type='email'],\n._1nadh4Je6r_vEl input[type='password'] {\n  margin: 0;\n  width: 100%;\n}\n._2_KQQ_Sshrp3Wa input[type='number'],\n._1nadh4Je6r_vEl input[type='number'] {\n  -moz-appearance: textfield;\n}\n._2_KQQ_Sshrp3Wa input[type='number']::-webkit-outer-spin-button,\n._2_KQQ_Sshrp3Wa input[type='number']::-webkit-inner-spin-button,\n._1nadh4Je6r_vEl input[type='number']::-webkit-outer-spin-button,\n._1nadh4Je6r_vEl input[type='number']::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n._1nadh4Je6r_vEl {\n  width: 90px;\n}\n",""]),a.locals={commandText:"_2_KQQ_Sshrp3Wa",commandTime:"_1nadh4Je6r_vEl"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/ListRule/ButlerListMenuSection.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._17tnzI23u0OHU7 {\n  margin-bottom: 8px;\n  padding-top: 8px;\n  line-height: 16px;\n}\n.b0OxPzRBawk_cA {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin: 0;\n}\n.GMhGNdzpQP-TmT {\n  margin-left: 8px;\n}\n._1teiouYjc4tfho {\n  font-size: 12px;\n  text-decoration: none;\n  color: #8993A4;\n}\n._1teiouYjc4tfho:hover,\n._1teiouYjc4tfho:active,\n._1teiouYjc4tfho:focus {\n  color: #5E6C84;\n  text-decoration: underline;\n}\n._1teiouYjc4tfho:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._1teiouYjc4tfho:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._33JskB42RgQXW2 {\n  display: flex;\n  flex-direction: column;\n}\n._33JskB42RgQXW2 > li {\n  display: inline-flex;\n  align-items: center;\n}\n._33JskB42RgQXW2 > li > .dnllgGLWWbvYZS {\n  display: flex;\n  width: 100%;\n}\n._1BFfP8OLQ_eY36 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n}\n._2kf0z7FHsJuSIs {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex-shrink: 1;\n}\n.LwChlzy5pm2cbd {\n  flex-shrink: 0;\n  margin-left: 4px;\n}\n",""]),a.locals={header:"_17tnzI23u0OHU7",title:"b0OxPzRBawk_cA",newPill:"GMhGNdzpQP-TmT",feedbackLink:"_1teiouYjc4tfho",templates:"_33JskB42RgQXW2",customRuleButton:"dnllgGLWWbvYZS",template:"_1BFfP8OLQ_eY36",customRuleLabel:"_2kf0z7FHsJuSIs",externalLinkIcon:"LwChlzy5pm2cbd"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2WhAN4X5Ccs0Hn {\n  text-align: center;\n  margin-bottom: 0;\n}\n._15s292JN-yPk85 {\n  text-align: center;\n}\n._2fmlqoQsTjifiA {\n  margin-bottom: 0;\n}\n",""]),a.locals={notAdmin:"_2WhAN4X5Ccs0Hn",isAdmin:"_15s292JN-yPk85",enableButton:"_2fmlqoQsTjifiA"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/runtime/getUrl.js"),s=n.n(r),o=n("./resources/images/patterns/dark/StripeHorizontal.svg"),l=n.n(o),c=n("./resources/images/patterns/dark/StripeDiagonal.svg"),d=n.n(c),u=n("./resources/images/patterns/dark/StripeVertical.svg"),p=n.n(u),m=n("./resources/images/patterns/dark/DotsChecker.svg"),h=n.n(m),g=n("./resources/images/patterns/dark/GrooveDiagonal.svg"),b=n.n(g),v=n("./resources/images/patterns/dark/WaveSquare.svg"),f=n.n(v),_=n("./resources/images/patterns/dark/BrickHorizontal.svg"),k=n.n(_),y=n("./resources/images/patterns/dark/BrickDiagonal.svg"),E=n.n(y),w=n("./resources/images/patterns/dark/Scale.svg"),C=n.n(w),T=n("./resources/images/patterns/light/BrickVertical.svg"),O=n.n(T),j=a()(!1),A=s()(l.a),x=s()(d.a),N=s()(p.a),S=s()(h.a),I=s()(b.a),D=s()(f.a),B=s()(k.a),P=s()(E.a),F=s()(C.a),L=s()(O.a);j.push([e.i,"._3FV-6QkcJdM5JN {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-button:start:decrement,\n._3FV-6QkcJdM5JN::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._3FV-6QkcJdM5JN::-webkit-scrollbar-thumb:vertical,\n._3FV-6QkcJdM5JN::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._3FV-6QkcJdM5JN._3SN4giPFM8CHLd {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._3C99yoCIHKJGXj {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._3C99yoCIHKJGXj._2BpBKzsNlrUqdq {\n  opacity: 0.25;\n}\n._3C99yoCIHKJGXj:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._3C99yoCIHKJGXj:active {\n  filter: saturate(70%) brightness(70%);\n}\n._3C99yoCIHKJGXj._3LtK8pTh0IP6jF {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._3C99yoCIHKJGXj._3LtK8pTh0IP6jF:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._3C99yoCIHKJGXj._3LtK8pTh0IP6jF:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._3C99yoCIHKJGXj._1eLOEkR0Hx3wSL {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._3C99yoCIHKJGXj._1eLOEkR0Hx3wSL:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._3C99yoCIHKJGXj._1eLOEkR0Hx3wSL:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._3C99yoCIHKJGXj._1eLOEkR0Hx3wSL:active .p94ciD2Bbn-VJ8 {\n  color: #0079BF;\n}\n._3C99yoCIHKJGXj._1eLOEkR0Hx3wSL:active svg circle {\n  stroke: #0079BF;\n}\n.IY7Iqs0GuDOFpZ {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n.YkrFKRFIBVAiVq {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-button:start:decrement,\n.YkrFKRFIBVAiVq::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n.YkrFKRFIBVAiVq::-webkit-scrollbar-thumb:vertical,\n.YkrFKRFIBVAiVq::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n.YkrFKRFIBVAiVq._3SN4giPFM8CHLd {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._31xT7xOqkxPLkw {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  width: 50px;\n  height: 32px;\n  cursor: pointer;\n}\n._31xT7xOqkxPLkw._2BpBKzsNlrUqdq {\n  opacity: 0.25;\n}\n._31xT7xOqkxPLkw:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._31xT7xOqkxPLkw:active {\n  filter: saturate(70%) brightness(70%);\n}\n._31xT7xOqkxPLkw._3LtK8pTh0IP6jF {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._31xT7xOqkxPLkw._3LtK8pTh0IP6jF:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._31xT7xOqkxPLkw._3LtK8pTh0IP6jF:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._31xT7xOqkxPLkw._3Rilp7XwjrQrfV {\n  background-color: #5BA4CF;\n}\n._31xT7xOqkxPLkw._1hFyzxe1-LRBw8 {\n  background-color: #7BC86C;\n}\n._31xT7xOqkxPLkw._3fbBEWI2O2NMNN {\n  background-color: #FFAF3F;\n}\n._31xT7xOqkxPLkw._1lQzY6C5CVUUxw {\n  background-color: #EF7564;\n}\n._31xT7xOqkxPLkw._3GdCpFdaWSN4H4 {\n  background-color: #CD8DE5;\n}\n._31xT7xOqkxPLkw._1kFCqdmLY2X1fa {\n  background-color: #F5DD29;\n}\n._31xT7xOqkxPLkw._3LXcWy8pkF_N7j {\n  background-color: #FF8ED4;\n}\n._31xT7xOqkxPLkw._3PYjFb7GK6Y5Cy {\n  background-color: #29CCE5;\n}\n._31xT7xOqkxPLkw._3WED4RNr6dLCTr {\n  background-color: #6DECA9;\n}\n._31xT7xOqkxPLkw._2v4IMkqDq3aDWf {\n  background-color: #172B4D;\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw {\n  background-size: 16px 16px;\n  background-repeat: repeat;\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._3Rilp7XwjrQrfV {\n  background-image: url("+A+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._1hFyzxe1-LRBw8 {\n  background-image: url("+x+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._3fbBEWI2O2NMNN {\n  background-image: url("+N+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._1lQzY6C5CVUUxw {\n  background-image: url("+S+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._3GdCpFdaWSN4H4 {\n  background-image: url("+I+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._1kFCqdmLY2X1fa {\n  background-image: url("+D+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._3LXcWy8pkF_N7j {\n  background-image: url("+B+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._3PYjFb7GK6Y5Cy {\n  background-image: url("+P+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._3WED4RNr6dLCTr {\n  background-image: url("+F+");\n}\n.body-color-blind-mode-enabled ._31xT7xOqkxPLkw._2v4IMkqDq3aDWf {\n  background-image: url("+L+");\n}\n",""]),j.locals={coverTiles:"_3FV-6QkcJdM5JN",modFixedHeight:"_3SN4giPFM8CHLd",coverTilesItem:"_3C99yoCIHKJGXj",uploading:"_2BpBKzsNlrUqdq",selected:"_3LtK8pTh0IP6jF",modAdd:"_1eLOEkR0Hx3wSL","icon-sm":"p94ciD2Bbn-VJ8",heading:"IY7Iqs0GuDOFpZ",colorTiles:"YkrFKRFIBVAiVq",colorTile:"_31xT7xOqkxPLkw",blue:"_3Rilp7XwjrQrfV",green:"_1hFyzxe1-LRBw8",orange:"_3fbBEWI2O2NMNN",red:"_1lQzY6C5CVUUxw",purple:"_3GdCpFdaWSN4H4",yellow:"_1kFCqdmLY2X1fa",pink:"_3LXcWy8pkF_N7j",sky:"_3PYjFb7GK6Y5Cy",lime:"_3WED4RNr6dLCTr",black:"_2v4IMkqDq3aDWf"},t.a=j},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/runtime/getUrl.js"),s=n.n(r),o=n("./resources/images/patterns/dark/StripeHorizontal.svg"),l=n.n(o),c=n("./resources/images/patterns/dark/StripeDiagonal.svg"),d=n.n(c),u=n("./resources/images/patterns/dark/StripeVertical.svg"),p=n.n(u),m=n("./resources/images/patterns/dark/DotsChecker.svg"),h=n.n(m),g=n("./resources/images/patterns/dark/GrooveDiagonal.svg"),b=n.n(g),v=n("./resources/images/patterns/dark/WaveSquare.svg"),f=n.n(v),_=n("./resources/images/patterns/dark/BrickHorizontal.svg"),k=n.n(_),y=n("./resources/images/patterns/dark/BrickDiagonal.svg"),E=n.n(y),w=n("./resources/images/patterns/dark/Scale.svg"),C=n.n(w),T=n("./resources/images/patterns/light/BrickVertical.svg"),O=n.n(T),j=a()(!1),A=s()(l.a),x=s()(d.a),N=s()(p.a),S=s()(h.a),I=s()(b.a),D=s()(f.a),B=s()(k.a),P=s()(E.a),F=s()(C.a),L=s()(O.a);j.push([e.i,"._2r45NCQQkqOKuE {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-button:start:decrement,\n._2r45NCQQkqOKuE::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._2r45NCQQkqOKuE::-webkit-scrollbar-thumb:vertical,\n._2r45NCQQkqOKuE::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._2r45NCQQkqOKuE._3T33MhlcikhAVv {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n.CUQ18tqnduYCMr {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n.CUQ18tqnduYCMr._1Osyey89hxvWj_ {\n  opacity: 0.25;\n}\n.CUQ18tqnduYCMr:hover {\n  filter: saturate(85%) brightness(85%);\n}\n.CUQ18tqnduYCMr:active {\n  filter: saturate(70%) brightness(70%);\n}\n.CUQ18tqnduYCMr.pDwXzkLu1P2RNn {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n.CUQ18tqnduYCMr.pDwXzkLu1P2RNn:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n.CUQ18tqnduYCMr.pDwXzkLu1P2RNn:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n.CUQ18tqnduYCMr._3qTXptowHdffuj {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n.CUQ18tqnduYCMr._3qTXptowHdffuj:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n.CUQ18tqnduYCMr._3qTXptowHdffuj:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n.CUQ18tqnduYCMr._3qTXptowHdffuj:active ._2p-IXbla5Hftjg {\n  color: #0079BF;\n}\n.CUQ18tqnduYCMr._3qTXptowHdffuj:active svg circle {\n  stroke: #0079BF;\n}\n._38V7MCLqwxFP7h {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n._12Td3F3e9pcByb {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-button:start:decrement,\n._12Td3F3e9pcByb::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._12Td3F3e9pcByb::-webkit-scrollbar-thumb:vertical,\n._12Td3F3e9pcByb::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._12Td3F3e9pcByb._3T33MhlcikhAVv {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._3Wi_tYKv1Nzbm4 {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  width: 50px;\n  height: 32px;\n  cursor: pointer;\n}\n._3Wi_tYKv1Nzbm4._1Osyey89hxvWj_ {\n  opacity: 0.25;\n}\n._3Wi_tYKv1Nzbm4:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._3Wi_tYKv1Nzbm4:active {\n  filter: saturate(70%) brightness(70%);\n}\n._3Wi_tYKv1Nzbm4.pDwXzkLu1P2RNn {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._3Wi_tYKv1Nzbm4.pDwXzkLu1P2RNn:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._3Wi_tYKv1Nzbm4.pDwXzkLu1P2RNn:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._3Wi_tYKv1Nzbm4.iXRBP8FxQcAVZy {\n  background-color: #5BA4CF;\n}\n._3Wi_tYKv1Nzbm4._1qF4dpysMWYas- {\n  background-color: #7BC86C;\n}\n._3Wi_tYKv1Nzbm4._3UNT_P6CMO-1pj {\n  background-color: #FFAF3F;\n}\n._3Wi_tYKv1Nzbm4._3uF-GyZQ3ZLWtm {\n  background-color: #EF7564;\n}\n._3Wi_tYKv1Nzbm4._1uHMvzUIEWKujG {\n  background-color: #CD8DE5;\n}\n._3Wi_tYKv1Nzbm4.P8CFlRF9jmt-gc {\n  background-color: #F5DD29;\n}\n._3Wi_tYKv1Nzbm4.A7yiCrvLScChrk {\n  background-color: #FF8ED4;\n}\n._3Wi_tYKv1Nzbm4._2q3Nk2WSanOPzw {\n  background-color: #29CCE5;\n}\n._3Wi_tYKv1Nzbm4._35LzzBekvNx4Ug {\n  background-color: #6DECA9;\n}\n._3Wi_tYKv1Nzbm4._1LTJMoWeQuVyGz {\n  background-color: #172B4D;\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4 {\n  background-size: 16px 16px;\n  background-repeat: repeat;\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4.iXRBP8FxQcAVZy {\n  background-image: url("+A+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._1qF4dpysMWYas- {\n  background-image: url("+x+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._3UNT_P6CMO-1pj {\n  background-image: url("+N+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._3uF-GyZQ3ZLWtm {\n  background-image: url("+S+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._1uHMvzUIEWKujG {\n  background-image: url("+I+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4.P8CFlRF9jmt-gc {\n  background-image: url("+D+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4.A7yiCrvLScChrk {\n  background-image: url("+B+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._2q3Nk2WSanOPzw {\n  background-image: url("+P+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._35LzzBekvNx4Ug {\n  background-image: url("+F+");\n}\n.body-color-blind-mode-enabled ._3Wi_tYKv1Nzbm4._1LTJMoWeQuVyGz {\n  background-image: url("+L+");\n}\n.isvr-Reb94vq0g {\n  margin: 0;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  cursor: pointer;\n  background: #FFFFFF;\n  border-radius: 3px;\n  position: relative;\n  width: 134px;\n  height: 34px;\n  border: 1px solid rgba(9, 30, 66, 0.08);\n}\n.isvr-Reb94vq0g._1Osyey89hxvWj_ {\n  opacity: 0.25;\n}\n.isvr-Reb94vq0g:hover {\n  filter: saturate(85%) brightness(85%);\n}\n.isvr-Reb94vq0g:active {\n  filter: saturate(70%) brightness(70%);\n}\n.isvr-Reb94vq0g.pDwXzkLu1P2RNn {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n.isvr-Reb94vq0g.pDwXzkLu1P2RNn:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n.isvr-Reb94vq0g.pDwXzkLu1P2RNn:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg {\n  height: 28px;\n  border-radius: 3px 3px 0 0;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj.iXRBP8FxQcAVZy {\n  background-color: #5BA4CF;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._1qF4dpysMWYas- {\n  background-color: #7BC86C;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._3UNT_P6CMO-1pj {\n  background-color: #FFAF3F;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._3uF-GyZQ3ZLWtm {\n  background-color: #EF7564;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._1uHMvzUIEWKujG {\n  background-color: #CD8DE5;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj.P8CFlRF9jmt-gc {\n  background-color: #F5DD29;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj.A7yiCrvLScChrk {\n  background-color: #FF8ED4;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._2q3Nk2WSanOPzw {\n  background-color: #29CCE5;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._35LzzBekvNx4Ug {\n  background-color: #6DECA9;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg._3QRlWW0AYELTNj._1LTJMoWeQuVyGz {\n  background-color: #172B4D;\n}\n.isvr-Reb94vq0g ._28YCxuL0b0PLJg.ArpE6wxF5lsZ5R {\n  background-size: cover;\n}\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP {\n  padding: 6px 4px 4px 6px;\n  position: relative;\n}\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP ._3zyygYjXmBCuZ8,\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP ._2YkoNjZbIBZjxA {\n  background: #6B778C;\n  height: 4px;\n  border-radius: 2px;\n  width: 122px;\n}\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP ._2YkoNjZbIBZjxA {\n  width: 98px;\n  margin-top: 4px;\n}\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP ._3KUp4qsMp7f0nZ {\n  display: flex;\n  margin-top: 6px;\n}\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP ._3KUp4qsMp7f0nZ ._2TkMxnIj6-MZD9 {\n  width: 16px;\n  height: 6px;\n  background: #6B778C;\n  border-radius: 2px;\n  margin-right: 2px;\n}\n.isvr-Reb94vq0g ._2_NkiO6b3w-TwP ._3K8WSoeRLtPYZP {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  right: 4px;\n  bottom: 4px;\n  background: #6B778C;\n  border-radius: 5px;\n}\n.isvr-Reb94vq0g.c2K-XOKpsarOtb,\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY {\n  height: 62px;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj.iXRBP8FxQcAVZy {\n  background-color: #5BA4CF;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._1qF4dpysMWYas- {\n  background-color: #7BC86C;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._3UNT_P6CMO-1pj {\n  background-color: #FFAF3F;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._3uF-GyZQ3ZLWtm {\n  background-color: #EF7564;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._1uHMvzUIEWKujG {\n  background-color: #CD8DE5;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj.P8CFlRF9jmt-gc {\n  background-color: #F5DD29;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj.A7yiCrvLScChrk {\n  background-color: #FF8ED4;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._2q3Nk2WSanOPzw {\n  background-color: #29CCE5;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._35LzzBekvNx4Ug {\n  background-color: #6DECA9;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._1LTJMoWeQuVyGz {\n  background-color: #172B4D;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY.ArpE6wxF5lsZ5R {\n  background-size: cover;\n  background-position: center;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP {\n  position: absolute;\n  bottom: 4px;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP ._3zyygYjXmBCuZ8,\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP ._2YkoNjZbIBZjxA {\n  background: rgba(9, 30, 66, 0.6);\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP ._3zyygYjXmBCuZ8 {\n  width: 116px;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP ._2YkoNjZbIBZjxA {\n  width: 92px;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP._2qTikuv_YOAV-C ._3zyygYjXmBCuZ8,\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP._2qTikuv_YOAV-C ._2YkoNjZbIBZjxA {\n  background: #FFFFFF;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP ._3KUp4qsMp7f0nZ {\n  display: none;\n}\n.isvr-Reb94vq0g._3bvxiZCqVvPKiY ._2_NkiO6b3w-TwP ._3K8WSoeRLtPYZP {\n  display: none;\n}\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8 {\n  cursor: default;\n}\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8:hover {\n  filter: unset;\n}\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8 ._28YCxuL0b0PLJg {\n  background: #5E6C84;\n  opacity: 0.3;\n}\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8 ._3zyygYjXmBCuZ8,\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8 ._2YkoNjZbIBZjxA,\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8 ._2TkMxnIj6-MZD9,\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8 ._3K8WSoeRLtPYZP {\n  background: #5E6C84;\n  opacity: 0.3;\n}\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8._3bvxiZCqVvPKiY {\n  background: #5E6C84;\n  opacity: 0.3;\n}\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8._3bvxiZCqVvPKiY ._3zyygYjXmBCuZ8,\n.isvr-Reb94vq0g._2pFmKTmyH7T3W8._3bvxiZCqVvPKiY ._2YkoNjZbIBZjxA {\n  background: #FFFFFF;\n  opacity: 1;\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj {\n  background-size: 16px 16px;\n  background-repeat: repeat-y;\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj.iXRBP8FxQcAVZy,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj.iXRBP8FxQcAVZy {\n  background-image: url("+A+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._1qF4dpysMWYas-,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._1qF4dpysMWYas- {\n  background-image: url("+x+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._3UNT_P6CMO-1pj,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._3UNT_P6CMO-1pj {\n  background-image: url("+N+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._3uF-GyZQ3ZLWtm,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._3uF-GyZQ3ZLWtm {\n  background-image: url("+S+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._1uHMvzUIEWKujG,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._1uHMvzUIEWKujG {\n  background-image: url("+I+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj.P8CFlRF9jmt-gc,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj.P8CFlRF9jmt-gc {\n  background-image: url("+D+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj.A7yiCrvLScChrk,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj.A7yiCrvLScChrk {\n  background-image: url("+B+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._2q3Nk2WSanOPzw,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._2q3Nk2WSanOPzw {\n  background-image: url("+P+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._35LzzBekvNx4Ug,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._35LzzBekvNx4Ug {\n  background-image: url("+F+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g > ._3QRlWW0AYELTNj._1LTJMoWeQuVyGz,\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj._1LTJMoWeQuVyGz {\n  background-image: url("+L+");\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj ._2_NkiO6b3w-TwP {\n  padding-left: 24px;\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj ._2_NkiO6b3w-TwP ._3zyygYjXmBCuZ8 {\n  width: 100px;\n}\n.body-color-blind-mode-enabled .isvr-Reb94vq0g._3bvxiZCqVvPKiY._3QRlWW0AYELTNj ._2_NkiO6b3w-TwP ._2YkoNjZbIBZjxA {\n  width: 76px;\n}\n",""]),j.locals={coverTiles:"_2r45NCQQkqOKuE",modFixedHeight:"_3T33MhlcikhAVv",coverTilesItem:"CUQ18tqnduYCMr",uploading:"_1Osyey89hxvWj_",selected:"pDwXzkLu1P2RNn",modAdd:"_3qTXptowHdffuj","icon-sm":"_2p-IXbla5Hftjg",heading:"_38V7MCLqwxFP7h",colorTiles:"_12Td3F3e9pcByb",colorTile:"_3Wi_tYKv1Nzbm4",blue:"iXRBP8FxQcAVZy",green:"_1qF4dpysMWYas-",orange:"_3UNT_P6CMO-1pj",red:"_3uF-GyZQ3ZLWtm",purple:"_1uHMvzUIEWKujG",yellow:"P8CFlRF9jmt-gc",pink:"A7yiCrvLScChrk",sky:"_2q3Nk2WSanOPzw",lime:"_35LzzBekvNx4Ug",black:"_1LTJMoWeQuVyGz",miniCard:"isvr-Reb94vq0g",cover:"_28YCxuL0b0PLJg",colorCardCover:"_3QRlWW0AYELTNj",imageCardCover:"ArpE6wxF5lsZ5R",content:"_2_NkiO6b3w-TwP",longName:"_3zyygYjXmBCuZ8",shortName:"_2YkoNjZbIBZjxA",badges:"_3KUp4qsMp7f0nZ",badge:"_2TkMxnIj6-MZD9",avatar:"_3K8WSoeRLtPYZP",hasCover:"c2K-XOKpsarOtb",hasFullCover:"_3bvxiZCqVvPKiY",light:"_2qTikuv_YOAV-C",disabled:"_2pFmKTmyH7T3W8"},t.a=j},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._25EmBY5eaBCj8H {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-button:start:decrement,\n._25EmBY5eaBCj8H::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._25EmBY5eaBCj8H::-webkit-scrollbar-thumb:vertical,\n._25EmBY5eaBCj8H::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._25EmBY5eaBCj8H._33obBqZdJ2pqcy {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1SeATkzw7pdJ1K {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._1SeATkzw7pdJ1K._1mx-zVjcwEzMbV {\n  opacity: 0.25;\n}\n._1SeATkzw7pdJ1K:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1SeATkzw7pdJ1K:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1SeATkzw7pdJ1K._1LnlMOnYe3V98h {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1SeATkzw7pdJ1K._1LnlMOnYe3V98h:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1SeATkzw7pdJ1K._1LnlMOnYe3V98h:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._1SeATkzw7pdJ1K.pj_YuMt6a_Nshk {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1SeATkzw7pdJ1K.pj_YuMt6a_Nshk:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1SeATkzw7pdJ1K.pj_YuMt6a_Nshk:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._1SeATkzw7pdJ1K.pj_YuMt6a_Nshk:active ._16DmpEZDGtHXcf {\n  color: #0079BF;\n}\n._1SeATkzw7pdJ1K.pj_YuMt6a_Nshk:active svg circle {\n  stroke: #0079BF;\n}\n._2Kt4ddgWvwoeXY {\n  position: relative;\n}\n._2zwc3pQ8pRQrfX {\n  margin: 0;\n  border-radius: 4px;\n  width: 132px;\n  height: 72px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n  box-shadow: none;\n}\n._2zwc3pQ8pRQrfX._1mx-zVjcwEzMbV {\n  opacity: 0.25;\n}\n._2zwc3pQ8pRQrfX._1mx-zVjcwEzMbV ._2UmfnWtxQB6M4t {\n  margin-right: 4px;\n}\n._2zwc3pQ8pRQrfX:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._2zwc3pQ8pRQrfX:active {\n  filter: saturate(70%) brightness(70%);\n}\n._2zwc3pQ8pRQrfX._1LnlMOnYe3V98h {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._2zwc3pQ8pRQrfX._1LnlMOnYe3V98h:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._2zwc3pQ8pRQrfX._1LnlMOnYe3V98h:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._26wj9QkaOqXjV4 {\n  display: inline-block;\n}\n._14D0YAEFOJwE7L {\n  display: block;\n  overflow: hidden;\n  box-sizing: border-box;\n  background: rgba(0, 0, 0, 0.8);\n  color: #FFFFFF;\n  font-size: 12px;\n  text-align: left;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n}\n._145eZc5ijuEGut {\n  display: flex;\n  font-size: 10px;\n  line-height: 16px;\n  height: 16px;\n}\n",""]),a.locals={coverTiles:"_25EmBY5eaBCj8H",modFixedHeight:"_33obBqZdJ2pqcy",coverTilesItem:"_1SeATkzw7pdJ1K",uploading:"_1mx-zVjcwEzMbV",selected:"_1LnlMOnYe3V98h",modAdd:"pj_YuMt6a_Nshk","icon-sm":"_16DmpEZDGtHXcf",backgroundGridItem:"_2Kt4ddgWvwoeXY",cover:"_2zwc3pQ8pRQrfX",spinner:"_2UmfnWtxQB6M4t",uploadIndicator:"_26wj9QkaOqXjV4",upload:"_14D0YAEFOJwE7L",spinnerWrapper:"_145eZc5ijuEGut"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1J4706UfXFhdcS {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-button:start:decrement,\n._1J4706UfXFhdcS::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._1J4706UfXFhdcS::-webkit-scrollbar-thumb:vertical,\n._1J4706UfXFhdcS::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._1J4706UfXFhdcS._3eHpxsvJzj2Azz {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n.wsNY8BDV9Mrhjx {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n.wsNY8BDV9Mrhjx._2A5Fy6U-ud4ckz {\n  opacity: 0.25;\n}\n.wsNY8BDV9Mrhjx:hover {\n  filter: saturate(85%) brightness(85%);\n}\n.wsNY8BDV9Mrhjx:active {\n  filter: saturate(70%) brightness(70%);\n}\n.wsNY8BDV9Mrhjx.CX_Aa9fBRe9zAS {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n.wsNY8BDV9Mrhjx.CX_Aa9fBRe9zAS:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n.wsNY8BDV9Mrhjx.CX_Aa9fBRe9zAS:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n.wsNY8BDV9Mrhjx.KNPm1H7UbEPiWq {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n.wsNY8BDV9Mrhjx.KNPm1H7UbEPiWq:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n.wsNY8BDV9Mrhjx.KNPm1H7UbEPiWq:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n.wsNY8BDV9Mrhjx.KNPm1H7UbEPiWq:active ._3btfcsYrB4qp4- {\n  color: #0079BF;\n}\n.wsNY8BDV9Mrhjx.KNPm1H7UbEPiWq:active svg circle {\n  stroke: #0079BF;\n}\n._2wM5baibhYEQPX {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n._3ePvE9JfHlqp5c {\n  display: none;\n}\n._2ijR4vWFuwxsJI {\n  display: flex;\n  justify-content: space-between;\n  color: #5E6C84;\n  font-size: 12px;\n  line-height: 16px;\n  margin-top: 12px;\n  height: 16px;\n}\n._1S8JOCxBG3aBxo {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-button:start:decrement,\n._1S8JOCxBG3aBxo::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._1S8JOCxBG3aBxo::-webkit-scrollbar-thumb:vertical,\n._1S8JOCxBG3aBxo::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._1S8JOCxBG3aBxo._3eHpxsvJzj2Azz {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  height: 48px;\n  width: 88px;\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L._2A5Fy6U-ud4ckz {\n  opacity: 0.25;\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L.CX_Aa9fBRe9zAS {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L.CX_Aa9fBRe9zAS:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1S8JOCxBG3aBxo .ixHD5MQlpFjs2L.CX_Aa9fBRe9zAS:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._1J4706UfXFhdcS > span,\n._1S8JOCxBG3aBxo > span {\n  margin-top: -9px;\n}\n.W9HM_QH3cjZYdr {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  transition-duration: 85ms;\n  transition-timing-function: ease;\n  flex: 0 1 auto;\n  opacity: 1;\n  transition-property: opacity;\n}\n.cm87toVMaf2kLn {\n  opacity: 0;\n}\n._178wPJxm79jUnb {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 0 0 auto;\n}\n._18S4O8xWj1R2OJ {\n  color: #5E6C84;\n}\n",""]),a.locals={coverTiles:"_1J4706UfXFhdcS",modFixedHeight:"_3eHpxsvJzj2Azz",coverTilesItem:"wsNY8BDV9Mrhjx",uploading:"_2A5Fy6U-ud4ckz",selected:"CX_Aa9fBRe9zAS",modAdd:"KNPm1H7UbEPiWq","icon-sm":"_3btfcsYrB4qp4-",heading:"_2wM5baibhYEQPX",hideInfiniteListSpinner:"_3ePvE9JfHlqp5c",searchResultsFooter:"_2ijR4vWFuwxsJI",searchResultTiles:"_1S8JOCxBG3aBxo",searchResultTilesItem:"ixHD5MQlpFjs2L",loadingColumn:"W9HM_QH3cjZYdr",isExiting:"cm87toVMaf2kLn",unsplashColumn:"_178wPJxm79jUnb",unsplashLink:"_18S4O8xWj1R2OJ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".P8ekgEYdkCALAi {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-button:start:decrement,\n.P8ekgEYdkCALAi::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n.P8ekgEYdkCALAi::-webkit-scrollbar-thumb:vertical,\n.P8ekgEYdkCALAi::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n.P8ekgEYdkCALAi._2sbVqrub6eCllj {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1ZXxeTzGZyOpSn {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._1ZXxeTzGZyOpSn._3AhY17PsDgerVK {\n  opacity: 0.25;\n}\n._1ZXxeTzGZyOpSn:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1ZXxeTzGZyOpSn:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1ZXxeTzGZyOpSn.sJhXSWkgkgCv7c {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1ZXxeTzGZyOpSn.sJhXSWkgkgCv7c:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1ZXxeTzGZyOpSn.sJhXSWkgkgCv7c:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._1ZXxeTzGZyOpSn._1YksniQ-ccyCeW {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1ZXxeTzGZyOpSn._1YksniQ-ccyCeW:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1ZXxeTzGZyOpSn._1YksniQ-ccyCeW:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._1ZXxeTzGZyOpSn._1YksniQ-ccyCeW:active ._3LXZy_bXr3G33B {\n  color: #0079BF;\n}\n._1ZXxeTzGZyOpSn._1YksniQ-ccyCeW:active svg circle {\n  stroke: #0079BF;\n}\n._7qsTruHyqvEpp3 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n._1ovuKbhlHul4_B {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-button:start:decrement,\n._1ovuKbhlHul4_B::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._1ovuKbhlHul4_B::-webkit-scrollbar-thumb:vertical,\n._1ovuKbhlHul4_B::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._1ovuKbhlHul4_B._2sbVqrub6eCllj {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  height: 48px;\n  width: 88px;\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF._3AhY17PsDgerVK {\n  opacity: 0.25;\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF.sJhXSWkgkgCv7c {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF.sJhXSWkgkgCv7c:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1ovuKbhlHul4_B .dwbBm4635N4vIF.sJhXSWkgkgCv7c:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._2W2TVU63NPc3AB {\n  margin-top: 4px;\n}\n._2W2TVU63NPc3AB._2ct_kDHuQawCDk,\n._2W2TVU63NPc3AB.VDAfCY6H7dQPbV {\n  margin-top: 8px;\n}\n._3I4Ed5yEqSCmQ3,\n._3R5pFpsU94AopJ {\n  margin: 4px 0 0;\n  width: 100%;\n}\n",""]),a.locals={coverTiles:"P8ekgEYdkCALAi",modFixedHeight:"_2sbVqrub6eCllj",coverTilesItem:"_1ZXxeTzGZyOpSn",uploading:"_3AhY17PsDgerVK",selected:"sJhXSWkgkgCv7c",modAdd:"_1YksniQ-ccyCeW","icon-sm":"_3LXZy_bXr3G33B",heading:"_7qsTruHyqvEpp3",attachmentTiles:"_1ovuKbhlHul4_B",attachmentTilesItem:"dwbBm4635N4vIF",uploadButton:"_2W2TVU63NPc3AB",hasPaginatedTiles:"_2ct_kDHuQawCDk",hasNoAttachments:"VDAfCY6H7dQPbV",showMoreButton:"_3I4Ed5yEqSCmQ3",showFewerButton:"_3R5pFpsU94AopJ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2I2lyvOh3c5OGH {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-button:start:decrement,\n._2I2lyvOh3c5OGH::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._2I2lyvOh3c5OGH::-webkit-scrollbar-thumb:vertical,\n._2I2lyvOh3c5OGH::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._2I2lyvOh3c5OGH._21UL-UXOyi_huc {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1tCKQp5XmqKIMf {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._1tCKQp5XmqKIMf._1HIa6ymClxAxfK {\n  opacity: 0.25;\n}\n._1tCKQp5XmqKIMf:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1tCKQp5XmqKIMf:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1tCKQp5XmqKIMf._2swzRvMDV91Mtw {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1tCKQp5XmqKIMf._2swzRvMDV91Mtw:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1tCKQp5XmqKIMf._2swzRvMDV91Mtw:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._1tCKQp5XmqKIMf._2rjZcbQf159osR {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1tCKQp5XmqKIMf._2rjZcbQf159osR:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1tCKQp5XmqKIMf._2rjZcbQf159osR:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._1tCKQp5XmqKIMf._2rjZcbQf159osR:active ._3q7Yf0rOxa2g_y {\n  color: #0079BF;\n}\n._1tCKQp5XmqKIMf._2rjZcbQf159osR:active svg circle {\n  stroke: #0079BF;\n}\n._3dh4y3GSibuKtf {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-top: 0;\n}\n._355JrOZpP6kOHP {\n  margin: 8px 0 0;\n  width: 100%;\n}\n._355JrOZpP6kOHP._2jBj_MgZI3t5f9 {\n  margin: 4px 0 0;\n}\n",""]),a.locals={coverTiles:"_2I2lyvOh3c5OGH",modFixedHeight:"_21UL-UXOyi_huc",coverTilesItem:"_1tCKQp5XmqKIMf",uploading:"_1HIa6ymClxAxfK",selected:"_2swzRvMDV91Mtw",modAdd:"_2rjZcbQf159osR","icon-sm":"_3q7Yf0rOxa2g_y",heading:"_3dh4y3GSibuKtf",remove:"_355JrOZpP6kOHP",colorAndFullVersion:"_2jBj_MgZI3t5f9"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".l71U3UXi89cgYK {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-button:start:decrement,\n.l71U3UXi89cgYK::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n.l71U3UXi89cgYK::-webkit-scrollbar-thumb:vertical,\n.l71U3UXi89cgYK::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n.l71U3UXi89cgYK.AOQOie_k6jXz4u {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._3l204yAEsXpJGT {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._3l204yAEsXpJGT._14xWluCOaXNIgg {\n  opacity: 0.25;\n}\n._3l204yAEsXpJGT:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._3l204yAEsXpJGT:active {\n  filter: saturate(70%) brightness(70%);\n}\n._3l204yAEsXpJGT._3NNmJvgLE58A6w {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._3l204yAEsXpJGT._3NNmJvgLE58A6w:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._3l204yAEsXpJGT._3NNmJvgLE58A6w:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._3l204yAEsXpJGT._1TiUvHASpPVpUR {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._3l204yAEsXpJGT._1TiUvHASpPVpUR:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._3l204yAEsXpJGT._1TiUvHASpPVpUR:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._3l204yAEsXpJGT._1TiUvHASpPVpUR:active ._3KdhtYLIvR8Zye {\n  color: #0079BF;\n}\n._3l204yAEsXpJGT._1TiUvHASpPVpUR:active svg circle {\n  stroke: #0079BF;\n}\n._3br3lAkOPjuLst {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-top: 12px;\n  margin-bottom: 4px;\n}\n._2SgXXun6Jc3lnQ {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-button:start:decrement,\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-thumb:vertical,\n._2SgXXun6Jc3lnQ::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._2SgXXun6Jc3lnQ.AOQOie_k6jXz4u {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  height: 48px;\n  width: 88px;\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl._14xWluCOaXNIgg {\n  opacity: 0.25;\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl:active {\n  filter: saturate(70%) brightness(70%);\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl._3NNmJvgLE58A6w {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl._3NNmJvgLE58A6w:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._2SgXXun6Jc3lnQ ._3Lglb54wk6AsKl._3NNmJvgLE58A6w:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n",""]),a.locals={coverTiles:"l71U3UXi89cgYK",modFixedHeight:"AOQOie_k6jXz4u",coverTilesItem:"_3l204yAEsXpJGT",uploading:"_14xWluCOaXNIgg",selected:"_3NNmJvgLE58A6w",modAdd:"_1TiUvHASpPVpUR","icon-sm":"_3KdhtYLIvR8Zye",heading:"_3br3lAkOPjuLst",pluginCoverTiles:"_2SgXXun6Jc3lnQ",pluginCoverTilesItem:"_3Lglb54wk6AsKl"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._36yA5-LYuAqIzn {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-button:start:decrement,\n._36yA5-LYuAqIzn::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._36yA5-LYuAqIzn::-webkit-scrollbar-thumb:vertical,\n._36yA5-LYuAqIzn::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._36yA5-LYuAqIzn._1M3DyVBKrmUmjz {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._11eW_H0VKfg6WO {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._11eW_H0VKfg6WO.IklyvNpjMnQzX0 {\n  opacity: 0.25;\n}\n._11eW_H0VKfg6WO:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._11eW_H0VKfg6WO:active {\n  filter: saturate(70%) brightness(70%);\n}\n._11eW_H0VKfg6WO.ynxU9bQHizaMPx {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._11eW_H0VKfg6WO.ynxU9bQHizaMPx:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._11eW_H0VKfg6WO.ynxU9bQHizaMPx:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._11eW_H0VKfg6WO._2038jWJeCaUdnR {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._11eW_H0VKfg6WO._2038jWJeCaUdnR:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._11eW_H0VKfg6WO._2038jWJeCaUdnR:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._11eW_H0VKfg6WO._2038jWJeCaUdnR:active .o72tcgDvD0WGYJ {\n  color: #0079BF;\n}\n._11eW_H0VKfg6WO._2038jWJeCaUdnR:active svg circle {\n  stroke: #0079BF;\n}\n._3IwHKwthOgXe8Q {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-top: 0;\n  margin-bottom: 4px;\n}\n._3DrR3DNGRm88rQ {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-button:start:decrement,\n._3DrR3DNGRm88rQ::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._3DrR3DNGRm88rQ::-webkit-scrollbar-thumb:vertical,\n._3DrR3DNGRm88rQ::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._3DrR3DNGRm88rQ._1M3DyVBKrmUmjz {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n",""]),a.locals={coverTiles:"_36yA5-LYuAqIzn",modFixedHeight:"_1M3DyVBKrmUmjz",coverTilesItem:"_11eW_H0VKfg6WO",uploading:"IklyvNpjMnQzX0",selected:"ynxU9bQHizaMPx",modAdd:"_2038jWJeCaUdnR","icon-sm":"o72tcgDvD0WGYJ",heading:"_3IwHKwthOgXe8Q",sizeTiles:"_3DrR3DNGRm88rQ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/runtime/getUrl.js"),s=n.n(r),o=n("./resources/images/patterns/dark/StripeHorizontal.svg"),l=n.n(o),c=n("./resources/images/patterns/dark/StripeDiagonal.svg"),d=n.n(c),u=n("./resources/images/patterns/dark/StripeVertical.svg"),p=n.n(u),m=n("./resources/images/patterns/dark/DotsChecker.svg"),h=n.n(m),g=n("./resources/images/patterns/dark/GrooveDiagonal.svg"),b=n.n(g),v=n("./resources/images/patterns/dark/WaveSquare.svg"),f=n.n(v),_=n("./resources/images/patterns/dark/BrickHorizontal.svg"),k=n.n(_),y=n("./resources/images/patterns/dark/BrickDiagonal.svg"),E=n.n(y),w=n("./resources/images/patterns/dark/Scale.svg"),C=n.n(w),T=n("./resources/images/patterns/light/BrickVertical.svg"),O=n.n(T),j=a()(!1),A=s()(l.a),x=s()(d.a),N=s()(p.a),S=s()(h.a),I=s()(b.a),D=s()(f.a),B=s()(k.a),P=s()(E.a),F=s()(C.a),L=s()(O.a);j.push([e.i,"._1xq8hA8v58rOvF {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-button:start:decrement,\n._1xq8hA8v58rOvF::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._1xq8hA8v58rOvF::-webkit-scrollbar-thumb:vertical,\n._1xq8hA8v58rOvF::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._1xq8hA8v58rOvF._6p5JHawoamy_S5 {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._36_EeRcCuPZqJQ {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._36_EeRcCuPZqJQ.VMpttj5f2J76UP {\n  opacity: 0.25;\n}\n._36_EeRcCuPZqJQ:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._36_EeRcCuPZqJQ:active {\n  filter: saturate(70%) brightness(70%);\n}\n._36_EeRcCuPZqJQ._3zGuW09ps5VGh1 {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._36_EeRcCuPZqJQ._3zGuW09ps5VGh1:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._36_EeRcCuPZqJQ._3zGuW09ps5VGh1:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._36_EeRcCuPZqJQ._1_spcwgIDP1Iwz {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._36_EeRcCuPZqJQ._1_spcwgIDP1Iwz:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._36_EeRcCuPZqJQ._1_spcwgIDP1Iwz:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._36_EeRcCuPZqJQ._1_spcwgIDP1Iwz:active ._1-4loqmixVbrQl {\n  color: #0079BF;\n}\n._36_EeRcCuPZqJQ._1_spcwgIDP1Iwz:active svg circle {\n  stroke: #0079BF;\n}\n._1kQUX9vCqBcu2y {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n.z_WZv8MW4xCS9g {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-button:start:decrement,\n.z_WZv8MW4xCS9g::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n.z_WZv8MW4xCS9g::-webkit-scrollbar-thumb:vertical,\n.z_WZv8MW4xCS9g::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n.z_WZv8MW4xCS9g._6p5JHawoamy_S5 {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._2pK9rA0s0nNK1H {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  width: 50px;\n  height: 32px;\n  cursor: pointer;\n}\n._2pK9rA0s0nNK1H.VMpttj5f2J76UP {\n  opacity: 0.25;\n}\n._2pK9rA0s0nNK1H:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._2pK9rA0s0nNK1H:active {\n  filter: saturate(70%) brightness(70%);\n}\n._2pK9rA0s0nNK1H._3zGuW09ps5VGh1 {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._2pK9rA0s0nNK1H._3zGuW09ps5VGh1:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._2pK9rA0s0nNK1H._3zGuW09ps5VGh1:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._2pK9rA0s0nNK1H._3xf5BhkCACvurQ {\n  background-color: #5BA4CF;\n}\n._2pK9rA0s0nNK1H._3VvfICmU-hpxWQ {\n  background-color: #7BC86C;\n}\n._2pK9rA0s0nNK1H._3ZTm6KYqqy2BLw {\n  background-color: #FFAF3F;\n}\n._2pK9rA0s0nNK1H.vdlC_p4B8x1Ozg {\n  background-color: #EF7564;\n}\n._2pK9rA0s0nNK1H._16BEJsYmzhYSzP {\n  background-color: #CD8DE5;\n}\n._2pK9rA0s0nNK1H._14ofmOr1avCTL3 {\n  background-color: #F5DD29;\n}\n._2pK9rA0s0nNK1H._2QbzgeIWYJhYyK {\n  background-color: #FF8ED4;\n}\n._2pK9rA0s0nNK1H._8plhuNBSK6iuFO {\n  background-color: #29CCE5;\n}\n._2pK9rA0s0nNK1H._1C4sGpOmmJlGfE {\n  background-color: #6DECA9;\n}\n._2pK9rA0s0nNK1H._2tKPqWQL99lQXS {\n  background-color: #172B4D;\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H {\n  background-size: 16px 16px;\n  background-repeat: repeat;\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._3xf5BhkCACvurQ {\n  background-image: url("+A+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._3VvfICmU-hpxWQ {\n  background-image: url("+x+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._3ZTm6KYqqy2BLw {\n  background-image: url("+N+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H.vdlC_p4B8x1Ozg {\n  background-image: url("+S+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._16BEJsYmzhYSzP {\n  background-image: url("+I+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._14ofmOr1avCTL3 {\n  background-image: url("+D+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._2QbzgeIWYJhYyK {\n  background-image: url("+B+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._8plhuNBSK6iuFO {\n  background-image: url("+P+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._1C4sGpOmmJlGfE {\n  background-image: url("+F+");\n}\n.body-color-blind-mode-enabled ._2pK9rA0s0nNK1H._2tKPqWQL99lQXS {\n  background-image: url("+L+");\n}\n.HtaxOfCzUL8y1D {\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n._1kQUX9vCqBcu2y {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n.aVqnE7UAtJ9TPC {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-button:start:decrement,\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-thumb:vertical,\n.aVqnE7UAtJ9TPC::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n.aVqnE7UAtJ9TPC._6p5JHawoamy_S5 {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._3i3kXSHFZy5Ahs {\n  margin: 0;\n  height: 72px;\n  width: 100%;\n  background-repeat: no-repeat;\n  box-shadow: none;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  border-radius: 3px;\n  width: unset;\n  height: 20px;\n  background-size: cover;\n  background-position: center;\n  padding: 6px 10px 6px 12px;\n  overflow: hidden;\n}\n._3i3kXSHFZy5Ahs.VMpttj5f2J76UP {\n  opacity: 0.25;\n}\n._3i3kXSHFZy5Ahs:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._3i3kXSHFZy5Ahs:active {\n  filter: saturate(70%) brightness(70%);\n}\n._3i3kXSHFZy5Ahs._3zGuW09ps5VGh1 {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._3i3kXSHFZy5Ahs._3zGuW09ps5VGh1:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._3i3kXSHFZy5Ahs._3zGuW09ps5VGh1:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._3i3kXSHFZy5Ahs h3._2NrqGuN8os4G6m {\n  margin-bottom: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 14px;\n  line-height: 20px;\n}\n._3i3kXSHFZy5Ahs h3._2NrqGuN8os4G6m.ORmwq6tn1GwmkV {\n  color: #FFFFFF;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._3xf5BhkCACvurQ {\n  background-color: #5BA4CF;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._3VvfICmU-hpxWQ {\n  background-color: #7BC86C;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._3ZTm6KYqqy2BLw {\n  background-color: #FFAF3F;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t.vdlC_p4B8x1Ozg {\n  background-color: #EF7564;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._16BEJsYmzhYSzP {\n  background-color: #CD8DE5;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._14ofmOr1avCTL3 {\n  background-color: #F5DD29;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._2QbzgeIWYJhYyK {\n  background-color: #FF8ED4;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._8plhuNBSK6iuFO {\n  background-color: #29CCE5;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._1C4sGpOmmJlGfE {\n  background-color: #6DECA9;\n}\n._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._2tKPqWQL99lQXS {\n  background-color: #172B4D;\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t {\n  background-size: 16px 16px;\n  background-repeat: repeat-y;\n  background-position: left;\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._3xf5BhkCACvurQ {\n  background-image: url("+A+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._3VvfICmU-hpxWQ {\n  background-image: url("+x+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._3ZTm6KYqqy2BLw {\n  background-image: url("+N+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t.vdlC_p4B8x1Ozg {\n  background-image: url("+S+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._16BEJsYmzhYSzP {\n  background-image: url("+I+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._14ofmOr1avCTL3 {\n  background-image: url("+D+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._2QbzgeIWYJhYyK {\n  background-image: url("+B+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._8plhuNBSK6iuFO {\n  background-image: url("+P+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._1C4sGpOmmJlGfE {\n  background-image: url("+F+");\n}\n.body-color-blind-mode-enabled ._3i3kXSHFZy5Ahs._1lrLhNE9gHAl7t._2tKPqWQL99lQXS {\n  background-image: url("+L+");\n}\n",""]),j.locals={coverTiles:"_1xq8hA8v58rOvF",modFixedHeight:"_6p5JHawoamy_S5",coverTilesItem:"_36_EeRcCuPZqJQ",uploading:"VMpttj5f2J76UP",selected:"_3zGuW09ps5VGh1",modAdd:"_1_spcwgIDP1Iwz","icon-sm":"_1-4loqmixVbrQl",heading:"_1kQUX9vCqBcu2y",colorTiles:"z_WZv8MW4xCS9g",colorTile:"_2pK9rA0s0nNK1H",blue:"_3xf5BhkCACvurQ",green:"_3VvfICmU-hpxWQ",orange:"_3ZTm6KYqqy2BLw",red:"vdlC_p4B8x1Ozg",purple:"_16BEJsYmzhYSzP",yellow:"_14ofmOr1avCTL3",pink:"_2QbzgeIWYJhYyK",sky:"_8plhuNBSK6iuFO",lime:"_1C4sGpOmmJlGfE",black:"_2tKPqWQL99lQXS",selectTextColor:"HtaxOfCzUL8y1D",textColorTiles:"aVqnE7UAtJ9TPC",textColorTile:"_3i3kXSHFZy5Ahs",name:"_2NrqGuN8os4G6m",light:"ORmwq6tn1GwmkV",colorCardCover:"_1lrLhNE9gHAl7t"},t.a=j},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1vb_TC4WHlK0nB {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-button:start:decrement,\n._1vb_TC4WHlK0nB::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._1vb_TC4WHlK0nB::-webkit-scrollbar-thumb:vertical,\n._1vb_TC4WHlK0nB::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._1vb_TC4WHlK0nB._2fP5HVzf1gYs3m {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1tAFPgQiSNY4Nj {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._1tAFPgQiSNY4Nj._33up9xzqCtpdfu {\n  opacity: 0.25;\n}\n._1tAFPgQiSNY4Nj:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1tAFPgQiSNY4Nj:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1tAFPgQiSNY4Nj.O69DhjWBh2vTjY {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1tAFPgQiSNY4Nj.O69DhjWBh2vTjY:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1tAFPgQiSNY4Nj.O69DhjWBh2vTjY:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._1tAFPgQiSNY4Nj.Ba9eB86JtLJ2wH {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1tAFPgQiSNY4Nj.Ba9eB86JtLJ2wH:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._1tAFPgQiSNY4Nj.Ba9eB86JtLJ2wH:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._1tAFPgQiSNY4Nj.Ba9eB86JtLJ2wH:active ._1_8wiqNTJy7Afn {\n  color: #0079BF;\n}\n._1tAFPgQiSNY4Nj.Ba9eB86JtLJ2wH:active svg circle {\n  stroke: #0079BF;\n}\n.uPCmP8Z3uVtxla {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n}\n._3NGWmKwepwArG2 {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-button:start:decrement,\n._3NGWmKwepwArG2::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._3NGWmKwepwArG2::-webkit-scrollbar-thumb:vertical,\n._3NGWmKwepwArG2::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._3NGWmKwepwArG2._2fP5HVzf1gYs3m {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  height: 48px;\n  width: 88px;\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp._33up9xzqCtpdfu {\n  opacity: 0.25;\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp:active {\n  filter: saturate(70%) brightness(70%);\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp.O69DhjWBh2vTjY {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp.O69DhjWBh2vTjY:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._3NGWmKwepwArG2 .CQ872InPlXmqLp.O69DhjWBh2vTjY:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._2_WbYOjS1NfHHs {\n  margin: 4px 0 0;\n  width: 100%;\n}\n",""]),a.locals={coverTiles:"_1vb_TC4WHlK0nB",modFixedHeight:"_2fP5HVzf1gYs3m",coverTilesItem:"_1tAFPgQiSNY4Nj",uploading:"_33up9xzqCtpdfu",selected:"O69DhjWBh2vTjY",modAdd:"Ba9eB86JtLJ2wH","icon-sm":"_1_8wiqNTJy7Afn",heading:"uPCmP8Z3uVtxla",unsplashTiles:"_3NGWmKwepwArG2",unsplashTilesItem:"CQ872InPlXmqLp",searchButton:"_2_WbYOjS1NfHHs"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2yUezgsUNmE6qL {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-top: 0;\n}\n._13QSLg12CNankD {\n  margin: 0 4px 4px 0;\n}\n",""]),a.locals={heading:"_2yUezgsUNmE6qL",suggestedSearchButton:"_13QSLg12CNankD"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3NP283aypACTBN {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n}\n._3NP283aypACTBN::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._3NP283aypACTBN::-webkit-scrollbar-button:start:decrement,\n._3NP283aypACTBN::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._3NP283aypACTBN::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._3NP283aypACTBN::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._3NP283aypACTBN::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._3NP283aypACTBN::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._3NP283aypACTBN::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._3NP283aypACTBN::-webkit-scrollbar-thumb:vertical,\n._3NP283aypACTBN::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._3NP283aypACTBN._3W1nprWTgKC2cI {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._380MnmaqUjnWEs {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n}\n._380MnmaqUjnWEs._27w0yQbklKtNIq {\n  opacity: 0.25;\n}\n._380MnmaqUjnWEs:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._380MnmaqUjnWEs:active {\n  filter: saturate(70%) brightness(70%);\n}\n._380MnmaqUjnWEs._4dxCdS0qmaEuU {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._380MnmaqUjnWEs._4dxCdS0qmaEuU:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._380MnmaqUjnWEs._4dxCdS0qmaEuU:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n._380MnmaqUjnWEs._6V7l_jhkBFl7tW {\n  background-color: rgba(9, 30, 66, 0.04);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._380MnmaqUjnWEs._6V7l_jhkBFl7tW:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  filter: none;\n}\n._380MnmaqUjnWEs._6V7l_jhkBFl7tW:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n  filter: none;\n}\n._380MnmaqUjnWEs._6V7l_jhkBFl7tW:active ._36R_AdhlOEB7w3 {\n  color: #0079BF;\n}\n._380MnmaqUjnWEs._6V7l_jhkBFl7tW:active svg circle {\n  stroke: #0079BF;\n}\n._2GHHlcYT_YGY6c {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n  margin-top: 12px;\n  margin-bottom: 4px;\n}\n._1d-yuYpTb1WnoT {\n  -webkit-overflow-scrolling: touch;\n  -webkit-transform: translate3d(0, 0, 0);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  padding: 4px;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  grid-template-columns: 1fr 1fr 1fr;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar {\n  height: 8px;\n  width: 8px;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-button:start:decrement,\n._1d-yuYpTb1WnoT::-webkit-scrollbar-button:end:increment {\n  background: transparent;\n  display: none;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-track-piece {\n  background: rgba(9, 30, 66, 0.08);\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-track-piece:vertical:start {\n  border-radius: 4px 4px 0 0;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-track-piece:vertical:end {\n  border-radius: 0 0 4px 4px;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-track-piece:horizontal:start {\n  border-radius: 4px 0 0 4px;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-track-piece:horizontal:end {\n  border-radius: 0 4px 4px 0;\n}\n._1d-yuYpTb1WnoT::-webkit-scrollbar-thumb:vertical,\n._1d-yuYpTb1WnoT::-webkit-scrollbar-thumb:horizontal {\n  background: rgba(9, 30, 66, 0.13);\n  border-radius: 4px;\n  display: block;\n  height: 48px;\n}\n._1d-yuYpTb1WnoT._3W1nprWTgKC2cI {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-right: 0;\n  max-height: 512px;\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3 {\n  margin: 0;\n  border-radius: 3px;\n  height: 72px;\n  width: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  box-shadow: none;\n  height: 48px;\n  width: 88px;\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3._27w0yQbklKtNIq {\n  opacity: 0.25;\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3:hover {\n  filter: saturate(85%) brightness(85%);\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3:active {\n  filter: saturate(70%) brightness(70%);\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3._4dxCdS0qmaEuU {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #0079BF;\n  filter: none;\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3._4dxCdS0qmaEuU:hover {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #5BA4CF;\n  filter: none;\n}\n._1d-yuYpTb1WnoT ._4_tzIhKmeo-BT3._4dxCdS0qmaEuU:active {\n  box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 4px #055A8C;\n  filter: none;\n}\n.OYcemkMeguLYCn {\n  display: flex;\n  justify-content: space-between;\n  color: #5E6C84;\n  font-size: 12px;\n  line-height: 16px;\n  margin-top: 8px;\n  height: 16px;\n  flex-direction: row-reverse;\n}\n._1w-TwMfHOCfV6x {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 0 0 auto;\n}\n._989FjtGbjoTCxC {\n  color: #5E6C84;\n}\n",""]),a.locals={coverTiles:"_3NP283aypACTBN",modFixedHeight:"_3W1nprWTgKC2cI",coverTilesItem:"_380MnmaqUjnWEs",uploading:"_27w0yQbklKtNIq",selected:"_4dxCdS0qmaEuU",modAdd:"_6V7l_jhkBFl7tW","icon-sm":"_36R_AdhlOEB7w3",heading:"_2GHHlcYT_YGY6c",unsplashTiles:"_1d-yuYpTb1WnoT",unsplashTilesItem:"_4_tzIhKmeo-BT3",searchResultsFooter:"OYcemkMeguLYCn",unsplashColumn:"_1w-TwMfHOCfV6x",unsplashLink:"_989FjtGbjoTCxC"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2fXer-QT2dkDA7 {\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n._141i4nU0tqDg4_ {\n  position: relative;\n}\ninput._1aJ4HxMawFoOX- {\n  width: 100%;\n  padding-right: 36px;\n}\n._q02mU7yoGqIA_ {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 36px;\n  width: 36px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n}\n._q02mU7yoGqIA_:hover,\n._q02mU7yoGqIA_:active {\n  background: transparent;\n}\n._q02mU7yoGqIA_:hover .kvGD1VcP4P5Kfg {\n  color: #172B4D;\n}\n",""]),a.locals={unsplashSearch:"_2fXer-QT2dkDA7",unsplashSearchInputSection:"_141i4nU0tqDg4_",unsplashSearchInput:"_1aJ4HxMawFoOX-",unsplashSearchClearButton:"_q02mU7yoGqIA_",unsplashSearchClearButtonIcon:"kvGD1VcP4P5Kfg"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2ZWTxwafNemlZh {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.04em;\n  line-height: 16px;\n  margin-top: 16px;\n  text-transform: uppercase;\n}\n.WvNWkrqbz_u6vG {\n  margin: 0;\n  width: 100%;\n}\n._6cxbVMVPT4CGaF {\n  display: none;\n}\n._3jH5OExh_rEoB-,\n._1j23yw7ri0czcr {\n  font-size: 12px;\n  line-height: 16px;\n  margin-top: 12px;\n}\n._3jH5OExh_rEoB- {\n  color: #5E6C84;\n}\n._1j23yw7ri0czcr {\n  color: #EB5A46;\n}\n",""]),a.locals={heading:"_2ZWTxwafNemlZh",upload:"WvNWkrqbz_u6vG",fileInput:"_6cxbVMVPT4CGaF",tip:"_3jH5OExh_rEoB-",error:"_1j23yw7ri0czcr"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/Badges.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2yQVfDZG70F3CB {\n  pointer-events: all;\n}\n",""]),a.locals={badges:"_2yQVfDZG70F3CB"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/BoardCard.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3QoJvUhH17DF1A {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n._1z0WCIFWbnDOph {\n  width: unset;\n}\n._3deWQg3pIWkSF9 {\n  width: 200px;\n  z-index: 10;\n}\n",""]),a.locals={boardLink:"_3QoJvUhH17DF1A",boardCard:"_1z0WCIFWbnDOph",searchCard:"_3deWQg3pIWkSF9"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/CardNotFound.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".lmytlNKnBmuQmO {\n  width: unset;\n  min-height: unset;\n  height: unset;\n}\n._1b0vX07bUVSMel {\n  width: unset;\n}\n",""]),a.locals={cardNotFound:"lmytlNKnBmuQmO",cardNotFoundInner:"_1b0vX07bUVSMel"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3SmwaUMRjs2Z7k {\n  box-sizing: content-box;\n  display: flex;\n  width: 20px;\n  height: 20px;\n  align-items: center;\n  justify-content: center;\n  background-color: #F4F5F7;\n  background-clip: padding-box;\n  background-origin: padding-box;\n  border-radius: 3px;\n  opacity: 0.8;\n  padding: 4px;\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  visibility: hidden;\n  z-index: 40;\n}\n._3SmwaUMRjs2Z7k:hover {\n  background-color: #EBECF0;\n  opacity: 1;\n}\n._3SmwaUMRjs2Z7k:active {\n  background-color: #DFE1E6;\n  opacity: 1;\n}\n._3SmwaUMRjs2Z7k._3m44CEhOPerS7L {\n  visibility: visible;\n}\n",""]),a.locals={editCardButton:"_3SmwaUMRjs2Z7k",show:"_3m44CEhOPerS7L"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-resolved-view-thumb'] {\n  height: 160px;\n  min-width: 100%;\n  max-width: 100%;\n}\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-resolved-view'],\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-not-found-view'],\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-forbidden-view'],\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-unauthorized-view'] {\n  flex-direction: column-reverse;\n  border: unset;\n  border-radius: 3px;\n  box-shadow: unset;\n  min-height: 88px;\n}\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-resolved-view']:hover,\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-not-found-view']:hover,\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-forbidden-view']:hover,\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-unauthorized-view']:hover {\n  background-color: #F4F5F7;\n}\n._3zuNVg8cnX5C59 div[data-trello-do-not-use-override='block-card-content'] {\n  padding: 8px;\n}\n._3zuNVg8cnX5C59._1CTrgQRWwch2EK div[data-trello-do-not-use-override='block-card-resolved-view-thumb'] {\n  display: none;\n}\n._3zuNVg8cnX5C59._2wRZnLW3hpFwY7 a[data-trello-do-not-use-override='block-card-content-header'] span:nth-child(3) {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  max-width: 50%;\n}\n._3zuNVg8cnX5C59 ._217gfRb_We9LcA {\n  text-decoration: none;\n  /* stylelint-disable plugin/no-data-test-selectors */\n}\n._3zuNVg8cnX5C59 ._217gfRb_We9LcA > a,\n._3zuNVg8cnX5C59 ._217gfRb_We9LcA a[data-testid='lazy-render-placeholder'] {\n  word-break: break-all;\n  display: inline-block;\n  padding: 8px;\n  line-height: 20px;\n  color: #0052cc;\n}\n.dBgyySWLLifbwq {\n  padding: 6px 8px 2px 8px;\n}\n.dBgyySWLLifbwq ._217gfRb_We9LcA {\n  clear: both;\n  display: block;\n  margin: 0 0 4px;\n  overflow: hidden;\n  text-decoration: underline;\n  word-wrap: break-word;\n  color: #0052cc;\n}\n",""]),a.locals={smartLinkCard:"_3zuNVg8cnX5C59",hideCover:"_1CTrgQRWwch2EK",hasBadge:"_2wRZnLW3hpFwY7",link:"_217gfRb_We9LcA",linkCard:"dBgyySWLLifbwq"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/MirrorCard.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._23zTd52IFT_7g- {\n  width: unset;\n  min-height: unset;\n  height: unset;\n  padding-bottom: 6px;\n}\n.g4CfTiF5CxboCo {\n  width: unset;\n  padding-bottom: 6px;\n}\n._3R_1rgypYCw1aI {\n  width: unset;\n  min-height: 32px;\n  z-index: 20;\n  pointer-events: none;\n}\n._2DYWynjnyMkA1H {\n  width: unset;\n  min-height: 32px;\n  z-index: 20;\n  pointer-events: none;\n  padding-bottom: 0;\n}\n._2SWTnBK0XTUUrV {\n  height: 100%;\n}\n.HrXvHiBWiO8cjS {\n  padding-top: 2px;\n}\n._1hJad5Hd16o3cU {\n  font-weight: initial;\n}\n._242bBAc-L_k_ga {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 11;\n}\n._15Xa5SXc1J7XTt {\n  display: block;\n}\n._15Xa5SXc1J7XTt > div {\n  float: right;\n  margin: 0;\n  pointer-events: all;\n}\n._1MFQ9tWgtubF4U > div {\n  pointer-events: all;\n}\n._1DWFakL37BN2Ry > span {\n  pointer-events: all;\n}\n",""]),a.locals={mirrorCardBoard:"_23zTd52IFT_7g-",mirrorCardLoading:"g4CfTiF5CxboCo",mirrorCard:"_3R_1rgypYCw1aI",mirrorCardFull:"_2DYWynjnyMkA1H",stickersWithImage:"_2SWTnBK0XTUUrV",boardTitle:"HrXvHiBWiO8cjS",boardTitleInner:"_1hJad5Hd16o3cU",clickSurface:"_242bBAc-L_k_ga",mirrorCardMemberSection:"_15Xa5SXc1J7XTt",cardDetails:"_1MFQ9tWgtubF4U",cardLabels:"_1DWFakL37BN2Ry"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/SeparatorCard.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2g9wLttlQb-QtM {\n  height: 32px;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  overflow: hidden;\n  width: 70%;\n  margin: 0 auto;\n}\n._2g9wLttlQb-QtM::before {\n  content: '';\n  display: block;\n  width: 100%;\n  border-top: 2px solid #C1C7D0;\n}\n",""]),a.locals={separatorCardFront:"_2g9wLttlQb-QtM"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".Ttrm20yJkUCvVi {\n  background: #EBECF0;\n}\n.LtbSQ1JzN14usb {\n  margin-right: 8px;\n}\n.LtbSQ1JzN14usb:visited,\n.LtbSQ1JzN14usb:active {\n  outline: none;\n}\n.LtbSQ1JzN14usb:focus {\n  outline: -webkit-focus-ring-color auto 1px;\n}\n.LtbSQ1JzN14usb .icon-template-card {\n  margin-right: 0;\n}\n",""]),a.locals={popover:"Ttrm20yJkUCvVi",cardTemplateButton:"LtbSQ1JzN14usb"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3U9gwI3nRVe6zd {\n  text-align: center;\n  margin-bottom: 12px;\n}\n.TjOp__Wm3Qae9F {\n  margin-bottom: 0;\n}\n._1i0Y-IbMbVvjvh {\n  flex: 1 1 auto;\n  z-index: 1;\n  min-height: 0;\n  padding-top: 1px;\n}\n._3fN65Lj6sGux4k {\n  display: flex;\n}\n._2y59qH0RwBBnID {\n  width: 100%;\n  margin-bottom: 8px;\n  min-height: 56px;\n}\n._1EL4q0gyUBbD_E,\n._2Z6UPrKY1is0S1 {\n  margin-top: 8px;\n  margin-bottom: 0;\n}\n._1kkaiCmPPBHiPm {\n  text-decoration: none;\n}\n._3_hacFB7NkKHaf {\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n}\n._3_hacFB7NkKHaf ._1tXWlXM8sKLHNX {\n  width: 32px;\n  padding: 6px 8px;\n  margin-bottom: 8px;\n}\n._3_hacFB7NkKHaf ._1tXWlXM8sKLHNX:focus {\n  outline: -webkit-focus-ring-color auto 1px;\n}\n",""]),a.locals={emptyStateMessage:"_3U9gwI3nRVe6zd",createNewTemplateButton:"TjOp__Wm3Qae9F",templateCards:"_1i0Y-IbMbVvjvh",templateCardContainer:"_3fN65Lj6sGux4k",templateCard:"_2y59qH0RwBBnID",editTemplatesButton:"_1EL4q0gyUBbD_E",finishEditingButton:"_2Z6UPrKY1is0S1",noTextDecoration:"_1kkaiCmPPBHiPm",controlButtons:"_3_hacFB7NkKHaf",controlButton:"_1tXWlXM8sKLHNX"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1Ali8JzQwzqt8n {\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n._1Ali8JzQwzqt8n:last-child {\n  margin-bottom: 0;\n}\n.Srhr7MEX7ybnnC {\n  text-decoration: none;\n}\n._3s_hou_YyJNn_g {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n._2YAkiEHyDix7K9 {\n  width: 100%;\n  margin-bottom: 8px;\n  min-height: 72px;\n  background-color: #FFFFFF;\n  border-radius: 3px;\n  box-sizing: border-box;\n  box-shadow: 0 1px 0 0 rgba(9, 30, 66, 0.25);\n  display: block;\n  padding-bottom: 6px;\n  position: relative;\n  overflow: hidden;\n}\n._1jGAISOwzyTrUN {\n  padding: 8px 8px 0 8px;\n}\n.lFDKlKZxBlIMYJ {\n  background-color: #ffffff;\n  border: 1px solid #00000000;\n  box-shadow: none;\n  padding: 0;\n  overflow: hidden;\n  overflow-wrap: break-word;\n  resize: none;\n  height: 60px;\n}\n.lFDKlKZxBlIMYJ:hover,\n.lFDKlKZxBlIMYJ:focus {\n  box-shadow: none;\n  background-color: transparent;\n}\n",""]),a.locals={createCardButton:"_1Ali8JzQwzqt8n",editTemplateLink:"Srhr7MEX7ybnnC",editTemplateButton:"_3s_hou_YyJNn_g",templateCard:"_2YAkiEHyDix7K9",templateCardNameContainer:"_1jGAISOwzyTrUN",templateCardEditTitle:"lFDKlKZxBlIMYJ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1fKsWV5zj_vw99 {\n  border-radius: 3px;\n  color: #5E6C84;\n  display: flex;\n  flex: 0 0 auto;\n  padding: 4px 8px;\n  position: relative;\n  text-decoration: none;\n  -webkit-user-select: none;\n          user-select: none;\n  cursor: pointer;\n}\n._1fKsWV5zj_vw99 ._1bAbJ56pvZ_qAg {\n  color: #6B778C;\n  margin-right: 2px;\n  width: 20px;\n  height: 20px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n}\n._1fKsWV5zj_vw99:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  color: #172B4D;\n  text-decoration: none;\n}\n._1fKsWV5zj_vw99:hover ._1bAbJ56pvZ_qAg {\n  color: #42526E;\n}\n._1fKsWV5zj_vw99:active {\n  background-color: rgba(9, 30, 66, 0.13);\n}\n._1SFNUKbiz4FYtZ,\n._1SFNUKbiz4FYtZ:hover,\n._1SFNUKbiz4FYtZ:focus {\n  background: none;\n  border: none;\n  box-shadow: none;\n  height: auto !important;\n  margin-bottom: 4px !important;\n  max-height: 162px;\n  min-height: 54px;\n  overflow-y: auto;\n  padding: 0;\n  resize: none;\n}\n.BpibDrY6SaEoP1 {\n  display: flex;\n}\n._3oh00Ack8DhpuY {\n  margin-bottom: 0;\n}\n._1lrQzf9tSbpYzz {\n  margin-left: 8px;\n  cursor: pointer;\n}\n._1lrQzf9tSbpYzz .mlM-nNSB5LWSDM {\n  display: inline-flex;\n  height: 32px;\n  align-items: center;\n}\n._1lrQzf9tSbpYzz:hover .mlM-nNSB5LWSDM svg {\n  color: #172B4D;\n}\n._2fzqlh1N0XM942 {\n  background-color: #FFFFFF;\n  border-radius: 3px;\n  box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n  cursor: pointer;\n  display: block;\n  margin-bottom: 8px;\n  max-width: 300px;\n  min-height: 20px;\n  position: relative;\n  text-decoration: none;\n  z-index: 0;\n}\n._2fzqlh1N0XM942 a {\n  color: #172B4D;\n}\n._36IHwO75y6TBj1 {\n  overflow: hidden;\n  padding: 6px 8px 2px 8px;\n  position: relative;\n  z-index: 10;\n}\n",""]),a.locals={openTemplateCardComposer:"_1fKsWV5zj_vw99",iconAdd:"_1bAbJ56pvZ_qAg",templateCardComposerTextarea:"_1SFNUKbiz4FYtZ",listCardButtons:"BpibDrY6SaEoP1",addButton:"_3oh00Ack8DhpuY",closeButton:"_1lrQzf9tSbpYzz",closeIcon:"mlM-nNSB5LWSDM",listCard:"_2fzqlh1N0XM942",listCardDetails:"_36IHwO75y6TBj1"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/ExpiredTrialPlanSelection.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3oYoXAfb--J1Y7 {\n  padding: 16px 32px;\n  text-align: center;\n}\n._3oYoXAfb--J1Y7 h1 {\n  font-size: 24px;\n  margin-top: 0;\n  letter-spacing: -0.01px;\n  line-height: 28px;\n  padding-top: 20px;\n}\n._3oYoXAfb--J1Y7 h1 ._1i9ePmz0Jjntzd {\n  vertical-align: middle;\n}\n._3oYoXAfb--J1Y7 h2 {\n  font-size: 14px;\n  font-weight: normal;\n  margin: 8px 0 0;\n}\n@media only screen and (max-width: 750px) {\n  ._3oYoXAfb--J1Y7 {\n    padding: 16px;\n  }\n  ._3oYoXAfb--J1Y7 h1 {\n    padding-top: 0;\n    font-size: 20px;\n    margin-bottom: 8px;\n  }\n  ._3oYoXAfb--J1Y7 h2 {\n    line-height: 20px;\n  }\n}\n._427iw7KJSOXcZU {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 32px;\n  margin-top: 16px;\n}\n._427iw7KJSOXcZU p {\n  width: 100%;\n  text-align: center;\n  color: #8993A4;\n  font-size: 12px;\n}\n",""]),a.locals={heading:"_3oYoXAfb--J1Y7",briefcase:"_1i9ePmz0Jjntzd",actions:"_427iw7KJSOXcZU"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3e-jXxf1jRhPsS {\n  padding: 4px 4px 4px 16px;\n  background-color: rgba(9, 30, 66, 0.95);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  line-height: 18px;\n  font-weight: 600;\n  height: auto;\n}\n._3MFBzTi_1sdtng {\n  margin-right: 8px;\n}\n._3egps_OkZ6iVbN {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n._3QngR60jUilN2x,\n._1AEslwtbvSrUsN {\n  display: flex;\n  flex-direction: row;\n}\n._1Rg3IexVG6-G9T {\n  background-color: #0079BF;\n  box-shadow: none;\n  border: none;\n  color: #FFFFFF;\n  -webkit-text-decoration-line: none;\n          text-decoration-line: none;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: normal;\n  min-width: -webkit-fit-content;\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n  margin: 0;\n  padding: 6px 12px;\n  border-radius: 3px;\n  transition: background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);\n  transition-duration: 0.1s, 0.15s;\n  white-space: nowrap;\n}\n._1Rg3IexVG6-G9T svg circle {\n  stroke: #FFFFFF;\n}\n._1Rg3IexVG6-G9T:hover {\n  background-color: #026AA7;\n  box-shadow: none;\n  border: none;\n  color: #FFFFFF;\n}\n._1Rg3IexVG6-G9T:hover svg circle {\n  stroke: #FFFFFF;\n}\n._1Rg3IexVG6-G9T:active {\n  background-color: #055A8C;\n  box-shadow: none;\n  border: none;\n  color: #FFFFFF;\n  outline: 0;\n}\n._1Rg3IexVG6-G9T:active svg circle {\n  stroke: #FFFFFF;\n}\n._1eOGsi1BepiNe6 {\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  min-width: 34px;\n}\n._1eOGsi1BepiNe6:hover {\n  background-color: transparent;\n}\n._1xxTdZKrd2K4Ph {\n  margin-left: 2px;\n  color: #42526E;\n}\n._1xxTdZKrd2K4Ph:hover {\n  color: #FFFFFF;\n}\n.BXge-Q9EHxVpaX {\n  color: #A5ADBA;\n  display: flex;\n  align-items: center;\n  margin-right: 8px;\n  margin-bottom: 3px;\n  -webkit-text-decoration-line: underline;\n          text-decoration-line: underline;\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 500;\n  cursor: pointer;\n}\n.BXge-Q9EHxVpaX:hover {\n  color: #FFFFFF;\n}\n@media only screen and (max-width: 600px), only screen and (max-width: 750px), only screen and (min-width: 751px) and (max-width: 900px) {\n  ._1AEslwtbvSrUsN {\n    flex-direction: column-reverse;\n    align-items: flex-end;\n  }\n  ._1eOGsi1BepiNe6 {\n    align-self: flex-start;\n  }\n  .BXge-Q9EHxVpaX {\n    margin-right: 0;\n  }\n  ._1AEslwtbvSrUsN {\n    margin-left: 20px;\n  }\n}\n._2zc8xFn38LP118 {\n  color: #FFFFFF;\n  background-color: rgba(9, 30, 66, 0.95);\n}\n._1LkXmh122INNL4 {\n  background-color: #42526E;\n  border-radius: 3px;\n  line-height: 24px;\n  width: 24px;\n  text-align: center;\n  display: inline-block;\n}\n._2o8KV7z58htPNU {\n  margin-left: 4px;\n  color: #FFFFFF;\n}\n._2o8KV7z58htPNU:hover {\n  color: #FFFFFF;\n}\n",""]),a.locals={container:"_3e-jXxf1jRhPsS",emoji:"_3MFBzTi_1sdtng",bcContainer:"_3egps_OkZ6iVbN",ctaContainer:"_3QngR60jUilN2x",linkContainer:"_1AEslwtbvSrUsN",linkButton:"_1Rg3IexVG6-G9T",closeButton:"_1eOGsi1BepiNe6",closeIcon:"_1xxTdZKrd2K4Ph",linkCta:"BXge-Q9EHxVpaX",bannerBg:"_2zc8xFn38LP118",daysContainer:"_1LkXmh122INNL4",boardClosureMessaging:"_2o8KV7z58htPNU"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".vG5onLTwX8HjOb {\n  padding: 4px 4px 4px 16px;\n  background-color: rgba(9, 30, 66, 0.95);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  line-height: 18px;\n  font-weight: 600;\n  height: auto;\n}\n._1wqmtUrKOeRUh9 {\n  margin-right: 8px;\n}\n._1SIf8KT1MBJ-1K {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n._3ok7Lj00oG7RIK,\n._3pwF4sg742IXbc {\n  display: flex;\n  flex-direction: row;\n}\n._28xiu3HtrkIjrz {\n  background-color: #0079BF;\n  box-shadow: none;\n  border: none;\n  color: #FFFFFF;\n  -webkit-text-decoration-line: none;\n          text-decoration-line: none;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: normal;\n  min-width: -webkit-fit-content;\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n  margin: 0;\n  padding: 6px 12px;\n  border-radius: 3px;\n  transition: background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);\n  transition-duration: 0.1s, 0.15s;\n  white-space: nowrap;\n}\n._28xiu3HtrkIjrz svg circle {\n  stroke: #FFFFFF;\n}\n._28xiu3HtrkIjrz:hover {\n  background-color: #026AA7;\n  box-shadow: none;\n  border: none;\n  color: #FFFFFF;\n}\n._28xiu3HtrkIjrz:hover svg circle {\n  stroke: #FFFFFF;\n}\n._28xiu3HtrkIjrz:active {\n  background-color: #055A8C;\n  box-shadow: none;\n  border: none;\n  color: #FFFFFF;\n  outline: 0;\n}\n._28xiu3HtrkIjrz:active svg circle {\n  stroke: #FFFFFF;\n}\n._335WWYwuB-kzWj {\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  min-width: 34px;\n}\n._335WWYwuB-kzWj:hover {\n  background-color: transparent;\n}\n._3gGvLAiPcUm79z {\n  margin-left: 2px;\n  color: #42526E;\n}\n._3gGvLAiPcUm79z:hover {\n  color: #FFFFFF;\n}\n.i2c3eN5p1BfFRX {\n  color: #A5ADBA;\n  display: flex;\n  align-items: center;\n  margin-right: 8px;\n  margin-bottom: 3px;\n  -webkit-text-decoration-line: underline;\n          text-decoration-line: underline;\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 500;\n  cursor: pointer;\n}\n.i2c3eN5p1BfFRX:hover {\n  color: #FFFFFF;\n}\n@media only screen and (max-width: 600px), only screen and (max-width: 750px), only screen and (min-width: 751px) and (max-width: 900px) {\n  ._3pwF4sg742IXbc {\n    flex-direction: column-reverse;\n    align-items: flex-end;\n  }\n  ._335WWYwuB-kzWj {\n    align-self: flex-start;\n  }\n  .i2c3eN5p1BfFRX {\n    margin-right: 0;\n  }\n  ._3pwF4sg742IXbc {\n    margin-left: 20px;\n  }\n}\n._2Vgyc7KO1aV1sz {\n  color: #172B4D;\n  background-color: #D6ECD2;\n}\n.i2c3eN5p1BfFRX {\n  color: #172B4D;\n  margin-top: 5px;\n}\n.i2c3eN5p1BfFRX:hover {\n  color: #42526E;\n}\n",""]),a.locals={container:"vG5onLTwX8HjOb",emoji:"_1wqmtUrKOeRUh9",bcContainer:"_1SIf8KT1MBJ-1K",ctaContainer:"_3ok7Lj00oG7RIK",linkContainer:"_3pwF4sg742IXbc",linkButton:"_28xiu3HtrkIjrz",closeButton:"_335WWYwuB-kzWj",closeIcon:"_3gGvLAiPcUm79z",linkCta:"i2c3eN5p1BfFRX",expiredBg:"_2Vgyc7KO1aV1sz"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2nyVApcUxJXMDF {\n  padding: 8px 32px 24px 32px;\n  text-align: center;\n}\n._2nyVApcUxJXMDF h1 {\n  font-size: 24px;\n  margin-top: 0;\n  letter-spacing: -0.01px;\n  line-height: 28px;\n  padding-top: 20px;\n  font-weight: 500;\n}\n._2nyVApcUxJXMDF h1 img {\n  vertical-align: text-bottom;\n  margin: 0 8px;\n}\n._2nyVApcUxJXMDF h2 {\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 20px;\n  margin: 8px 0 0;\n}\n@media only screen and (max-width: 750px) {\n  ._2nyVApcUxJXMDF {\n    padding: 16px;\n  }\n  ._2nyVApcUxJXMDF h1 {\n    padding-top: 0;\n    font-size: 20px;\n    margin-bottom: 8px;\n  }\n  ._2nyVApcUxJXMDF h2 {\n    line-height: 20px;\n  }\n}\n._37tWMbvwt-E6ER {\n  color: #89609E;\n  font-size: 33px;\n}\n._26fLlpvOcOOam9 {\n  display: flex;\n  flex-direction: row;\n  padding: 0 24px 8px;\n}\n@media only screen and (max-width: 750px) {\n  ._26fLlpvOcOOam9 {\n    padding: 0 16px 8px;\n  }\n}\n._1Ex_4Wj5YumF3v,\n._1fbLiUQ8OE7WUD,\n._23avZVf_I2jNMS {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  padding: 16px;\n  border-radius: 3px;\n  border: 3px solid #F4F5F7;\n}\n._1Ex_4Wj5YumF3v h2,\n._1fbLiUQ8OE7WUD h2,\n._23avZVf_I2jNMS h2 {\n  text-align: center;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 20px;\n  margin: 0;\n  padding: 4px 0 5px;\n  color: #484553;\n}\n._1Ex_4Wj5YumF3v ._2lIle4-XEVfXDP,\n._1fbLiUQ8OE7WUD ._2lIle4-XEVfXDP,\n._23avZVf_I2jNMS ._2lIle4-XEVfXDP {\n  font-weight: 700;\n  margin-bottom: 0;\n  font-size: 11px;\n  text-align: center;\n  color: #6C547B;\n}\n._1Ex_4Wj5YumF3v p,\n._1fbLiUQ8OE7WUD p,\n._23avZVf_I2jNMS p {\n  font-weight: 400;\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  color: #6B778C;\n  line-height: 18px;\n  padding: 8px 0 0;\n  text-align: center;\n}\n._1Ex_4Wj5YumF3v ul,\n._1fbLiUQ8OE7WUD ul,\n._23avZVf_I2jNMS ul {\n  flex: 1;\n}\n@media only screen and (max-width: 750px) {\n  ._1Ex_4Wj5YumF3v,\n  ._1fbLiUQ8OE7WUD,\n  ._23avZVf_I2jNMS {\n    position: relative;\n    padding: 16px 8px 8px;\n  }\n  ._1Ex_4Wj5YumF3v h2,\n  ._1fbLiUQ8OE7WUD h2,\n  ._23avZVf_I2jNMS h2 {\n    font-size: 14px;\n    margin-bottom: 8px;\n  }\n  ._1Ex_4Wj5YumF3v p,\n  ._1fbLiUQ8OE7WUD p,\n  ._23avZVf_I2jNMS p {\n    padding: 4px 0;\n    font-size: 12px;\n  }\n}\n._1fbLiUQ8OE7WUD,\n._23avZVf_I2jNMS {\n  margin: 8px -3px 8px 0;\n}\n._1fbLiUQ8OE7WUD h2,\n._23avZVf_I2jNMS h2 {\n  color: #5E6C84;\n}\n@media only screen and (max-width: 750px) {\n  ._1fbLiUQ8OE7WUD,\n  ._23avZVf_I2jNMS {\n    display: none;\n  }\n}\n._1Ex_4Wj5YumF3v {\n  position: relative;\n  background-color: #F7F0FA;\n  border-color: #EDDBF4;\n}\n@media only screen and (max-width: 750px) {\n  ._1Ex_4Wj5YumF3v h2 {\n    display: none;\n  }\n}\n._2dGLvlhnZwWih3 {\n  background-color: #F2D600;\n  color: #172B4D;\n  border-radius: 3px;\n  display: inline-block;\n  height: 18px;\n  padding: 0 12px;\n  font-size: 12px;\n  text-align: center;\n  line-height: 18px;\n  align-self: center;\n  margin-top: -25px;\n}\n._1Zw4dHR0uPOhWw,\n._23avZVf_I2jNMS {\n  margin: 16px -3px 16px 0;\n}\n._1Ex_4Wj5YumF3v._1MvNBe63D0a18t ._2dGLvlhnZwWih3 {\n  font-weight: bold;\n  padding: 2px 12px;\n  font-size: 11px;\n}\n._4W1Ie9U3Ax3ySz {\n  display: flex;\n  padding: 8px;\n  text-align: left;\n}\n._4W1Ie9U3Ax3ySz ._1151EheF4kM-4f {\n  color: #42526E;\n  margin-right: 8px;\n}\n@media only screen and (max-width: 750px) {\n  ._4W1Ie9U3Ax3ySz {\n    padding: 8px 0;\n  }\n  ._4W1Ie9U3Ax3ySz ._1151EheF4kM-4f {\n    width: 16px;\n    height: 16px;\n    line-height: 16px;\n    font-size: 16px;\n    margin-right: 4px;\n  }\n}\n.ebt7zJ2_dMmqeO {\n  display: flex;\n}\n._3Lq_mMya2SKDXd {\n  font-weight: 400;\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  color: #6B778C;\n  line-height: 18px;\n  display: inline;\n  color: #172B4D;\n  line-height: 20px;\n  flex: 1;\n  margin-left: 10px;\n}\n@media only screen and (max-width: 750px) {\n  ._3Lq_mMya2SKDXd {\n    font-size: 14px;\n    line-height: 16px;\n  }\n}\n._12BdJcF_79-4gH {\n  cursor: pointer;\n}\n._12BdJcF_79-4gH ._3Lq_mMya2SKDXd {\n  border-bottom: 2px dashed #97A0AF;\n  padding-bottom: 1px;\n}\n.rLyeacnG0ul5kt {\n  display: flex;\n  flex-direction: column;\n  padding: 0 24px;\n  margin-top: 8px;\n}\n.rLyeacnG0ul5kt p {\n  flex: 1;\n  text-align: center;\n  color: #8993A4;\n  font-size: 12px;\n}\n.rLyeacnG0ul5kt ._1O1LViRF9930kO {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin-bottom: 16px;\n}\n.rLyeacnG0ul5kt ._1O1LViRF9930kO span {\n  text-decoration: underline;\n}\n.rLyeacnG0ul5kt ._3MqjymahTJaXoW {\n  align-self: center;\n  display: inline-block;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  padding: 6px 12px;\n  font-size: 14px;\n  line-height: 20px;\n  color: #172B4D;\n  margin-bottom: 16px;\n  text-decoration: none;\n}\n.rLyeacnG0ul5kt ._3MqjymahTJaXoW:hover {\n  background: rgba(9, 30, 66, 0.13);\n}\n@media only screen and (max-width: 750px) {\n  .rLyeacnG0ul5kt {\n    padding: 0 16px;\n  }\n  .rLyeacnG0ul5kt ._2M9HPYtlDsg6Fk {\n    flex-wrap: wrap;\n  }\n  .rLyeacnG0ul5kt ._2M9HPYtlDsg6Fk span {\n    display: block;\n    width: 100%;\n    margin: 8px 0;\n  }\n}\n._3FDMT3ZVbZmxiR {\n  mix-blend-mode: hard-light;\n}\n",""]),a.locals={heading:"_2nyVApcUxJXMDF",headingIcon:"_37tWMbvwt-E6ER",bodyWrapper:"_26fLlpvOcOOam9",bcPlan:"_1Ex_4Wj5YumF3v",freePlan:"_1fbLiUQ8OE7WUD",staPlan:"_23avZVf_I2jNMS",subLabel:"_2lIle4-XEVfXDP",recommendedLabel:"_2dGLvlhnZwWih3",freePlanNusku:"_1Zw4dHR0uPOhWw",bcPlanNusku:"_1MvNBe63D0a18t",featureItem:"_4W1Ie9U3Ax3ySz",featureIcon:"_1151EheF4kM-4f",featureItemWrapper:"ebt7zJ2_dMmqeO",featureContent:"_3Lq_mMya2SKDXd",tooltipTarget:"_12BdJcF_79-4gH",actions:"rLyeacnG0ul5kt",afterTrial:"_1O1LViRF9930kO",secondaryCta:"_3MqjymahTJaXoW",trustedBy:"_2M9HPYtlDsg6Fk",spinner:"_3FDMT3ZVbZmxiR"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/MiniPlanOverviewSection.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".i9g3LOwnXi-uzf {\n  background-color: #F2D600;\n  color: #172B4D;\n  border-radius: 3px;\n  display: inline-block;\n  height: 18px;\n  padding: 0 12px;\n  font-size: 12px;\n  text-align: center;\n  line-height: 18px;\n  align-self: center;\n  margin-top: -25px;\n}\n._3BAK4REF5vVs7R {\n  display: flex;\n  padding: 8px;\n  text-align: left;\n}\n._3BAK4REF5vVs7R ._1ias-XvYim3jIQ {\n  color: #42526E;\n  margin-right: 8px;\n  width: 20px;\n  height: 20px;\n}\n@media only screen and (max-width: 750px) {\n  ._3BAK4REF5vVs7R {\n    padding: 8px 0;\n  }\n  ._3BAK4REF5vVs7R ._1ias-XvYim3jIQ {\n    width: 16px;\n    height: 16px;\n    line-height: 16px;\n    font-size: 16px;\n    margin-right: 4px;\n  }\n}\n._296K_JYJVVJZUH {\n  display: flex;\n}\n._2QqvVBFKlXV01A {\n  margin-left: 10px;\n}\n._2QqvVBFKlXV01A ._2bgs4SlJDBOq0T {\n  font-weight: 400;\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  color: #6B778C;\n  line-height: 18px;\n  display: inline;\n  color: #172B4D;\n  line-height: 20px;\n  flex: 1;\n}\n@media only screen and (max-width: 750px) {\n  ._2QqvVBFKlXV01A ._2bgs4SlJDBOq0T {\n    font-size: 14px;\n    line-height: 16px;\n  }\n}\n._121Ep8EfIMNuQh {\n  cursor: pointer;\n}\n._121Ep8EfIMNuQh ._2bgs4SlJDBOq0T {\n  border-bottom: 2px dashed #97A0AF;\n  padding-bottom: 1px;\n}\n._28qSO_czjQqSdA,\n.rsfr0O-cZsP2Ap,\n.zQDuT2Tv8Rhzey {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  padding: 16px;\n  border-radius: 3px;\n  border: 3px solid #F4F5F7;\n}\n._28qSO_czjQqSdA h2,\n.rsfr0O-cZsP2Ap h2,\n.zQDuT2Tv8Rhzey h2 {\n  text-align: center;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 20px;\n  margin: 0;\n  padding: 4px 0 5px;\n  color: #484553;\n}\n._28qSO_czjQqSdA ._238KNAxxdPR62N,\n.rsfr0O-cZsP2Ap ._238KNAxxdPR62N,\n.zQDuT2Tv8Rhzey ._238KNAxxdPR62N {\n  font-weight: 700;\n  margin-bottom: 0;\n  font-size: 11px;\n  text-align: center;\n  color: #6C547B;\n}\n._28qSO_czjQqSdA ._238KNAxxdPR62N.ossCzgxxO46HTQ,\n.rsfr0O-cZsP2Ap ._238KNAxxdPR62N.ossCzgxxO46HTQ,\n.zQDuT2Tv8Rhzey ._238KNAxxdPR62N.ossCzgxxO46HTQ {\n  color: #6B778C;\n}\n._28qSO_czjQqSdA p,\n.rsfr0O-cZsP2Ap p,\n.zQDuT2Tv8Rhzey p {\n  font-weight: 400;\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  color: #6B778C;\n  line-height: 18px;\n  padding: 8px 0 0;\n  text-align: center;\n}\n._28qSO_czjQqSdA ul,\n.rsfr0O-cZsP2Ap ul,\n.zQDuT2Tv8Rhzey ul {\n  flex: 1;\n}\n@media only screen and (max-width: 750px) {\n  ._28qSO_czjQqSdA,\n  .rsfr0O-cZsP2Ap,\n  .zQDuT2Tv8Rhzey {\n    position: relative;\n    padding: 16px 8px 8px;\n  }\n  ._28qSO_czjQqSdA h2,\n  .rsfr0O-cZsP2Ap h2,\n  .zQDuT2Tv8Rhzey h2 {\n    font-size: 14px;\n    margin-bottom: 8px;\n  }\n  ._28qSO_czjQqSdA p,\n  .rsfr0O-cZsP2Ap p,\n  .zQDuT2Tv8Rhzey p {\n    padding: 4px 0;\n    font-size: 12px;\n  }\n}\n._28qSO_czjQqSdA {\n  position: relative;\n  background-color: #F7F0FA;\n  border-color: #EDDBF4;\n}\n@media only screen and (max-width: 750px) {\n  ._28qSO_czjQqSdA h2 {\n    display: none;\n  }\n}\n._28qSO_czjQqSdA._1SZJwVVuDq9xR4 .i9g3LOwnXi-uzf {\n  font-weight: bold;\n  padding: 2px 12px;\n  font-size: 11px;\n}\n.rsfr0O-cZsP2Ap,\n.zQDuT2Tv8Rhzey {\n  margin: 8px -3px 8px 0;\n}\n.rsfr0O-cZsP2Ap h2,\n.zQDuT2Tv8Rhzey h2 {\n  color: #5E6C84;\n}\n@media only screen and (max-width: 750px) {\n  .rsfr0O-cZsP2Ap,\n  .zQDuT2Tv8Rhzey {\n    display: none;\n  }\n}\n._2h1T4PKH6MqpkD,\n.zQDuT2Tv8Rhzey {\n  margin: 16px -3px 16px 0;\n}\n",""]),a.locals={recommendedLabel:"i9g3LOwnXi-uzf",featureItem:"_3BAK4REF5vVs7R",featureIcon:"_1ias-XvYim3jIQ",featureItemWrapper:"_296K_JYJVVJZUH",featureTextWrapper:"_2QqvVBFKlXV01A",featureContent:"_2bgs4SlJDBOq0T",tooltipTarget:"_121Ep8EfIMNuQh",bcPlan:"_28qSO_czjQqSdA",freePlan:"rsfr0O-cZsP2Ap",staPlan:"zQDuT2Tv8Rhzey",subLabel:"_238KNAxxdPR62N",basic:"ossCzgxxO46HTQ",bcPlanNusku:"_1SZJwVVuDq9xR4",freePlanNusku:"_2h1T4PKH6MqpkD"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".R2xFXhOR5u9-9v {\n  padding: 8px 32px 24px 32px;\n  text-align: center;\n}\n.R2xFXhOR5u9-9v h1 {\n  font-size: 24px;\n  margin-top: 0;\n  letter-spacing: -0.01px;\n  line-height: 28px;\n  padding-top: 20px;\n  font-weight: 500;\n}\n.R2xFXhOR5u9-9v h1 img {\n  vertical-align: text-bottom;\n  margin: 0 8px;\n}\n.R2xFXhOR5u9-9v h2 {\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 20px;\n  margin: 8px 0 0;\n}\n@media only screen and (max-width: 750px) {\n  .R2xFXhOR5u9-9v {\n    padding: 16px;\n  }\n  .R2xFXhOR5u9-9v h1 {\n    padding-top: 0;\n    font-size: 20px;\n    margin-bottom: 8px;\n  }\n  .R2xFXhOR5u9-9v h2 {\n    line-height: 20px;\n  }\n}\n._1tU6xVW9lfGR0c {\n  color: #89609E;\n  font-size: 33px;\n}\n._3nW4_6bSzayLLX {\n  display: flex;\n  flex-direction: row;\n  padding: 0 24px 8px;\n}\n@media only screen and (max-width: 750px) {\n  ._3nW4_6bSzayLLX {\n    padding: 0 16px 8px;\n  }\n}\n._2cCdd75jYv6p9h {\n  display: flex;\n  flex-direction: column;\n  padding: 0 24px;\n  margin-top: 8px;\n}\n._2cCdd75jYv6p9h p {\n  flex: 1;\n  text-align: center;\n  color: #8993A4;\n  font-size: 12px;\n}\n._2cCdd75jYv6p9h ._1NVac1L0gJec49 {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin-bottom: 16px;\n}\n._2cCdd75jYv6p9h ._1NVac1L0gJec49 span {\n  text-decoration: underline;\n}\n._2cCdd75jYv6p9h .lkJCVXEZJMnbd2 {\n  align-self: center;\n  display: inline-block;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  padding: 6px 12px;\n  font-size: 14px;\n  line-height: 20px;\n  color: #172B4D;\n  margin-bottom: 16px;\n  text-decoration: none;\n}\n._2cCdd75jYv6p9h .lkJCVXEZJMnbd2:hover {\n  background: rgba(9, 30, 66, 0.13);\n}\n@media only screen and (max-width: 750px) {\n  ._2cCdd75jYv6p9h {\n    padding: 0 16px;\n  }\n  ._2cCdd75jYv6p9h .UAqctU7WiRWziL {\n    flex-wrap: wrap;\n  }\n  ._2cCdd75jYv6p9h .UAqctU7WiRWziL span {\n    display: block;\n    width: 100%;\n    margin: 8px 0;\n  }\n}\n._-5kf5IDfvk0oSD {\n  mix-blend-mode: hard-light;\n}\n",""]),a.locals={heading:"R2xFXhOR5u9-9v",headingIcon:"_1tU6xVW9lfGR0c",bodyWrapper:"_3nW4_6bSzayLLX",actions:"_2cCdd75jYv6p9h",afterTrial:"_1NVac1L0gJec49",secondaryCta:"lkJCVXEZJMnbd2",trustedBy:"UAqctU7WiRWziL",spinner:"_-5kf5IDfvk0oSD"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3_D1qFyb0UiX3f {\n  box-shadow: 0 8px 16px -4px rgba(9, 30, 66, 0.25), 0 0 0 1px rgba(9, 30, 66, 0.08);\n  width: 600px;\n  background: #FFFFFF;\n  border-radius: 3px;\n  border: 1px solid rgba(9, 30, 66, 0.08);\n  padding: 8px;\n  position: relative;\n  outline: 0;\n  transition: height 0.1s ease-in-out;\n}\n@media only screen and (max-width: 750px) {\n  ._3_D1qFyb0UiX3f {\n    min-width: 0;\n    width: auto;\n    border: 0;\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n  }\n}\n._14OV6Zv0GHECOj {\n  width: 800px;\n}\n@media only screen and (max-width: 750px) {\n  ._14OV6Zv0GHECOj {\n    max-width: none;\n    min-width: 0;\n    width: 100%;\n    border: 0;\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n  }\n}\n.nvTJnERhbYC4EW {\n  position: absolute;\n  top: 6px;\n  padding: 0;\n  line-height: 20px;\n  margin: 0;\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  opacity: 0.6;\n}\n.nvTJnERhbYC4EW:hover,\n.nvTJnERhbYC4EW:focus {\n  opacity: 1;\n}\n._1AqRaW64-Uf7EX {\n  position: absolute;\n  top: 6px;\n  padding: 0;\n  line-height: 20px;\n  margin: 0;\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  opacity: 0.6;\n  right: 6px;\n}\n._1AqRaW64-Uf7EX:hover,\n._1AqRaW64-Uf7EX:focus {\n  opacity: 1;\n}\n._2DQAyE7Qi1MQS5 {\n  position: absolute;\n  top: 6px;\n  padding: 0;\n  line-height: 20px;\n  margin: 0;\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  opacity: 0.6;\n  left: 6px;\n}\n._2DQAyE7Qi1MQS5:hover,\n._2DQAyE7Qi1MQS5:focus {\n  opacity: 1;\n}\n._1y9kTLDSpw5xE9 {\n  width: 50%;\n  text-align: center;\n  margin-bottom: 16px;\n}\n._3PQuutN5vlRt9s {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  margin: 0 0 16px 0;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n  padding: 8px 0;\n}\n",""]),a.locals={overlay:"_3_D1qFyb0UiX3f",overlayExpanded:"_14OV6Zv0GHECOj","top-button":"nvTJnERhbYC4EW",close:"_1AqRaW64-Uf7EX",back:"_2DQAyE7Qi1MQS5",planSelectionCtaButton:"_1y9kTLDSpw5xE9",freeTrialPlanSelectionCtaButton:"_3PQuutN5vlRt9s"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/TrustedByTeams.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1U6jIsLgXgVPfv {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 16px;\n}\n._1U6jIsLgXgVPfv span {\n  color: #5E6C84;\n  margin-top: 20px;\n  margin: 0;\n  text-transform: uppercase;\n  padding-right: 8px;\n  color: #6B778C;\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 600;\n}\n._1U6jIsLgXgVPfv img {\n  padding: 0 8px;\n}\n",""]),a.locals={trustedBy:"_1U6jIsLgXgVPfv"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3pvIU3V2zM5FJU {\n  padding: 8px;\n  background: #FFFFFF;\n  border-radius: 3px;\n}\n._1ds91XwbV3z51w {\n  background: #FDFAE5;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 16px 26px;\n  text-align: center;\n}\n._1ds91XwbV3z51w h3 {\n  margin-top: 12px;\n}\n._1ds91XwbV3z51w p {\n  margin-top: 6px;\n  margin-bottom: 16px;\n}\n._24AFmjyEMaYAEk {\n  margin-top: 6px;\n  background: #F2D600;\n  padding: 2px 4px;\n  border-radius: 3px;\n  font-size: 11px;\n}\n._20rAJp9bOs6uF7 {\n  padding: 16px 16px 0 16px;\n}\n._8Tz9xOyD8k2A5w {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: -10px;\n  height: 40px;\n}\n._8Tz9xOyD8k2A5w h3 {\n  color: #6C547B;\n}\n._8Tz9xOyD8k2A5w img {\n  transform: rotate(10deg);\n}\n.kup-l4ZYhHENGH {\n  display: flex;\n  align-items: baseline;\n  margin-bottom: 10px;\n}\n._2KDS0GOyT46msH {\n  margin-bottom: 18px;\n}\n._3MSFHHsdxGJ_N- {\n  width: 6px;\n  height: 6px;\n  background-color: #0079BF;\n  border-radius: 50%;\n  margin-right: 6px;\n  position: relative;\n  top: -2px;\n}\n._2zxy6PL8ARHdME {\n  height: 32px;\n  padding: 0;\n}\n._2scxJUeqO93Cqs {\n  mix-blend-mode: hard-light;\n}\n",""]),a.locals={upsellOverlay:"_3pvIU3V2zM5FJU",upsellOverlayHeader:"_1ds91XwbV3z51w",upsellOverlayTag:"_24AFmjyEMaYAEk",upsellOverlayBody:"_20rAJp9bOs6uF7",upsellOverlayBodyHeader:"_8Tz9xOyD8k2A5w",upsellOverlayThing:"kup-l4ZYhHENGH",upsellOverlayThings:"_2KDS0GOyT46msH",upsellOverlayThingBullet:"_3MSFHHsdxGJ_N-",button:"_2zxy6PL8ARHdME",spinner:"_2scxJUeqO93Cqs"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/NewFeature/NewPill.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3d0306hHE53U7y:focus {\n  border: none;\n  box-shadow: none;\n}\n._23ZDfgpiESvkX8 {\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.aKJZDs0FdlntgZ {\n  font-weight: 600;\n}\n",""]),a.locals={unstyledLink:"_3d0306hHE53U7y",link:"_23ZDfgpiESvkX8",lozenge:"aKJZDs0FdlntgZ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Onboarding/Pulse.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".ylncrduDhAPO_M {\n  animation: Ugquz7csRNjlq5 3000ms cubic-bezier(0.55, 0.055, 0.675, 0.19) infinite;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  border-radius: 3px;\n}\n@keyframes Ugquz7csRNjlq5 {\n  0%,\n  33% {\n    box-shadow: 0 0 0 2px #6554c0, 0 0 0 #6554c0;\n  }\n  66%,\n  100% {\n    box-shadow: 0 0 0 2px #6554c0, 0 0 0 10px rgba(101, 84, 192, 0.01);\n  }\n}\n._3ehsejgx3TZhym:active {\n  pointer-events: none;\n}\n",""]),a.locals={pulse:"ylncrduDhAPO_M",pulsing:"Ugquz7csRNjlq5",disableClicks:"_3ehsejgx3TZhym"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._19VPWNoGutZoPI {\n  padding: 0 12px;\n  word-break: break-word;\n}\n._19VPWNoGutZoPI p {\n  margin: 0 0 16px;\n}\n",""]),a.locals={confirmContainer:"_19VPWNoGutZoPI"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUp/PowerUp.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3wECjMUwx6bXbh {\n  display: flex;\n  flex-direction: row;\n}\n.jOMdlV6p8yaNup {\n  display: flex;\n  flex-direction: column;\n}\n._1XqoJjeQCvCHSg {\n  position: relative;\n}\n._3G42BvD12zSwrs {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n._2oQoIUsxc2DzGX {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n._2N_g4Azs9MA7eH {\n  display: grid;\n}\n.RsiPlzxui6f5Zu {\n  display: grid;\n  grid-template-rows: 40px auto 54px minmax(-webkit-min-content, auto);\n  grid-template-rows: 40px auto 54px minmax(min-content, auto);\n  justify-content: left;\n  row-gap: 8px;\n}\n.RgUKmNWpJaz_1v {\n  display: grid;\n  grid-auto-rows: 40px auto;\n  margin-bottom: 8px;\n  row-gap: 12px;\n}\n._3SR6hz-B8CKbz0 {\n  align-items: center;\n  display: grid;\n  grid-template-columns: 40px 1fr;\n}\n._2x8MVWAUX9Lyw6 {\n  display: grid;\n  grid-template-columns: 1fr auto;\n}\n.EpcXQhS_hSHwoh {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n}\n.avojG8_qjh_h1A {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 20px;\n  margin-left: 8px;\n  max-height: 40px;\n  text-overflow: ellipsis;\n}\n.avojG8_qjh_h1A._1Nj7CmnmTprRp4 {\n  height: 18px;\n  margin-bottom: 4px;\n  min-width: 100px;\n}\n._1ezMczRofm-qil {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 20px;\n  margin-left: 8px;\n  max-height: 20px;\n  text-overflow: ellipsis;\n}\n._3LnyK4-bIa6Cex {\n  font-size: 14px;\n  letter-spacing: -0.3px;\n  line-height: normal;\n  margin-left: 7px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: no-wrap;\n}\n._2Uk0cKkouE0RX6 {\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 4px;\n  display: inline-block;\n  text-align: center;\n  height: 40px;\n  width: 40px;\n}\n._2niMUbEOJGkRK6 {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: -4px;\n}\n._2niMUbEOJGkRK6 a,\n._2niMUbEOJGkRK6 button {\n  margin-right: 8px;\n}\n._1Tz-UAUbBhGeAo {\n  align-items: center;\n  border-radius: 3px;\n  color: #5E6C84;\n  display: flex;\n  font-size: 12px;\n  height: 24px;\n  line-height: 14px;\n  margin-bottom: 4px;\n  margin-right: 12px;\n  white-space: nowrap;\n}\n._39mSw_g-WrdxoH {\n  margin-right: 8px;\n}\n._3JZ-bRxgWdXBq9 {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  color: #5E6C84;\n  font-size: 14px;\n  height: 54px;\n  line-height: 18px;\n  max-height: 54px;\n}\n._16JWmB_8-lGalC {\n  background-color: #FAFBFC;\n  border-radius: 4px;\n  padding: 8px;\n}\n._16JWmB_8-lGalC:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n._3TuGx9_4HnHH-I {\n  background: #FAFBFC;\n  min-width: 304px;\n  border-radius: 4px;\n}\n._3KapEeyVaXp9ms {\n  padding: 10px;\n}\n._2jEs_uinVeaiL6 {\n  height: 240px;\n  width: 100%;\n  border-radius: 4px 4px 0 0;\n}\n@keyframes mgoe3QNYaltTN0 {\n  0% {\n    background-position: -468px 0;\n  }\n  100% {\n    background-position: 468px 0;\n  }\n}\n._1Nj7CmnmTprRp4 {\n  animation-duration: 1.5s;\n  animation-fill-mode: forwards;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  animation-name: mgoe3QNYaltTN0;\n  background: linear-gradient(to right, #EBECF0 8%, #DFE1E6 18%, #EBECF0 33%);\n  background-size: 800px 104px;\n}\n._2onzhK4-WCCWXy {\n  height: 24px;\n  min-width: 64px;\n  margin-top: 3px;\n  border-radius: 3px;\n}\n.directory-individual-listing ._1R38P-zUuNlcRt {\n  margin-left: 8px;\n}\n",""]),a.locals={flexRow:"_3wECjMUwx6bXbh",flexColumn:"jOMdlV6p8yaNup",relative:"_1XqoJjeQCvCHSg",flexRowSpaceBetween:"_3G42BvD12zSwrs",flexColumnCenter:"_2oQoIUsxc2DzGX",gridColumn:"_2N_g4Azs9MA7eH",descriptionAtomGrid:"RsiPlzxui6f5Zu",listingAtomGrid:"RgUKmNWpJaz_1v",logoNameGrid:"_3SR6hz-B8CKbz0",twoColumnGrid:"_2x8MVWAUX9Lyw6",nameContainer:"EpcXQhS_hSHwoh",name:"avojG8_qjh_h1A",loadingSkeleton:"_1Nj7CmnmTprRp4",listingName:"_1ezMczRofm-qil",subtitle:"_3LnyK4-bIa6Cex",icon:"_2Uk0cKkouE0RX6",badges:"_2niMUbEOJGkRK6",pupBadge:"_1Tz-UAUbBhGeAo",usageBadgeIcon:"_39mSw_g-WrdxoH",description:"_3JZ-bRxgWdXBq9",descriptionAtom:"_16JWmB_8-lGalC",featuredAtomContainer:"_3TuGx9_4HnHH-I",featuredAtom:"_3KapEeyVaXp9ms",heroImage:"_2jEs_uinVeaiL6",loadingSkeletonAnimation:"mgoe3QNYaltTN0",loadingSkeletonButton:"_2onzhK4-WCCWXy",pupIntegrationBadge:"_1R38P-zUuNlcRt"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/Banner.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i),r=n("./node_modules/css-loader/dist/runtime/getUrl.js"),s=n.n(r),o=n("./resources/images/directory/power-ups-banner-v2.png"),l=n.n(o),c=a()(!1),d=s()(l.a);c.push([e.i,"._26HE0jE4oN4HfS {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n}\n._2nG_XZGMPLRPz4 {\n  display: flex;\n  justify-content: center;\n}\n._1ojOpo0rHncp49 {\n  min-height: calc(100vh - 40px);\n  flex: 1 1 auto;\n  background-color: #FFFFFF;\n  padding-bottom: 32px;\n}\n.WjnfTJSrfHJbU4 {\n  display: flex;\n  justify-content: center;\n  padding-top: 32px;\n}\n@media only screen and (max-width: 600px) {\n  .WjnfTJSrfHJbU4 {\n    display: block;\n    padding-top: 0;\n  }\n}\n@media only screen and (max-width: 860px) {\n  .WjnfTJSrfHJbU4._1koc1jnHLReNlR {\n    display: block;\n    padding-top: 0;\n  }\n}\n._1FLhm_qKTrbGal {\n  width: 960px;\n}\n@media only screen and (max-width: 1242px) {\n  ._1FLhm_qKTrbGal {\n    width: 640px;\n  }\n}\n@media only screen and (max-width: 1007px) {\n  ._1FLhm_qKTrbGal {\n    width: 100%;\n  }\n}\n@media only screen and (max-width: 600px) {\n  ._1FLhm_qKTrbGal._39l0a57LpWXplH {\n    display: none;\n  }\n}\n._1FLhm_qKTrbGal._1koc1jnHLReNlR {\n  width: 960px;\n}\n@media only screen and (max-width: 1520px) {\n  ._1FLhm_qKTrbGal._1koc1jnHLReNlR {\n    width: 640px;\n  }\n}\n@media only screen and (max-width: 1267px) {\n  ._1FLhm_qKTrbGal._1koc1jnHLReNlR {\n    width: 100%;\n  }\n}\n@media only screen and (max-width: 860px) {\n}\n._1ZgqLjDdqyMB8l {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._7ExwZLxEnpEU5D {\n  color: #172B4D;\n  font-size: 14px;\n  line-height: 24px;\n  padding: 0 15%;\n}\n@media only screen and (max-width: 1242px) {\n  ._7ExwZLxEnpEU5D {\n    padding: 0 10%;\n  }\n}\n._7ExwZLxEnpEU5D ._2j7Iw-3RwM3bcP {\n  margin: 16px auto;\n  width: 100%;\n}\n._3mwzLQE8nHe7G8 {\n  width: 100%;\n}\n@media only screen and (max-width: 951px) {\n  ._3mwzLQE8nHe7G8 {\n    display: none;\n  }\n}\n@media only screen and (max-width: 1204px) {\n  ._3mwzLQE8nHe7G8._1koc1jnHLReNlR {\n    display: none;\n  }\n}\n._2MBflVjuzxcqhY {\n  background: url("+d+");\n  background-position: top;\n  background-repeat: no-repeat;\n  padding: 16px;\n  background-origin: content-box;\n  align-items: center;\n  color: #091E42;\n  display: flex;\n  height: 240px;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  max-width: 912px;\n  min-width: 272px;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n  margin-bottom: 16px;\n  background-size: 100%;\n}\n@media only screen and (max-width: 1242px) {\n  ._2MBflVjuzxcqhY {\n    max-width: 592px;\n  }\n}\n@media only screen and (max-width: 951px) {\n  ._2MBflVjuzxcqhY {\n    max-width: 272px;\n    background-position-y: 14px;\n  }\n}\n._2MBflVjuzxcqhY ._3fyA4QY6s_cEGt {\n  font-size: 48px;\n  margin-bottom: 32px;\n}\n@media only screen and (max-width: 951px) {\n  ._2MBflVjuzxcqhY ._3fyA4QY6s_cEGt {\n    font-size: 32px;\n    margin-bottom: 16px;\n  }\n}\n._2MBflVjuzxcqhY ._3t_ehgr7fQQKed {\n  max-width: 600px;\n  color: #6b808c;\n  font-size: 16px;\n  line-height: 24px;\n  padding: 8px;\n}\n@media only screen and (max-width: 951px) {\n  ._2MBflVjuzxcqhY ._3t_ehgr7fQQKed {\n    font-size: 13px;\n  }\n}\n._2MBflVjuzxcqhY ._3ZxIbtDwTd7mS_ {\n  max-width: 600px;\n  color: #6b808c;\n  font-size: 16px;\n  line-height: 24px;\n  padding: 8px;\n  font-weight: bold;\n  font-size: 18px;\n  padding-top: 16px;\n  padding-bottom: 0;\n}\n@media only screen and (max-width: 951px) {\n  ._2MBflVjuzxcqhY ._3ZxIbtDwTd7mS_ {\n    font-size: 13px;\n  }\n}\n@media only screen and (max-width: 1520px) {\n  ._2MBflVjuzxcqhY._1koc1jnHLReNlR {\n    max-width: 592px;\n  }\n}\n@media only screen and (max-width: 1204px) {\n  ._2MBflVjuzxcqhY._1koc1jnHLReNlR {\n    max-width: 272px;\n    background-position-y: 14px;\n  }\n}\n@media only screen and (max-width: 1204px) {\n  ._2MBflVjuzxcqhY._1koc1jnHLReNlR ._3fyA4QY6s_cEGt {\n    font-size: 32px;\n    margin-bottom: 16px;\n  }\n}\n@media only screen and (max-width: 1204px) {\n  ._2MBflVjuzxcqhY._1koc1jnHLReNlR ._3t_ehgr7fQQKed {\n    font-size: 13px;\n  }\n}\n",""]),c.locals={flexRowWrap:"_26HE0jE4oN4HfS",flexAndCenter:"_2nG_XZGMPLRPz4",directoryBody:"_1ojOpo0rHncp49",navigationAndContent:"WjnfTJSrfHJbU4",workspaceNavigationExpanded:"_1koc1jnHLReNlR",directoryContent:"_1FLhm_qKTrbGal",navigationExpanded:"_39l0a57LpWXplH",directorySpinnerContainer:"_1ZgqLjDdqyMB8l",listingWrapper:"_7ExwZLxEnpEU5D",upgradePromptFullPupPage:"_2j7Iw-3RwM3bcP",directoryBannerContainer:"_3mwzLQE8nHe7G8",directoryBanner:"_2MBflVjuzxcqhY",bannerHeading:"_3fyA4QY6s_cEGt",bannerParagraph:"_3t_ehgr7fQQKed",buildYourOwnPowerUp:"_3ZxIbtDwTd7mS_"},t.a=c},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpItem.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2p3S3AQfGuh1wl {\n  cursor: pointer;\n  margin: 8px 16px 8px 0;\n  height: -webkit-max-content;\n  height: max-content;\n  width: 304px;\n}\n@media only screen and (max-width: 951px) {\n  ._2p3S3AQfGuh1wl {\n    margin: 8px;\n  }\n}\n.OgMDzWro79ckZ_ {\n  cursor: default;\n  margin: 16px 0 0 0;\n  width: 100%;\n}\n.SMGtamxEfXWc6i {\n  justify-self: start;\n  width: -webkit-max-content;\n  width: max-content;\n  text-decoration: none;\n}\n._3izG50zM9U1cTx {\n  border-radius: 3px;\n  font-weight: normal;\n  height: 24px;\n  line-height: 16px;\n  margin: 0;\n  padding: 4px 8px;\n  min-width: 64px;\n}\n",""]),a.locals={powerUpItem:"_2p3S3AQfGuh1wl",listingPowerUpItem:"OgMDzWro79ckZ_",buttonAnchor:"SMGtamxEfXWc6i",addButton:"_3izG50zM9U1cTx"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpsList.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2YIvvJ8WNx4Raf {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n}\n._2h4w7lWoNQ4gie {\n  display: flex;\n  justify-content: center;\n}\n._28b3kXXGzHfKi- {\n  min-height: calc(100vh - 40px);\n  flex: 1 1 auto;\n  background-color: #FFFFFF;\n  padding-bottom: 32px;\n}\n._1u58Whn9gvQKqT {\n  display: flex;\n  justify-content: center;\n  padding-top: 32px;\n}\n@media only screen and (max-width: 600px) {\n  ._1u58Whn9gvQKqT {\n    display: block;\n    padding-top: 0;\n  }\n}\n@media only screen and (max-width: 860px) {\n  ._1u58Whn9gvQKqT._2p2x2YnDQ9zEyb {\n    display: block;\n    padding-top: 0;\n  }\n}\n._37FR_S-yZuQebQ {\n  width: 960px;\n}\n@media only screen and (max-width: 1242px) {\n  ._37FR_S-yZuQebQ {\n    width: 640px;\n  }\n}\n@media only screen and (max-width: 1007px) {\n  ._37FR_S-yZuQebQ {\n    width: 100%;\n  }\n}\n@media only screen and (max-width: 600px) {\n  ._37FR_S-yZuQebQ._2S66nWwlyXZpJz {\n    display: none;\n  }\n}\n._37FR_S-yZuQebQ._2p2x2YnDQ9zEyb {\n  width: 960px;\n}\n@media only screen and (max-width: 1520px) {\n  ._37FR_S-yZuQebQ._2p2x2YnDQ9zEyb {\n    width: 640px;\n  }\n}\n@media only screen and (max-width: 1267px) {\n  ._37FR_S-yZuQebQ._2p2x2YnDQ9zEyb {\n    width: 100%;\n  }\n}\n@media only screen and (max-width: 860px) {\n}\n._32FzJ_OkYYREqu {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._3BjeITflB1X7Ix {\n  color: #172B4D;\n  font-size: 14px;\n  line-height: 24px;\n  padding: 0 15%;\n}\n@media only screen and (max-width: 1242px) {\n  ._3BjeITflB1X7Ix {\n    padding: 0 10%;\n  }\n}\n._3BjeITflB1X7Ix ._2L-_x_Wd_4pq1E {\n  margin: 16px auto;\n  width: 100%;\n}\n._1RJBOfbLR0G6Sy {\n  width: 100%;\n  margin-bottom: 16px;\n}\n._1wHoWWE2c4zf34 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n@media only screen and (max-width: 951px) {\n  ._1wHoWWE2c4zf34 {\n    display: block;\n  }\n  ._1wHoWWE2c4zf34 h2 {\n    text-align: center;\n  }\n}\n@media only screen and (max-width: 1204px) {\n  ._1wHoWWE2c4zf34._2p2x2YnDQ9zEyb {\n    display: block;\n  }\n  ._1wHoWWE2c4zf34._2p2x2YnDQ9zEyb h2 {\n    text-align: center;\n  }\n}\n@media only screen and (max-width: 951px) {\n  ._2hevhDTCE_ep1X {\n    justify-content: center;\n  }\n}\n@media only screen and (max-width: 1204px) {\n  ._2hevhDTCE_ep1X._2p2x2YnDQ9zEyb {\n    justify-content: center;\n  }\n}\n",""]),a.locals={flexRowWrap:"_2YIvvJ8WNx4Raf",flexAndCenter:"_2h4w7lWoNQ4gie",directoryBody:"_28b3kXXGzHfKi-",navigationAndContent:"_1u58Whn9gvQKqT",workspaceNavigationExpanded:"_2p2x2YnDQ9zEyb",directoryContent:"_37FR_S-yZuQebQ",navigationExpanded:"_2S66nWwlyXZpJz",directorySpinnerContainer:"_32FzJ_OkYYREqu",listingWrapper:"_3BjeITflB1X7Ix",upgradePromptFullPupPage:"_2L-_x_Wd_4pq1E",directoryPowerUpsList:"_1RJBOfbLR0G6Sy",directoryPowerUpsListHeader:"_1wHoWWE2c4zf34",powerUpsList:"_2hevhDTCE_ep1X"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCode.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1X5AyHK6oXHnHD {\n  text-align: center;\n}\n._1wY8TqPKNXWwGc {\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n}\n._1wY8TqPKNXWwGc ._3ENCZ9D3sHYdzi {\n  margin: 8px 16px 8px 0;\n  height: 100px;\n  width: 100px;\n  flex: none;\n}\n._1wY8TqPKNXWwGc ._1pt1oGrGBquDl6 {\n  padding-top: 35px;\n}\n._1wY8TqPKNXWwGc button {\n  margin-left: 0 !important;\n}\n._2Z1-DwYfdrFn3o {\n  margin-bottom: 0;\n}\n._3ENCZ9D3sHYdzi {\n  background: #ffffff;\n  height: 120px;\n  width: 120px;\n  margin: 16px auto;\n  position: relative;\n}\n._3ENCZ9D3sHYdzi ._1pt1oGrGBquDl6 {\n  padding-top: 45px;\n}\n._3ENCZ9D3sHYdzi img {\n  max-width: 100%;\n}\n._3ENCZ9D3sHYdzi small {\n  display: none;\n}\n._3ENCZ9D3sHYdzi i::before,\n._3ENCZ9D3sHYdzi i::after {\n  content: '';\n  height: 15px;\n  width: 15px;\n  border: 0 solid black;\n  position: absolute;\n}\n._3ENCZ9D3sHYdzi i._34Dd-ypEKQz1Op::before,\n._3ENCZ9D3sHYdzi i._34Dd-ypEKQz1Op::after {\n  top: 1px;\n  border-top-width: 2px;\n}\n._3ENCZ9D3sHYdzi i._34Dd-ypEKQz1Op::before {\n  border-top-left-radius: 8px;\n  left: 1px;\n  border-left-width: 2px;\n}\n._3ENCZ9D3sHYdzi i._34Dd-ypEKQz1Op::after {\n  border-top-right-radius: 8px;\n  right: 1px;\n  border-right-width: 2px;\n}\n._3ENCZ9D3sHYdzi i._3cvMqyR0IQkOFC::before,\n._3ENCZ9D3sHYdzi i._3cvMqyR0IQkOFC::after {\n  bottom: 1px;\n  border-bottom-width: 2px;\n}\n._3ENCZ9D3sHYdzi i._3cvMqyR0IQkOFC::before {\n  border-bottom-left-radius: 8px;\n  left: 1px;\n  border-left-width: 2px;\n}\n._3ENCZ9D3sHYdzi i._3cvMqyR0IQkOFC::after {\n  border-bottom-right-radius: 8px;\n  right: 1px;\n  border-right-width: 2px;\n}\n",""]),a.locals={qrCodeContent:"_1X5AyHK6oXHnHD",qrCodeInline:"_1wY8TqPKNXWwGc",qrCodeImage:"_3ENCZ9D3sHYdzi",qrCodeSpinner:"_1pt1oGrGBquDl6",button:"_2Z1-DwYfdrFn3o",top:"_34Dd-ypEKQz1Op",bottom:"_3cvMqyR0IQkOFC"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodePopover.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".XvGeDWz8Uh3cnB {\n  cursor: pointer;\n  text-decoration: underline;\n}\n",""]),a.locals={showQrCodeLink:"XvGeDWz8Uh3cnB"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QrCode/QrCodeToggle.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1Hmf9ejuBvep9i {\n  cursor: pointer;\n  display: inline-block;\n  margin-bottom: 8px;\n  text-decoration: underline;\n}\n",""]),a.locals={showQrCodeLink:"_1Hmf9ejuBvep9i"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QuickCardEditor/QuickCardEditorButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3r5pQJOF3yDa0Y {\n  color: #FFFFFF;\n}\n.CKyIHbTuqcsJb6 {\n  background: rgba(0, 0, 0, 0.6);\n  border-radius: 3px;\n  clear: both;\n  display: block;\n  float: left;\n  margin: 0 0 4px 8px;\n  text-decoration: none;\n  transition: transform 85ms ease-in;\n  color: hsl(0, 0%, 90%);\n  padding: 6px 12px 6px 10px;\n}\n.CKyIHbTuqcsJb6:hover {\n  background: rgba(0, 0, 0, 0.8);\n  color: #FFFFFF;\n  transform: translateX(5px);\n}\n._1jRGaRMtc1BCZw {\n  margin-left: 6px;\n}\n",""]),a.locals={icon:"_3r5pQJOF3yDa0Y",button:"CKyIHbTuqcsJb6",buttonLabel:"_1jRGaRMtc1BCZw"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamTypeSelect/TeamTypeSelect.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1s6RgMAGgfzWoz {\n  color: #CF513D;\n  padding-left: 2px;\n}\n",""]),a.locals={createTeamLabelstar:"_1s6RgMAGgfzWoz"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._36duO82OGUF5vP {\n  width: 100%;\n  cursor: pointer;\n  display: block;\n  font-weight: normal;\n  padding: 6px 12px;\n  position: relative;\n  margin: 0 -12px;\n  text-decoration: none;\n  background-color: transparent;\n  color: #172B4D;\n}\n._36duO82OGUF5vP:hover {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n",""]),a.locals={ctaButton:"_36duO82OGUF5vP"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._38HyqhCoyRJAin {\n  font-size: 14px;\n  line-height: 20px;\n}\n._2u7h3auYUxVuOk {\n  text-decoration: underline;\n}\n",""]),a.locals={messaging:"_38HyqhCoyRJAin",ctaLink:"_2u7h3auYUxVuOk"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2-YR--WsJmp9Az {\n  font-size: 12px;\n  text-decoration: underline;\n  cursor: pointer;\n}\n",""]),a.locals={ctaButton:"_2-YR--WsJmp9Az"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/FacePileLinkButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3JHzC1f-osiFkl {\n  color: #5E6C84;\n  display: block;\n  font-size: 12px;\n  line-height: 10px;\n  margin: 0;\n  padding: 0;\n}\n._3YD6SJ5TQfxM1c {\n  font-size: 12px;\n  padding: 0;\n  margin: 0;\n  color: #5E6C84;\n  text-decoration: underline;\n  background-color: transparent;\n}\n",""]),a.locals={container:"_3JHzC1f-osiFkl",upgradeButton:"_3YD6SJ5TQfxM1c"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2VDnyG9l1Nn8F5 {\n  margin-bottom: 16px;\n  text-align: center;\n}\n._2VDnyG9l1Nn8F5 header {\n  margin-bottom: 25px;\n}\n._2VDnyG9l1Nn8F5 header h2 {\n  font-size: 24px;\n  line-height: 28px;\n  margin: 0 0 12px;\n}\n._2VDnyG9l1Nn8F5 header p {\n  font-size: 16px;\n}\n._2VDnyG9l1Nn8F5 ._1bjPdzAleMSipy {\n  display: flex;\n  justify-content: center;\n}\n._2VDnyG9l1Nn8F5 ._1bjPdzAleMSipy ._1wQ_5iREhU2u9T {\n  flex: 0.25;\n  padding: 0 12px;\n  box-sizing: border-box;\n}\n._2VDnyG9l1Nn8F5 ._1bjPdzAleMSipy ._1wQ_5iREhU2u9T img {\n  max-width: 112px;\n  height: 112px;\n  margin-bottom: 8px;\n}\n._2VDnyG9l1Nn8F5 ._-3wEfXN1kQKvsp {\n  margin-bottom: 20px;\n}\n._2VDnyG9l1Nn8F5 a {\n  border-radius: 3px;\n  color: #5E6C84;\n  display: block;\n  margin: 2px 0;\n  padding: 6px 12px;\n  position: relative;\n  -webkit-user-select: none;\n          user-select: none;\n  transition-property: background-color, border-color, box-shadow;\n  transition-duration: 85ms;\n  transition-timing-function: ease;\n  margin: 8px auto 10px;\n  width: 136px;\n  text-align: center;\n}\n._2VDnyG9l1Nn8F5 a svg circle {\n  stroke: #5E6C84;\n}\n._2VDnyG9l1Nn8F5 a:hover {\n  background-color: rgba(9, 30, 66, 0.08);\n  box-shadow: none;\n  border: none;\n  color: #172B4D;\n}\n._2VDnyG9l1Nn8F5 a:hover svg circle {\n  stroke: #172B4D;\n}\n._2VDnyG9l1Nn8F5 a:active {\n  background-color: #E4F0F6;\n  box-shadow: none;\n  border: none;\n  color: #0079BF;\n  outline: 0;\n}\n._2VDnyG9l1Nn8F5 a:active ._2-T_Pdh1x7J6Ud {\n  color: #0079BF;\n}\n._2VDnyG9l1Nn8F5 a:active svg circle {\n  stroke: #0079BF;\n}\n._2VDnyG9l1Nn8F5 ._309xAJqQKj4yjb {\n  margin-top: 16px;\n}\n@media only screen and (max-width: 750px), only screen and (min-width: 751px) and (max-width: 900px) {\n  ._2VDnyG9l1Nn8F5 ._1bjPdzAleMSipy {\n    display: block;\n  }\n  ._2VDnyG9l1Nn8F5 ._1bjPdzAleMSipy ._1wQ_5iREhU2u9T {\n    display: block;\n    margin: 0 auto;\n    max-width: 400px;\n    width: 100%;\n  }\n}\n",""]),a.locals={upgradePromptBanner:"_2VDnyG9l1Nn8F5",features:"_1bjPdzAleMSipy",feature:"_1wQ_5iREhU2u9T",epilogue:"_-3wEfXN1kQKvsp","icon-sm":"_2-T_Pdh1x7J6Ud",freeTrialButton:"_309xAJqQKj4yjb"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._307K1rPQwNgXd7 {\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: inline-flex;\n  overflow: hidden;\n  padding: 6px 12px 6px 6px;\n  position: relative;\n  text-decoration: none;\n}\n._2DRexHDAMZs1sD {\n  background: #EDDBF4;\n}\n._2DRexHDAMZs1sD:hover {\n  background: #DFC0EB;\n}\n._2DRexHDAMZs1sD ._2MiRo-2SBi_EY1 {\n  background: #89609E;\n}\n._2DRexHDAMZs1sD .aScqeQcog2smK6 svg {\n  color: #FFFFFF;\n}\n._2DRexHDAMZs1sD ._3aCujZuHm0Yywc {\n  color: #42526E;\n}\n.-skNOzagxfQpNA {\n  background: #89609E;\n}\n.-skNOzagxfQpNA:hover {\n  background: #583f68;\n}\n.-skNOzagxfQpNA:hover .aScqeQcog2smK6 svg {\n  color: #583f68;\n}\n.-skNOzagxfQpNA ._2MiRo-2SBi_EY1 {\n  background: #FFFFFF;\n}\n.-skNOzagxfQpNA .aScqeQcog2smK6 svg {\n  color: #89609E;\n}\n.-skNOzagxfQpNA ._3aCujZuHm0Yywc {\n  color: #FFFFFF;\n}\n._2MiRo-2SBi_EY1 {\n  border-radius: 2px;\n  height: 20px;\n  margin-right: 8px;\n  width: 20px;\n}\n._1PPyWVcHpYc_v1 {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n.aScqeQcog2smK6 {\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n",""]),a.locals={upgradePromptButton:"_307K1rPQwNgXd7",upgradePromptButtonLightTheme:"_2DRexHDAMZs1sD",upgradePromptButtonIconBackground:"_2MiRo-2SBi_EY1",upgradePromptButtonIcon:"aScqeQcog2smK6",upgradePromptButtonCTA:"_3aCujZuHm0Yywc",upgradePromptButtonDarkTheme:"-skNOzagxfQpNA",upgradePromptFitContainer:"_1PPyWVcHpYc_v1"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2OU8Xi2vy2-mlB {\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: inline-flex;\n  overflow: hidden;\n  padding: 6px 12px 6px 6px;\n  position: relative;\n  text-decoration: none;\n}\n._1HdUn3EfqS6rNE {\n  background: #EDDBF4;\n}\n._1HdUn3EfqS6rNE:hover {\n  background: #DFC0EB;\n}\n._1HdUn3EfqS6rNE ._2z5W7oVuaKbZQo {\n  background: #89609E;\n}\n._1HdUn3EfqS6rNE ._1_kx5bx6iPdtgW svg {\n  color: #FFFFFF;\n}\n._1HdUn3EfqS6rNE .k4pa-5HU1Y1fb6 {\n  color: #42526E;\n}\n.ssrZbKBFO6kq-o {\n  background: #89609E;\n}\n.ssrZbKBFO6kq-o:hover {\n  background: #583f68;\n}\n.ssrZbKBFO6kq-o:hover ._1_kx5bx6iPdtgW svg {\n  color: #583f68;\n}\n.ssrZbKBFO6kq-o ._2z5W7oVuaKbZQo {\n  background: #FFFFFF;\n}\n.ssrZbKBFO6kq-o ._1_kx5bx6iPdtgW svg {\n  color: #89609E;\n}\n.ssrZbKBFO6kq-o .k4pa-5HU1Y1fb6 {\n  color: #FFFFFF;\n}\n._2z5W7oVuaKbZQo {\n  border-radius: 2px;\n  height: 20px;\n  margin-right: 8px;\n  width: 20px;\n}\n.kBAH_MweDMMqOc {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n._1_kx5bx6iPdtgW {\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n",""]),a.locals={upgradePromptButton:"_2OU8Xi2vy2-mlB",upgradePromptButtonLightTheme:"_1HdUn3EfqS6rNE",upgradePromptButtonIconBackground:"_2z5W7oVuaKbZQo",upgradePromptButtonIcon:"_1_kx5bx6iPdtgW",upgradePromptButtonCTA:"k4pa-5HU1Y1fb6",upgradePromptButtonDarkTheme:"ssrZbKBFO6kq-o",upgradePromptFitContainer:"kBAH_MweDMMqOc"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2Z4IoFUjdI24L- {\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 0 1px rgba(9, 30, 66, 0.08);\n  padding-left: 16px;\n  padding-right: 16px;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n  border-radius: 3px;\n  transition: background 0.3s ease;\n  text-rendering: geometricPrecision;\n}\n._2Z4IoFUjdI24L- .HnKGdARmqbYVu2 {\n  display: inline-block;\n}\n._2Z4IoFUjdI24L- .HnKGdARmqbYVu2:hover {\n  color: #FFFFFF;\n}\n._2Z4IoFUjdI24L- .HnKGdARmqbYVu2:active {\n  color: #FFFFFF;\n}\n.DlD4C1uLR8ceOy {\n  background: #FFFFFF;\n}\n.DlD4C1uLR8ceOy ._2SQtZ0gVL4RGh0 {\n  color: #172B4D;\n}\n.DlD4C1uLR8ceOy ._2AnKjqFERDzuPO {\n  color: #6B778C;\n}\n.DlD4C1uLR8ceOy .HnKGdARmqbYVu2 {\n  color: #5E6C84;\n}\n.DlD4C1uLR8ceOy .HnKGdARmqbYVu2:hover {\n  background-color: transparent;\n  color: #172b4d;\n}\n.DlD4C1uLR8ceOy ._3R0HPv-wrC2WvF svg {\n  color: #FFFFFF;\n}\n.DlD4C1uLR8ceOy ._1OSb9HYkouPYCf {\n  background: #89609E;\n}\n.DlD4C1uLR8ceOy ._2Mgf28El8uVBPS {\n  background: rgba(9, 30, 66, 0.04);\n}\n.DlD4C1uLR8ceOy ._2KpbeG6DqXP5_z:hover {\n  background-color: #F4F5F7;\n}\n._3-bjzJQWmPXZ_y {\n  background: #6C547B;\n}\n._3-bjzJQWmPXZ_y ._2SQtZ0gVL4RGh0 {\n  color: #FFFFFF;\n}\n._3-bjzJQWmPXZ_y ._2AnKjqFERDzuPO {\n  color: #8FDFEB;\n}\n._3-bjzJQWmPXZ_y .HnKGdARmqbYVu2 {\n  color: #FFFFFF;\n}\n._3-bjzJQWmPXZ_y ._3R0HPv-wrC2WvF svg {\n  color: #6C547B;\n}\n._3-bjzJQWmPXZ_y ._1OSb9HYkouPYCf {\n  background: #FFFFFF;\n}\n._3-bjzJQWmPXZ_y ._2Mgf28El8uVBPS {\n  background: rgba(255, 255, 255, 0.1);\n}\n._3-bjzJQWmPXZ_y ._2KpbeG6DqXP5_z:hover {\n  background: #583f68;\n}\n._2SQtZ0gVL4RGh0 {\n  color: #172B4D;\n  font-size: 14px;\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  line-height: 16px;\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n._2AnKjqFERDzuPO {\n  margin-bottom: 16px;\n}\n._3R0HPv-wrC2WvF {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n._1OSb9HYkouPYCf {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  width: 26px;\n  height: 26px;\n  border-radius: 3px;\n  z-index: 2;\n}\n._2Mgf28El8uVBPS {\n  position: absolute;\n  bottom: -64px;\n  right: -28px;\n  width: 120px;\n  height: 80px;\n  border-radius: 12px;\n  z-index: 1;\n  transform: rotate(-50deg);\n}\n.HnKGdARmqbYVu2 {\n  margin-bottom: 16px;\n  padding: 0;\n}\n._2KpbeG6DqXP5_z {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: none;\n  padding: 4px;\n  margin: 0;\n  border: 0;\n  width: 22px;\n  height: 22px;\n  display: flex;\n}\n._1us4-uZBfU72CA {\n  line-height: 14px;\n  margin-left: -1px;\n}\n._1us4-uZBfU72CA svg {\n  color: #A5ADBA;\n}\n",""]),a.locals={upgradePromptFull:"_2Z4IoFUjdI24L-",upgradePromptFullCTA:"HnKGdARmqbYVu2",upgradePromptFullLightTheme:"DlD4C1uLR8ceOy",upgradePromptFullHeadline:"_2SQtZ0gVL4RGh0",upgradePromptFullContent:"_2AnKjqFERDzuPO",upgradePromptFullIcon:"_3R0HPv-wrC2WvF",upgradePromptFullIconBackground:"_1OSb9HYkouPYCf",upgradePromptFullIconClippedBackground:"_2Mgf28El8uVBPS",upgradePromptFullCloseButtonWrapper:"_2KpbeG6DqXP5_z",upgradePromptFullDarkTheme:"_3-bjzJQWmPXZ_y",upgradePromptFullCloseButton:"_1us4-uZBfU72CA"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2r1hlWSAu9rwbh {\n  width: 100%;\n  border-radius: 3px;\n  height: 60px;\n  animation: XEIgiLlPbyinGy 2s infinite;\n}\n@keyframes XEIgiLlPbyinGy {\n  0% {\n    background-color: #F4F5F7;\n  }\n  50% {\n    background-color: #EBECF0;\n  }\n  100% {\n    background-color: #DFE1E6;\n  }\n}\n._3ZMZxLwe1qn8MS {\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 0 1px rgba(9, 30, 66, 0.08);\n  padding-left: 16px;\n  padding-right: 16px;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n  border-radius: 3px;\n  transition: background 0.3s ease;\n  text-rendering: geometricPrecision;\n}\n.WJuil0FwI_BEzU {\n  background: #FFFFFF;\n}\n.WJuil0FwI_BEzU ._1o9ZAbrfy0gR6J {\n  color: #172B4D;\n}\n.WJuil0FwI_BEzU .X9au_S4XxsINnw {\n  color: #6B778C;\n}\n.WJuil0FwI_BEzU .qtGJtE_YT7XFxM svg {\n  color: #FFFFFF;\n}\n.WJuil0FwI_BEzU .kfoT8kwmCi4Enn {\n  background: #89609E;\n}\n.WJuil0FwI_BEzU ._1CXJ7--SR3vv42 {\n  background: rgba(9, 30, 66, 0.04);\n}\n.WJuil0FwI_BEzU ._13b67jEUBZlIVT:hover {\n  background-color: #F4F5F7;\n}\n._14ty3CgvwqL1JS {\n  background: #6C547B;\n}\n._14ty3CgvwqL1JS ._1o9ZAbrfy0gR6J {\n  color: #FFFFFF;\n}\n._14ty3CgvwqL1JS .X9au_S4XxsINnw {\n  color: #8FDFEB;\n}\n._14ty3CgvwqL1JS .qtGJtE_YT7XFxM svg {\n  color: #6C547B;\n}\n._14ty3CgvwqL1JS .kfoT8kwmCi4Enn {\n  background: #FFFFFF;\n}\n._14ty3CgvwqL1JS ._1CXJ7--SR3vv42 {\n  background: rgba(255, 255, 255, 0.1);\n}\n._14ty3CgvwqL1JS ._13b67jEUBZlIVT:hover {\n  background: #583f68;\n}\n._1o9ZAbrfy0gR6J {\n  color: #172B4D;\n  font-size: 14px;\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  line-height: 16px;\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n.X9au_S4XxsINnw {\n  margin-bottom: 16px;\n}\n.qtGJtE_YT7XFxM {\n  width: 26px;\n  height: 26px;\n  padding: 2px;\n}\n.qtGJtE_YT7XFxM svg {\n  width: 22px;\n  height: 22px;\n  line-height: 24px;\n}\n.kfoT8kwmCi4Enn {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  width: 26px;\n  height: 26px;\n  border-radius: 3px;\n  z-index: 2;\n}\n._1CXJ7--SR3vv42 {\n  position: absolute;\n  bottom: -64px;\n  right: -28px;\n  width: 120px;\n  height: 80px;\n  border-radius: 12px;\n  z-index: 1;\n  transform: rotate(-50deg);\n}\n._13b67jEUBZlIVT {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: none;\n  padding: 4px;\n  margin: 0;\n  border: 0;\n  width: 22px;\n  height: 22px;\n  display: flex;\n}\n._2LXoY2L1fW_9Le {\n  color: #A5ADBA;\n  line-height: 14px;\n  margin-left: -1px;\n}\n",""]),a.locals={animation:"_2r1hlWSAu9rwbh",pulse:"XEIgiLlPbyinGy",upgradePromptFull:"_3ZMZxLwe1qn8MS",upgradePromptFullLightTheme:"WJuil0FwI_BEzU",upgradePromptFullHeadline:"_1o9ZAbrfy0gR6J",upgradePromptFullContent:"X9au_S4XxsINnw",upgradePromptFullIcon:"qtGJtE_YT7XFxM",upgradePromptFullIconBackground:"kfoT8kwmCi4Enn",upgradePromptFullIconClippedBackground:"_1CXJ7--SR3vv42",upgradePromptFullCloseButtonWrapper:"_13b67jEUBZlIVT",upgradePromptFullDarkTheme:"_14ty3CgvwqL1JS",upgradePromptFullCloseButton:"_2LXoY2L1fW_9Le"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3_uTZsqKne-Vof {\n  display: inline-flex;\n  border-radius: 3px;\n  font-size: 12px;\n  padding: 4px;\n  text-decoration: none;\n  line-height: 12px;\n  margin-bottom: 0;\n}\n._26BWENVxCyMoEf {\n  display: flex;\n  justify-content: center;\n  width: 12px;\n  height: 12px;\n  margin-right: 4px;\n  line-height: 12px;\n}\n._2l_sC71_-yvcPV {\n  background-color: #EDDBF4;\n}\n._2l_sC71_-yvcPV ._26BWENVxCyMoEf svg {\n  color: #89609E;\n}\n._2l_sC71_-yvcPV .OAGzTYxgAX7G-U svg {\n  color: #42526E;\n}\n._2l_sC71_-yvcPV:hover {\n  background-color: #DFC0EB;\n}\n._1P1fpFmYFU5smf {\n  background-color: #89609E;\n}\n._1P1fpFmYFU5smf ._26BWENVxCyMoEf svg,\n._1P1fpFmYFU5smf .OAGzTYxgAX7G-U svg {\n  color: #FFFFFF;\n}\n._1P1fpFmYFU5smf:hover {\n  background-color: #583f68;\n}\n",""]),a.locals={upgradePromptPill:"_3_uTZsqKne-Vof",upgradePromptPillIcon:"_26BWENVxCyMoEf",upgradeLightTheme:"_2l_sC71_-yvcPV",upgradePromptPillCTA:"OAGzTYxgAX7G-U",upgradeDarkTheme:"_1P1fpFmYFU5smf"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3Wcp148xhSm3kI {\n  display: inline-flex;\n  border-radius: 3px;\n  font-size: 12px;\n  padding: 4px;\n  text-decoration: none;\n  line-height: 16px;\n  margin-bottom: 0;\n}\n._2m_u7Mih_gK082 {\n  background-color: #EDDBF4;\n}\n._2m_u7Mih_gK082 ._2dGV0KR81g5EGZ svg {\n  color: #89609E;\n}\n._2m_u7Mih_gK082 ._12SEz50Kp6Lbed svg {\n  color: #42526E;\n}\n._2m_u7Mih_gK082:hover {\n  background-color: #DFC0EB;\n}\n._6J0DmcPo-axE8m {\n  background-color: #89609E;\n}\n._6J0DmcPo-axE8m ._2dGV0KR81g5EGZ svg,\n._6J0DmcPo-axE8m ._12SEz50Kp6Lbed svg {\n  color: #FFFFFF;\n}\n._6J0DmcPo-axE8m:hover {\n  background-color: #583f68;\n}\n._12SEz50Kp6Lbed {\n  padding-left: 4px;\n}\n",""]),a.locals={upgradePromptPill:"_3Wcp148xhSm3kI",upgradeLightTheme:"_2m_u7Mih_gK082",upgradePromptPillIcon:"_2dGV0KR81g5EGZ",upgradePromptPillCTA:"_12SEz50Kp6Lbed",upgradeDarkTheme:"_6J0DmcPo-axE8m"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._11tCUeTPgKM8nq {\n  padding-top: 8px;\n  padding-right: 8px;\n  margin-bottom: 0;\n  color: #172B4D;\n}\n._1cMJbmnqc4U4i1 {\n  margin-left: 24px;\n}\n._26-hiF5-itMfgH {\n  position: absolute;\n  left: -10px;\n  top: 10px;\n  font-size: 30px;\n}\n._1BDrVHOIfmLR1j {\n  margin-top: 0;\n}\n._3MmOHBNG7aEgUK {\n  display: block;\n  position: relative;\n}\n._3MmOHBNG7aEgUK::before {\n  content: '';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 1;\n}\n._3MmOHBNG7aEgUK button {\n  margin: 0;\n}\n",""]),a.locals={bcPromptHeader:"_11tCUeTPgKM8nq",settingItem:"_1cMJbmnqc4U4i1",bcPromptSparkle:"_26-hiF5-itMfgH",bcPromptUpgrade:"_1BDrVHOIfmLR1j",tooltipDisabledHack:"_3MmOHBNG7aEgUK"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2QS-_EUQY6wswi {\n  margin-bottom: 16px;\n  display: inline-block;\n  padding: 0;\n  background: transparent;\n  text-decoration: underline;\n}\n._2QS-_EUQY6wswi:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._2QS-_EUQY6wswi:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._2QS-_EUQY6wswi:hover {\n  background-color: transparent;\n}\n._2QS-_EUQY6wswi:active {\n  background-color: transparent;\n}\n._1HsvjJVkd6xbMk {\n  color: #5E6C84;\n}\n._1HsvjJVkd6xbMk:hover {\n  background-color: transparent;\n  color: #172b4d;\n}\n._8evXAsUyCWXrCG {\n  color: #FFFFFF;\n}\n._8evXAsUyCWXrCG:hover {\n  color: #FFFFFF;\n}\n.XaBbrxThgE5BQp {\n  margin: 4px 0;\n}\n._2sjOL0oTheVZuU {\n  margin-top: 4px;\n  margin-bottom: 16px;\n}\n._131WiKtv3NOegD {\n  margin-top: 8px;\n}\n",""]),a.locals={cta:"_2QS-_EUQY6wswi",lightModeCta:"_1HsvjJVkd6xbMk",darkModeCta:"_8evXAsUyCWXrCG",boardMenuPromptFullWrapper:"XaBbrxThgE5BQp",butlerUpsellPopoverPromptFullWrapper:"_2sjOL0oTheVZuU",createBoardModalWrapper:"_131WiKtv3NOegD"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/VideoRecordButton/SpotlightLoomCommentButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".CKub7_Sw95oSyU {\n  background-color: #FFFFFF;\n}\n.CKub7_Sw95oSyU:hover {\n  cursor: pointer;\n  background-color: rgba(9, 30, 66, 0.08);\n}\n",""]),a.locals={spotlightContainer:"CKub7_Sw95oSyU"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2G-l2q068hF78_ {\n  word-break: break-word;\n}\n._1LjiigU4gJ8nCp {\n  margin-top: 8px;\n}\n._38GjyOT_kWfqgj {\n  margin-bottom: 0;\n}\n.YImBz02xjenMWn {\n  word-break: break-word;\n}\n",""]),a.locals={boardMemberRestrictionAlertMessaging:"_2G-l2q068hF78_",boardMemberRestrictionAlertConfirmButton:"_1LjiigU4gJ8nCp",boardMemberRestrictionAlertCancelButton:"_38GjyOT_kWfqgj",boardMemberRestrictionAlertMembers:"YImBz02xjenMWn"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2pujYEyVccatCP {\n  cursor: pointer;\n  margin: 0 -12px;\n  padding: 4px 12px;\n}\n._2pujYEyVccatCP:hover {\n  background-color: #F4F5F7;\n}\n._2q7Bi7J-QU3XNZ {\n  color: #A5ADBA;\n}\n._2q7Bi7J-QU3XNZ:hover {\n  background-color: inherit;\n}\n._2pujYEyVccatCP._2q7Bi7J-QU3XNZ {\n  cursor: not-allowed;\n}\n._2q7Bi7J-QU3XNZ ._1nvDeQSB_hThYi {\n  color: #A5ADBA;\n}\n._1AHcsTp30UWGxy {\n  font-size: 12px;\n  margin: 0;\n}\n._3qyCBBRDEldA1i {\n  color: #EB5A46;\n}\n",""]),a.locals={boardVisibilityOption:"_2pujYEyVccatCP",boardVisibilityOptionDisabled:"_2q7Bi7J-QU3XNZ",boardVisibilityIcon:"_1nvDeQSB_hThYi",boardVisibilityOptionDescription:"_1AHcsTp30UWGxy",boardVisibilityDisabledMessaging:"_3qyCBBRDEldA1i"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2X0M1TAONSkIEW {\n  margin-top: 8px;\n}\n._2X0M1TAONSkIEW,\n._1i718ndqbQTPNw {\n  text-align: center;\n}\n._1i718ndqbQTPNw {\n  margin-bottom: 16px;\n}\n.JgTvVb7v1uh-gL {\n  margin-bottom: 0;\n}\n",""]),a.locals={newBillableGuestsAlertHeadline:"_2X0M1TAONSkIEW",newBillableGuestsAlertMessaging:"_1i718ndqbQTPNw",newBillableGuestsAlertSubmitButton:"JgTvVb7v1uh-gL"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2mz4qlRrE5Fj6b img {\n  height: 140px;\n  width: 280px;\n  border-radius: 3px;\n}\n._2mz4qlRrE5Fj6b p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  color: #5E6C84;\n  padding-bottom: 8px;\n}\n._3zciI6rZRzaxTN {\n  padding-top: 15px;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  color: black;\n}\n._2fv6ggBnKvhNZL {\n  margin-bottom: 0;\n  border-radius: 3px;\n}\n",""]),a.locals={workspacesPreambleBoardHeaderButtonIntro:"_2mz4qlRrE5Fj6b",workspacesPreambleBoardHeaderButtonIntroTitle:"_3zciI6rZRzaxTN",workspacesPreambleBoardHeaderButtonContinueButton:"_2fv6ggBnKvhNZL"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._37_keyMFGRfdGq img {\n  height: 140px;\n  width: 280px;\n  border-radius: 3px;\n}\n._37_keyMFGRfdGq p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  color: #5E6C84;\n  padding-bottom: 8px;\n}\n._3JpvBVt4W76zHe {\n  padding-top: 15px;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  color: black;\n}\n._2kEDoRsW9JGmrI {\n  margin-bottom: 0;\n  border-radius: 3px;\n}\n",""]),a.locals={workspacesPreamblePromptInviteIntro:"_37_keyMFGRfdGq",workspacesPreamblePromptInviteIntroTitle:"_3JpvBVt4W76zHe",workspacesPreamblePromptInviteIntroContinueButton:"_2kEDoRsW9JGmrI"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2AxRR_56UOO2Zy {\n  padding-top: 8px;\n}\n._2AxRR_56UOO2Zy label {\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  margin: 0;\n  cursor: pointer;\n}\n._2AxRR_56UOO2Zy button {\n  font-size: 12px;\n  line-height: 16px;\n  -webkit-text-decoration-line: underline;\n          text-decoration-line: underline;\n  color: #0079BF;\n  padding: 0;\n  background: none;\n  margin: 0 0 16px 24px;\n}\n._2AxRR_56UOO2Zy button:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._2AxRR_56UOO2Zy button:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._3p61WSvQstjbtw {\n  padding-left: 24px;\n}\n._3p61WSvQstjbtw ._4ZiUtCf2wtsFUa {\n  overflow: auto;\n  max-height: 100%;\n  padding-right: 8px;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH {\n  display: flex;\n  align-items: center;\n  border-top: 1px solid rgba(9, 30, 66, 0.08);\n  border-bottom: 1px solid rgba(9, 30, 66, 0.08);\n  padding: 6px 0 6px 3px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH:first-child,\n._3p61WSvQstjbtw ._17LuszS5ybLtgH:last-child {\n  border: none;\n  padding: 8px 0 8px 3px;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH div,\n._3p61WSvQstjbtw ._17LuszS5ybLtgH input,\n._3p61WSvQstjbtw ._17LuszS5ybLtgH label,\n._3p61WSvQstjbtw ._17LuszS5ybLtgH span {\n  cursor: pointer;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH .Mm2AHfWSaw711U {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  font-size: 12px;\n  line-height: 16px;\n  padding-right: 8px;\n  overflow: hidden;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH .Mm2AHfWSaw711U ._1dS9C_FlHVHwji {\n  margin-right: 8px;\n  flex: 0 0 20px;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH .Mm2AHfWSaw711U ._3WQK7zjgDU_DSh {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH:hover,\n._3p61WSvQstjbtw ._2WCMmuw5F_bfHG {\n  border: none;\n  border-radius: 3px;\n  background-color: rgba(9, 30, 66, 0.08);\n  padding: 7px 0 7px 3px;\n}\n._3p61WSvQstjbtw ._17LuszS5ybLtgH:hover:first-child,\n._3p61WSvQstjbtw ._2WCMmuw5F_bfHG:first-child,\n._3p61WSvQstjbtw ._17LuszS5ybLtgH:hover:last-child,\n._3p61WSvQstjbtw ._2WCMmuw5F_bfHG:last-child {\n  padding: 8px 0 8px 3px;\n}\n._33DKQp8tEMNxHp {\n  margin-top: -3px;\n}\n",""]),a.locals={inviteMembers:"_2AxRR_56UOO2Zy",members:"_3p61WSvQstjbtw",membersScroller:"_4ZiUtCf2wtsFUa",member:"_17LuszS5ybLtgH",nameAndAvatar:"Mm2AHfWSaw711U",avatar:"_1dS9C_FlHVHwji",name:"_3WQK7zjgDU_DSh",memberHover:"_2WCMmuw5F_bfHG",memberCheckbox:"_33DKQp8tEMNxHp"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3vK3Ml4pnH_Qvi img {\n  height: 140px;\n  width: 280px;\n  border-radius: 3px;\n}\n._3vK3Ml4pnH_Qvi p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  color: #5E6C84;\n  padding-bottom: 8px;\n}\n._2lJchdMv4NhshT {\n  padding-top: 15px;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  color: black;\n}\n._3naS5q3XQ2C8Bc {\n  margin-bottom: 0;\n  border-radius: 3px;\n}\n._2hcPhNx9ITAxUn {\n  cursor: pointer;\n  display: block;\n  padding: 6px 12px;\n}\n._2hcPhNx9ITAxUn._1V29ca_9pjO9A- {\n  color: #A5ADBA;\n  cursor: default;\n}\n._2hcPhNx9ITAxUn._1V29ca_9pjO9A-:hover {\n  color: #A5ADBA;\n  cursor: default;\n}\n._2hcPhNx9ITAxUn._1V29ca_9pjO9A- ._3KugpJJgkl9pYQ {\n  color: #A5ADBA;\n}\n._3KugpJJgkl9pYQ {\n  color: #5E6C84;\n  display: block;\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 20px;\n  margin-top: 4px;\n}\n",""]),a.locals={workspacesPreambleChangeTeamButtonIntro:"_3vK3Ml4pnH_Qvi",workspacesPreambleChangeTeamButtonIntroTitle:"_2lJchdMv4NhshT",workspacesPreambleChangeTeamButtonContinueButton:"_3naS5q3XQ2C8Bc",workspacesPreambleChangeTeamButton:"_2hcPhNx9ITAxUn",workspacesPreambleChangeTeamButtonDisabled:"_1V29ca_9pjO9A-",workspacesPreambleChangeTeamButtonTeamName:"_3KugpJJgkl9pYQ"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,".SEUGOMfKYe_EE2 ._1vYI34ZijqubbH {\n  width: 100%;\n  margin-bottom: 8px;\n}\n._1gMwZo4ZY_0lJN {\n  margin-top: 8px;\n  margin-bottom: 0;\n}\n",""]),a.locals={createTeam:"SEUGOMfKYe_EE2",createTeamInput:"_1vYI34ZijqubbH",createTeamButton:"_1gMwZo4ZY_0lJN"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._1ypBKG9h8zbc3X {\n  margin-top: 8px;\n  margin-bottom: 0;\n}\n",""]),a.locals={selectTeamSubmitButton:"_1ypBKG9h8zbc3X"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._3TB7fxPQgqbaL6 {\n  color: #172B4D;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  cursor: pointer;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n._3TB7fxPQgqbaL6 li {\n  list-style-type: none;\n}\n._2lanjwHKTFeXte {\n  list-style-type: none;\n  padding: 6px 12px;\n}\n._2lanjwHKTFeXte:hover {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._2lanjwHKTFeXte:active {\n  background-color: #E4F0F6;\n}\n.eSWgfx4iIAR8C4 {\n  color: #172B4D;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  cursor: pointer;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 1fr;\n  grid-auto-columns: 44px;\n  grid-auto-flow: column;\n  min-height: 48px;\n}\n.eSWgfx4iIAR8C4:hover {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n.eSWgfx4iIAR8C4:active {\n  background-color: #E4F0F6;\n}\n._17fvb-kDF6stkC {\n  margin: auto 0 auto auto;\n  grid-column-end: 1;\n}\n._1Q-Q2An2Cxu_ss {\n  padding: 6px 12px;\n}\n.skflagcIWr1m1h {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n}\n._1QbbgyXrenRnlQ {\n  color: #FFFFFF;\n}\n._18I7CpJ2a8iExi {\n  color: #172B4D;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  cursor: pointer;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n._18I7CpJ2a8iExi li {\n  list-style-type: none;\n}\n._18I7CpJ2a8iExi li {\n  list-style-type: none;\n  padding: 6px 12px;\n}\n._18I7CpJ2a8iExi li:hover {\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._18I7CpJ2a8iExi li:active {\n  background-color: #E4F0F6;\n}\n",""]),a.locals={"nch-list":"_3TB7fxPQgqbaL6","nch-list__item":"_2lanjwHKTFeXte","nch-list__cell":"eSWgfx4iIAR8C4","nch-list__cell-image":"_17fvb-kDF6stkC","nch-list__cell-content":"_1Q-Q2An2Cxu_ss","nch-list__cell-meta":"skflagcIWr1m1h","nch-list__cell-meta--selected":"_1QbbgyXrenRnlQ","nch-list--static":"_18I7CpJ2a8iExi"},t.a=a},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less":function(e,t,n){"use strict";var i=n("./node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(!1);a.push([e.i,"._2RUB_6xy0LOMWG {\n  color: #172B4D;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n}\n._2RUB_6xy0LOMWG:focus {\n  outline: none;\n}\n._3bp5vhCxI46owV {\n  min-height: 36px;\n  background-color: #FAFBFC;\n  box-shadow: inset 0 0 0 2px #DFE1E6;\n  border-radius: 3px;\n  -webkit-appearance: none;\n  border: none;\n  width: 100%;\n  padding-left: 12px;\n  background: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='20px' height='20px' fill='%2342526e' viewBox='0 0 20 20'><path d='M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z' /></svg>\") no-repeat right 8px center;\n  background-size: 20px;\n}\n._2hUfgBEkG7moe9 {\n  min-height: 24px;\n}\n.llDmJKXJ3usgnD {\n  background-color: #F4F5F7;\n  box-shadow: none;\n}\n._3bp5vhCxI46owV:hover {\n  background-color: #EBECF0;\n  cursor: pointer;\n}\n._3cqJ8Dbi7a4rVJ,\n._3bp5vhCxI46owV:focus {\n  background-color: #FFFFFF;\n  box-shadow: inset 0 0 0 2px #0079BF;\n}\n._3cqJ8Dbi7a4rVJ:hover,\n._3bp5vhCxI46owV:focus:hover {\n  background-color: #FFFFFF;\n  box-shadow: inset 0 0 0 2px #0079BF;\n}\n._1y-3hZaE5VNd3A {\n  color: #A5ADBA;\n  pointer-events: none;\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._2h7okihJkiUIXm {\n  box-shadow: 0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 0 1px rgba(9, 30, 66, 0.08);\n}\n.CnVE_r017EFvY5 {\n  background-color: #E4F0F6;\n}\n._3MHnGaHDT_lJAH._2hD1GkKyFmDHHb {\n  color: #A5ADBA;\n  pointer-events: none;\n  background-color: rgba(9, 30, 66, 0.04);\n}\n._1p6bglVjux49XM {\n  color: #FFFFFF;\n  background-color: #172B4D;\n}\n._1p6bglVjux49XM li {\n  color: #FFFFFF;\n  background-color: #172B4D;\n}\n._1p6bglVjux49XM:hover,\n._1p6bglVjux49XM:active,\n._1p6bglVjux49XM li:active {\n  color: #FFFFFF;\n  background-color: #172B4D;\n}\n._3xvjfTcD2gOPno {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 400;\n  color: #172B4D;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 700;\n  margin-bottom: 2px;\n  display: block;\n}\n.UvGn5FLg0VV8uR {\n  font-size: 16px;\n  line-height: 20px;\n  font-weight: 700;\n  text-overflow: ellipsis;\n  display: block;\n}\n._2iy3FaFZNA0BHt {\n  color: #172B4D;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  min-height: 36px;\n  background-color: #FAFBFC;\n  box-shadow: inset 0 0 0 2px #DFE1E6;\n  border-radius: 3px;\n  -webkit-appearance: none;\n  border: none;\n  width: 100%;\n  padding-left: 12px;\n  background: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='20px' height='20px' fill='%2342526e' viewBox='0 0 20 20'><path d='M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z' /></svg>\") no-repeat right 8px center;\n  background-size: 20px;\n}\n._2iy3FaFZNA0BHt:focus {\n  outline: none;\n}\n._2iy3FaFZNA0BHt:hover {\n  background-color: #EBECF0;\n  cursor: pointer;\n}\n._2iy3FaFZNA0BHt:focus {\n  background-color: #FFFFFF;\n  box-shadow: inset 0 0 0 2px #0079BF;\n}\n",""]),a.locals={"nch-select":"_2RUB_6xy0LOMWG","nch-select__control":"_3bp5vhCxI46owV","nch-select__control--compact":"_2hUfgBEkG7moe9","nch-select__control--subtle":"llDmJKXJ3usgnD","nch-select__control--focus":"_3cqJ8Dbi7a4rVJ","nch-select__control--disabled":"_1y-3hZaE5VNd3A","nch-select__menu":"_2h7okihJkiUIXm","nch-select__option--active":"CnVE_r017EFvY5","nch-select__option":"_3MHnGaHDT_lJAH","nch-select__option--disabled":"_2hD1GkKyFmDHHb","nch-select__option--selected":"_1p6bglVjux49XM","nch-select__label":"_3xvjfTcD2gOPno","nch-select__val":"UvGn5FLg0VV8uR","nch-select--static":"_2iy3FaFZNA0BHt"},t.a=a},"./node_modules/dnd-core/dist/esm/createDragDropManager.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));var i=n("./node_modules/@react-dnd/invariant/dist/invariant.esm.js"),a="dnd-core/INIT_COORDS",r="dnd-core/BEGIN_DRAG",s="dnd-core/PUBLISH_DRAG_SOURCE",o="dnd-core/HOVER",l="dnd-core/DROP",c="dnd-core/END_DRAG";function d(e,t){return{type:a,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function m(e,t){return e.filter((function(e){return e!==t}))}function h(e){return"object"===u(e)}function g(e,t){var n=new Map,i=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(i),t.forEach(i);var a=[];return n.forEach((function(e,t){1===e&&a.push(t)})),a}var b={type:a,payload:{clientOffset:null,sourceClientOffset:null}};function v(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},i=n.publishSource,a=void 0===i||i,s=n.clientOffset,o=n.getSourceClientOffset,l=e.getMonitor(),c=e.getRegistry();e.dispatch(d(s)),f(t,l,c);var u=y(t,l);if(null!==u){var p=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");_(o),p=o(u)}e.dispatch(d(s,p));var m=c.getSource(u),h=m.beginDrag(l,u);if(null!=h){k(h),c.pinSource(u);var g=c.getSourceType(u);return{type:r,payload:{itemType:g,item:h,sourceId:u,clientOffset:s||null,sourceClientOffset:p||null,isSourcePublic:!!a}}}}else e.dispatch(b)}}function f(e,t,n){Object(i.a)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Object(i.a)(n.getSource(e),"Expected sourceIds to be registered.")}))}function _(e){Object(i.a)("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function k(e){Object(i.a)(h(e),"Item must be an object.")}function y(e,t){for(var n=null,i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){n=e[i];break}return n}function E(e){return function(){if(e.getMonitor().isDragging())return{type:s}}}function w(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function C(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.clientOffset;T(t);var a=t.slice(0),r=e.getMonitor(),s=e.getRegistry();O(a,r,s);var l=r.getItemType();return j(a,s,l),A(a,r,s),{type:o,payload:{targetIds:a,clientOffset:i||null}}}}function T(e){Object(i.a)(Array.isArray(e),"Expected targetIds to be an array.")}function O(e,t,n){Object(i.a)(t.isDragging(),"Cannot call hover while not dragging."),Object(i.a)(!t.didDrop(),"Cannot call hover after drop.");for(var a=0;a<e.length;a++){var r=e[a];Object(i.a)(e.lastIndexOf(r)===a,"Expected targetIds to be unique in the passed array.");var s=n.getTarget(r);Object(i.a)(s,"Expected targetIds to be registered.")}}function j(e,t,n){for(var i=e.length-1;i>=0;i--){var a=e[i];w(t.getTargetType(a),n)||e.splice(i,1)}}function A(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();D(n);var a=P(n);a.forEach((function(a,r){var s=B(a,r,i,n),o={type:l,payload:{dropResult:N(N({},t),s)}};e.dispatch(o)}))}}function D(e){Object(i.a)(e.isDragging(),"Cannot call drop while not dragging."),Object(i.a)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function B(e,t,n,a){var r=n.getTarget(e),s=r?r.drop(a,e):void 0;return function(e){Object(i.a)(void 0===e||h(e),"Drop result must either be an object or undefined.")}(s),void 0===s&&(s=0===t?{}:a.getDropResult()),s}function P(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function F(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(i.a)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var a=t.getSourceId();null!=a&&(n.getSource(a,!0).endDrag(t,a),n.unpinSource());return{type:c}}}function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=i.store.getState().refCount>0;i.backend&&(e&&!i.isSetUp?(i.backend.setup(),i.isSetUp=!0):!e&&i.isSetUp&&(i.backend.teardown(),i.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,i;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:v(e),publishDragSource:E(e),hover:C(e),drop:I(e),endDrag:F(e)}}(this);return Object.keys(n).reduce((function(i,a){var r,s=n[a];return i[a]=(r=s,function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=r.apply(e,i);void 0!==s&&t(s)}),i}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&L(t.prototype,n),i&&L(t,i),e}();function R(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var V="function"==typeof Symbol&&Symbol.observable||"@@observable",U=function(){return Math.random().toString(36).substring(7).split("").join(".")},z={INIT:"@@redux/INIT"+U(),REPLACE:"@@redux/REPLACE"+U(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+U()}};function H(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function W(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(R(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(R(1));return n(W)(e,t)}if("function"!=typeof e)throw new Error(R(2));var a=e,r=t,s=[],o=s,l=!1;function c(){o===s&&(o=s.slice())}function d(){if(l)throw new Error(R(3));return r}function u(e){if("function"!=typeof e)throw new Error(R(4));if(l)throw new Error(R(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(R(6));t=!1,c();var n=o.indexOf(e);o.splice(n,1),s=null}}}function p(e){if(!H(e))throw new Error(R(7));if(void 0===e.type)throw new Error(R(8));if(l)throw new Error(R(9));try{l=!0,r=a(r,e)}finally{l=!1}for(var t=s=o,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!=typeof e)throw new Error(R(10));a=e,p({type:z.REPLACE})}function h(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(R(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[V]=function(){return this},e}return p({type:z.INIT}),(i={dispatch:p,subscribe:u,getState:d,replaceReducer:m})[V]=h,i}var Y=function(e,t){return e===t};function K(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!n(e[i],t[i]))return!1;return!0}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case a:case r:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case o:return K(e.clientOffset,n.clientOffset)?e:q(q({},e),{},{clientOffset:n.clientOffset});case c:case l:return Q;default:return e}}var Z="dnd-core/ADD_SOURCE",ee="dnd-core/ADD_TARGET",te="dnd-core/REMOVE_SOURCE",ne="dnd-core/REMOVE_TARGET";function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case r:return ae(ae({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case s:return ae(ae({},e),{},{isSourcePublic:!0});case o:return ae(ae({},e),{},{targetIds:n.targetIds});case ne:return-1===e.targetIds.indexOf(n.targetId)?e:ae(ae({},e),{},{targetIds:m(e.targetIds,n.targetId)});case l:return ae(ae({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case c:return ae(ae({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case ee:return e+1;case te:case ne:return e-1;default:return e}}var ce=[],de=[];function ue(e,t){return e!==ce&&(e===de||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function pe(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:break;case Z:case ee:case ne:case te:return ce;case r:case s:case c:case l:default:return de}var t=e.payload,n=t.targetIds,i=void 0===n?[]:n,a=t.prevTargetIds,d=void 0===a?[]:a,u=g(i,d),p=u.length>0||!G(i,d);if(!p)return ce;var m=d[d.length-1],h=i[i.length-1];return m!==h&&(m&&u.push(m),h&&u.push(h)),u}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:pe(e.dirtyHandlerIds,{type:t.type,payload:ge(ge({},t.payload),{},{prevTargetIds:p(e,"dragOperation.targetIds",[])})}),dragOffset:J(e.dragOffset,t),refCount:le(e.refCount,t),dragOperation:oe(e.dragOperation,t),stateId:me(e.stateId)}}function fe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}ce.__IS_NONE__=!0,de.__IS_ALL__=!0;var ke,ye=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,a;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},a=n.handlerIds;Object(i.a)("function"==typeof e,"listener must be a function."),Object(i.a)(void 0===a||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId,s=function(){var n=t.store.getState(),i=n.stateId;try{i===r||i===r+1&&!ue(n.dirtyHandlerIds,a)||e()}finally{r=i}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Object(i.a)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var i=t.store.getState().dragOffset;i!==n&&(n=i,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(i.a)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(i.a)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&w(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(i.a)(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),a=this.getItemType();if(a&&!w(i,a))return!1;var r=this.getTargetIds();if(!r.length)return!1;var s=r.indexOf(e);return n?s===r.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,i=e.clientOffset,a=e.initialClientOffset,r=e.initialSourceClientOffset,i&&a&&r?fe((n=r,{x:(t=i).x+n.x,y:t.y+n.y}),a):null;var e,t,n,i,a,r}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?fe(t,n):null;var e,t,n}}])&&_e(t.prototype,n),a&&_e(t,a),e}(),Ee=0;function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Ce(e,!1)})):Object(i.a)("string"==typeof e||"symbol"===we(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(ke||(ke={}));var Te=n("./node_modules/@react-dnd/asap/dist/esm/browser/raw.js"),Oe=[],je=[],Ae=Te.a.makeRequestCallFromTimer((function(){if(je.length)throw je.shift()}));function xe(e){var t;(t=Oe.length?Oe.pop():new Ne).task=e,Object(Te.a)(t)}var Ne=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){xe.onerror?xe.onerror(e):(je.push(e),Ae())}finally{this.task=null,Oe[Oe.length]=this}},e}();function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Be(e){var t=(Ee++).toString();switch(e){case ke.SOURCE:return"S".concat(t);case ke.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Pe(e){switch(e[0]){case"S":return ke.SOURCE;case"T":return ke.TARGET;default:Object(i.a)(!1,"Cannot parse handler ID: ".concat(e))}}function Fe(e,t){var n=e.entries(),i=!1;do{var a=n.next(),r=a.done;if(Ie(a.value,2)[1]===t)return!0;i=!!r}while(!i);return!1}var Le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,a;return t=e,(n=[{key:"addSource",value:function(e,t){Ce(e),function(e){Object(i.a)("function"==typeof e.canDrag,"Expected canDrag to be a function."),Object(i.a)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Object(i.a)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(ke.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Z,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Ce(e,!0),function(e){Object(i.a)("function"==typeof e.canDrop,"Expected canDrop to be a function."),Object(i.a)("function"==typeof e.hover,"Expected hover to be a function."),Object(i.a)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(ke.TARGET,e,t);return this.store.dispatch(function(e){return{type:ee,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Fe(this.dragSources,e)||Fe(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(i.a)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,a=n?this.pinnedSource:this.dragSources.get(e);return a}},{key:"getTarget",value:function(e){return Object(i.a)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Object(i.a)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Object(i.a)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Pe(e)===ke.SOURCE}},{key:"isTargetId",value:function(e){return Pe(e)===ke.TARGET}},{key:"removeSource",value:function(e){var t=this;Object(i.a)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:te,payload:{sourceId:e}}}(e)),xe((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Object(i.a)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ne,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Object(i.a)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Object(i.a)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var i=Be(e);return this.types.set(i,t),e===ke.SOURCE?this.dragSources.set(i,n):e===ke.TARGET&&this.dropTargets.set(i,n),i}}])&&Se(t.prototype,n),a&&Se(t,a),e}();function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Re(i),r=new ye(a,new Le(a)),s=new M(a,r),o=e(s,t,n);return s.receiveBackend(o),s}function Re(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return W(ve,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}},"./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js":function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"categories",(function(){return b})),n.d(i,"search",(function(){return v}));var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=Object.getPrototypeOf||function(e){return"function"==typeof(e=Object(e)).constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Object.prototype:null},s=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=n.n(s),l=n("./node_modules/emoji-mart/dist-es/polyfills/createClass.js");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=Object;function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=d.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.setPrototypeOf?d.setPrototypeOf(e,t):e.__proto__=t)}n("./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js");var p=n("./node_modules/react/index.js"),m=n.n(p),h=n("./node_modules/prop-types/index.js"),g=n.n(h),b={activity:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"}))},custom:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("g",{transform:"translate(2.000000, 1.000000)"},m.a.createElement("rect",{id:"Rectangle",x:"8",y:"0",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"})))},flags:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"}))},foods:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"}))},nature:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),m.a.createElement("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"}))},objects:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),m.a.createElement("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"}))},people:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),m.a.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"}))},places:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),m.a.createElement("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"}))},recent:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}))},symbols:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"}))}},v={search:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"}))},delete:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}))}},f="emoji-mart",_=JSON,k="undefined"!=typeof window&&"localStorage"in window,y=void 0,E=void 0;function w(e,t){if(E)E(e,t);else{if(!k)return;try{window.localStorage[f+"."+e]=_.stringify(t)}catch(e){}}}var C={update:function(e){for(var t in e){w(t,e[t])}},set:w,get:function(e){if(y)return y(e);if(k){try{var t=window.localStorage[f+"."+e]}catch(e){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){f=e},setHandlers:function(e){e||(e={}),y=e.getter,E=e.setter}},T=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],O=void 0,j=void 0,A={};function x(){j=!0,O=C.get("frequently")}var N={add:function(e){j||x();var t=e.id;O||(O=A),O[t]||(O[t]=0),O[t]+=1,C.set("last",t),C.set("frequently",O)},get:function(e){if(j||x(),!O){A={};for(var t=[],n=0;n<e;n++)A[T[n]]=e-n,t.push(T[n]);return t}var i=4*e,a=[];for(var r in O)O.hasOwnProperty(r)&&a.push(r);var s=a.sort((function(e,t){return O[e]-O[t]})).reverse().slice(0,i),o=C.get("last");return o&&-1==s.indexOf(o)&&(s.pop(),s.push(o)),s}},S=n("./node_modules/emoji-mart/dist-es/utils/index.js"),I=n("./node_modules/emoji-mart/dist-es/utils/data.js"),D=n("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),B=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e)),i=e.categories.filter((function(e){return e.first}))[0];return n.state={selected:i.name},n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("data-index"),n=this.props,i=n.categories;(0,n.onAnchorClick)(i[t],t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,i=t.color,a=t.i18n,r=t.icons,s=this.state.selected;return m.a.createElement("div",{className:"emoji-mart-anchors"},n.map((function(t,n){var o=t.id,l=t.name,c=t.anchor,d=l==s;return!1===c?null:m.a.createElement("span",{key:o,title:a.categories[o],"data-index":n,onClick:e.handleClick,className:"emoji-mart-anchor "+(d?"emoji-mart-anchor-selected":""),style:{color:d?i:null}},m.a.createElement("div",{className:"emoji-mart-anchor-icon"},r.categories[o]()),m.a.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:i}}))})))}}]),t}(m.a.PureComponent),P=B;B.defaultProps={categories:[],onAnchorClick:function(){},icons:{}};var F=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),L=function(e){function t(){return o()(this,t),c(this,(t.__proto__||r(t)).apply(this,arguments))}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.emojiProps,i=e.i18n,r=e.notFound,s=e.notFoundEmoji;return r&&r()||m.a.createElement("div",{className:"emoji-mart-no-results"},Object(F.default)(a({data:t},n,{size:38,emoji:s,onOver:null,onLeave:null,onClick:null})),m.a.createElement("div",{className:"emoji-mart-no-results-label"},i.notfound))}}]),t}(m.a.PureComponent),M=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.data=e.data,n.setContainerRef=n.setContainerRef.bind(n),n.setLabelRef=n.setLabelRef.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,i=n.name,a=n.perLine,r=n.native,s=n.hasStickyPosition,o=n.emojis,l=n.emojiProps,c=l.skin,d=l.size,u=l.set,p=e.perLine,m=e.native,h=e.hasStickyPosition,g=e.emojis,b=e.emojiProps,v=b.skin,f=b.size,_=b.set,k=!1;return"Recent"==i&&a!=p&&(k=!0),"Search"==i&&(k=!(o==g)),c==v&&d==f&&r==m&&u==_&&s==h||(k=!0),k}},{key:"memoizeSize",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.height,i=this.parent.getBoundingClientRect().top,a=this.label.getBoundingClientRect().height;this.top=t-i+this.parent.scrollTop,this.maxMargin=0==n?0:n-a}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin)return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}},{key:"getEmojis",value:function(){var e=this,t=this.props,n=t.name,i=t.emojis,a=t.recent,r=t.perLine;if("Recent"==n){var s=this.props.custom,o=a||N.get(r);if(o.length&&(i=o.map((function(e){var t=s.filter((function(t){return t.id===e}))[0];return t||e})).filter((function(t){return!!Object(S.b)(t,null,null,e.data)}))),0===i.length&&o.length>0)return null}return i&&(i=i.slice(0)),i}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"setContainerRef",value:function(e){this.container=e}},{key:"setLabelRef",value:function(e){this.label=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,i=t.name,r=t.hasStickyPosition,s=t.emojiProps,o=t.i18n,l=t.notFound,c=t.notFoundEmoji,d=this.getEmojis(),u={},p={},h={};return d||(h={display:"none"}),r||(u={height:28},p={position:"absolute"}),m.a.createElement("div",{ref:this.setContainerRef,className:"emoji-mart-category",style:h},m.a.createElement("div",{style:u,"data-name":i,className:"emoji-mart-category-label"},m.a.createElement("span",{style:p,ref:this.setLabelRef},o.categories[n])),d&&d.map((function(t){return Object(F.default)(a({emoji:t,data:e.data},s))})),d&&!d.length&&m.a.createElement(L,{i18n:o,notFound:l,notFoundEmoji:c,data:this.data,emojiProps:s}))}}]),t}(m.a.Component),R=M;M.defaultProps={emojis:[],hasStickyPosition:!0};var V=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.state={opened:!1},n}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=parseInt(e.currentTarget.getAttribute("data-skin")),n=this.props.onChange;this.state.opened?(this.setState({opened:!1}),t!=this.props.skin&&n(t)):this.setState({opened:!0})}},{key:"render",value:function(){return null}}]),t}(m.a.PureComponent),U=V;V.defaultProps={onChange:function(){}};var z=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=e.emojiProps,i=e.data,a=e.skinEmoji,r=e.i18n,s=this.state.opened,o=[],l=1;l<=6;l++){var c=l===t;o.push(m.a.createElement("span",{key:"skin-tone-"+l,className:"emoji-mart-skin-swatch custom"+(c?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":l,className:"emoji-mart-skin-tone-"+l},Object(F.default)({emoji:a,data:i,skin:l,backgroundImageFn:n.backgroundImageFn,native:n.native,set:n.set,sheetSize:n.sheetSize,size:23}))))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches custom"+(s?" opened":"")},m.a.createElement("div",{className:"emoji-mart-skin-text"+(s?" opened":"")},r.skintext),o)}}]),t}(U),H=z;z.propTypes={onChange:g.a.func,skin:g.a.number.isRequired,emojiProps:g.a.object.isRequired,skinTone:g.a.number,skinEmoji:g.a.string.isRequired,i18n:g.a.object},z.defaultProps={onChange:function(){},skinTone:null};var W=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=(e.i18n,this.state.opened),i=[],a=1;a<=6;a++){var r=a===t;i.push(m.a.createElement("span",{key:"skin-tone-"+a,className:"emoji-mart-skin-swatch"+(r?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":a,className:"emoji-mart-skin emoji-mart-skin-tone-"+a})))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches"+(n?" opened":"")},i)}}]),t}(U),Y=W;W.propTypes={onChange:g.a.func,skin:g.a.number.isRequired,i18n:g.a.object},W.defaultProps={onChange:function(){}};var K=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.data=e.data,n.state={emoji:null},n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,n=t.emojiProps,i=t.skinsProps,r=t.showSkinTones,s=t.title,o=t.emoji,l=t.i18n;if(e){var c=Object(S.b)(e,null,null,this.data),d=c.emoticons,u=[],p=[];return(void 0===d?[]:d).forEach((function(e){u.indexOf(e.toLowerCase())>=0||(u.push(e.toLowerCase()),p.push(e))})),m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},Object(F.default)(a({key:e.id,emoji:e,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("div",{className:"emoji-mart-preview-name"},e.name),m.a.createElement("div",{className:"emoji-mart-preview-shortnames"},c.short_names.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))),m.a.createElement("div",{className:"emoji-mart-preview-emoticons"},p.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-emoticon"},e)})))))}return m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},o&&o.length&&Object(F.default)(a({emoji:o,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("span",{className:"emoji-mart-title-label"},s)),r&&m.a.createElement("div",{className:"emoji-mart-preview-skins"+(i.skinEmoji?" custom":"")},i.skinEmoji?m.a.createElement(H,{skin:i.skin,emojiProps:n,data:this.data,skinEmoji:i.skinEmoji,i18n:l,onChange:i.onChange}):m.a.createElement(Y,{skin:i.skin,i18n:l,onChange:i.onChange})))}}]),t}(m.a.PureComponent),G=K;K.defaultProps={showSkinTones:!0,onChange:function(){}};var $=n("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js"),q=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));return n.state={icon:v.search,isSearching:!1},n.data=e.data,n.emojiIndex=new $.a(n.data),n.setRef=n.setRef.bind(n),n.handleChange=n.handleChange.bind(n),n.clear=n.clear.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"search",value:function(e){""==e?this.setState({icon:v.search,isSearching:!1}):this.setState({icon:v.delete,isSearching:!0}),this.props.onSearch(this.emojiIndex.search(e,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude,custom:this.props.custom}))}},{key:"clear",value:function(){""!=this.input.value&&(this.input.value="",this.search(""))}},{key:"handleChange",value:function(){this.search(this.input.value)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.clear()}},{key:"setRef",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.autoFocus,i=this.state,a=i.icon,r=i.isSearching;return m.a.createElement("div",{className:"emoji-mart-search"},m.a.createElement("input",{ref:this.setRef,type:"text",onChange:this.handleChange,placeholder:t.search,autoFocus:n}),m.a.createElement("button",{className:"emoji-mart-search-icon",onClick:this.clear,onKeyUp:this.handleKeyUp,disabled:!r},a()))}}]),t}(m.a.PureComponent),X=q;q.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1};var Q={search:"Search",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},J=function(e){function t(e){o()(this,t);var n=c(this,(t.__proto__||r(t)).call(this,e));n.RECENT_CATEGORY={id:"recent",name:"Recent",emojis:null},n.CUSTOM_CATEGORY={id:"custom",name:"Custom",emojis:[]},n.SEARCH_CATEGORY={id:"search",name:"Search",emojis:null,anchor:!1},e.data.compressed&&Object(I.c)(e.data),n.data=e.data,n.i18n=Object(S.a)(Q,e.i18n),n.icons=Object(S.a)(i,e.icons),n.state={skin:e.skin||C.get("skin")||e.defaultSkin,firstRender:!0},n.categories=[];var s=[].concat(n.data.categories);e.custom.length>0&&(n.CUSTOM_CATEGORY.emojis=e.custom.map((function(e){return a({},e,{id:e.short_names[0],custom:!0})})),s.push(n.CUSTOM_CATEGORY)),n.hideRecent=!0,null!=e.include&&s.sort((function(t,n){return e.include.indexOf(t.id)>e.include.indexOf(n.id)?1:-1}));for(var l=0;l<s.length;l++){var d=s[l],u=!e.include||!e.include.length||e.include.indexOf(d.id)>-1,p=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(d.id)>-1;if(u&&!p)if(e.emojisToShowFilter){for(var m=[],h=d.emojis,g=0;g<h.length;g++){var b=h[g];e.emojisToShowFilter(n.data.emojis[b]||b)&&m.push(b)}if(m.length){var v={emojis:m,name:d.name,id:d.id};n.categories.push(v)}}else n.categories.push(d)}var f=!e.include||!e.include.length||e.include.indexOf(n.RECENT_CATEGORY.id)>-1,_=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(n.RECENT_CATEGORY.id)>-1;return f&&!_&&(n.hideRecent=!1,n.categories.unshift(n.RECENT_CATEGORY)),n.categories[0]&&(n.categories[0].first=!0),n.categories.unshift(n.SEARCH_CATEGORY),n.setAnchorsRef=n.setAnchorsRef.bind(n),n.handleAnchorClick=n.handleAnchorClick.bind(n),n.setSearchRef=n.setSearchRef.bind(n),n.handleSearch=n.handleSearch.bind(n),n.setScrollRef=n.setScrollRef.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleScrollPaint=n.handleScrollPaint.bind(n),n.handleEmojiOver=n.handleEmojiOver.bind(n),n.handleEmojiLeave=n.handleEmojiLeave.bind(n),n.handleEmojiClick=n.handleEmojiClick.bind(n),n.handleEmojiSelect=n.handleEmojiSelect.bind(n),n.setPreviewRef=n.setPreviewRef.bind(n),n.handleSkinChange=n.handleSkinChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin?this.setState({skin:e.skin}):e.defaultSkin&&!C.get("skin")&&this.setState({skin:e.defaultSkin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout((function(){e.setState({firstRender:!1})}),60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.SEARCH_CATEGORY.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){var e=document.createElement("div");["","-webkit-","-ms-","-moz-","-o-"].forEach((function(t){return e.style.position=t+"sticky"})),this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){var t=this.preview;if(t){var n=this.CUSTOM_CATEGORY.emojis.filter((function(t){return t.id===e.id}))[0];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);t.setState({emoji:e}),clearTimeout(this.leaveTimeout)}}},{key:"handleEmojiLeave",value:function(e){var t=this.preview;t&&(this.leaveTimeout=setTimeout((function(){t.setState({emoji:null})}),16))}},{key:"handleEmojiClick",value:function(e,t){this.props.onClick(e,t),this.handleEmojiSelect(e)}},{key:"handleEmojiSelect",value:function(e){var t=this;this.props.onSelect(e),this.hideRecent||this.props.recent||N.add(e);var n=this.categoryRefs["category-1"];if(n){var i=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame((function(){t.scroll&&(n.memoizeSize(),i!=n.maxMargin&&(t.updateCategoriesSize(),t.handleScrollPaint(),t.SEARCH_CATEGORY.emojis&&n.updateDisplay("none")))}))}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(this.SEARCH_CATEGORY.emojis)e=this.SEARCH_CATEGORY;else{for(var t=this.scroll.scrollTop,n=t>(this.scrollTop||0),i=0,a=0,r=this.categories.length;a<r;a++){var s=n?this.categories.length-1-a:a,o=this.categories[s],l=this.categoryRefs["category-"+s];if(l){var c=l.handleScroll(t);(!i||l.top<i)&&l.top>0&&(i=l.top),c&&!e&&(e=o)}}t<i?e=this.categories.filter((function(e){return!(!1===e.anchor)}))[0]:t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var d=this.anchors,u=e.name;d.state.selected!=u&&d.setState({selected:u})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){this.SEARCH_CATEGORY.emojis=e;for(var t=0,n=this.categories.length;t<n;t++){var i=this.categoryRefs["category-"+t];if(i&&"Search"!=i.props.name){var a=e?"none":"inherit";i.updateDisplay(a)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var n,i=this.categoryRefs["category-"+t],a=this.scroll;this.anchors;n=function(){if(i){var t=i.top;e.first?t=0:t+=1,a.scrollTop=t}},this.SEARCH_CATEGORY.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(n)):n()}},{key:"handleSkinChange",value:function(e){var t={skin:e},n=this.props.onSkinChange;this.setState(t),C.update(t),n(e)}},{key:"handleKeyDown",value:function(e){var t=!1;switch(e.keyCode){case 13:var n=void 0;this.SEARCH_CATEGORY.emojis&&(n=this.SEARCH_CATEGORY.emojis[0])&&this.handleEmojiSelect(n),t=!0}t&&e.preventDefault()}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var n=this.categoryRefs["category-"+e];n&&n.memoizeSize()}if(this.scroll){var i=this.scroll;this.scrollHeight=i.scrollHeight,this.clientHeight=i.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"setAnchorsRef",value:function(e){this.anchors=e}},{key:"setSearchRef",value:function(e){this.search=e}},{key:"setPreviewRef",value:function(e){this.preview=e}},{key:"setScrollRef",value:function(e){this.scroll=e}},{key:"setCategoryRef",value:function(e,t){this.categoryRefs||(this.categoryRefs={}),this.categoryRefs[e]=t}},{key:"render",value:function(){var e=this,t=this.props,n=t.perLine,i=t.emojiSize,r=t.set,s=t.sheetSize,o=t.sheetColumns,l=t.sheetRows,c=t.style,d=t.title,u=t.emoji,p=t.color,h=t.native,g=t.backgroundImageFn,b=t.emojisToShowFilter,v=t.showPreview,f=t.showSkinTones,_=t.emojiTooltip,k=t.include,y=t.exclude,E=t.recent,w=t.autoFocus,C=t.skinEmoji,T=t.notFound,O=t.notFoundEmoji,j=this.state.skin,A=n*(i+12)+12+2+Object(S.e)();return m.a.createElement("div",{style:a({width:A},c),className:"emoji-mart",onKeyDown:this.handleKeyDown},m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(P,{ref:this.setAnchorsRef,data:this.data,i18n:this.i18n,color:p,categories:this.categories,onAnchorClick:this.handleAnchorClick,icons:this.icons})),m.a.createElement(X,{ref:this.setSearchRef,onSearch:this.handleSearch,data:this.data,i18n:this.i18n,emojisToShowFilter:b,include:k,exclude:y,custom:this.CUSTOM_CATEGORY.emojis,autoFocus:w}),m.a.createElement("div",{ref:this.setScrollRef,className:"emoji-mart-scroll",onScroll:this.handleScroll},this.getCategories().map((function(t,a){return m.a.createElement(R,{ref:e.setCategoryRef.bind(e,"category-"+a),key:t.name,id:t.id,name:t.name,emojis:t.emojis,perLine:n,native:h,hasStickyPosition:e.hasStickyPosition,data:e.data,i18n:e.i18n,recent:t.id==e.RECENT_CATEGORY.id?E:void 0,custom:t.id==e.RECENT_CATEGORY.id?e.CUSTOM_CATEGORY.emojis:void 0,emojiProps:{native:h,skin:j,size:i,set:r,sheetSize:s,sheetColumns:o,sheetRows:l,forceSize:h,tooltip:_,backgroundImageFn:g,onOver:e.handleEmojiOver,onLeave:e.handleEmojiLeave,onClick:e.handleEmojiClick},notFound:T,notFoundEmoji:O})}))),v&&m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(G,{ref:this.setPreviewRef,data:this.data,title:d,emoji:u,showSkinTones:f,emojiProps:{native:h,size:38,skin:j,set:r,sheetSize:s,sheetColumns:o,sheetRows:l,backgroundImageFn:g},skinsProps:{skin:j,onChange:this.handleSkinChange,skinEmoji:C},i18n:this.i18n})))}}]),t}(m.a.PureComponent);t.default=J;J.defaultProps=a({},D.b)},"./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js":function(e,t){"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),a=Math.max(0,16-(i-e)),r=window.setTimeout((function(){t(i+a)}),a);return e=i+a,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},"./node_modules/emotion/dist/index.esm.js":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var i=n("./node_modules/create-emotion/dist/index.esm.js"),a=void 0!==e?e:{},r=Object(i.a)(a),s=(r.flush,r.hydrate,r.cx,r.merge,r.getRegisteredStyles,r.injectGlobal),o=(r.keyframes,r.css);r.sheet,r.caches}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/flexsearch/dist/flexsearch.min.js":function(e,t,n){"use strict";!function(t,n,i){let a;(a=i.define)&&a.amd?a([],(function(){return n})):(a=i.modules)?a["FlexSearch".toLowerCase()]=n:e.exports=n}(0,function e(t){function n(e,t){const n=t?t.id:e&&e.id;this.id=n||0===n?n:N++,this.init(e,t),o(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),o(this,"length",(function(){return this.index.length}))}function i(e,t,n,i){return this.u!==this.g&&(this.o=this.o.concat(n),this.u++,i&&this.o.length>=i&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(t,this.o),this.F&&this.F(this.o))),this}function a(e){const t=C();for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];_(i)?t[n]=i.slice(0):y(i)?t[n]=a(i):t[n]=i}return t}function r(e,t){const n=e.length,i=k(t),a=[];for(let r=0,s=0;r<n;r++){const n=e[r];(i&&t(n)||!i&&!t[n])&&(a[s++]=n)}return a}function s(e,t,n,i,a,r,s,o,l,c){let d;if(n=v(n,s?0:a,o,r,t,l,c),o&&(o=n.page,d=n.next,n=n.result),s)t=this.where(s,null,a,n);else{for(t=n,n=this.l,a=t.length,r=Array(a),s=0;s<a;s++)r[s]=n[t[s]];t=r}return n=t,i&&(k(i)||(D=i.split(":"),1<D.length?i=g:(D=D[0],i=h)),n.sort(i)),n=b(o,d,n),this.cache&&this.j.set(e,n),n}function o(e,t,n){Object.defineProperty(e,t,{get:n})}function l(e){return new RegExp(e,"g")}function c(e,t){for(let n=0;n<t.length;n+=2)e=e.replace(t[n],t[n+1]);return e}function d(e,t,n,i,a,r,s,o){return t[n]?t[n]:(a=a?(o-(s||o/1.5))*r+(s||o/1.5)*a:r,t[n]=a,a>=s&&((e=(e=e[o-(a+.5>>0)])[n]||(e[n]=[]))[e.length]=i),a)}function u(e,t){if(e){const n=Object.keys(e);for(let i=0,a=n.length;i<a;i++){const a=n[i],r=e[a];if(r)for(let n=0,i=r.length;n<i;n++){if(r[n]===t){1===i?delete e[a]:r.splice(n,1);break}y(r[n])&&u(r[n],t)}}}}function p(e){let t="",n="";var i="";for(let a=0;a<e.length;a++){const r=e[a];r!==n&&(a&&"h"===r?(i="a"===i||"e"===i||"i"===i||"o"===i||"u"===i||"y"===i,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&i||" "===n)&&(t+=r)):t+=r),i=a===e.length-1?"":e[a+1],n=r}return t}function m(e,t){return 0>(e=e.length-t.length)?1:e?-1:0}function h(e,t){return(e=e[D])<(t=t[D])?-1:e>t?1:0}function g(e,t){const n=D.length;for(let i=0;i<n;i++)e=e[D[i]],t=t[D[i]];return e<t?-1:e>t?1:0}function b(e,t,n){return e?{page:e,next:t?""+t:null,result:n}:n}function v(e,t,n,i,a,r,s){let o,l=[];if(!0===n){n="0";var c=""}else c=n&&n.split(":");const d=e.length;if(1<d){const _=C(),k=[];let y,w;var u,p=0;let T;var m=!0;let O,j,A,x,N,S,I=0;if(c&&(2===c.length?(x=c,c=!1):c=N=parseInt(c[0],10)),s){for(y=C();p<d;p++)if("not"===a[p])for(w=e[p],T=w.length,u=0;u<T;u++)y["@"+w[u]]=1;else A=p+1;if(E(A))return b(n,o,l);p=0}else j=f(a)&&a;for(;p<d;p++){const f=p===(A||d)-1;if(!j||!p)if((u=j||a&&a[p])&&"and"!==u){if("or"!==u)continue;S=!1}else S=r=!0;if(w=e[p],T=w.length){if(m){if(!O){O=w;continue}var h=O.length;for(u=0;u<h;u++){var g="@"+(m=O[u]);s&&y[g]||(_[g]=1,r||(l[I++]=m))}O=null,m=!1}for(g=!1,u=0;u<T;u++){var v="@"+(h=w[u]);const e=r?_[v]||0:p;if(!(!e&&!i||s&&y[v]||!r&&_[v]))if(e===p){if(f){if((!N||--N<I)&&(l[I++]=h,t&&I===t))return b(n,I+(c||0),l)}else _[v]=p+1;g=!0}else i&&((v=k[e]||(k[e]=[]))[v.length]=h)}if(S&&!g&&!i)break}else if(S&&!i)return b(n,o,w)}if(O)if(p=O.length,s)for(u=c?parseInt(c,10):0;u<p;u++)y["@"+(e=O[u])]||(l[I++]=e);else l=O;if(i)for(I=l.length,x?(p=parseInt(x[0],10)+1,u=parseInt(x[1],10)+1):(p=k.length,u=0);p--;)if(h=k[p]){for(T=h.length;u<T;u++)if(i=h[u],(!s||!y["@"+i])&&(l[I++]=i,t&&I===t))return b(n,p+":"+u,l);u=0}}else!d||a&&"not"===a[0]||(l=e[0],c&&(c=parseInt(c[0],10)));return t&&(s=l.length,c&&c>s&&(c=0),o=(c=c||0)+t,o<s?l=l.slice(c,o):(o=0,c&&(l=l.slice(c)))),b(n,o,l)}function f(e){return"string"==typeof e}function _(e){return e.constructor===Array}function k(e){return"function"==typeof e}function y(e){return"object"==typeof e}function E(e){return void 0===e}function w(e){const t=Array(e);for(let n=0;n<e;n++)t[n]=C();return t}function C(){return Object.create(null)}function T(){let e,t;self.onmessage=function(n){if(n=n.data)if(n.search){const i=t.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:e,content:n.content,limit:n.limit,result:i})}else n.add?t.add(n.id,n.content):n.update?t.update(n.id,n.content):n.remove?t.remove(n.id):n.clear?t.clear():n.info?((n=t.info()).worker=e,console.log(n)):n.register&&(e=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,t=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))(),t=new t(n.options))}}function O(n,i,a,r){n=t("flexsearch","id"+n,T,(function(e){(e=e.data)&&e.result&&r(e.id,e.content,e.result,e.limit,e.where,e.cursor,e.suggest)}),i);const s=e.toString();return a.id=i,n.postMessage({register:s,options:a,id:i}),n}const j={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},A={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},x=[];let N=0;const S={},I={};let D;n.create=function(e,t){return new n(e,t)},n.registerMatcher=function(e){for(const t in e)e.hasOwnProperty(t)&&x.push(l(t),e[t]);return this},n.registerEncoder=function(e,t){return P[e]=t.bind(P),this},n.registerLanguage=function(e,t){return S[e]=t.filter,I[e]=t.stemmer,this},n.encode=function(e,t){return P[e](t)},n.prototype.init=function(e,t){if(this.v=[],t){var r=t.preset;e=t}else e||(e=j),r=e.preset;if(t={},f(e)?(t=A[e],e={}):r&&(t=A[r]),r=e.worker)if("undefined"==typeof Worker)e.worker=!1,this.m=null;else{var s=parseInt(r,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(s);for(var o=0;o<s;o++)this.m[o]=O(this.id,o,e,i.bind(this))}if(this.f=e.tokenize||t.f||this.f||j.f,this.split=E(r=e.split)?this.split||j.split:f(r)?l(r):r,this.D=e.rtl||this.D||j.D,this.async="undefined"==typeof Promise||E(r=e.async)?this.async||j.async:r,this.g=E(r=e.worker)?this.g||j.g:r,this.threshold=E(r=e.threshold)?t.threshold||this.threshold||j.threshold:r,this.b=E(r=e.resolution)?r=t.b||this.b||j.b:r,r<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||E(r=e.depth)?t.depth||this.depth||j.depth:r,this.w=(r=E(r=e.encode)?t.encode||j.encode:r)&&P[r]&&P[r].bind(P)||(k(r)?r:this.w||!1),(r=e.matcher)&&this.addMatcher(r),r=(t=e.lang)||e.filter){if(f(r)&&(r=S[r]),_(r)){s=this.w,o=C();for(var c=0;c<r.length;c++){var d=s?s(r[c]):r[c];o[d]=1}r=o}this.filter=r}if(r=t||e.stemmer){var u;for(u in t=f(r)?I[r]:r,s=this.w,o=[],t)t.hasOwnProperty(u)&&(c=s?s(u):u,o.push(l(c+"($|\\W)"),s?s(t[u]):t[u]));this.stemmer=u=o}if(this.a=o=(r=e.doc)?a(r):this.a||j.a,this.i=w(this.b-(this.threshold||0)),this.h=C(),this.c=C(),o){if(this.l=C(),e.doc=null,u=o.index={},t=o.keys=[],s=o.field,c=o.tag,d=o.store,_(o.id)||(o.id=o.id.split(":")),d){var p=C();if(f(d))p[d]=1;else if(_(d))for(let e=0;e<d.length;e++)p[d[e]]=1;else y(d)&&(p=d);o.store=p}if(c){if(this.G=C(),d=C(),s)if(f(s))d[s]=e;else if(_(s))for(p=0;p<s.length;p++)d[s[p]]=e;else y(s)&&(d=s);for(_(c)||(o.tag=c=[c]),s=0;s<c.length;s++)this.G[c[s]]=C();this.I=c,s=d}if(s){let i;for(_(s)||(y(s)?(i=s,o.field=s=Object.keys(s)):o.field=s=[s]),o=0;o<s.length;o++)_(c=s[o])||(i&&(e=i[c]),t[o]=c,s[o]=c.split(":")),u[c]=new n(e)}e.doc=r}return this.B=!0,this.j=!!(this.cache=r=E(r=e.cache)?this.cache||j.cache:r)&&new F(r),this},n.prototype.encode=function(e){return e&&(x.length&&(e=c(e,x)),this.v.length&&(e=c(e,this.v)),this.w&&(e=this.w(e)),this.stemmer&&(e=c(e,this.stemmer))),e},n.prototype.addMatcher=function(e){const t=this.v;for(const n in e)e.hasOwnProperty(n)&&t.push(l(n),e[n]);return this},n.prototype.add=function(e,t,n,i,a){if(this.a&&y(e))return this.A("add",e,t);if(t&&f(t)&&(e||0===e)){var s="@"+e;if(this.c[s]&&!i)return this.update(e,t);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:e,content:t}),this.c[s]=""+this.C,n&&n(),this;if(!a){if(this.async&&"function"!=typeof importScripts){let a=this;return s=new Promise((function(n){setTimeout((function(){a.add(e,t,null,i,!0),a=null,n()}))})),n?(s.then(n),this):s}if(n)return this.add(e,t,null,i,!0),n(),this}if(!(t=this.encode(t)).length)return this;a=k(n=this.f)?n(t):t.split(this.split),this.filter&&(a=r(a,this.filter));const m=C();m._ctx=C();const h=a.length,g=this.threshold,b=this.depth,v=this.b,f=this.i,_=this.D;for(let t=0;t<h;t++){var o=a[t];if(o){var l=o.length,c=(_?t+1:h-t)/h,u="";switch(n){case"reverse":case"both":for(var p=l;--p;)d(f,m,u=o[p]+u,e,_?1:(l-p)/l,c,g,v-1);u="";case"forward":for(p=0;p<l;p++)d(f,m,u+=o[p],e,_?(p+1)/l:1,c,g,v-1);break;case"full":for(p=0;p<l;p++){const t=(_?p+1:l-p)/l;for(let n=l;n>p;n--)d(f,m,u=o.substring(p,n),e,t,c,g,v-1)}break;default:if(l=d(f,m,o,e,1,c,g,v-1),b&&1<h&&l>=g)for(l=m._ctx[o]||(m._ctx[o]=C()),o=this.h[o]||(this.h[o]=w(v-(g||0))),0>(c=t-b)&&(c=0),(u=t+b+1)>h&&(u=h);c<u;c++)c!==t&&d(o,l,a[c],e,0,v-(c<t?t-c:c-t),g,v-1)}}}this.c[s]=1,this.B=!1}return this},n.prototype.A=function(e,t,n){if(_(t)){var i=t.length;if(i--){for(var a=0;a<i;a++)this.A(e,t[a]);return this.A(e,t[i],n)}}else{var r,s=this.a.index,o=this.a.keys,l=this.a.tag;a=this.a.store;var c=this.a.id;i=t;for(var d=0;d<c.length;d++)i=i[c[d]];if("remove"===e&&(delete this.l[i],c=o.length,c--)){for(t=0;t<c;t++)s[o[t]].remove(i);return s[o[c]].remove(i,n)}if(l){for(r=0;r<l.length;r++){var u=l[r],p=t;for(c=u.split(":"),d=0;d<c.length;d++)p=p[c[d]];p="@"+p}r=(r=this.G[u])[p]||(r[p]=[])}for(let a=0,r=(c=this.a.field).length;a<r;a++){for(u=c[a],l=t,p=0;p<u.length;p++)l=l[u[p]];u=s[o[a]],p="add"===e?u.add:u.update,a===r-1?p.call(u,i,l,n):p.call(u,i,l)}if(a){for(n=Object.keys(a),e=C(),s=0;s<n.length;s++)if(a[o=n[s]]){let n,i;for(o=o.split(":"),c=0;c<o.length;c++)i=(i||t)[l=o[c]],n=(n||e)[l]=i}t=e}r&&(r[r.length]=t),this.l[i]=t}return this},n.prototype.update=function(e,t,n){return this.a&&y(e)?this.A("update",e,t):(this.c["@"+e]&&f(t)&&(this.remove(e),this.add(e,t,n,!0)),this)},n.prototype.remove=function(e,t,n){if(this.a&&y(e))return this.A("remove",e,t);var i="@"+e;if(this.c[i]){if(this.g)return this.m[this.c[i]].postMessage({remove:!0,id:e}),delete this.c[i],t&&t(),this;if(!n){if(this.async&&"function"!=typeof importScripts){let n=this;return i=new Promise((function(t){setTimeout((function(){n.remove(e,null,!0),n=null,t()}))})),t?(i.then(t),this):i}if(t)return this.remove(e,null,!0),t(),this}for(t=0;t<this.b-(this.threshold||0);t++)u(this.i[t],e);this.depth&&u(this.h,e),delete this.c[i],this.B=!1}return this},n.prototype.search=function(e,t,n,i){if(y(t)){if(_(t))for(var a=0;a<t.length;a++)t[a].query=e;else t.query=e;e=t,t=1e3}else t&&k(t)?(n=t,t=1e3):t||0===t||(t=1e3);let o,l,c,d=[],u=e;if(y(e)&&!_(e)){n||(n=e.callback)&&(u.callback=null),l=e.sort,o=e.page,t=e.limit;var p=e.threshold;c=e.suggest,e=e.query}if(this.a){p=this.a.index;const r=u.where;var h=u.bool||"or",g=u.field;let m,v,k=h;if(g)_(g)||(g=[g]);else if(_(u)){var b=u;g=[],k=[];for(var E=0;E<u.length;E++)a=(i=u[E]).bool||h,g[E]=i.field,k[E]=a,"not"===a?m=!0:"and"===a&&(v=!0)}else g=this.a.keys;for(h=g.length,E=0;E<h;E++)b&&(u=b[E]),o&&!f(u)&&(u.page=null,u.limit=0),d[E]=p[g[E]].search(u,0);if(n)return n(s.call(this,e,k,d,l,t,c,r,o,v,m));if(this.async){const n=this;return new Promise((function(i){Promise.all(d).then((function(a){i(s.call(n,e,k,a,l,t,c,r,o,v,m))}))}))}return s.call(this,e,k,d,l,t,c,r,o,v,m)}if(p||(p=this.threshold||0),!this.g){if(!i){if(this.async&&"function"!=typeof importScripts){let e=this;return p=new Promise((function(n){setTimeout((function(){n(e.search(u,t,null,!0)),e=null}))})),n?(p.then(n),this):p}if(n)return n(this.search(u,t,null,!0)),this}if(!e||!f(e))return d;if(u=e,this.cache)if(this.B){if(n=this.j.get(e))return n}else this.j.clear(),this.B=!0;if(u=this.encode(u),!u.length)return d;n=k(n=this.f)?n(u):u.split(this.split),this.filter&&(n=r(n,this.filter)),b=n.length,i=!0,a=[];var w=C(),T=0;if(1<b&&(this.depth&&"strict"===this.f?h=!0:n.sort(m)),!h||(E=this.h)){const e=this.b;for(;T<b;T++){let t=n[T];if(t){if(h){if(!g)if(E[t])g=t,w[t]=1;else if(!c)return d;if(c&&T===b-1&&!a.length)h=!1,t=g||t,w[t]=0;else if(!g)continue}if(!w[t]){const n=[];let r=!1,s=0;const o=h?E[g]:this.i;if(o){let i;for(let a=0;a<e-p;a++)(i=o[a]&&o[a][t])&&(n[s++]=i,r=!0)}if(r)g=t,a[a.length]=1<s?n.concat.apply([],n):n[0];else if(!c){i=!1;break}w[t]=1}}}}else i=!1;return i&&(d=v(a,t,o,c)),this.cache&&this.j.set(e,d),d}for(this.F=n,this.u=0,this.o=[],p=0;p<this.g;p++)this.m[p].postMessage({search:!0,limit:t,content:u})},n.prototype.find=function(e,t){return this.where(e,t,1)[0]||null},n.prototype.where=function(e,t,n,i){const a=this.l,r=[];let s,o=0;var l;let c;if(y(e)){n||(n=t);var d=Object.keys(e),u=d.length;if(s=!1,1===u&&"id"===d[0])return[a[e.id]];if((l=this.I)&&!i)for(var p=0;p<l.length;p++){var m=l[p],h=e[m];if(!E(h)){if(c=this.G[m]["@"+h],0==--u)return c;d.splice(d.indexOf(m),1),delete e[m];break}}for(l=Array(u),p=0;p<u;p++)l[p]=d[p].split(":")}else{if(k(e)){for(n=(t=i||Object.keys(a)).length,d=0;d<n;d++)e(u=a[t[d]])&&(r[o++]=u);return r}if(E(t))return[a[e]];if("id"===e)return[a[t]];d=[e],u=1,l=[e.split(":")],s=!0}for(p=(i=c||i||Object.keys(a)).length,m=0;m<p;m++){h=c?i[m]:a[i[m]];let p=!0;for(let n=0;n<u;n++){s||(t=e[d[n]]);const i=l[n],a=i.length;let r=h;if(1<a)for(let e=0;e<a;e++)r=r[i[e]];else r=r[i[0]];if(r!==t){p=!1;break}}if(p&&(r[o++]=h,n&&o===n))break}return r},n.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:x.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(let e=0;e<this.g;e++)this.m[e].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){const e=this.a.keys;for(let t=0;t<e.length;t++)this.a.index[e[t]].destroy();this.a=this.l=null}return this},n.prototype.export=function(e){const t=!e||E(e.serialize)||e.serialize;if(this.a){const t=!e||E(e.doc)||e.doc;var n=!e||E(e.index)||e.index;e=[];let i=0;if(n)for(n=this.a.keys;i<n.length;i++){const t=this.a.index[n[i]];e[i]=[t.i,t.h,Object.keys(t.c)]}t&&(e[i]=this.l)}else e=[this.i,this.h,Object.keys(this.c)];return t&&(e=JSON.stringify(e)),e},n.prototype.import=function(e,t){(!t||E(t.serialize)||t.serialize)&&(e=JSON.parse(e));const n=C();if(this.a){var i=!t||E(t.doc)||t.doc,a=0;if(!t||E(t.index)||t.index){const i=(t=this.a.keys).length;for(var r=e[0][2];a<r.length;a++)n[r[a]]=1;for(a=0;a<i;a++){r=this.a.index[t[a]];const i=e[a];i&&(r.i=i[0],r.h=i[1],r.c=n)}}i&&(this.l=y(i)?i:e[a])}else{for(i=e[2],a=0;a<i.length;a++)n[i[a]]=1;this.i=e[0],this.h=e[1],this.c=n}};const B=function(){const e=l("\\s+"),t=l("[^a-z0-9 ]"),n=[l("[-/]")," ",t,"",e," "];return function(e){return p(c(e.toLowerCase(),n))}}(),P={icase:function(e){return e.toLowerCase()},simple:function(){const e=l("\\s+"),t=l("[^a-z0-9 ]"),n=l("[-/]"),i=[l("[àáâãäå]"),"a",l("[èéêë]"),"e",l("[ìíîï]"),"i",l("[òóôõöő]"),"o",l("[ùúûüű]"),"u",l("[ýŷÿ]"),"y",l("ñ"),"n",l("[çc]"),"k",l("ß"),"s",l(" & ")," and ",n," ",t,"",e," "];return function(e){return" "===(e=c(e.toLowerCase(),i))?"":e}}(),advanced:function(){const e=l("ae"),t=l("ai"),n=l("ay"),i=l("ey"),a=l("oe"),r=l("ue"),s=l("ie"),o=l("sz"),d=l("zs"),u=l("ck"),m=l("cc"),h=[e,"a",t,"ei",n,"ei",i,"ei",a,"o",r,"u",s,"i",o,"s",d,"s",l("sh"),"s",u,"k",m,"k",l("th"),"t",l("dt"),"t",l("ph"),"f",l("pf"),"f",l("ou"),"o",l("uo"),"u"];return function(e,t){return e?(2<(e=this.simple(e)).length&&(e=c(e,h)),t||1<e.length&&(e=p(e)),e):e}}(),extra:function(){const e=[l("p"),"b",l("z"),"s",l("[cgq]"),"k",l("n"),"m",l("d"),"t",l("[vw]"),"f",l("[aeiouy]"),""];return function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(let n=0;n<t.length;n++){const i=t[n];1<i.length&&(t[n]=i[0]+c(i.substring(1),e))}t=p(t=t.join(" "))}return t}}(),balance:B},F=function(){function e(e){this.clear(),this.H=!0!==e&&e}return e.prototype.clear=function(){this.cache=C(),this.count=C(),this.index=C(),this.s=[]},e.prototype.set=function(e,t){if(this.H&&E(this.cache[e])){let n=this.s.length;if(n===this.H){n--;const e=this.s[n];delete this.cache[e],delete this.count[e],delete this.index[e]}this.index[e]=n,this.s[n]=e,this.count[e]=-1,this.cache[e]=t,this.get(e)}else this.cache[e]=t},e.prototype.get=function(e){const t=this.cache[e];if(this.H&&t){var n=++this.count[e];const t=this.index;let a=t[e];if(0<a){const r=this.s;for(var i=a;this.count[r[--a]]<=n&&-1!==a;);if(a++,a!==i){for(n=i;n>a;n--)i=r[n-1],r[n]=i,t[i]=n;r[a]=e,t[e]=a}}}return t},e}();return n}(function(){const e={},t="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(n,i,a,r,s){return a=t?URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"})):n+".min.js",e[n+="-"+i]||(e[n]=[]),e[n][s]=new Worker(a),e[n][s].onmessage=r,e[n][s]}}()),this)},"./node_modules/immer/dist/immer.esm.js":function(e,t,n){"use strict";function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[Y]}function r(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[W]||!!e.constructor[W]||p(e)||m(e))}function s(e,t,n){void 0===n&&(n=!1),0===o(e)?(n?Object.keys:K)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function o(e){var t=e[Y];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:m(e)?3:0}function l(e,t){return 2===o(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===o(e)?e.get(t):e[t]}function d(e,t,n){var i=o(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return V&&e instanceof Map}function m(e){return U&&e instanceof Set}function h(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[Y];for(var n=K(t),i=0;i<n.length;i++){var a=n[i],r=t[a];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[a]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),f(e)||a(e)||!r(e)||(o(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&s(e,(function(e,t){return b(t,!0)}),!0)),e}function v(){i(2)}function f(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _(e){var t=$[e];return t||i(18,e),t}function k(){return M}function y(e,t){t&&(_("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){w(e),e.p.forEach(T),e.p=null}function w(e){e===M&&(M=e.l)}function C(e){return M={p:[],l:M,h:e,m:!0,_:0}}function T(e){var t=e[Y];0===t.i||1===t.i?t.j():t.g=!0}function O(e,t){t._=t.p.length;var n=t.p[0],a=void 0!==e&&e!==n;return t.h.O||_("ES5").S(t,e,a),a?(n[Y].P&&(E(t),i(4)),r(e)&&(e=j(t,e),t.l||x(t,e)),t.u&&_("Patches").M(n[Y],e,t.u,t.s)):e=j(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function j(e,t,n){if(f(t))return t;var i=t[Y];if(!i)return s(t,(function(a,r){return A(e,i,t,a,r,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return x(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var a=4===i.i||5===i.i?i.o=g(i.k):i.o;s(3===i.i?new Set(a):a,(function(t,r){return A(e,i,a,t,r,n)})),x(e,a,!1),n&&e.u&&_("Patches").R(i,n,e.u,e.s)}return i.o}function A(e,t,n,i,s,o){if(a(s)){var c=j(e,s,o&&t&&3!==t.i&&!l(t.D,i)?o.concat(i):void 0);if(d(n,i,c),!a(c))return;e.m=!1}if(r(s)&&!f(s)){if(!e.h.N&&e._<1)return;j(e,s),t&&t.A.l||x(e,s)}}function x(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&b(t,n)}function N(e,t){var n=e[Y];return(n?h(n):e)[t]}function S(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function D(e){e.o||(e.o=g(e.t))}function B(e,t,n){var i=p(t)?_("MapSet").T(t,n):m(t)?_("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:k(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=i,r=q;n&&(a=[i],r=X);var s=Proxy.revocable(a,r),o=s.revoke,l=s.proxy;return i.k=l,i.j=o,l}(t,n):_("ES5").J(t,n);return(n?n.A:k()).p.push(i),i}function P(e){return a(e)||i(22,e),function e(t){if(!r(t))return t;var n,i=t[Y],a=o(t);if(i){if(!i.P&&(i.i<4||!_("ES5").K(i)))return i.t;i.I=!0,n=F(t,a),i.I=!1}else n=F(t,a);return s(n,(function(t,a){i&&c(i.t,t)===a||d(n,t,e(a))})),3===a?new Set(n):n}(e)}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}n.d(t,"b",(function(){return J}));var L,M,R="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,U="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=R?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),W=R?Symbol.for("immer-draftable"):"__$immer_draftable",Y=R?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),G=Object.getOwnPropertyDescriptors||function(e){var t={};return K(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},$={},q={get:function(e,t){if(t===Y)return e;var n=h(e);if(!l(n,t))return function(e,t,n){var i,a=S(t,n);return a?"value"in a?a.value:null===(i=a.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!r(i)?i:i===N(e.t,t)?(D(e),e.o[t]=B(e.A.h,i,e)):i},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var i=S(h(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var a=N(h(e),t),r=null==a?void 0:a[Y];if(r&&r.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(u(n,a)&&(void 0!==n||l(e.t,t)))return!0;D(e),I(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.D[t]=!1,D(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},X={};s(q,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return q.deleteProperty.call(this,e[0],t)},X.set=function(e,t,n){return q.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){this.O=z,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var s=this;return function(e){var n=this;void 0===e&&(e=a);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return s.produce(e,(function(e){var i;return(i=t).call.apply(i,[n,e].concat(r))}))}}var o;if("function"!=typeof t&&i(6),void 0!==n&&"function"!=typeof n&&i(7),r(e)){var l=C(this),c=B(this,e,void 0),d=!0;try{o=t(c),d=!1}finally{d?E(l):w(l)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return y(l,n),O(e,l)}),(function(e){throw E(l),e})):(y(l,n),O(o,l))}if(!e||"object"!=typeof e){if((o=t(e))===H)return;return void 0===o&&(o=e),this.N&&b(o,!0),o}i(21,e)},t.produceWithPatches=function(e,t){var n,i,a=this;return"function"==typeof e?function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(i))}))}:[this.produce(e,t,(function(e,t){n=e,i=t})),n,i]},t.createDraft=function(e){r(e)||i(8),a(e)&&(e=P(e));var t=C(this),n=B(this,e,void 0);return n[Y].C=!0,w(t),n},t.finishDraft=function(e,t){var n=(e&&e[Y]).A;return y(n,t),O(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!z&&i(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}var r=_("Patches").$;return a(e)?r(e,t):this.produce(e,(function(e){return r(e,t.slice(n+1))}))},e}()),J=Q.produce;Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q);t.a=J},"./node_modules/joinn/lib/joinn.js":function(e,t){(function(){e.exports=function(e,t,n){var i,a;switch(null==t&&(t=", "),null==n&&(n=" and "),(i=e.slice(0)).length){case 0:return"";case 1:return i.pop();default:return a=i.pop(),i.join(t)+n+a}}}).call(this)},"./node_modules/performance-now/lib/performance-now.js":function(e,t,n){(function(t){(function(){var n,i,a,r,s,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},i=t.hrtime,r=(n=function(){var e;return 1e9*(e=i())[0]+e[1]})(),o=1e9*t.uptime(),s=r-o):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,n){(function(t){for(var i=n("./node_modules/performance-now/lib/performance-now.js"),a="undefined"==typeof window?t:window,r=["moz","webkit"],s="AnimationFrame",o=a["request"+s],l=a["cancel"+s]||a["cancelRequest"+s],c=0;!o&&c<r.length;c++)o=a[r[c]+"Request"+s],l=a[r[c]+"Cancel"+s]||a[r[c]+"CancelRequest"+s];if(!o||!l){var d=0,u=0,p=[];o=function(e){if(0===p.length){var t=i(),n=Math.max(0,16.666666666666668-(t-d));d=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return o.call(a,e)},e.exports.cancel=function(){l.apply(a,arguments)},e.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=o,e.cancelAnimationFrame=l}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-animate-height/lib/AnimateHeight.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=c(n("./node_modules/react/index.js")),o=c(n("./node_modules/prop-types/index.js")),l=c(n("./node_modules/react-animate-height/node_modules/classnames/index.js"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},p=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function m(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;for(var a={},r=Object.keys(e),s=0;s<r.length;s++){var o=r[s];-1===n.indexOf(o)&&(a[o]=e[o])}return a}function h(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function g(e){return!isNaN(parseFloat(e))&&isFinite(e)}function b(e){return"string"==typeof e&&e.search("%")===e.length-1&&g(e.substr(0,e.length-1))}function v(e,t){e&&"function"==typeof e&&e(t)}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.animationFrameIDs=[];var i="auto",r="visible";g(e.height)?(i=e.height<0||"0"===e.height?0:e.height,r="hidden"):b(e.height)&&(i="0%"===e.height?0:e.height,r="hidden"),n.animationStateClasses=a({},u,e.animationStateClasses);var s=n.getStaticStateClasses(i);return n.state={animationStateClasses:s,height:i,overflow:r,shouldUseTransitions:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n,i,a=this,r=this.props,s=r.delay,o=r.duration,c=r.height,u=r.onAnimationEnd,p=r.onAnimationStart;if(this.contentElement&&c!==e.height){var m;this.showContent(t.height),this.contentElement.style.overflow="hidden";var f=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var _=o+s,k=null,y={height:null,overflow:"hidden"},E="auto"===t.height;g(c)?(k=c<0||"0"===c?0:c,y.height=k):b(c)?(k="0%"===c?0:c,y.height=k):(k=f,y.height="auto",y.overflow=null),E&&(y.height=k,k=f);var w=(0,l.default)((d(m={},this.animationStateClasses.animating,!0),d(m,this.animationStateClasses.animatingUp,"auto"===e.height||c<e.height),d(m,this.animationStateClasses.animatingDown,"auto"===c||c>e.height),d(m,this.animationStateClasses.animatingToHeightZero,0===y.height),d(m,this.animationStateClasses.animatingToHeightAuto,"auto"===y.height),d(m,this.animationStateClasses.animatingToHeightSpecific,y.height>0),m)),C=this.getStaticStateClasses(y.height);this.setState({animationStateClasses:w,height:k,overflow:"hidden",shouldUseTransitions:!E}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),E?(y.shouldUseTransitions=!0,h(this.animationFrameIDs),this.animationFrameIDs=(n=function(){a.setState(y),v(p,{newHeight:y.height})},(i=[])[0]=requestAnimationFrame((function(){i[1]=requestAnimationFrame((function(){n()}))})),i),this.animationClassesTimeoutID=setTimeout((function(){a.setState({animationStateClasses:C,shouldUseTransitions:!1}),a.hideContent(y.height),v(u,{newHeight:y.height})}),_)):(v(p,{newHeight:k}),this.timeoutID=setTimeout((function(){y.animationStateClasses=C,y.shouldUseTransitions=!1,a.setState(y),"auto"!==c&&a.hideContent(k),v(u,{newHeight:k})}),_))}}},{key:"componentWillUnmount",value:function(){h(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((d(t={},this.animationStateClasses.static,!0),d(t,this.animationStateClasses.staticHeightZero,0===e),d(t,this.animationStateClasses.staticHeightSpecific,e>0),d(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.animateOpacity,r=n.applyInlineTransitions,o=n.children,c=n.className,u=n.contentClassName,h=n.delay,g=n.duration,b=n.easing,v=n.id,f=n.style,_=this.state,k=_.height,y=_.overflow,E=_.animationStateClasses,w=_.shouldUseTransitions,C=a({},f,{height:k,overflow:y||f.overflow});w&&r&&(C.transition="height "+g+"ms "+b+" "+h+"ms",f.transition&&(C.transition=f.transition+", "+C.transition),C.WebkitTransition=C.transition);var T={};i&&(T.transition="opacity "+g+"ms "+b+" "+h+"ms",T.WebkitTransition=T.transition,0===k&&(T.opacity=0));var O=(0,l.default)((d(e={},E,!0),d(e,c,c),e)),j=void 0!==this.props["aria-hidden"]?this.props["aria-hidden"]:0===k;return s.default.createElement("div",a({},m.apply(void 0,[this.props].concat(p)),{"aria-hidden":j,className:O,id:v,style:C}),s.default.createElement("div",{className:u,style:T,ref:function(e){return t.contentElement=e}},o))}}]),t}(s.default.Component);f.propTypes={"aria-hidden":o.default.bool,animateOpacity:o.default.bool,animationStateClasses:o.default.object,applyInlineTransitions:o.default.bool,children:o.default.any.isRequired,className:o.default.string,contentClassName:o.default.string,delay:o.default.number,duration:o.default.number,easing:o.default.string,height:function(e,t,n){var a=e[t];return"number"==typeof a&&a>=0||b(a)||"auto"===a?null:new TypeError('value "'+a+'" of type "'+(void 0===a?"undefined":i(a))+'" is invalid type for '+t+" in "+n+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:o.default.string,onAnimationEnd:o.default.func,onAnimationStart:o.default.func,style:o.default.object},f.defaultProps={animateOpacity:!1,animationStateClasses:u,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=f},"./node_modules/react-animate-height/node_modules/classnames/index.js":function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var s=a.apply(null,i);s&&e.push(s)}else if("object"===r)for(var o in i)n.call(i,o)&&i[o]&&e.push(o)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()},"./node_modules/react-dnd/dist/esm/core/DndContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/react/index.js"),a=Object(i.createContext)({dragDropManager:void 0})},"./node_modules/react-dnd/dist/esm/core/DndProvider.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var i=n("./node_modules/react/jsx-runtime.js"),a=n("./node_modules/react/index.js"),r=n("./node_modules/dnd-core/dist/esm/createDragDropManager.js"),s=n("./node_modules/react-dnd/dist/esm/core/DndContext.js");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=0,u=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),p=Object(a.memo)((function(e){var t=e.children,n=o(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=t;a[u]||(a[u]={dragDropManager:Object(r.a)(e,t,n,i)});return a[u]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(c(e,["children"])),2),l=n[0],p=n[1];return Object(a.useEffect)((function(){if(p){var e=m();return++d,function(){0==--d&&(e[u]=null)}}}),[]),Object(i.jsx)(s.a.Provider,Object.assign({value:l},{children:t}),void 0)}));function m(){return void 0!==e?e:window}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./node_modules/react/index.js"),s=l(r),o=l(n("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},d=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=i({},this.props.style);t.display||(t.display="inline-block");var n=i({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(this.props,[]);return function(e){d.forEach((function(t){return delete e[t]}))}(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=n,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",i({},a,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(r.Component);h.propTypes={className:o.default.string,defaultValue:o.default.any,extraWidth:o.default.oneOfType([o.default.number,o.default.string]),id:o.default.string,injectStyles:o.default.bool,inputClassName:o.default.string,inputRef:o.default.func,inputStyle:o.default.object,minWidth:o.default.oneOfType([o.default.number,o.default.string]),onAutosize:o.default.func,onChange:o.default.func,placeholder:o.default.string,placeholderIsMinWidth:o.default.bool,style:o.default.object,value:o.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},"./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function r(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==o){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",(function(){return s})),i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},"./node_modules/react-select/dist/react-select.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Re}));var i=n("./node_modules/react/index.js"),a=n.n(i);function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var s=function(e,t){var n;void 0===t&&(t=r);var i,a=[],s=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return s&&n===this&&t(r,a)||(i=e.apply(this,r),s=!0,n=this,a=r),i}},o=n("./node_modules/emotion/dist/index.esm.js"),l=n("./node_modules/react-dom/index.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./node_modules/raf/index.js"),p=n.n(u),m=n("./node_modules/react-input-autosize/lib/AutosizeInput.js"),h=n.n(m),g=n("./node_modules/react-select/node_modules/react-transition-group/index.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){k(e,t,n[t])}))}return e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(){};function S(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function I(e,t,n,i){var a=[t,i];if(n&&e)for(var r in n)n.hasOwnProperty(r)&&n[r]&&a.push("".concat(S(e,r)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var D=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===b(e)&&null!==e?[e]:[]};function B(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function P(e){return B(e)?window.pageYOffset:e.scrollTop}function F(e,t){B(e)?window.scrollTo(0,t):e.scrollTop=t}function L(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N,a=P(e),r=t-a,s=10,o=0;function l(){var t=L(o+=s,a,r,n);F(e,t),o<n?p()(l):i(e)}l()}function R(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function V(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,a=e.placement,r=e.shouldScroll,s=e.isFixedPosition,o=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/,a=document.documentElement;if("fixed"===t.position)return a;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return a}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,m=u.height,h=u.top,g=n.offsetParent.getBoundingClientRect().top,b=window.innerHeight,v=P(l),f=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),k=g-_,y=b-h,E=k+v,w=d-v-h,C=p-b+v+f,T=v+h-_,O=160;switch(a){case"auto":case"bottom":if(y>=m)return{placement:"bottom",maxHeight:t};if(w>=m&&!s)return r&&M(l,C,O),{placement:"bottom",maxHeight:t};if(!s&&w>=i||s&&y>=i)return r&&M(l,C,O),{placement:"bottom",maxHeight:s?y-f:w-f};if("auto"===a||s){var j=t,A=s?k:E;return A>=i&&(j=Math.min(A-f-o.controlHeight,t)),{placement:"top",maxHeight:j}}if("bottom"===a)return F(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(k>=m)return{placement:"top",maxHeight:t};if(E>=m&&!s)return r&&M(l,T,O),{placement:"top",maxHeight:t};if(!s&&E>=i||s&&k>=i){var x=t;return(!s&&E>=i||s&&k>=i)&&(x=s?k-_:E-_),r&&M(l,T,O),{placement:"top",maxHeight:x}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}var U=function(e){return"auto"===e?"bottom":e},z=function(e){function t(){var e,n;v(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(n=A(this,(e=C(t)).call.apply(e,[this].concat(a))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),k(j(j(n)),"getPlacement",(function(e){var t=n.props,i=t.minMenuHeight,a=t.maxMenuHeight,r=t.menuPlacement,s=t.menuPosition,o=t.menuShouldScrollIntoView,l=t.theme,c=n.context.getPortalPlacement;if(e){var d="fixed"===s,u=V({maxHeight:a,menuEl:e,minHeight:i,placement:r,shouldScroll:o&&!d,isFixedPosition:d,theme:l});c&&c(u),n.setState(u)}})),k(j(j(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||U(e);return E({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return w(t,e),_(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(i.Component);k(z,"contextTypes",{getPortalPlacement:d.a.func});var H=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},W=H,Y=H,K=function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerProps;return a.a.createElement("div",y({className:i(Object(o.a)(r("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},s),t)};K.defaultProps={children:"No options"};var G=function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerProps;return a.a.createElement("div",y({className:i(Object(o.a)(r("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},s),t)};G.defaultProps={children:"Loading..."};var $=function(e){function t(){var e,n;v(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(n=A(this,(e=C(t)).call.apply(e,[this].concat(a))))),"state",{placement:null}),k(j(j(n)),"getPortalPlacement",(function(e){var t=e.placement;t!==U(n.props.menuPlacement)&&n.setState({placement:t})})),n}return w(t,e),_(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,i=e.controlElement,r=e.menuPlacement,s=e.menuPosition,c=e.getStyles,d="fixed"===s;if(!t&&!d||!i)return null;var u=this.state.placement||U(r),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),m=d?0:window.pageYOffset,h={offset:p[u]+m,position:s,rect:p},g=a.a.createElement("div",{className:Object(o.a)(c("menuPortal",h))},n);return t?Object(l.createPortal)(g,t):g}}]),t}(i.Component);k($,"childContextTypes",{getPortalPlacement:d.a.func});var q=Array.isArray,X=Object.keys,Q=Object.prototype.hasOwnProperty;function J(e,t){if(e===t)return!0;if(e&&t&&"object"==b(e)&&"object"==b(t)){var n,i,a,r=q(e),s=q(t);if(r&&s){if((i=e.length)!=t.length)return!1;for(n=i;0!=n--;)if(!J(e[n],t[n]))return!1;return!0}if(r!=s)return!1;var o=e instanceof Date,l=t instanceof Date;if(o!=l)return!1;if(o&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,d=t instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==t.toString();var u=X(e);if((i=u.length)!==X(t).length)return!1;for(n=i;0!=n--;)if(!Q.call(t,u[n]))return!1;for(n=i;0!=n--;)if(!("_owner"===(a=u[n])&&e.$$typeof||J(e[a],t[a])))return!1;return!0}return e!=e&&t!=t}function Z(e,t){try{return J(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var ee=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],te=function(e){for(var t=0;t<ee.length;t++)e=e.replace(ee[t].letters,ee[t].base);return e},ne=function(e){return e.replace(/^\s+|\s+$/g,"")},ie=function(e){return"".concat(e.label," ").concat(e.value)},ae=function(e){return a.a.createElement("span",y({className:Object(o.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},re=function(e){function t(){return v(this,t),A(this,C(t).apply(this,arguments))}return w(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,O(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return a.a.createElement("input",y({ref:t},n,{className:Object(o.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(i.Component),se=function(e){function t(){return v(this,t),A(this,C(t).apply(this,arguments))}return w(t,e),_(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(l.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component),oe=["boxSizing","height","overflow","paddingRight","position"],le={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ce(e){e.preventDefault()}function de(e){e.stopPropagation()}function ue(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function pe(){return"ontouchstart"in window||navigator.maxTouchPoints}var me=!("undefined"==typeof window||!window.document||!window.document.createElement),he=0,ge=function(e){function t(){var e,n;v(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(n=A(this,(e=C(t)).call.apply(e,[this].concat(a))))),"originalStyles",{}),k(j(j(n)),"listenerOptions",{capture:!1,passive:!1}),n}return w(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;if(me){var t=this.props,n=t.accountForScrollbars,i=t.touchScrollTarget,a=document.body,r=a&&a.style;if(n&&oe.forEach((function(t){var n=r&&r[t];e.originalStyles[t]=n})),n&&he<1){var s=parseInt(this.originalStyles.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,l=window.innerWidth-o+s||0;Object.keys(le).forEach((function(e){var t=le[e];r&&(r[e]=t)})),r&&(r.paddingRight="".concat(l,"px"))}a&&pe()&&(a.addEventListener("touchmove",ce,this.listenerOptions),i&&(i.addEventListener("touchstart",ue,this.listenerOptions),i.addEventListener("touchmove",de,this.listenerOptions))),he+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(me){var t=this.props,n=t.accountForScrollbars,i=t.touchScrollTarget,a=document.body,r=a&&a.style;he=Math.max(he-1,0),n&&he<1&&oe.forEach((function(t){var n=e.originalStyles[t];r&&(r[t]=n)})),a&&pe()&&(a.removeEventListener("touchmove",ce,this.listenerOptions),i&&(i.removeEventListener("touchstart",ue,this.listenerOptions),i.removeEventListener("touchmove",de,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(i.Component);k(ge,"defaultProps",{accountForScrollbars:!0});var be=function(e){function t(){var e,n;v(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(n=A(this,(e=C(t)).call.apply(e,[this].concat(a))))),"state",{touchScrollTarget:null}),k(j(j(n)),"getScrollTarget",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),k(j(j(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return w(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,i=this.state.touchScrollTarget;return n?a.a.createElement("div",null,a.a.createElement("div",{onClick:this.blurSelectInput,className:Object(o.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),a.a.createElement(se,{innerRef:this.getScrollTarget},t),i?a.a.createElement(ge,{touchScrollTarget:i}):null):t}}]),t}(i.PureComponent),ve=function(e){function t(){var e,n;v(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(n=A(this,(e=C(t)).call.apply(e,[this].concat(a))))),"isBottom",!1),k(j(j(n)),"isTop",!1),k(j(j(n)),"scrollTarget",void 0),k(j(j(n)),"touchStart",void 0),k(j(j(n)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),k(j(j(n)),"handleEventDelta",(function(e,t){var i=n.props,a=i.onBottomArrive,r=i.onBottomLeave,s=i.onTopArrive,o=i.onTopLeave,l=n.scrollTarget,c=l.scrollTop,d=l.scrollHeight,u=l.clientHeight,p=n.scrollTarget,m=t>0,h=d-u-c,g=!1;h>t&&n.isBottom&&(r&&r(e),n.isBottom=!1),m&&n.isTop&&(o&&o(e),n.isTop=!1),m&&t>h?(a&&!n.isBottom&&a(e),p.scrollTop=d,g=!0,n.isBottom=!0):!m&&-t>c&&(s&&!n.isTop&&s(e),p.scrollTop=0,g=!0,n.isTop=!0),g&&n.cancelScroll(e)})),k(j(j(n)),"onWheel",(function(e){n.handleEventDelta(e,e.deltaY)})),k(j(j(n)),"onTouchStart",(function(e){n.touchStart=e.changedTouches[0].clientY})),k(j(j(n)),"onTouchMove",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),k(j(j(n)),"getScrollTarget",(function(e){n.scrollTarget=e})),n}return w(t,e),_(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return a.a.createElement(se,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(i.Component),fe=function(e){function t(){return v(this,t),A(this,C(t).apply(this,arguments))}return w(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=O(e,["isEnabled"]);return t?a.a.createElement(ve,n):this.props.children}}]),t}(i.Component);k(fe,"defaultProps",{isEnabled:!0});var _e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,i=t.isMulti,a=t.label,r=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(a||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ke=function(e,t){var n=t.value,i=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,i?" is disabled. Select another option.":", selected.")}},ye=function(e){return!!e.isDisabled},Ee=function(e){function t(){return v(this,t),A(this,C(t).apply(this,arguments))}return w(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.cx,r=e.isMulti,s=e.getStyles,l=e.hasValue;return a.a.createElement("div",{className:i(Object(o.a)(s("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":l},n)},t)}}]),t}(i.Component),we=function(e){var t=e.size,n=O(e,["size"]);return a.a.createElement("svg",y({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(o.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},Ce=function(e){return a.a.createElement(we,y({size:20},e),a.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Te=function(e){return a.a.createElement(we,y({size:20},e),a.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Oe=function(e){var t=e.isFocused,n=e.theme,i=n.spacing.baseUnit,a=n.colors;return{label:"indicatorContainer",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*i,transition:"color 150ms",":hover":{color:t?a.neutral80:a.neutral40}}},je=Oe,Ae=Oe,xe="react-select-loading-indicator",Ne=!1,Se=function(e){var t=e.color,n=e.delay,i=e.offset;return a.a.createElement("span",{className:Object(o.a)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:xe,animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Ie=function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.innerProps,s=e.isFocused,l=e.isRtl,c=e.theme.colors,d=s?c.neutral80:c.neutral20;return Ne||(Object(o.b)("@keyframes ",xe,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Ne=!0),a.a.createElement("div",y({},r,{className:n(Object(o.a)(i("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),a.a.createElement(Se,{color:d,delay:0,offset:l}),a.a.createElement(Se,{color:d,delay:160,offset:!0}),a.a.createElement(Se,{color:d,delay:320,offset:!l}))};Ie.defaultProps={size:4};var De=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},Be=function(e){var t=e.children,n=e.innerProps;return a.a.createElement("div",n,t)},Pe=Be,Fe=Be,Le=function(e){function t(){return v(this,t),A(this,C(t).apply(this,arguments))}return w(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return a.a.createElement("div",n,t||a.a.createElement(Ce,{size:14}))}}]),t}(i.Component),Me=function(e){function t(){return v(this,t),A(this,C(t).apply(this,arguments))}return w(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.components,r=e.cx,s=e.data,l=e.getStyles,c=e.innerProps,d=e.isDisabled,u=e.removeProps,p=e.selectProps,m=i.Container,h=i.Label,g=i.Remove,b=E({className:r(Object(o.a)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":d},n)},c),v={className:r(Object(o.a)(l("multiValueLabel",this.props)),{"multi-value__label":!0},n)},f=E({className:r(Object(o.a)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},u);return a.a.createElement(m,{data:s,innerProps:b,selectProps:p},a.a.createElement(h,{data:s,innerProps:v,selectProps:p},t),a.a.createElement(g,{data:s,innerProps:f,selectProps:p}))}}]),t}(i.Component);k(Me,"defaultProps",{cropWithEllipsis:!0});var Re={ClearIndicator:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerProps;return a.a.createElement("div",y({},s,{className:i(Object(o.a)(r("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},n)}),t||a.a.createElement(Ce,null))},Control:function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.className,s=e.isDisabled,l=e.isFocused,c=e.innerRef,d=e.innerProps,u=e.menuIsOpen;return a.a.createElement("div",y({ref:c,className:n(Object(o.a)(i("control",e)),{control:!0,"control--is-disabled":s,"control--is-focused":l,"control--menu-is-open":u},r)},d),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerProps;return a.a.createElement("div",y({},s,{className:i(Object(o.a)(r("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},n)}),t||a.a.createElement(Te,null))},DownChevron:Te,CrossIcon:Ce,Group:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.Heading,l=e.headingProps,c=e.label,d=e.theme,u=e.selectProps;return a.a.createElement("div",{className:i(Object(o.a)(r("group",e)),{group:!0},n)},a.a.createElement(s,y({},l,{selectProps:u,theme:d,getStyles:r,cx:i}),c),a.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.theme,s=(e.selectProps,O(e,["className","cx","getStyles","theme","selectProps"]));return a.a.createElement("div",y({className:n(Object(o.a)(i("groupHeading",E({theme:r},s))),{"group-heading":!0},t)},s))},IndicatorsContainer:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles;return a.a.createElement("div",{className:i(Object(o.a)(r("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.innerProps;return a.a.createElement("span",y({},r,{className:n(Object(o.a)(i("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=e.innerRef,s=e.isHidden,l=e.isDisabled,c=e.theme,d=(e.selectProps,O(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return a.a.createElement("div",{className:Object(o.a)(i("input",E({theme:c},d)))},a.a.createElement(h.a,y({className:n(null,{input:!0},t),inputRef:r,inputStyle:De(s),disabled:l},d)))},LoadingIndicator:Ie,Menu:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerRef,l=e.innerProps,c=i(Object(o.a)(r("menu",e)),{menu:!0},n);return a.a.createElement("div",y({className:c},l,{ref:s}),t)},MenuList:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.isMulti,l=e.innerRef;return a.a.createElement("div",{className:i(Object(o.a)(r("menuList",e)),{"menu-list":!0,"menu-list--is-multi":s},n),ref:l},t)},MenuPortal:$,LoadingMessage:G,NoOptionsMessage:K,MultiValue:Me,MultiValueContainer:Pe,MultiValueLabel:Fe,MultiValueRemove:Le,Option:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.isDisabled,l=e.isFocused,c=e.isSelected,d=e.innerRef,u=e.innerProps;return a.a.createElement("div",y({ref:d,className:i(Object(o.a)(r("option",e)),{option:!0,"option--is-disabled":s,"option--is-focused":l,"option--is-selected":c},n)},u),t)},Placeholder:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerProps;return a.a.createElement("div",y({className:i(Object(o.a)(r("placeholder",e)),{placeholder:!0},n)},s),t)},SelectContainer:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.isRtl;return a.a.createElement("div",y({className:i(Object(o.a)(r("container",e)),{"--is-disabled":l,"--is-rtl":c},n)},s),t)},SingleValue:function(e){var t=e.children,n=e.className,i=e.cx,r=e.getStyles,s=e.isDisabled,l=e.innerProps;return a.a.createElement("div",y({className:i(Object(o.a)(r("singleValue",e)),{"single-value":!0,"single-value--is-disabled":s},n)},l),t)},ValueContainer:Ee},Ve=function(e){return E({},Re,e.components)},Ue={clearIndicator:Ae,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,i=e.theme,a=i.colors,r=i.borderRadius,s=i.spacing;return{label:"control",alignItems:"center",backgroundColor:t?a.neutral5:a.neutral0,borderColor:t?a.neutral10:n?a.primary:a.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(a.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?a.primary:a.neutral30}}},dropdownIndicator:je,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,i=n.spacing.baseUnit,a=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?a.neutral10:a.neutral20,marginBottom:2*i,marginTop:2*i,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,i=n.spacing,a=n.colors;return{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,i=e.theme,a=i.colors,r=i.spacing.baseUnit;return{label:"loadingIndicator",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*r,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Y,menu:function(e){var t,n=e.placement,i=e.theme,a=i.borderRadius,r=i.spacing,s=i.colors;return k(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),k(t,"backgroundColor",s.neutral0),k(t,"borderRadius",a),k(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),k(t,"marginBottom",r.menuGutter),k(t,"marginTop",r.menuGutter),k(t,"position","absolute"),k(t,"width","100%"),k(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,i=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:i/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,i=t.colors,a=e.cropWithEllipsis;return{borderRadius:n/2,color:i.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,i=t.borderRadius,a=t.colors;return{alignItems:"center",borderRadius:i/2,backgroundColor:e.isFocused&&a.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}},noOptionsMessage:W,option:function(e){var t=e.isDisabled,n=e.isFocused,i=e.isSelected,a=e.theme,r=a.spacing,s=a.colors;return{label:"option",backgroundColor:i?s.primary:n?s.primary25:"transparent",color:t?s.neutral20:i?s.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(i?s.primary:s.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,i=n.spacing,a=n.colors;return{label:"singleValue",color:t?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,maxWidth:"calc(100% - ".concat(2*i.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var ze,He={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},We={backspaceRemovesValue:!0,blurInputOnSelect:R(),captureMenuScroll:!R(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=E({ignoreCase:!0,ignoreAccents:!0,stringify:ie,trim:!0,matchFrom:"any"},ze),i=n.ignoreCase,a=n.ignoreAccents,r=n.stringify,s=n.trim,o=n.matchFrom,l=s?ne(t):t,c=s?ne(r(e)):r(e);return i&&(l=l.toLowerCase(),c=c.toLowerCase()),a&&(l=te(l),c=te(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ye,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},Ye=1,Ke=function(e){function t(e){var n;v(this,t),k(j(j(n=A(this,C(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),k(j(j(n)),"blockOptionHover",!1),k(j(j(n)),"isComposing",!1),k(j(j(n)),"clearFocusValueOnUpdate",!1),k(j(j(n)),"commonProps",void 0),k(j(j(n)),"components",void 0),k(j(j(n)),"hasGroups",!1),k(j(j(n)),"initialTouchX",0),k(j(j(n)),"initialTouchY",0),k(j(j(n)),"inputIsHiddenAfterUpdate",void 0),k(j(j(n)),"instancePrefix",""),k(j(j(n)),"openAfterFocus",!1),k(j(j(n)),"scrollToFocusedOptionOnUpdate",!1),k(j(j(n)),"userIsDragging",void 0),k(j(j(n)),"controlRef",null),k(j(j(n)),"getControlRef",(function(e){n.controlRef=e})),k(j(j(n)),"focusedOptionRef",null),k(j(j(n)),"getFocusedOptionRef",(function(e){n.focusedOptionRef=e})),k(j(j(n)),"menuListRef",null),k(j(j(n)),"getMenuListRef",(function(e){n.menuListRef=e})),k(j(j(n)),"inputRef",null),k(j(j(n)),"getInputRef",(function(e){n.inputRef=e})),k(j(j(n)),"cacheComponents",(function(e){n.components=Ve({components:e})})),k(j(j(n)),"focus",n.focusInput),k(j(j(n)),"blur",n.blurInput),k(j(j(n)),"onChange",(function(e,t){var i=n.props;(0,i.onChange)(e,E({},t,{name:i.name}))})),k(j(j(n)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",i=arguments.length>2?arguments[2]:void 0,a=n.props,r=a.closeMenuOnSelect,s=a.isMulti;n.onInputChange("",{action:"set-value"}),r&&(n.inputIsHiddenAfterUpdate=!s,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:i})})),k(j(j(n)),"selectOption",(function(e){var t=n.props,i=t.blurInputOnSelect,a=t.isMulti,r=n.state.selectValue;if(a)if(n.isOptionSelected(e,r)){var s=n.getOptionValue(e);n.setValue(r.filter((function(e){return n.getOptionValue(e)!==s})),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,r)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(x(r),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,r)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));i&&n.blurInput()})),k(j(j(n)),"removeValue",(function(e){var t=n.state.selectValue,i=n.getOptionValue(e);n.onChange(t.filter((function(e){return n.getOptionValue(e)!==i})),{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()})),k(j(j(n)),"clearValue",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})})),k(j(j(n)),"popValue",(function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),k(j(j(n)),"getOptionLabel",(function(e){return n.props.getOptionLabel(e)})),k(j(j(n)),"getOptionValue",(function(e){return n.props.getOptionValue(e)})),k(j(j(n)),"getStyles",(function(e,t){var i=Ue[e](t);i.boxSizing="border-box";var a=n.props.styles[e];return a?a(i,t):i})),k(j(j(n)),"getElementId",(function(e){return"".concat(n.instancePrefix,"-").concat(e)})),k(j(j(n)),"getActiveDescendentId",(function(){var e=n.props.menuIsOpen,t=n.state,i=t.menuOptions,a=t.focusedOption;if(a&&e){var r=i.focusable.indexOf(a),s=i.render[r];return s&&s.key}})),k(j(j(n)),"announceAriaLiveSelection",(function(e){var t=e.event,i=e.context;n.setState({ariaLiveSelection:ke(t,i)})})),k(j(j(n)),"announceAriaLiveContext",(function(e){var t=e.event,i=e.context;n.setState({ariaLiveContext:_e(t,E({},i,{label:n.props["aria-label"]}))})})),k(j(j(n)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),k(j(j(n)),"onMenuMouseMove",(function(e){n.blockOptionHover=!1})),k(j(j(n)),"onControlMouseDown",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),k(j(j(n)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,i=t.isMulti,a=t.menuIsOpen;n.focusInput(),a?(n.inputIsHiddenAfterUpdate=!i,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),k(j(j(n)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),k(j(j(n)),"onScroll",(function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&B(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),k(j(j(n)),"onCompositionStart",(function(){n.isComposing=!0})),k(j(j(n)),"onCompositionEnd",(function(){n.isComposing=!1})),k(j(j(n)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),k(j(j(n)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var i=Math.abs(t.clientX-n.initialTouchX),a=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=i>5||a>5}})),k(j(j(n)),"onTouchEnd",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),k(j(j(n)),"onControlTouchEnd",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),k(j(j(n)),"onClearIndicatorTouchEnd",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),k(j(j(n)),"onDropdownIndicatorTouchEnd",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),k(j(j(n)),"handleInputChange",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()})),k(j(j(n)),"onInputFocus",(function(e){var t=n.props,i=t.isSearchable,a=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:i,isMulti:a}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),k(j(j(n)),"onInputBlur",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),k(j(j(n)),"onOptionHover",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),k(j(j(n)),"shouldHideSelectedOptions",(function(){var e=n.props,t=e.hideSelectedOptions,i=e.isMulti;return void 0===t?i:t})),k(j(j(n)),"onKeyDown",(function(e){var t=n.props,i=t.isMulti,a=t.backspaceRemovesValue,r=t.escapeClearsValue,s=t.inputValue,o=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,p=t.openMenuOnFocus,m=n.state,h=m.focusedOption,g=m.focusedValue,b=m.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||s)return;n.focusValue("previous");break;case"ArrowRight":if(!i||s)return;n.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(g)n.removeValue(g);else{if(!a)return;i?n.popValue():o&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!u||!h||p&&n.isOptionSelected(h,b))return;n.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(n.isComposing)return;n.selectOption(h);break}return;case"Escape":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):o&&r&&n.clearValue();break;case" ":if(s)return;if(!c){n.openMenu("first");break}if(!h)return;n.selectOption(h);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}}));var i=e.value;n.cacheComponents=s(n.cacheComponents,Z).bind(j(j(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++Ye);var a=D(i),r=n.buildMenuOptions(e,a);return n.state.menuOptions=r,n.state.selectValue=a,n}return w(t,e),_(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,i=t.value,a=t.inputValue;if(this.cacheComponents(e.components),e.value!==i||e.options!==n||e.inputValue!==a){var r=D(e.value),s=this.buildMenuOptions(e,r),o=this.getNextFocusedValue(r),l=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:r,focusedOption:l,focusedValue:o})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,i,a,r,s=this.props,o=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!o&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),r=n.offsetHeight/3,a.bottom+r>i.bottom?F(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+r,t.scrollHeight)):a.top-r<i.top&&F(t,Math.max(n.offsetTop-r,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,i=t.selectValue,a=t.isFocused,r=this.props.isMulti,s="first"===e?0:n.focusable.length-1;if(!r){var o=n.focusable.indexOf(i[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[s]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,i=t.isSearchable,a=this.state,r=a.selectValue,s=a.focusedValue;if(n){this.setState({focusedOption:null});var o=r.indexOf(s);s||(o=-1,this.announceAriaLiveContext({event:"value"}));var l=r.length-1,c=-1;if(r.length){switch(e){case"previous":c=0===o?0:-1===o?l:o-1;break;case"next":o>-1&&o<l&&(c=o+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:i,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:r[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,i=n.focusedOption,a=n.menuOptions,r=a.focusable;if(r.length){var s=0,o=r.indexOf(i);i||(o=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?s=o>0?o-1:r.length-1:"down"===e?s=(o+1)%r.length:"pageup"===e?(s=o-t)<0&&(s=0):"pagedown"===e?(s=o+t)>r.length-1&&(s=r.length-1):"last"===e&&(s=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[s],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:ye(r[s])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(He):E({},He,this.props.theme):He}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,i=this.selectOption,a=this.props,r=a.classNamePrefix,s=a.isMulti,o=a.isRtl,l=a.options,c=this.state.selectValue,d=this.hasValue();return{cx:I.bind(null,r),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:d,isMulti:s,isRtl:o,options:l,selectOption:i,setValue:n,selectProps:a,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,i=t.selectValue.indexOf(n);if(i>-1){if(e.indexOf(n)>-1)return n;if(i<e.length)return e[i]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var i=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===i}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,i=e.inputValue,a=void 0===i?"":i,r=e.options,s=function(e,i){var r=n.isOptionDisabled(e,t),s=n.isOptionSelected(e,t),o=n.getOptionLabel(e),l=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&s||!n.filterOption({label:o,value:l,data:e},a))){var c=r?void 0:function(){return n.onOptionHover(e)},d=r?void 0:function(){return n.selectOption(e)},u="".concat(n.getElementId("option"),"-").concat(i);return{innerProps:{id:u,onClick:d,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:r,isSelected:s,key:u,label:o,type:"option",value:l}}};return r.reduce((function(e,t,i){if(t.options){n.hasGroups||(n.hasGroups=!0);var a=t.options.map((function(t,n){var a=s(t,"".concat(i,"-").concat(n));return a&&e.focusable.push(t),a})).filter(Boolean);if(a.length){var r="".concat(n.getElementId("group"),"-").concat(i);e.render.push({type:"group",key:r,data:t,options:a})}}else{var o=s(t,"".concat(i));o&&(e.render.push(o),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,i=e.focusedValue,a=e.focusedOption,r=this.props,s=r.options,o=r.menuIsOpen,l=r.inputValue,c=r.screenReaderStatus,d=i?function(e){var t=e.focusedValue,n=e.getOptionLabel,i=e.selectValue;return"value ".concat(n(t)," focused, ").concat(i.indexOf(t)+1," of ").concat(i.length,".")}({focusedValue:i,getOptionLabel:this.getOptionLabel,selectValue:n}):"",u=a&&o?function(e){var t=e.focusedOption,n=e.getOptionLabel,i=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(i.indexOf(t)+1," of ").concat(i.length,".")}({focusedOption:a,getOptionLabel:this.getOptionLabel,options:s}):"",p=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(d," ").concat(u," ").concat(p," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,r=e.inputValue,s=e.tabIndex,o=this.components.Input,l=this.state.inputIsHidden,c=i||this.getElementId("input");if(!n)return a.a.createElement(re,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:N,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:s,value:""});var d={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},u=this.commonProps,p=u.cx,m=u.theme,h=u.selectProps;return a.a.createElement(o,y({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:p,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:h,spellCheck:"false",tabIndex:s,theme:m,type:"text",value:r},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,i=t.MultiValueContainer,r=t.MultiValueLabel,s=t.MultiValueRemove,o=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,m=d.isMulti,h=d.inputValue,g=d.placeholder,b=this.state,v=b.selectValue,f=b.focusedValue,_=b.isFocused;if(!this.hasValue()||!u)return h?null:a.a.createElement(l,y({},c,{key:"placeholder",isDisabled:p,isFocused:_}),g);if(m)return v.map((function(t){var o=t===f;return a.a.createElement(n,y({},c,{components:{Container:i,Label:r,Remove:s},isFocused:o,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var k=v[0];return a.a.createElement(o,y({},c,{data:k,isDisabled:p}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,r=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||r)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(e,y({},t,{innerProps:o,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,r=n.isLoading,s=this.state.isFocused;if(!e||!r)return null;return a.a.createElement(e,y({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,r=this.props.isDisabled,s=this.state.isFocused;return a.a.createElement(n,y({},i,{isDisabled:r,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,r={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(e,y({},t,{innerProps:r,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,i=t.GroupHeading,r=t.Menu,s=t.MenuList,o=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,p=this.state,m=p.focusedOption,h=p.menuOptions,g=this.props,b=g.captureMenuScroll,v=g.inputValue,f=g.isLoading,_=g.loadingMessage,k=g.minMenuHeight,E=g.maxMenuHeight,w=g.menuIsOpen,C=g.menuPlacement,T=g.menuPosition,j=g.menuPortalTarget,A=g.menuShouldBlockScroll,x=g.menuShouldScrollIntoView,N=g.noOptionsMessage,S=g.onMenuScrollToTop,I=g.onMenuScrollToBottom;if(!w)return null;var D,B=function(t){var n=m===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,a.a.createElement(d,y({},u,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())D=h.render.map((function(t){if("group"===t.type){t.type;var r=O(t,["type"]),s="".concat(t.key,"-heading");return a.a.createElement(n,y({},u,r,{Heading:i,headingProps:{id:s},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return B(e)})))}if("option"===t.type)return B(t)}));else if(f){var P=_({inputValue:v});if(null===P)return null;D=a.a.createElement(l,u,P)}else{var F=N({inputValue:v});if(null===F)return null;D=a.a.createElement(c,u,F)}var L={minMenuHeight:k,maxMenuHeight:E,menuPlacement:C,menuPosition:T,menuShouldScrollIntoView:x},M=a.a.createElement(z,y({},u,L),(function(t){var n=t.ref,i=t.placerProps,o=i.placement,l=i.maxHeight;return a.a.createElement(r,y({},u,L,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:f,placement:o}),a.a.createElement(fe,{isEnabled:b,onTopArrive:S,onBottomArrive:I},a.a.createElement(be,{isEnabled:A},a.a.createElement(s,y({},u,{innerRef:e.getMenuListRef,isLoading:f,maxHeight:l}),D))))}));return j||"fixed"===T?a.a.createElement(o,y({},u,{appendTo:j,controlElement:this.controlRef,menuPlacement:C,menuPosition:T}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,i=t.isDisabled,r=t.isMulti,s=t.name,o=this.state.selectValue;if(s&&!i){if(r){if(n){var l=o.map((function(t){return e.getOptionValue(t)})).join(n);return a.a.createElement("input",{name:s,type:"hidden",value:l})}var c=o.length>0?o.map((function(t,n){return a.a.createElement("input",{key:"i-".concat(n),name:s,type:"hidden",value:e.getOptionValue(t)})})):a.a.createElement("input",{name:s,type:"hidden"});return a.a.createElement("div",null,c)}var d=o[0]?this.getOptionValue(o[0]):"";return a.a.createElement("input",{name:s,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?a.a.createElement(ae,{"aria-live":"assertive"},a.a.createElement("p",{id:"aria-selection-event"}," ",this.state.ariaLiveSelection),a.a.createElement("p",{id:"aria-context"}," ",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,r=e.ValueContainer,s=this.props,o=s.className,l=s.id,c=s.isDisabled,d=s.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return a.a.createElement(i,y({},p,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),a.a.createElement(t,y({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),a.a.createElement(r,y({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),a.a.createElement(n,y({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(i.Component);k(Ke,"defaultProps",We);var Ge={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},$e=function(e){var t,n;return n=t=function(t){function n(){var e,t;v(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(t=A(this,(e=C(n)).call.apply(e,[this].concat(a))))),"select",void 0),k(j(j(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),k(j(j(t)),"onChange",(function(e,n){t.callProp("onChange",e,n),t.setState({value:e})})),k(j(j(t)),"onInputChange",(function(e,n){var i=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==i?i:e})})),k(j(j(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),k(j(j(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return w(n,t),_(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.props)[e].apply(t,i)}}},{key:"render",value:function(){var t=this,n=this.props,i=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,O(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return a.a.createElement(e,y({},i,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(i.Component),k(t,"defaultProps",Ge),n},qe={cacheOptions:!1,defaultOptions:!1,filterOption:null},Xe=function(e){var t,n;return n=t=function(t){function n(e){var t;return v(this,n),k(j(j(t=A(this,C(n).call(this)))),"select",void 0),k(j(j(t)),"lastRequest",void 0),k(j(j(t)),"mounted",!1),k(j(j(t)),"optionsCache",{}),k(j(j(t)),"handleInputChange",(function(e,n){var i=t.props,a=i.cacheOptions,r=function(e,t,n){if(n){var i=n(e,t);if("string"==typeof i)return i}return e}(e,n,i.onInputChange);if(!r)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&t.optionsCache[r])t.setState({inputValue:r,loadedInputValue:r,loadedOptions:t.optionsCache[r],isLoading:!1,passEmptyOptions:!1});else{var s=t.lastRequest={};t.setState({inputValue:r,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(r,(function(e){t.mounted&&(e&&(t.optionsCache[r]=e),s===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:r,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return r})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return w(n,t),_(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var i=n(e,t);i&&"function"==typeof i.then&&i.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props,i=(n.loadOptions,O(n,["loadOptions"])),r=this.state,s=r.defaultOptions,o=r.inputValue,l=r.isLoading,c=r.loadedInputValue,d=r.loadedOptions,u=r.passEmptyOptions?[]:o&&c?d:s||[];return a.a.createElement(e,y({},i,{ref:function(e){t.select=e},options:u,isLoading:l,onInputChange:this.handleInputChange}))}}]),n}(i.Component),k(t,"defaultProps",qe),n},Qe=(Xe($e(Ke)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),i=String(t.value).toLowerCase(),a=String(t.label).toLowerCase();return i===n||a===n}),Je=E({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Qe(e,t)}))||n.some((function(t){return Qe(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Ze=function(e){var t,n;return n=t=function(t){function n(e){var t;v(this,n),k(j(j(t=A(this,C(n).call(this,e)))),"select",void 0),k(j(j(t)),"onChange",(function(e,n){var i=t.props,a=i.getNewOptionData,r=i.inputValue,s=i.isMulti,o=i.onChange,l=i.onCreateOption,c=i.value;if("select-option"!==n.action)return o(e,n);var d=t.state.newOption,u=Array.isArray(e)?e:[e];if(u[u.length-1]!==d)o(e,n);else if(l)l(r);else{var p=a(r,r),m={action:"create-option"};o(s?[].concat(x(D(c)),[p]):p,m)}}));var i=e.options||[];return t.state={newOption:void 0,options:i},t}return w(n,t),_(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,i=e.formatCreateLabel,a=e.getNewOptionData,r=e.inputValue,s=e.isLoading,o=e.isValidNewOption,l=e.value,c=e.options||[],d=this.state.newOption;d=o(r,D(l),c)?a(r,i(r)):void 0,this.setState({newOption:d,options:!t&&s||!d?c:"first"===n?[d].concat(x(c)):[].concat(x(c),[d])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=y({},this.props),i=this.state.options;return a.a.createElement(e,y({},n,{ref:function(e){t.select=e},options:i,onChange:this.onChange}))}}]),n}(i.Component),k(t,"defaultProps",Je),n},et=($e(Ze(Ke)),Xe($e(Ze(Ke))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=O(t,["in","onExited","appear","enter","exit"]);return a.a.createElement(e,n)}}),tt=function(e){var t=e.component,n=e.duration,i=void 0===n?1:n,r=e.in,s=(e.onExited,O(e,["component","duration","in","onExited"])),o={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(i,"ms")},exiting:{opacity:0},exited:{opacity:0}};return a.a.createElement(g.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:i},(function(e){var n={style:E({},o[e])};return a.a.createElement(t,y({innerProps:n},s))}))},nt=function(e){function t(){var e,n;v(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return k(j(j(n=A(this,(e=C(t)).call.apply(e,[this].concat(a))))),"duration",260),k(j(j(n)),"rafID",void 0),k(j(j(n)),"state",{width:"auto"}),k(j(j(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),k(j(j(n)),"getWidth",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),k(j(j(n)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),k(j(j(n)),"getTransition",(function(e){return n.transition[e]})),n}return w(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.in,r=this.state.width;return a.a.createElement(g.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:i,timeout:this.duration},(function(t){var i=E({},e.getStyle(r),e.getTransition(t));return a.a.createElement("div",{ref:e.getWidth,style:i},n)}))}}]),t}(i.Component),it=function(e){return function(t){var n=t.in,i=t.onExited,r=O(t,["in","onExited"]);return a.a.createElement(nt,{in:n,onExited:i},a.a.createElement(e,y({cropWithEllipsis:n},r)))}},at=function(e){return function(t){return a.a.createElement(tt,y({component:e,duration:t.isMulti?260:1},t))}},rt=function(e){return function(t){return a.a.createElement(tt,y({component:e},t))}},st=function(e){return function(t){return a.a.createElement(g.TransitionGroup,y({component:e},t))}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ve({components:e}),n=t.Input,i=t.MultiValue,a=t.Placeholder,r=t.SingleValue,s=t.ValueContainer,o=O(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return E({Input:et(n),MultiValue:it(i),Placeholder:at(a),SingleValue:rt(r),ValueContainer:st(s)},o)},lt=ot(),ct=(lt.Input,lt.MultiValue,lt.Placeholder,lt.SingleValue,lt.ValueContainer,s(ot,Z),$e(Ke));t.b=ct},"./node_modules/react-select/node_modules/dom-helpers/class/addClass.js":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=i(n("./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js":function(e,t,n){"use strict";function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}},"./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e}(n("./node_modules/prop-types/index.js"));var i=o(n("./node_modules/react-select/node_modules/dom-helpers/class/addClass.js")),a=o(n("./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js")),r=o(n("./node_modules/react/index.js")),s=o(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e){var t,n;function i(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).onEnter=function(e,n){var i=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,i),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,i),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,r=n?i+" "+a:a;t.removeClasses(e,n?"appear":"enter"),c(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,a=i?(i&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:i?a+"-active":n[e+"Active"],doneClassName:i?a+"-done":n[e+"Done"]}},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),i=n.className,a=n.activeClassName,r=n.doneClassName;i&&d(e,i),a&&d(e,a),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},a.render=function(){var e=l({},this.props);return delete e.classNames,r.default.createElement(s.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},i}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n("./node_modules/prop-types/index.js"));var i=s(n("./node_modules/react/index.js")),a=n("./node_modules/react-dom/index.js"),r=s(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,n;function s(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=s.prototype;return o.handleLifecycle=function(e,t,n){var r,s=this.props.children,o=i.default.Children.toArray(s)[t];o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},o.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),s=i.default.Children.toArray(t),o=s[0],l=s[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,i.default.createElement(r.default,a,n?i.default.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},s}(i.default.Component);o.propTypes={};var l=o;t.default=l,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/Transition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n("./node_modules/prop-types/index.js")),a=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/react-dom/index.js")),s=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function o(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var m=function(e){var t,n;function i(t,n){var i;i=e.call(this,t,n)||this;var a,r=n.transitionGroup,s=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?s?(a=c,i.appearStatus=d):a=u:a=t.unmountOnExit||t.mountOnEnter?l:c,i.state={status:a},i.nextCallback=null,i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=p)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=r.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},s.performEnter=function(e,t){var n=this,i=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,r=this.getTimeouts(),s=a?r.appear:r.enter;t||i?(this.props.onEnter(e,a),this.safeSetState({status:d},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,s,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},s.performExit=function(e){var t=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,i.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var i=null==t&&!this.props.addEndListener;e&&!i?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(e,i);var r=a.default.Children.only(n);return a.default.cloneElement(r,i)},i}(a.default.Component);function h(){}m.contextTypes={transitionGroup:i.object},m.childContextTypes={transitionGroup:function(){}},m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var g=(0,s.polyfill)(m);t.default=g},"./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=o(n("./node_modules/prop-types/index.js")),a=o(n("./node_modules/react/index.js")),r=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),s=n("./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js");function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function i(t,n){var i,a=(i=e.call(this,t,n)||this).handleExited.bind(c(c(i)));return i.state={handleExited:a,firstRender:!0},i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var n=t.children,i=t.handleExited;return{children:t.firstRender?(0,s.getInitialChildMapping)(e,i):(0,s.getNextChildMapping)(e,n,i),firstRender:!1}},r.handleExited=function(e,t){var n=(0,s.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),r=d(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r:a.default.createElement(t,i,r)},i}(a.default.Component);u.childContextTypes={transitionGroup:i.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,r.polyfill)(u);t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/index.js":function(e,t,n){"use strict";var i=o(n("./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js")),a=o(n("./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js")),r=o(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js")),s=o(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:s.default,TransitionGroup:r.default,ReplaceTransition:a.default,CSSTransition:i.default}},"./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,i.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:s(n,"appear",e),enter:s(n,"enter",e),exit:s(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var o=a(e.children),l=r(t,o);return Object.keys(l).forEach((function(a){var r=l[a];if((0,i.isValidElement)(r)){var c=a in t,d=a in o,u=t[a],p=(0,i.isValidElement)(u)&&!u.props.in;!d||c&&!p?d||!c||p?d&&c&&(0,i.isValidElement)(u)&&(l[a]=(0,i.cloneElement)(r,{onExited:n.bind(null,r),in:u.props.in,exit:s(r,"exit",e),enter:s(r,"enter",e)})):l[a]=(0,i.cloneElement)(r,{in:!1}):l[a]=(0,i.cloneElement)(r,{onExited:n.bind(null,r),in:!0,exit:s(r,"exit",e),enter:s(r,"enter",e)})}})),l};var i=n("./node_modules/react/index.js");function a(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,a=Object.create(null),r=[];for(var s in e)s in t?r.length&&(a[s]=r,r=[]):r.push(s);var o={};for(var l in t){if(a[l])for(i=0;i<a[l].length;i++){var c=a[l][i];o[a[l][i]]=n(c)}o[l]=n(l)}for(i=0;i<r.length;i++)o[r[i]]=n(r[i]);return o}function s(e,t,n){return null!=n[t]?n[t]:e.props[t]}},"./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js":function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var i;(i=n("./node_modules/prop-types/index.js"))&&i.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":function(e,t,n){"use strict";n("./node_modules/object-assign/index.js");var i=n("./node_modules/react/index.js"),a=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var r=Symbol.for;a=r("react.element"),t.Fragment=r("react.fragment")}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:a,type:e,key:c,ref:d,props:r,_owner:s.current}}t.jsx=c,t.jsxs=c},"./node_modules/react/jsx-runtime.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,n){(function(e){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),l=i[n];n<r;l=i[++n])g(l)||!k(l)?s+=" "+l:s+=" "+o(l);return s},t.deprecate=function(n,i){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,i).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}};var r,s={};function o(e,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),h(n)?i.showHidden=n:n&&t._extend(i,n),f(i.showHidden)&&(i.showHidden=!1),f(i.depth)&&(i.depth=2),f(i.colors)&&(i.colors=!1),f(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),d(i,e,i.depth)}function l(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,i){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(i,e);return v(a)||(a=d(e,a,i)),a}var r=function(e,t){if(f(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(r)return r;var s=Object.keys(n),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(w(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(y(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return u(n)}var c,k="",C=!1,T=["{","}"];(m(n)&&(C=!0,T=["[","]"]),w(n))&&(k=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(k=" "+RegExp.prototype.toString.call(n)),y(n)&&(k=" "+Date.prototype.toUTCString.call(n)),E(n)&&(k=" "+u(n)),0!==s.length||C&&0!=n.length?i<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=C?function(e,t,n,i,a){for(var r=[],s=0,o=t.length;s<o;++s)A(t,String(s))?r.push(p(e,t,n,i,String(s),!0)):r.push("");return a.forEach((function(a){a.match(/^\d+$/)||r.push(p(e,t,n,i,a,!0))})),r}(e,n,i,o,s):s.map((function(t){return p(e,n,i,o,t,C)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,k,T)):T[0]+k+T[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,i,a,r){var s,o,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),A(i,a)||(s="["+a+"]"),o||(e.seen.indexOf(l.value)<0?(o=g(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(o=r?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),f(s)){if(r&&a.match(/^\d+$/))return o;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function b(e){return"number"==typeof e}function v(e){return"string"==typeof e}function f(e){return void 0===e}function _(e){return k(e)&&"[object RegExp]"===C(e)}function k(e){return"object"==typeof e&&null!==e}function y(e){return k(e)&&"[object Date]"===C(e)}function E(e){return k(e)&&("[object Error]"===C(e)||e instanceof Error)}function w(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(f(r)&&(r=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(r)){var i=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,e)}}else s[n]=function(){};return s[n]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=f,t.isRegExp=_,t.isObject=k,t.isDate=y,t.isError=E,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("./node_modules/util/support/isBufferBrowser.js");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=n("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),a=[],r=0;r<arguments.length;r++)a.push(arguments[r]);a.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,a)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=x,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var a=n.pop();if("function"!=typeof a)throw new TypeError("The last argument must be of type Function");var r=this,s=function(){return a.apply(r,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(N,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n("./node_modules/process/browser.js"))},"./packages/i18n/formatters.ts":function(e,t,n){"use strict";n.r(t);var i=n("./packages/i18n/src/formatters.ts");n.d(t,"asMoney",(function(){return i.b})),n.d(t,"asNumber",(function(){return i.c})),n.d(t,"asPercentage",(function(){return i.d})),n.d(t,"asTaxRate",(function(){return i.e})),n.d(t,"asCompactNumber",(function(){return i.a}))},"./packages/nachos/icons/admin-chevron.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7072 6.29289C12.3167 5.90237 11.6835 5.90237 11.293 6.29289L6.70011 10.8858C6.31351 11.2724 6.31351 11.8992 6.70011 12.2858C7.08671 12.6724 7.71351 12.6724 8.10011 12.2858L12.0001 8.38579L15.9001 12.2858C16.2867 12.6724 16.9135 12.6724 17.3001 12.2858C17.6867 11.8992 17.6867 11.2724 17.3001 10.8858L12.7072 6.29289ZM17.3001 15.8858L12.7072 11.2929C12.3167 10.9024 11.6835 10.9024 11.293 11.2929L6.70011 15.8858C6.31351 16.2724 6.31351 16.8992 6.70011 17.2858C7.08671 17.6724 7.71351 17.6724 8.10011 17.2858L12.0001 13.3858L15.9001 17.2858C16.2867 17.6724 16.9135 17.6724 17.3001 17.2858C17.6867 16.8992 17.6867 16.2724 17.3001 15.8858Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"AdminChevronIcon",glyph:s})}},"./packages/nachos/icons/board-collection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 4.89543 7.89543 4 9 4H17C18.1046 4 19 4.89543 19 6V9H17V6H7ZM5 7C3.89543 7 3 7.89543 3 9V15C3 16.1046 3.89543 17 5 17H8V15H5V9H15C15 7.89543 14.1046 7 13 7H5ZM9 12C9 10.8954 9.89543 10 11 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H11C9.89543 20 9 19.1046 9 18V12ZM11 18V12H19V18H11Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"BoardCollectionIcon",glyph:s})}},"./packages/nachos/icons/business-class.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BusinessClassIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V6H19V20H5V6H7V5ZM9 6H15V5H9V6ZM7 9C7 8.44772 7.44772 8 8 8H10C10.5523 8 11 8.44772 11 9V16C11 16.5523 10.5523 17 10 17H8C7.44772 17 7 16.5523 7 16V9ZM14 8C13.4477 8 13 8.44772 13 9V14C13 14.5523 13.4477 15 14 15H16C16.5523 15 17 14.5523 17 14V9C17 8.44772 16.5523 8 16 8H14Z",fill:"currentColor"}),a.a.createElement("path",{d:"M4 6C2.89543 6 2 6.89543 2 8V18C2 19.1046 2.89543 20 4 20L4 6Z",fill:"currentColor"}),a.a.createElement("path",{d:"M20 20V6C21.1046 6 22 6.89543 22 8V18C22 19.1046 21.1046 20 20 20Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"BusinessClassIcon",glyph:s})}},"./packages/nachos/icons/butler-bot.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3C13 3.55228 12.5523 4 12 4C11.4477 4 11 3.55228 11 3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3ZM4 7H20V17H4V7ZM2 7C2 5.89543 2.89543 5 4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17V7ZM8 9C8 8.44772 8.44772 8 9 8C9.55228 8 10 8.44772 10 9V11C10 11.5523 9.55228 12 9 12C8.44772 12 8 11.5523 8 11V9ZM14 9C14 8.44772 14.4477 8 15 8C15.5523 8 16 8.44772 16 9V11C16 11.5523 15.5523 12 15 12C14.4477 12 14 11.5523 14 11V9ZM12 16C12.5523 16 13 15.5523 13 15C13 14.4477 12.5523 14 12 14C11.4477 14 11 14.4477 11 15C11 15.5523 11.4477 16 12 16Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"ButlerBotIcon",glyph:s})}},"./packages/nachos/icons/checklist.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"ChecklistIcon",glyph:s})}},"./packages/nachos/icons/collection.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5H7ZM7 6C5.89543 6 5 6.89543 5 8H19C19 6.89543 18.1046 6 17 6H7ZM5 11H19V19H5L5 11ZM3 11C3 9.89543 3.89543 9 5 9H19C20.1046 9 21 9.89543 21 11V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V11ZM15 15H9V14C9 13.4477 8.55228 13 8 13C7.44772 13 7 13.4477 7 14V15V16C7 16.5523 7.44772 17 8 17H16C16.5523 17 17 16.5523 17 16V15V14C17 13.4477 16.5523 13 16 13C15.4477 13 15 13.4477 15 14V15Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"CollectionIcon",glyph:s})}},"./packages/nachos/icons/comment.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17H12.5L8.28037 20.4014C6.97772 21.4869 5 20.5606 5 18.865V16.1973C3.2066 15.1599 2 13.2208 2 11C2 7.68629 4.68629 5 8 5H16C19.3137 5 22 7.68629 22 11C22 14.3137 19.3137 17 16 17ZM16 7H8C5.79086 7 4 8.79086 4 11C4 12.8638 5.27477 14.4299 7 14.874V19L12 15H16C18.2091 15 20 13.2091 20 11C20 8.79086 18.2091 7 16 7Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"CommentIcon",glyph:s})}},"./packages/nachos/icons/copy.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16V4.99188C5 3.8918 5.90195 3 7.00853 3H14.9915L15 3.00002V5H7V16H5ZM8 19C8 20.1046 8.89543 21 10 21H18C19.1046 21 20 20.1046 20 19V8C20 6.89543 19.1046 6 18 6H10C8.89543 6 8 6.89543 8 8V19ZM10 8V19H18V8H10Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"CopyIcon",glyph:s})}},"./packages/nachos/icons/dashboard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1586 10.6697C18.6953 11.6601 19 12.7945 19 14V15C19 15.5523 18.5523 16 18 16H6C5.44772 16 5 15.5523 5 15V14C5 10.134 8.13401 7 12 7C13.2055 7 14.3398 7.30472 15.3301 7.84134L16.2419 6.92954C16.447 6.72443 16.6856 6.57318 16.9401 6.4758C15.522 5.54283 13.8244 5 12 5C7.02944 5 3 9.02944 3 14V16C3 17.1046 3.89543 18 5 18H19C20.1046 18 21 17.1046 21 16V14C21 12.1756 20.4571 10.4779 19.5241 9.05977C19.4267 9.31425 19.2755 9.55284 19.0704 9.75796L18.1586 10.6697ZM13 9C13 9.55228 12.5523 10 12 10C11.4477 10 11 9.55228 11 9C11 8.44772 11.4477 8 12 8C12.5523 8 13 8.44772 13 9ZM16.1989 11.2152L12.7071 14.707C12.3166 15.0976 11.6834 15.0976 11.2929 14.707C10.9023 14.3165 10.9023 13.6833 11.2929 13.2928L16.949 7.63667C17.3395 7.24615 17.9727 7.24615 18.3632 7.63667C18.7538 8.0272 18.7538 8.66036 18.3632 9.05089L16.2152 11.1989L16.1989 11.2152ZM18 14C18 14.5523 17.5523 15 17 15C16.4477 15 16 14.5523 16 14C16 13.4477 16.4477 13 17 13C17.5523 13 18 13.4477 18 14ZM7 15C7.55228 15 8 14.5523 8 14C8 13.4477 7.55228 13 7 13C6.44772 13 6 13.4477 6 14C6 14.5523 6.44772 15 7 15ZM9.5 10.5C9.5 11.0523 9.05228 11.5 8.5 11.5C7.94772 11.5 7.5 11.0523 7.5 10.5C7.5 9.94772 7.94772 9.5 8.5 9.5C9.05228 9.5 9.5 9.94772 9.5 10.5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"DashboardIcon",glyph:s})}},"./packages/nachos/icons/download.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DownloadIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M16.062 5.48029C16.318 5.43913 16.578 5.41804 16.839 5.41804C19.644 5.41904 22 7.62002 22 10.4988C22 13.4076 19.615 16.0002 16.9 16.0002H14.019V14.0071H16.9C18.557 14.0071 20.015 12.3443 20.015 10.4988C20.015 8.7205 18.546 7.41217 16.911 7.41217H16.899C16.51 7.41217 16.213 7.46338 15.929 7.56278L15.759 7.62504C15.154 7.87305 14.884 7.37904 14.884 7.37904L14.734 7.11195C14.004 5.76546 12.533 5.0164 11.018 4.99331C8.936 5.02745 7.221 6.54062 6.949 8.63716L6.903 8.97755C6.903 8.97755 6.832 9.50169 6.238 9.50169C6.23123 9.50169 6.22826 9.50332 6.22541 9.50489C6.22279 9.50633 6.22027 9.50771 6.215 9.50771H5.961C4.825 9.50771 3.985 10.4656 3.985 11.6655C3.985 12.8714 4.972 14.0071 6.055 14.0071H10.019V16.0002H6.055C3.895 16.0002 2 13.9548 2 11.6655C2 9.66536 3.312 8.00157 5.138 7.5909C5.845 4.88386 8.191 3.03934 11.024 3.00018C12.999 3.02127 14.925 3.90085 16.062 5.48029Z",fill:"currentColor"}),a.a.createElement("path",{d:"M9.2897 17.2914C9.67569 16.9027 10.3013 16.9029 10.6871 17.2917L11.0009 17.6079L11.0001 10.0065C11 9.45069 11.4477 9.00004 12 8.99998C12.5523 8.99993 13 9.45049 13.0001 10.0063L13.0009 17.653L13.3132 17.3383C13.6991 16.9496 14.3248 16.9496 14.7107 17.3383C15.0966 17.7271 15.0966 18.3574 14.7107 18.7461L12.7917 20.6793C12.5767 20.8959 12.2938 21.0028 12.0118 20.9999C12.0083 21 12.0047 21 12.0012 21C11.8291 21 11.6671 20.9563 11.5257 20.8792C11.4277 20.8285 11.3358 20.7618 11.2538 20.6791L9.28934 18.6992C8.90355 18.3103 8.90371 17.68 9.2897 17.2914Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"DownloadIcon",glyph:s})}},"./packages/nachos/icons/edit.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.82034 14.4893L9.94134 16.6103L18.4303 8.12131L16.3093 6.00031H16.3073L7.82034 14.4893ZM17.7233 4.58531L19.8443 6.70731C20.6253 7.48831 20.6253 8.7543 19.8443 9.53531L10.0873 19.2933L5.13734 14.3433L14.8943 4.58531C15.2853 4.19531 15.7973 4.00031 16.3093 4.00031C16.8203 4.00031 17.3323 4.19531 17.7233 4.58531ZM5.20094 20.4097C4.49794 20.5537 3.87694 19.9327 4.02094 19.2297L4.80094 15.4207L9.00994 19.6297L5.20094 20.4097Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"EditIcon",glyph:s})}},"./packages/nachos/icons/email.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 17V8.831L9.756 13.586C10.973 14.805 12.948 14.805 14.166 13.586L19 8.752V17H5ZM17.924 7L12.752 12.172C12.315 12.609 11.607 12.609 11.169 12.172L5.998 7H17.924ZM19 5H5C3.9 5 3 5.9 3 7V17C3 18.1 3.9 19 5 19H19C20.1 19 21 18.1 21 17V7C21 5.9 20.1 5 19 5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"EmailIcon",glyph:s})}},"./packages/nachos/icons/filter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.61799 6C3.87461 6 3.39111 6.78231 3.72356 7.44721L3.99996 8H20L20.2763 7.44721C20.6088 6.78231 20.1253 6 19.3819 6H4.61799ZM10.8618 17.7236C10.9465 17.893 11.1196 18 11.309 18H12.6909C12.8803 18 13.0535 17.893 13.1382 17.7236L14 16H9.99996L10.8618 17.7236ZM17 13H6.99996L5.99996 11H18L17 13Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"FilterIcon",glyph:s})}},"./packages/nachos/icons/heart.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.18194 8.23223C5.20563 9.20854 5.20563 10.7915 6.18194 11.7678L12.1923 17.7782L18.2028 11.7678C19.1791 10.7915 19.1791 9.20854 18.2028 8.23223C17.2264 7.25592 15.6435 7.25592 14.6672 8.23223L12.8995 10C12.5089 10.3905 11.8758 10.3905 11.4852 10L9.71747 8.23223C8.74116 7.25592 7.15825 7.25592 6.18194 8.23223ZM4.76773 13.182C3.01037 11.4246 3.01037 8.57538 4.76773 6.81802C6.52509 5.06066 9.37433 5.06066 11.1317 6.81802L12.1923 7.87868L13.253 6.81802C15.0104 5.06066 17.8596 5.06066 19.617 6.81802C21.3743 8.57538 21.3743 11.4246 19.617 13.182L12.8995 19.8995C12.5089 20.29 11.8758 20.29 11.4852 19.8995L4.76773 13.182Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"HeartIcon",glyph:s})}},"./packages/nachos/icons/image.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6H5L5 18H19V6ZM5 4C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6C21 4.89543 20.1046 4 19 4H5ZM14.2929 11.2929C14.6834 10.9024 15.3166 10.9024 15.7071 11.2929L17.7071 13.2929C18.0976 13.6834 18.0976 14.3166 17.7071 14.7071C17.3166 15.0976 16.6834 15.0976 16.2929 14.7071L15 13.4142L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L10 14.4142L7.70711 16.7071C7.31658 17.0976 6.68342 17.0976 6.29289 16.7071C5.90237 16.3166 5.90237 15.6834 6.29289 15.2929L9.29289 12.2929C9.68342 11.9024 10.3166 11.9024 10.7071 12.2929L12 13.5858L14.2929 11.2929ZM9 11C10.1046 11 11 10.1046 11 9C11 7.89543 10.1046 7 9 7C7.89543 7 7 7.89543 7 9C7 10.1046 7.89543 11 9 11Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"ImageIcon",glyph:s})}},"./packages/nachos/icons/label.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1213 2.80762C12.3403 2.02657 11.0739 2.02657 10.2929 2.80762L3.92891 9.17158C1.19524 11.9052 1.19524 16.3374 3.92891 19.0711C6.66258 21.8047 11.0947 21.8047 13.8284 19.0711L20.1924 12.7071C20.9734 11.9261 20.9734 10.6597 20.1924 9.87869L13.1213 2.80762ZM18.7782 11.2929L11.7071 4.22183L5.34313 10.5858C3.39051 12.5384 3.39051 15.7042 5.34313 17.6569C7.29575 19.6095 10.4616 19.6095 12.4142 17.6569L18.7782 11.2929ZM10 14C10 14.5523 9.55228 15 9 15C8.44772 15 8 14.5523 8 14C8 13.4477 8.44772 13 9 13C9.55228 13 10 13.4477 10 14ZM12 14C12 15.6569 10.6569 17 9 17C7.34315 17 6 15.6569 6 14C6 12.3431 7.34315 11 9 11C10.6569 11 12 12.3431 12 14Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"LabelIcon",glyph:s})}},"./packages/nachos/icons/list.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ListIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"ListIcon",glyph:s})}},"./packages/nachos/icons/location.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LocationIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.2802 21 18 12.3137 18 9C18 5.68629 15.3137 3 12 3C8.68629 3 6 5.68629 6 9C6 12.3137 9.71981 21 12 21ZM12 12C13.6081 12 14.9118 10.6964 14.9118 9.08823C14.9118 7.48011 13.6081 6.17647 12 6.17647C10.3919 6.17647 9.08824 7.48011 9.08824 9.08823C9.08824 10.6964 10.3919 12 12 12Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"LocationIcon",glyph:s})}},"./packages/nachos/icons/move.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.292 4.29149C11.903 4.67949 11.903 5.31649 12.292 5.70549L17.586 10.9995H4C3.45 10.9995 3 11.4495 3 11.9995C3 12.5505 3.45 13.0005 4 13.0005H17.586L12.289 18.2965C11.9 18.6855 11.9 19.3215 12.289 19.7105C12.678 20.1005 13.315 20.1005 13.703 19.7105L20.702 12.7125C20.704 12.7115 20.706 12.7095 20.709 12.7075C20.903 12.5145 21 12.2565 21 11.9995C21 11.7425 20.903 11.4855 20.709 11.2915C20.706 11.2905 20.703 11.2885 20.701 11.2865L13.706 4.29149C13.512 4.09749 13.255 4.00049 12.999 4.00049C12.743 4.00049 12.486 4.09749 12.292 4.29149Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"MoveIcon",glyph:s})}},"./packages/nachos/icons/power-up.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M17.5009 2.65511C18.4967 2.5456 19.5352 2.80718 20.364 3.63597L18.9498 5.05019C18.6192 4.71958 18.2151 4.58335 17.7106 4.63884C17.1593 4.69947 16.4959 4.96246 15.7486 5.38541C15.0122 5.80221 14.272 6.32856 13.5675 6.8454C13.4614 6.92326 13.3548 7.00186 13.2485 7.08031C12.6795 7.50008 12.1166 7.91532 11.6552 8.18878C11.1608 8.48182 10.6363 8.46971 10.3204 8.43815C9.98837 8.40498 9.19934 8.39748 7.94353 8.81849C7.16614 9.07911 6.21617 9.69953 5.40597 10.3177L5.34387 10.3653C5.59079 10.4171 5.85122 10.4646 6.11263 10.5076C6.62099 10.5913 7.11123 10.6543 7.47593 10.6964C7.65774 10.7174 7.80708 10.7331 7.9103 10.7434C7.96189 10.7486 8.00189 10.7525 8.02858 10.755L8.0584 10.7578L8.06686 10.7585L8.96578 11.8603L8.96537 11.8658L8.96296 11.8884C8.96079 11.909 8.95758 11.9404 8.95366 11.9813C8.9458 12.0632 8.93516 12.1826 8.92441 12.3287C8.9028 12.6224 8.88136 13.0163 8.88048 13.4263C8.87958 13.8425 8.90011 14.2437 8.95265 14.563C8.9897 14.7881 9.03099 14.8963 9.04531 14.9338C9.04927 14.9442 9.05033 14.9497 9.05033 14.9497C9.05033 14.9497 9.05582 14.9507 9.06621 14.9547C9.10371 14.969 9.2119 15.0103 9.43702 15.0474C9.75627 15.0999 10.1575 15.1204 10.5737 15.1195C10.9837 15.1186 11.3777 15.0972 11.6714 15.0756L12.1391 15.0341L13.2414 15.933L13.3036 16.5241C13.3457 16.8888 13.4087 17.379 13.4924 17.8874C13.5354 18.1488 13.583 18.4092 13.6347 18.6561L13.6823 18.594C14.3005 17.7838 14.9209 16.8339 15.1815 16.0565C15.6025 14.8007 15.595 14.0116 15.5619 13.6796C15.5303 13.3637 15.5182 12.8392 15.8112 12.3448C16.0847 11.8834 16.4999 11.3206 16.9197 10.7515C16.9981 10.6452 17.0767 10.5386 17.1546 10.4325C17.6715 9.72798 18.1978 8.98784 18.6146 8.25143C19.0376 7.50416 19.3005 6.84067 19.3612 6.28939C19.4167 5.78487 19.2804 5.38079 18.9498 5.05019L20.364 3.63597C21.1928 4.46477 21.4544 5.50334 21.3449 6.4991C21.2405 7.4481 20.8244 8.39124 20.3504 9.22877C19.8702 10.0772 19.2817 10.9 18.762 11.6084C18.674 11.7284 18.5889 11.8439 18.5069 11.9552C18.0946 12.5148 17.7615 12.9669 17.5439 13.3284C17.5413 13.3535 17.5403 13.3991 17.5477 13.4727C17.6103 14.0997 17.58 15.1726 17.0735 16.6835C16.7017 17.7925 15.9064 18.9623 15.2669 19.8003C14.9374 20.2322 14.6293 20.6014 14.4034 20.8629C14.2902 20.9939 14.1971 21.0986 14.1314 21.1714C14.0985 21.2078 14.0725 21.2363 14.0543 21.2561L14.0267 21.286L14.0239 21.289C13.8388 21.4871 13.5813 21.6021 13.3108 21.6073C13.0403 21.6124 12.7798 21.5076 12.5889 21.3167C12.3731 21.1009 12.2313 20.8327 12.1361 20.6177C12.0339 20.3868 11.9481 20.1296 11.8751 19.8725C11.729 19.3576 11.6128 18.7648 11.5231 18.2197C11.4566 17.8154 11.4027 17.425 11.3611 17.0937C11.1199 17.1058 10.8496 17.1146 10.5694 17.1152C10.1037 17.1162 9.57892 17.0947 9.10468 17.0166C8.69213 16.9487 8.05261 16.7804 7.63611 16.3639C7.21962 15.9474 7.05129 15.3079 6.9834 14.8953C6.90535 14.4211 6.88378 13.8964 6.88478 13.4306C6.88539 13.1504 6.89426 12.8801 6.90635 12.6389C6.57502 12.5974 6.18466 12.5434 5.78029 12.4769C5.23522 12.3872 4.64237 12.271 4.12751 12.1249C3.8704 12.0519 3.61317 11.9661 3.38231 11.8639C3.16733 11.7687 2.89915 11.6269 2.68332 11.4111C2.49244 11.2202 2.38758 10.9597 2.39276 10.6892C2.39794 10.4187 2.51272 10.1614 2.71081 9.97631L2.71401 9.97332L2.72063 9.96718L2.74387 9.94573C2.76373 9.92748 2.79221 9.90147 2.82863 9.86862C2.90143 9.80296 3.00612 9.70979 3.13714 9.59661C3.39866 9.37069 3.76781 9.06262 4.19969 8.73309C5.03769 8.09367 6.20752 7.29836 7.31652 6.92656C8.8274 6.42004 9.90036 6.3897 10.5273 6.45233C10.6009 6.45968 10.6465 6.45871 10.6716 6.45614C11.0331 6.23853 11.4852 5.90543 12.0448 5.49314C12.1561 5.41114 12.2716 5.32601 12.3916 5.23804C13.1 4.71833 13.9228 4.12982 14.7712 3.64963C15.6088 3.1756 16.5519 2.75948 17.5009 2.65511Z",fill:"currentColor"}),a.a.createElement("path",{d:"M15.4143 8.58572C15.8048 8.97624 16.438 8.97624 16.8285 8.58572C17.219 8.1952 17.219 7.56203 16.8285 7.17151C16.438 6.78098 15.8048 6.78098 15.4143 7.17151C15.0238 7.56203 15.0238 8.1952 15.4143 8.58572Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"PowerUpIcon",glyph:s})}},"./packages/nachos/icons/private.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 9.89543 5.89543 9 7 9H8H10H14H16H17C18.1046 9 19 9.89543 19 11V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V11ZM10 11H14H16H17V19H7V11H8H10ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3817 5.69846C10.0982 6.10344 10 6.63103 10 7V9H8V7C8 6.36897 8.15175 5.39656 8.74327 4.55154C9.37523 3.64874 10.4367 3 12 3C13.5633 3 14.6248 3.64874 15.2567 4.55154C15.8482 5.39656 16 6.36897 16 7V9H14V7C14 6.63103 13.9018 6.10344 13.6183 5.69846C13.3752 5.35126 12.9367 5 12 5C11.0633 5 10.6248 5.35126 10.3817 5.69846Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"PrivateIcon",glyph:s})}},"./packages/nachos/icons/public.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 18.9291V18C11 17.4477 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V15L5.06227 11.0623C5.0212 11.369 5 11.682 5 12C5 15.5265 7.60771 18.4439 11 18.9291ZM14.9929 5.67024C14.9065 6.69513 14.0472 7.5 13 7.5H11V9C11 9.55228 10.5523 10 10 10H8V12H13C14.1046 12 15 12.8954 15 14V16H16C16.5198 16 16.9469 16.3966 16.9954 16.9037C18.2353 15.6407 19 13.9097 19 12C19 9.20479 17.3617 6.79224 14.9929 5.67024ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"PublicIcon",glyph:s})}},"./packages/nachos/icons/search.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"SearchIcon",glyph:s})}},"./packages/nachos/icons/sparkle.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8 2L7 7L2 8L7 9L8 14L9 9L14 8L9 7L8 2Z",fill:"currentColor"}),a.a.createElement("path",{d:"M17 11L18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11Z",fill:"currentColor"}),a.a.createElement("path",{d:"M11 17L12 14L13 17L16 18L13 19L12 22L11 19L8 18L11 17Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"SparkleIcon",glyph:s})}},"./packages/nachos/icons/sticker.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9913 22C6.47244 21.9953 2 17.5199 2 12C2 6.47715 6.47715 2 12 2C17.5194 2 21.9944 6.47151 22 11.9896C22.0028 12.2553 21.8994 12.5149 21.7071 12.7071L12.7071 21.7071C12.5153 21.8989 12.2565 22.0023 11.9913 22ZM4 12C4 7.58172 7.58172 4 12 4C15.9888 4 19.2957 6.91917 19.901 10.7377C19.4642 10.6737 18.9449 10.625 18.375 10.625C16.7209 10.625 14.5466 11.0392 12.7929 12.7929C11.0392 14.5466 10.625 16.7209 10.625 18.375C10.625 18.9449 10.6737 19.4642 10.7377 19.901C6.91918 19.2957 4 15.9888 4 12ZM14.2071 14.2071C15.4534 12.9608 17.0292 12.625 18.375 12.625C18.5714 12.625 18.7609 12.6322 18.9412 12.6446L12.6446 18.9412C12.6322 18.7609 12.625 18.5714 12.625 18.375C12.625 17.0291 12.9608 15.4534 14.2071 14.2071Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"StickerIcon",glyph:s})}},"./packages/nachos/icons/template-board.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M7 3C7 2.44772 7.44772 2 8 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H8C7.44772 4 7 3.55228 7 3Z",fill:"currentColor"}),a.a.createElement("path",{d:"M3 7C2.44772 7 2 7.44772 2 8V9C2 9.55228 2.44772 10 3 10C3.55228 10 4 9.55228 4 9V8C4 7.44772 3.55228 7 3 7Z",fill:"currentColor"}),a.a.createElement("path",{d:"M2 12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V13C4 13.5523 3.55228 14 3 14C2.44772 14 2 13.5523 2 13V12Z",fill:"currentColor"}),a.a.createElement("path",{d:"M2 16C2 15.4477 2.44772 15 3 15C3.55228 15 4 15.4477 4 16V19C2.89543 19 2 18.1046 2 17V16Z",fill:"currentColor"}),a.a.createElement("path",{d:"M12 2C11.4477 2 11 2.44772 11 3C11 3.55228 11.4477 4 12 4H13C13.5523 4 14 3.55228 14 3C14 2.44772 13.5523 2 13 2H12Z",fill:"currentColor"}),a.a.createElement("path",{d:"M15 3C15 2.44772 15.4477 2 16 2H17C18.1046 2 19 2.89543 19 4H16C15.4477 4 15 3.55228 15 3Z",fill:"currentColor"}),a.a.createElement("path",{d:"M4 2C2.89543 2 2 2.89543 2 4V5C2 5.55228 2.44772 6 3 6C3.55228 6 4 5.55228 4 5V4H5C5.55228 4 6 3.55228 6 3C6 2.44772 5.55228 2 5 2H4Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H7ZM8 7C7.44772 7 7 7.44771 7 8V17C7 17.5523 7.44772 18 8 18H11C11.5523 18 12 17.5523 12 17V8C12 7.44772 11.5523 7 11 7H8ZM14 8C14 7.44772 14.4477 7 15 7H18C18.5523 7 19 7.44772 19 8V13C19 13.5523 18.5523 14 18 14H15C14.4477 14 14 13.5523 14 13V8Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"TemplateBoardIcon",glyph:s})}},"./packages/nachos/icons/timeline.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineIcon",(function(){return o}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./packages/nachos/src/components/Icon/index.ts");const s=()=>a.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 4H11.5C12.8807 4 14 5.11929 14 6.5C14 7.88071 12.8807 9 11.5 9H4.5C3.11929 9 2 7.88071 2 6.5C2 5.11929 3.11929 4 4.5 4ZM11.5 7C11.7761 7 12 6.77614 12 6.5C12 6.22386 11.7761 6 11.5 6H4.5C4.22386 6 4 6.22386 4 6.5C4 6.77614 4.22386 7 4.5 7H11.5Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 10H13.5C14.8807 10 16 11.1193 16 12.5C16 13.8807 14.8807 15 13.5 15H6.5C5.11929 15 4 13.8807 4 12.5C4 11.1193 5.11929 10 6.5 10ZM13.5 13C13.7761 13 14 12.7761 14 12.5C14 12.2239 13.7761 12 13.5 12H6.5C6.22386 12 6 12.2239 6 12.5C6 12.7761 6.22386 13 6.5 13H13.5Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 16H11.5C10.1193 16 9 17.1193 9 18.5C9 19.8807 10.1193 21 11.5 21H18.5C19.8807 21 21 19.8807 21 18.5C21 17.1193 19.8807 16 18.5 16ZM11.5 19C11.2239 19 11 18.7761 11 18.5C11 18.2239 11.2239 18 11.5 18H18.5C18.7761 18 19 18.2239 19 18.5C19 18.7761 18.7761 19 18.5 19H11.5Z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 4H19.5C20.8807 4 22 5.11929 22 6.5C22 7.88071 20.8807 9 19.5 9H17.5C16.1193 9 15 7.88071 15 6.5C15 5.11929 16.1193 4 17.5 4ZM19.5 7C19.7761 7 20 6.77614 20 6.5C20 6.22386 19.7761 6 19.5 6H17.5C17.2239 6 17 6.22386 17 6.5C17 6.77614 17.2239 7 17.5 7H19.5Z",fill:"currentColor"})),o=e=>{const{testId:t,dangerous_className:n,size:i,color:o,label:l,block:c}=e;return a.a.createElement(r.a,{testId:t,size:i,dangerous_className:n,color:o,block:c,label:l||"TimelineIcon",glyph:s})}},"./packages/nachos/select.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}));var i=n("./packages/nachos/src/components/Select/Select.tsx")},"./packages/nachos/src/components/Select/Select.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return q}));var i=n("./node_modules/react/index.js"),a=n.n(i),r=n("./node_modules/react-select/dist/react-select.esm.js"),s=n("./node_modules/classnames/index.js"),o=n.n(s),l=n("./packages/keybindings/index.ts"),c=n("./packages/layer-manager/index.ts"),d=n("./packages/test-ids/index.ts"),u=n("./packages/nachos/tokens.ts"),p=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),m=n.n(p),h=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less"),g={insert:"head",singleton:!1},b=(m()(h.a,g),h.a.locals||{});function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase);const f="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameItem),_={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell),IMAGE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameImage),META:{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta,"--").concat(u.ComponentStateSelected)},LABEL:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameLabel),CONTENT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameContent)},k=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"--").concat(u.ComponentAppearanceStatic),e=>a.a.createElement("li",v({className:b[f]},e),e.children)),y=e=>{const{meta:t,image:n,label:i,isSelected:r}=e;let s=null;n&&("string"==typeof n&&(s=a.a.createElement("img",{className:b[_.IMAGE],alt:i,src:n})),a.a.isValidElement(n)&&(s=a.a.createElement("div",{className:b[_.IMAGE]},n)));const l=o()({[b[_.META.BASE]]:!0,[b[_.META.SELECTED]]:r});return a.a.createElement("li",v({className:b[_.BASE]},e),s&&s,a.a.createElement("div",{className:b[_.CONTENT]},a.a.createElement("div",{className:b[_.LABEL]},i),t&&a.a.createElement("div",{className:l},t)))};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=(e=!0)=>w(w({},e&&{textOverflow:"ellipsis"}),{},{overflow:"hidden",whiteSpace:"nowrap"});var O=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less"),j={insert:"head",singleton:!1},A=(m()(O.a,j),O.a.locals||{});const x=["backgroundColor","border","borderColor","borderWidth","borderStyle","boxShadow"],N=["selectProps","isSelected","data"],S=["className","containerClassName","containerStyle","defaultValue","value","label","options","testId","isSearchable","scrollIntoViewSelectedOption","menuPosition","components"];function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const L="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase),M=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"-").concat(u.SelectClassnameContainer),{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl),FOCUS:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentStateFocus),COMPACT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentAppearanceCompact),SUBTLE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentAppearanceSubtle),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentStateDisabled)}),R="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameMenu),V={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption),ACTIVE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateActive),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateDisabled),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentStateSelected)},U=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameVal),"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameLabel)),z=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"--").concat(u.ComponentAppearanceStatic),({isCompact:e=!1,isLoading:t=!1})=>({control:t=>{const{backgroundColor:n,border:i,borderColor:a,borderWidth:r,borderStyle:s,boxShadow:o}=t,l=F(t,x),c=e?{height:u.SelectControlCompactHeight,minHeight:u.SelectControlCompactHeight,padding:"".concat(u.SelectControlCompactPaddingY," ").concat(u.SelectControlCompactPaddingX)}:{};return B(B({},l),{},{borderRadius:u.SelectControlDefaultBorderRadius,border:u.SelectControlDefaultBorder,height:u.SelectControlDefaultHeight,minHeight:u.SelectControlDefaultHeight,position:"relative",padding:"".concat(u.SelectControlDefaultPaddingY," ").concat(u.SelectControlDefaultPaddingX)},c)},valueContainer:()=>({padding:u.SelectValueContainerDefaultPadding,position:"initial",display:"inherit",width:"100%",maxWidth:t?u.SelectValueContainerDefaultLoadingMaxWidth:u.SelectValueContainerDefaultMaxWidth,maxHeight:"100%"}),input:()=>B({position:"absolute",top:e?u.SelectInputCompactTop:u.SelectInputDefaultTop,left:e?u.SelectInputCompactLeft:u.SelectInputDefaultLeft,maxWidth:u.SelectInputDefaultMaxWidth},T(!1)),option:(e,{isDisabled:t})=>({cursor:t?"initial":"pointer"}),singleValue:()=>B({marginLeft:u.SelectSingleValueDefaultMarginLeft,width:"100%"},T()),groupHeading:e=>B(B({},e),{},{color:u.SelectGroupHeadingDefaultColor,fontSize:u.SelectGroupHeadingDefaultFontSize,fontWeight:u.SelectGroupHeadingDefaultFontWeight,lineHeight:u.SelectGroupHeadingDefaultLineHeight,marginBottom:u.SelectGroupHeadingDefaultMarginBottom}),indicatorsContainer:e=>B(B({},e),{},{paddingRight:u.SelectIndicatorsContainerDefaultPaddingRight})})),H=e=>{let{selectProps:{isDisabled:t,isFocused:n},isSelected:i,data:{label:s,meta:l,image:c,testId:u}}=e,p=F(e,N);const m=o()({[A[V.BASE]]:!0,[A[V.SELECTED]]:i,[A[V.DISABLED]]:t,[A[V.ACTIVE]]:n});return a.a.createElement("div",{[d.TEST_ID_ATTR]:u},a.a.createElement(r.a.Option,I({className:m},p),l||c?a.a.createElement(y,{label:s,meta:l,image:c,isSelected:i}):a.a.createElement(k,null,s)))},W=e=>{var t,n;const i=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.menuElevation)&&void 0!==t?t:0;return a.a.createElement("div",{[c.ELEVATION_ATTR]:i},a.a.createElement(r.a.Menu,I({className:A[R]},e)))},Y=e=>{var t,n;const i=o()({[A[M.BASE]]:!0,[A[M.FOCUS]]:e.isFocused,[A[M.COMPACT]]:"compact"===e.selectProps.spacing,[A[M.SUBTLE]]:"subtle"===e.selectProps.appearance}),s=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.testId)&&void 0!==t?t:null;return a.a.createElement("div",{[d.TEST_ID_ATTR]:s},a.a.createElement(r.a.Control,I({className:i},e)))},K=()=>null,G=e=>{e.key===l.Key.Escape&&(e.nativeEvent.stopImmediatePropagation(),e.preventDefault())},$=e=>{let{className:t,containerClassName:n,containerStyle:s,defaultValue:l,value:d,label:u,options:p,testId:m,isSearchable:h=!1,scrollIntoViewSelectedOption:g=!0,menuPosition:b="fixed",components:v}=e,f=F(e,S);const _=Object(i.useRef)(null),[k,y]=Object(c.useCallbackRef)(),E=Object(c.useCurrentElevation)(k)+1,w=o()({[L]:!0,[A[L]]:!0,[A[M.DISABLED]]:f.isDisabled},t);let C=u;"string"==typeof u&&(C=a.a.createElement("label",{className:A[U]},u)),p.forEach(((e,t,n)=>{"string"==typeof e&&(n[t]={value:e,label:e})}));let T=d;"string"==typeof d&&(T={value:d,label:d});let O=l;"string"==typeof l&&(O={value:l,label:l});const j=e=>{const{select:t}=_.current,{menuOptions:n,selectValue:i,isFocused:a}=t.state,{isMulti:r}=f;let s="first"===e?0:n.focusable.length-1;if(!r&&i[0]&&g){const e=n.focusable.findIndex((e=>e.value===i[0].value));e>-1&&(s=e)}t.scrollToFocusedOptionOnUpdate=!(a&&t.menuListRef),t.inputIsHiddenAfterUpdate=!1,t.onMenuOpen(),t.setState({focusedValue:null,focusedOption:n.focusable[s]}),t.announceAriaLiveContext({event:"menu"})};return _&&_.current&&(_.current.select.openMenu=j),a.a.createElement("div",{ref:y,className:n,style:s},C,a.a.createElement(r.b,I({ref:_,onKeyDown:G,className:w,styles:z({isCompact:"compact"===f.spacing,isLoading:f.isLoading}),value:T,defaultValue:O,options:p,isOptionDisabled:e=>e.isDisabled,menuPortalTarget:document.body,menuPosition:b,isSearchable:h,components:B({Menu:W,Option:H,Control:Y,IndicatorSeparator:K,DropdownIndicator:K},v),testId:m,menuElevation:E},f)))},q=r.a},"./resources/images/business-class-feature-boards.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-boards.e600c69b7e3fc09e01e7.png"},"./resources/images/business-class-feature-integration.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-integration.3cf8a0a268ae3df9ba86.png"},"./resources/images/business-class-feature-roadmap.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-roadmap.6ef1064adc08b58d544a.png"},"./resources/images/business-class/feature-boards.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-boards.187fefab238409644c24.svg"},"./resources/images/business-class/feature-butler.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-butler.a7939b992e0aa414c5dc.svg"},"./resources/images/business-class/feature-control.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-control.521a9528f5a738a01953.svg"},"./resources/images/business-class/feature-powerups.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-powerups.21d4cec5c307cd84f315.svg"},"./resources/images/butler/automation-dark.svg":function(e,t,n){e.exports=n.p+"images/butler/automation-dark.8548e886880fadc385da.svg"},"./resources/images/butler/automation-light.svg":function(e,t,n){e.exports=n.p+"images/butler/automation-light.664d88a0fc08655e416b.svg"},"./resources/images/butler/butler-bell-icon-dark.svg":function(e,t,n){e.exports=n.p+"images/butler/butler-bell-icon-dark.2c8e5b539a969f2ec32a.svg"},"./resources/images/butler/butler-bell-icon-light.svg":function(e,t,n){e.exports=n.p+"images/butler/butler-bell-icon-light.fd2c0bdd06b68b8bf6cb.svg"},"./resources/images/directory/icons/compliant.svg":function(e,t,n){e.exports=n.p+"images/directory/icons/compliant.ae7e63776f2f61b39c2b.svg"},"./resources/images/directory/icons/notCompliant.svg":function(e,t,n){e.exports=n.p+"images/directory/icons/notCompliant.f6693799e8236f50455b.svg"},"./resources/images/directory/power-ups-banner-v2.png":function(e,t,n){e.exports=n.p+"images/directory/power-ups-banner-v2.260b9c5f78bd43739ef9.png"},"./resources/images/dropbox-mark.svg":function(e,t,n){e.exports=n.p+"images/dropbox-mark.215858e3544ae873917a.svg"},"./resources/images/free-trial/light.svg":function(e,t,n){e.exports=n.p+"images/free-trial/light.81158fb384d8b22c6c18.svg"},"./resources/images/free-trial/thumbs-up.svg":function(e,t,n){e.exports=n.p+"images/free-trial/thumbs-up.50b570ce7386a670d911.svg"},"./resources/images/icon-link.svg":function(e,t,n){e.exports=n.p+"images/icon-link.c829b81e1241b90d7594.svg"},"./resources/images/illos.png":function(e,t,n){e.exports=n.p+"images/illos.2115ef449c35c60bbc99.png"},"./resources/images/moonshot/bc-sparkle.svg":function(e,t,n){e.exports=n.p+"images/moonshot/bc-sparkle.bd904266f6bf970d90a5.svg"},"./resources/images/powerups/voting-icon.svg":function(e,t,n){e.exports=n.p+"images/powerups/voting-icon.849821308b83ed448d78.svg"},"./resources/images/qr-code/error.svg":function(e,t,n){e.exports=n.p+"images/qr-code/error.d04bdb73176b32293bf7.svg"},"./resources/images/stars.svg":function(e,t,n){e.exports=n.p+"images/stars.d19b8361de56914042bd.svg"},"./resources/images/stickers/check.png":function(e,t,n){e.exports=n.p+"images/stickers/check.2825cc373d518d21acb2.png"},"./resources/images/stickers/check@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/check@2x.7290053d1708576b4baf.png"},"./resources/images/stickers/clock.png":function(e,t,n){e.exports=n.p+"images/stickers/clock.274b27f64c02ca0cd705.png"},"./resources/images/stickers/clock@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/clock@2x.5366f89447c3e91f47d7.png"},"./resources/images/stickers/frown.png":function(e,t,n){e.exports=n.p+"images/stickers/frown.b5c44de3bf6dd36cf8bc.png"},"./resources/images/stickers/frown@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/frown@2x.d43b636515d230e0e1ad.png"},"./resources/images/stickers/heart.png":function(e,t,n){e.exports=n.p+"images/stickers/heart.ccb4d362efc7dc250d10.png"},"./resources/images/stickers/heart@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/heart@2x.315f83d8e396825f0ab7.png"},"./resources/images/stickers/huh.png":function(e,t,n){e.exports=n.p+"images/stickers/huh.a57f2846cc60afe0d3e4.png"},"./resources/images/stickers/huh@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/huh@2x.2f9059c46976ae30316a.png"},"./resources/images/stickers/laugh.png":function(e,t,n){e.exports=n.p+"images/stickers/laugh.f2dd1dd6f5945e8f1da2.png"},"./resources/images/stickers/laugh@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/laugh@2x.1543ad1f70c0963f5fbb.png"},"./resources/images/stickers/pete-alert.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-alert.e021d24356b3f75742a7.png"},"./resources/images/stickers/pete-alert@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-alert@2x.12e2047369f2209a11d8.png"},"./resources/images/stickers/pete-award.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-award.e341f6a4687bac4d86ab.png"},"./resources/images/stickers/pete-award@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-award@2x.6c96abfe6191da38f506.png"},"./resources/images/stickers/pete-broken.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-broken.9703d25e0196f5d1a154.png"},"./resources/images/stickers/pete-broken@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-broken@2x.6c728b6e7a9e05e80050.png"},"./resources/images/stickers/pete-busy.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-busy.1aa41aedefce2ce80e27.png"},"./resources/images/stickers/pete-busy@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-busy@2x.7f431e9ee1ad9fabaafc.png"},"./resources/images/stickers/pete-completed.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-completed.68aead4d41f9f4aed7b7.png"},"./resources/images/stickers/pete-completed@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-completed@2x.da6d88c5ef2043139a85.png"},"./resources/images/stickers/pete-confused.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-confused.a0282453d98453f55aa9.png"},"./resources/images/stickers/pete-confused@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-confused@2x.a9177cd18f31d88c66e4.png"},"./resources/images/stickers/pete-ghost.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-ghost.a3b37adb0c5217d27eef.png"},"./resources/images/stickers/pete-ghost@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-ghost@2x.b48321f8a584a2a54b66.png"},"./resources/images/stickers/pete-happy.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-happy.e4790e5066725b5d4155.png"},"./resources/images/stickers/pete-happy@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-happy@2x.4c29c93d67330f3e566d.png"},"./resources/images/stickers/pete-love.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-love.486f2fa23b8d76ae8190.png"},"./resources/images/stickers/pete-love@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-love@2x.20a442732d8123e037a9.png"},"./resources/images/stickers/pete-music.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-music.81712ae4a84debcd6333.png"},"./resources/images/stickers/pete-music@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-music@2x.48403aa123895c4d64fa.png"},"./resources/images/stickers/pete-shipped.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-shipped.6d36e50160369eae028e.png"},"./resources/images/stickers/pete-shipped@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-shipped@2x.ebfcc0cc9adce809dc74.png"},"./resources/images/stickers/pete-sketch.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-sketch.d810919ee99918a69380.png"},"./resources/images/stickers/pete-sketch@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-sketch@2x.90cba9d180d3c72875cd.png"},"./resources/images/stickers/pete-space.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-space.39ccf8f732940140ded9.png"},"./resources/images/stickers/pete-space@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-space@2x.8c2b3c553420a6394b9d.png"},"./resources/images/stickers/pete-talk.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-talk.c0b6f3f95505b6d0883d.png"},"./resources/images/stickers/pete-talk@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-talk@2x.48607589629bafd9149a.png"},"./resources/images/stickers/pete-vacation.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-vacation.a71c97b1606f4afe6485.png"},"./resources/images/stickers/pete-vacation@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-vacation@2x.d5b2dd95e12c57819c88.png"},"./resources/images/stickers/residue.png":function(e,t,n){e.exports=n.p+"images/stickers/residue.38e223183bf85ac21aa3.png"},"./resources/images/stickers/rocketship.png":function(e,t,n){e.exports=n.p+"images/stickers/rocketship.b44a048b811f0a404607.png"},"./resources/images/stickers/rocketship@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/rocketship@2x.6e898c0f17c02ecdc018.png"},"./resources/images/stickers/smile.png":function(e,t,n){e.exports=n.p+"images/stickers/smile.072cbd8037a71978a723.png"},"./resources/images/stickers/smile@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/smile@2x.d1638dd5951a29c4d4dd.png"},"./resources/images/stickers/star.png":function(e,t,n){e.exports=n.p+"images/stickers/star.5a16f73177f560c7be17.png"},"./resources/images/stickers/star@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/star@2x.8aaf5c9e688f80b40366.png"},"./resources/images/stickers/taco-active.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-active.8f34b8d33ea0a3df3906.png"},"./resources/images/stickers/taco-active@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-active@2x.83272719c60c68228016.png"},"./resources/images/stickers/taco-alert.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-alert.1e2b686cc2cae4275e2b.png"},"./resources/images/stickers/taco-alert@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-alert@2x.a5465d28947b51ca12ca.png"},"./resources/images/stickers/taco-angry.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-angry.12a291b8be87b3ea21b5.png"},"./resources/images/stickers/taco-angry@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-angry@2x.3f00295259b22aa6c6a0.png"},"./resources/images/stickers/taco-celebrate.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-celebrate.ba8d89317872277d730b.png"},"./resources/images/stickers/taco-celebrate@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-celebrate@2x.4cb46e9bd95fa7e041d5.png"},"./resources/images/stickers/taco-clean.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-clean.1dcbe23dec5243cecec8.png"},"./resources/images/stickers/taco-clean@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-clean@2x.997c0dfcf97f6f6fa5eb.png"},"./resources/images/stickers/taco-confused.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-confused.2c4f4a2aebe6f6692e5f.png"},"./resources/images/stickers/taco-confused@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-confused@2x.39d4e060e1fd6bf35d6a.png"},"./resources/images/stickers/taco-cool.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-cool.64fe3a94c68dbdfcdd99.png"},"./resources/images/stickers/taco-cool@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-cool@2x.3b9b13dd13effe08432a.png"},"./resources/images/stickers/taco-embarrassed.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-embarrassed.f3b24ef7a5d27097ab86.png"},"./resources/images/stickers/taco-embarrassed@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-embarrassed@2x.ef769d2a141355c08d0e.png"},"./resources/images/stickers/taco-love.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-love.7ce9fac1da3d211929b5.png"},"./resources/images/stickers/taco-love@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-love@2x.44bd0a0109dda0f8706d.png"},"./resources/images/stickers/taco-money.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-money.6d9f9a68e15d9a56f5cf.png"},"./resources/images/stickers/taco-money@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-money@2x.5b4b437ec9224433897e.png"},"./resources/images/stickers/taco-pixel.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-pixel.811cfaa5a2bd5e70e84a.png"},"./resources/images/stickers/taco-pixel@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-pixel@2x.56fca0dee66a7f8b7b8c.png"},"./resources/images/stickers/taco-proto.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-proto.7da9fba37d80d3bae59d.png"},"./resources/images/stickers/taco-proto@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-proto@2x.552affe7dc91a38348f1.png"},"./resources/images/stickers/taco-reading.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-reading.97813e2450fd98bf6cfb.png"},"./resources/images/stickers/taco-reading@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-reading@2x.7221a69f63ad71d6dfea.png"},"./resources/images/stickers/taco-robot.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-robot.a230a80a1bc7255368dd.png"},"./resources/images/stickers/taco-robot@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-robot@2x.9266ea6ca248f5fb9214.png"},"./resources/images/stickers/taco-sleeping.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-sleeping.3aa994dc53c056c6f419.png"},"./resources/images/stickers/taco-sleeping@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-sleeping@2x.58551b69c73b0c3abe12.png"},"./resources/images/stickers/taco-trophy.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-trophy.3a9dacbbcf2c9f5116b4.png"},"./resources/images/stickers/taco-trophy@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-trophy@2x.399015dd07efc7557cc3.png"},"./resources/images/stickers/thumbsdown.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsdown.52c31c27f2fe7d7901f3.png"},"./resources/images/stickers/thumbsdown@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsdown@2x.4a69de4af1faba884665.png"},"./resources/images/stickers/thumbsup.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsup.a16e4077dfa7c7770137.png"},"./resources/images/stickers/thumbsup@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsup@2x.397f36a2a71c3018a6f3.png"},"./resources/images/stickers/warning.png":function(e,t,n){e.exports=n.p+"images/stickers/warning.8df25e4231fe31d88751.png"},"./resources/images/stickers/warning@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/warning@2x.a678b1f2e6242bc1d31a.png"},"./resources/images/upgrade-prompts/fortnite.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/fortnite.a3213014c3b35e6df4dc.svg"},"./resources/images/upgrade-prompts/google.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/google.a9c8466235317a58716f.svg"},"./resources/images/upgrade-prompts/peloton.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/peloton.724a6ab7c61c893a33f6.svg"},"./resources/images/upgrade-prompts/pinterest.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/pinterest.1892dc0d5d3fa40d15d0.svg"},"./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$":function(e,t,n){var i={"./calendar.svg":"./resources/images/views-upsell/calendar.svg","./dashboard.svg":"./resources/images/views-upsell/dashboard.svg","./map.svg":"./resources/images/views-upsell/map.svg","./table.svg":"./resources/images/views-upsell/table.svg","./timeline.svg":"./resources/images/views-upsell/timeline.svg"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$"},"./resources/images/views-upsell/calendar.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/calendar.fde7d53f0f2ededb3b57.svg"},"./resources/images/views-upsell/dashboard.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/dashboard.7c8d3d1ba947aa563852.svg"},"./resources/images/views-upsell/map.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/map.b57fb00e345ff64bfdd6.svg"},"./resources/images/views-upsell/table.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/table.2678f921501e21b23b35.svg"},"./resources/images/views-upsell/timeline.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/timeline.1df2ef6e7cfd3af8f75b.svg"},"./resources/images/views/BoardViewsButtonCalloutImage.svg":function(e,t,n){e.exports=n.p+"images/views/BoardViewsButtonCalloutImage.9d38bb6fb1ed06b64de0.svg"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png":function(e,t,n){e.exports=n.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-image.e9818a5d327d058cd9db.png"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png":function(e,t,n){e.exports=n.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.21faec9c81d947be5bd3.png"}}]);
//# sourceMappingURL=board-view.9bacb4d7776d3beb3197.js.map